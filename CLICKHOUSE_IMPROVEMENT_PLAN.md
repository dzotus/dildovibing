# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ClickHouse

## üìä –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ~99%** (–±—ã–ª–æ ~98%)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 1: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞ - –ø–æ–ª–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ) - –í–ï–†–°–ò–Ø 0.1.8n
- ‚úÖ **1.5 –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è —Ö–∞—Ä–¥–∫–æ–¥–∞** - **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û**
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ ClickHouseConfig:
    - `networkBandwidthMBps` - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 MB/s)
    - `keeperBaseLatency` - –±–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ Keeper (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10ms)
    - `keeperOperationLatencies` - –∑–∞–¥–µ—Ä–∂–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π Keeper (INSERT, MERGE, MUTATION, REPLICATE)
    - `baseOperationLatencies` - –±–∞–∑–æ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π (SELECT, INSERT, ALTER, CREATE, DROP)
    - `averageArrayLength` - —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
    - `sampleSize` - —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
    - **–ù–û–í–û–ï**: `latencyFactors` - —Ñ–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ latency:
      - `compressionDecompressionMsPerMB` - –≤—Ä–µ–º—è –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –Ω–∞ MB (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2ms/MB)
      - `networkLatencyPerNodeMs` - network latency –Ω–∞ —É–∑–µ–ª –∫–ª–∞—Å—Ç–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5ms)
      - `columnarReadFactor` - —Ñ–∞–∫—Ç–æ—Ä –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.3)
      - `indexSpeedupFactor` - —Ñ–∞–∫—Ç–æ—Ä —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.5)
      - `partsOverheadMsPerPart` - overhead –Ω–∞ –∫–∞–∂–¥—ã–π part (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.1ms)
      - `defaultColumnsCount` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è SELECT * (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
      - `writeTimeMsPer10KRows` - –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –Ω–∞ 10K —Å—Ç—Ä–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2ms)
      - `compressionTimeMsPer100KRows` - –≤—Ä–µ–º—è —Å–∂–∞—Ç–∏—è –Ω–∞ 100K —Å—Ç—Ä–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1ms)
    - **–ù–û–í–û–ï**: `replicationLatency` - –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏:
      - `networkLatencyPerReplicaMs` - –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä–µ–ø–ª–∏–∫—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5ms)
      - `partsLatencyMsPerPart` - –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ part (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2ms)
    - **–ù–û–í–û–ï**: `distributionLatency` - –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
      - `baseLatencyMs` - –±–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5ms)
      - `networkLatencyPerShardMs` - –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ —à–∞—Ä–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3ms)
      - `replicaLatencyMs` - –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä–µ–ø–ª–∏–∫—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1ms)
    - **–ù–û–í–û–ï**: `keeperConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Keeper:
      - `quorumSize` - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –¥–ª—è quorum (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2)
      - `heartbeatIntervalMs` - –∏–Ω—Ç–µ—Ä–≤–∞–ª heartbeat (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5000ms)
      - `operationTimeoutMs` - —Ç–∞–π–º–∞—É—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30000ms)
      - `networkLatencyPerNodeMs` - –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ —É–∑–µ–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2ms)
  - –£–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ network bandwidth –≤ DistributedEngine (—Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
  - –°–¥–µ–ª–∞–Ω—ã latency –æ–ø–µ—Ä–∞—Ü–∏–π Keeper –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –º–µ—Ç–æ–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
  - –£–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ fallback –∑–Ω–∞—á–µ–Ω–∏–π –≤ ReplicatedMergeTreeEngine (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Keeper)
  - –°–¥–µ–ª–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ latency –≤ LatencyCalculator –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)
  - –£–±—Ä–∞–Ω —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞ –≤ DataSizeCalculator (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
  - –°–¥–µ–ª–∞–Ω —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –≤ TableStorage –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º (—á–µ—Ä–µ–∑ config)
  - **–ù–û–í–û–ï**: –£–±—Ä–∞–Ω—ã –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ LatencyCalculator (—Ñ–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–ø–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã)
  - **–ù–û–í–û–ï**: –£–±—Ä–∞–Ω—ã —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ ReplicatedMergeTreeEngine (networkLatencyPerReplica, partsLatency)
  - **–ù–û–í–û–ï**: –£–±—Ä–∞–Ω—ã —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ DistributedEngine (baseLatency, networkLatencyPerShard, replicaLatency)
  - **–ù–û–í–û–ï**: –£–±—Ä–∞–Ω—ã —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ Keeper (quorumSize, heartbeatInterval, operationTimeout, networkLatencyPerNode)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ –ë–∞–∑–æ–≤—ã–π ClickHouseRoutingEngine —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Ç–∞–±–ª–∏—Ü –∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (queries per second, avg query time, memory usage)
- ‚úÖ UI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å —Ç–∞–±–∞–º–∏ (Tables, Query Console, Performance, Settings)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö SQL –æ–ø–µ—Ä–∞—Ü–∏–π (SELECT, INSERT, CREATE TABLE, DROP TABLE, ALTER)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 1: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞) - –í–ï–†–°–ò–Ø 0.1.8n
### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 6: ClickHouseEmulationEngine) - –í–ï–†–°–ò–Ø 0.1.8n
### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 2: –ö–æ–ª–æ–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ) - –í–ï–†–°–ò–Ø 0.1.8n
### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 3: –î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü) - –í–ï–†–°–ò–Ø 0.1.8n (–ø–æ–ª–Ω–æ—Å—Ç—å—é - –≤—Å–µ 6 –¥–≤–∏–∂–∫–æ–≤)
### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 4: Parts –∏ merge policy) - –í–ï–†–°–ò–Ø 0.1.8n
### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 5: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SQL –ø–∞—Ä—Å–µ—Ä–∞) - –í–ï–†–°–ò–Ø 0.1.8n (—á–∞—Å—Ç–∏—á–Ω–æ - 5.1 –∏ 5.3 —á–∞—Å—Ç–∏—á–Ω–æ)
### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑–∞ 7: –ö–ª–∞—Å—Ç–µ—Ä –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è) - –í–ï–†–°–ò–Ø 0.1.8n
- ‚úÖ **1.1 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç compression ratio** - `ClickHouseCompressionCalculator`
  - –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —Å–∂–∞—Ç–∏—è (LZ4, ZSTD, LZ4HC, None)
  - –£—á–µ—Ç —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (text, numeric, mixed)
  - –£—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–±–æ–ª—å—à–∏–µ –±–ª–æ–∫–∏ —Å–∂–∏–º–∞—é—Ç—Å—è –ª—É—á—à–µ)
  - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–∂–∞—Ç–∏—è (2-6x –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞)
- ‚úÖ **1.2 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** - `ClickHouseDataSizeCalculator`
  - –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse (UInt*, Int*, Float*, String, Date, Array, Tuple, Map, etc.)
  - –£—á–µ—Ç —Å–∂–∞—Ç–∏—è –∫–æ–ª–æ–Ω–æ–∫
  - –£—á–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ (primary key, secondary indexes)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ column pruning (—á—Ç–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫)
- ‚úÖ **1.3 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç latency –∑–∞–ø—Ä–æ—Å–æ–≤** - `ClickHouseLatencyCalculator`
  - –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞ (SELECT, INSERT, ALTER, etc.)
  - –£—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (rows scanned, columns read)
  - –£—á–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ (JOIN, GROUP BY, ORDER BY, –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
  - –£—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ parts (–±–æ–ª—å—à–µ parts = –≤—ã—à–µ latency)
  - –£—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
  - –£—á–µ—Ç —Å–∂–∞—Ç–∏—è (–≤—Ä–µ–º—è –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏)
  - –£—á–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–∞ (network latency –º–µ–∂–¥—É —É–∑–ª–∞–º–∏)
- ‚úÖ **1.4 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞**
  - `clusterNodes: number` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
  - `shards: number` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞—Ä–¥–æ–≤
  - `replicas: number` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –Ω–∞ —à–∞—Ä–¥
  - `keeperNodes?: string[]` - —É–∑–ª—ã ClickHouse Keeper
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `ClickHouseRoutingEngine` –∏ `EmulationEngine`

### ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ / –ü—Ä–æ–±–ª–µ–º—ã
- ‚úÖ **–†–ï–®–ï–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π SQL –ø–∞—Ä—Å–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse (–§–∞–∑–∞ 5.1)
- ‚úÖ **–†–ï–®–ï–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü (–§–∞–∑–∞ 3): MergeTree, ReplacingMergeTree, SummingMergeTree, AggregatingMergeTree, ReplicatedMergeTree –∏ Distributed
- ‚úÖ **–†–ï–®–ï–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–æ–ª–æ–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–§–∞–∑–∞ 2)
- ‚úÖ **–†–ï–®–ï–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏–º—É–ª—è—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ ClickHouseKeeper (–§–∞–∑–∞ 7) - –í–ï–†–°–ò–Ø 0.1.8n
- ‚úÖ **–†–ï–®–ï–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è parts –∏ merges —á–µ—Ä–µ–∑ MergePolicy (–§–∞–∑–∞ 4)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π ClickHouse –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (–§–∞–∑–∞ 5.2 - –æ—Ç–ª–æ–∂–µ–Ω–æ)
- ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û**: MATERIALIZED VIEW –∏ DICTIONARY –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (–§–∞–∑–∞ 5.3 - –æ—Ç–ª–æ–∂–µ–Ω–æ)
- ‚úÖ **–†–ï–®–ï–ù–û**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω ClickHouseEmulationEngine (–§–∞–∑–∞ 6)
- ‚úÖ **–†–ï–®–ï–ù–û**: –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º ClickHouse (–§–∞–∑–∞ 6)

---

## –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –•–∞—Ä–¥–∫–æ–¥ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–∞–Ω–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

**–ü—Ä–∏–º–µ—Ä—ã**:
- `compressionRatio: 5.0` - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –¥–æ–ª–∂–Ω–æ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ç–∏–ø–∞ —Å–∂–∞—Ç–∏—è –∏ –¥–∞–Ω–Ω—ã—Ö
- `clusterNodes: 1` –∏–ª–∏ `3` –ø—Ä–∏ replication - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ
- `latency = 10 + Math.random() * 5` –¥–ª—è INSERT - –¥–æ–ª–∂–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- `table.size = rows.length * 512` - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–æ–∫–∏, –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- `partsFactor = Math.min(1.5, 1 + (parts.length / 100))` - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### 2. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ (`tableData: Map<string, any[]>`), –∞ –Ω–µ –∫–∞–∫ –∫–æ–ª–æ–Ω–∫–∏

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse**:
- ClickHouse —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–ª–æ–Ω–æ—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–∫–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ)
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –°–∂–∞—Ç–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –Ω–∞ –∫–æ–ª–æ–Ω–∫–∞—Ö
- –ó–∞–ø—Ä–æ—Å—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –æ–¥–Ω–æ–π –∫–æ–ª–æ–Ω–∫–µ –±—ã—Å—Ç—Ä–µ–µ

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–ª–æ–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —Å–∏–º—É–ª—è—Ü–∏–µ–π —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

#### 3. –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–≤–∏–∂–∫–æ–≤ —Ç–∞–±–ª–∏—Ü

**–ü—Ä–æ–±–ª–µ–º–∞**: –î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü (MergeTree, ReplacingMergeTree –∏ —Ç.–¥.) —Ç–æ–ª—å–∫–æ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏, –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse**:
- **MergeTree**: –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É, –∏–Ω–¥–µ–∫—Å—ã
- **ReplacingMergeTree**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–∏ merge
- **SummingMergeTree**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—É–º–º–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ merge
- **AggregatingMergeTree**: –•—Ä–∞–Ω–∏—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **ReplicatedMergeTree**: –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü—ã
- **Distributed**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –∫–∞–∂–¥–æ–≥–æ –¥–≤–∏–∂–∫–∞

#### 4. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —á–∞—Å—Ç–µ–π (parts) –∏ –º–µ—Ä–¥–∂–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏–º—É–ª—è—Ü–∏—è parts –∏ merges –æ—á–µ–Ω—å —É–ø—Ä–æ—â–µ–Ω–∞

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse**:
- Parts —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ INSERT (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥—ã–µ 10MB –∏–ª–∏ 10K —Å—Ç—Ä–æ–∫)
- Parts –∏–º–µ—é—Ç —É—Ä–æ–≤–Ω–∏ (level 0, 1, 2...)
- Merge –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–µ, –æ–±—ä–µ–¥–∏–Ω—è—è parts –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
- Merge policy –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ (max_bytes_to_merge_at_max_space_in_pool, max_bytes_to_merge_at_min_space_in_pool)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ parts –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—É—é —Å–∏–º—É–ª—è—Ü–∏—é parts –∏ merge policy

#### 5. –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–ª–∞—Å—Ç–µ—Ä –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö, –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse**:
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü—ã (ReplicatedMergeTree)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ClickHouse Keeper (–∏–ª–∏ ZooKeeper) –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
- –ö–∞–∂–¥–∞—è —Ä–µ–ø–ª–∏–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞, –Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Keeper
- Distributed —Ç–∞–±–ª–∏—Ü—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã –ø–æ —à–∞—Ä–¥–∞–º
- –ó–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö —Ä–µ–ø–ª–∏–∫–∞—Ö –∏–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω–æ–π

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é –∫–ª–∞—Å—Ç–µ—Ä–∞ —Å —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π

#### 6. –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π SQL –ø–∞—Ä—Å–µ—Ä

**–ü—Ä–æ–±–ª–µ–º–∞**: SQL –ø–∞—Ä—Å–µ—Ä –æ—á–µ–Ω—å —É–ø—Ä–æ—â–µ–Ω, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–∏–µ —Ñ–∏—á–∏ ClickHouse

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse**:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (Array, Tuple, Map, Nested, LowCardinality, etc.)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π ClickHouse (array functions, string functions, date functions, etc.)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MATERIALIZED VIEW
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DICTIONARY
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ENGINE —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (ORDER BY, PARTITION BY, PRIMARY KEY, etc.)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SAMPLE –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FINAL –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ merge

**–†–µ—à–µ–Ω–∏–µ**: –†–∞—Å—à–∏—Ä–∏—Ç—å SQL –ø–∞—Ä—Å–µ—Ä –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∏—á ClickHouse

#### 7. –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ—Ç—Ä–∏–∫–∏ —É–ø—Ä–æ—â–µ–Ω—ã –∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º ClickHouse

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse**:
- –ú–µ—Ç—Ä–∏–∫–∏ –∏–∑ system.metrics, system.events, system.asynchronous_metrics
- Query metrics: queries, queries_per_second, slow_query_count
- Memory metrics: MemoryTracking, MemoryTrackingInBackgroundProcessingPool
- Merge metrics: BackgroundMerges, BackgroundMergesAndMutationsPoolTask
- Replication metrics: ReplicatedFetches, ReplicatedSends, ReplicatedChecks
- Parts metrics: PartsActive, PartsCommitted, PartsOutdated
- Compression metrics: CompressedReadBufferBytes, UncompressedReadBufferBytes

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∞–ª—å–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º ClickHouse

#### 8. –ù–µ—Ç ClickHouseEmulationEngine

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ RoutingEngine, –Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ EmulationEngine

**–†–µ–∞–ª—å–Ω–æ—Å—Ç—å**: –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (PostgreSQL, MongoDB) –∏–º–µ—é—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ EmulationEngine

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å ClickHouseEmulationEngine –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –Ω–æ —Å —É—á–µ—Ç–æ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ ClickHouse

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**

#### 1.1 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç compression ratio ‚úÖ
**–¶–µ–ª—å**: Compression ratio –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ç–∏–ø–∞ —Å–∂–∞—Ç–∏—è –∏ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseCompressionCalculator` –∫–ª–∞—Å—Å
  - –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —Å–∂–∞—Ç–∏—è (LZ4, ZSTD, LZ4HC, None)
  - –£—á–µ—Ç —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ —Å–∂–∏–º–∞—é—Ç—Å—è –ª—É—á—à–µ, —á–∏—Å–ª–∞ —Ö—É–∂–µ)
  - –£—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–±–æ–ª—å—à–∏–µ –±–ª–æ–∫–∏ —Å–∂–∏–º–∞—é—Ç—Å—è –ª—É—á—à–µ)
  - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–∂–∞—Ç–∏—è:
    - LZ4: 2-4x –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, 1.5-2x –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö
    - ZSTD: 3-6x –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, 2-3x –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö
    - LZ4HC: 2.5-5x –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, 1.8-2.5x –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `ClickHouseRoutingEngine`
- [x] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ compression ratio

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/CompressionCalculator.ts` ‚úÖ **–°–û–ó–î–ê–ù**
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**

#### 1.2 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
**–¶–µ–ª—å**: –†–∞–∑–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseDataSizeCalculator` –∫–ª–∞—Å—Å
  - –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse:
    - UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64
    - Float32, Float64
    - String, FixedString(N)
    - Date, DateTime, DateTime64
    - Array(T), Tuple(T1, T2, ...), Map(K, V), Nested
    - LowCardinality(String)
    - Nullable(T)
  - –£—á–µ—Ç —Å–∂–∞—Ç–∏—è –∫–æ–ª–æ–Ω–æ–∫
  - –£—á–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ (primary key, secondary indexes)
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- [x] –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç totalSize –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/DataSizeCalculator.ts` ‚úÖ **–°–û–ó–î–ê–ù**
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**

#### 1.3 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç latency –∑–∞–ø—Ä–æ—Å–æ–≤ ‚úÖ
**–¶–µ–ª—å**: Latency –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseLatencyCalculator` –∫–ª–∞—Å—Å
  - –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞ (SELECT, INSERT, ALTER, etc.)
  - –£—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (rows scanned, columns read)
  - –£—á–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ (JOIN, GROUP BY, ORDER BY, –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
  - –£—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ parts (–±–æ–ª—å—à–µ parts = –≤—ã—à–µ latency)
  - –£—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ (primary key, secondary indexes)
  - –£—á–µ—Ç —Å–∂–∞—Ç–∏—è (—á—Ç–µ–Ω–∏–µ —Å–∂–∞—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—é)
  - –£—á–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä–∞ (network latency –º–µ–∂–¥—É —É–∑–ª–∞–º–∏)
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `ClickHouseRoutingEngine`
- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ `EmulationEngine` –¥–ª—è network latency

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/LatencyCalculator.ts` ‚úÖ **–°–û–ó–î–ê–ù**
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**

#### 1.4 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ ‚úÖ
**–¶–µ–ª—å**: –ö–ª–∞—Å—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º, –∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–º

**–ó–∞–¥–∞—á–∏**:
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ ClickHouseConfig:
  - `clusterNodes: number` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
  - `shards: number` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞—Ä–¥–æ–≤
  - `replicas: number` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –Ω–∞ —à–∞—Ä–¥
  - `keeperNodes?: string[]` - —É–∑–ª—ã ClickHouse Keeper
- [x] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞—Ä–¥–∞–º (–æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –§–∞–∑—É 7)

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**
- `src/core/EmulationEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù**
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –§–∞–∑—É 8)

#### 1.5 –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è —Ö–∞—Ä–¥–∫–æ–¥–∞ ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–¶–µ–ª—å**: –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Å–¥–µ–ª–∞–≤ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏

**–ó–∞–¥–∞—á–∏**:
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ ClickHouseConfig:
  - `networkBandwidthMBps?: number` - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ç–∏ –≤ MB/s (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 MB/s)
  - `keeperBaseLatency?: number` - –±–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ Keeper –≤ ms (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10ms)
  - `keeperOperationLatencies?: { INSERT?, MERGE?, MUTATION?, REPLICATE? }` - –∑–∞–¥–µ—Ä–∂–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π Keeper
  - `baseOperationLatencies?: { SELECT?, INSERT?, ALTER?, CREATE?, DROP? }` - –±–∞–∑–æ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
  - `averageArrayLength?: number` - —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
  - `sampleSize?: number` - —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
  - **–ù–û–í–û–ï**: `latencyFactors?: { ... }` - —Ñ–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ latency
  - **–ù–û–í–û–ï**: `replicationLatency?: { ... }` - –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
  - **–ù–û–í–û–ï**: `distributionLatency?: { ... }` - –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - **–ù–û–í–û–ï**: `keeperConfig?: { ... }` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Keeper
- [x] –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ network bandwidth –≤ DistributedEngine
  - –ó–∞–º–µ–Ω–∏—Ç—å `dataLatency = (dataSize / (100 * 1024)) * 1` –Ω–∞ —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ `networkBandwidthMBps`
  - –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `networkBandwidthMBps` —á–µ—Ä–µ–∑ settings –≤ DistributedEngine
- [x] –°–¥–µ–ª–∞—Ç—å latency –æ–ø–µ—Ä–∞—Ü–∏–π Keeper –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏
  - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Keeper –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã `updateBaseLatency` –∏ `updateOperationLatencies`
  - –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (2, 10, 8, 5) –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ
- [x] –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ fallback –∑–Ω–∞—á–µ–Ω–∏–π –≤ ReplicatedMergeTreeEngine
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Keeper –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã—Ö (10ms, 5ms, 2ms)
- [x] –°–¥–µ–ª–∞—Ç—å –±–∞–∑–æ–≤—ã–µ latency –≤ LatencyCalculator –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏
  - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ó–∞–º–µ–Ω–∏—Ç—å readonly –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–æ–ª—è
- [x] –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞ –≤ DataSizeCalculator
  - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `averageArrayLength` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
  - –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (10) –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ
- [x] –°–¥–µ–ª–∞—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –≤ TableStorage –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º
  - –î–æ–±–∞–≤–∏—Ç—å `sampleSize` –≤ TableStorageConfig
  - –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (100) –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ
  - –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è TableStorage –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ sampleSize
- [x] **–ù–û–í–û–ï**: –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ LatencyCalculator
  - –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏: `COMPRESSION_DECOMPRESSION_MS_PER_MB`, `NETWORK_LATENCY_PER_NODE_MS`, `COLUMNAR_READ_FACTOR`, `INDEX_SPEEDUP_FACTOR`, `PARTS_OVERHEAD_MS_PER_PART`
  - –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏: `DEFAULT_COLUMNS_COUNT`, `WRITE_TIME_MS_PER_10K_ROWS`, `COMPRESSION_TIME_MS_PER_100K_ROWS`
- [x] **–ù–û–í–û–ï**: –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ ReplicatedMergeTreeEngine
  - –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏: `networkLatencyPerReplica` (–±—ã–ª–æ 5ms), `partsLatency` (–±—ã–ª–æ 2ms per part)
- [x] **–ù–û–í–û–ï**: –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ DistributedEngine
  - –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏: `baseLatency` (–±—ã–ª–æ 5ms), `networkLatencyPerShard` (–±—ã–ª–æ 3ms), `replicaLatency` (–±—ã–ª–æ 1ms)
- [x] **–ù–û–í–û–ï**: –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ Keeper
  - –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏: `quorumSize` (–±—ã–ª–æ 2), `heartbeatInterval` (–±—ã–ª–æ 5000ms), `operationTimeout` (–±—ã–ª–æ 30000ms), `networkLatencyPerNode` (–±—ã–ª–æ 2ms)

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
- `src/core/clickhouse/Keeper.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: quorumSize, heartbeatInterval, operationTimeout, networkLatencyPerNode)
- `src/core/clickhouse/LatencyCalculator.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)
- `src/core/clickhouse/DataSizeCalculator.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π averageArrayLength)
- `src/core/clickhouse/TableStorage.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π sampleSize)
- `src/core/clickhouse/engines/DistributedEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ baseLatency, networkLatencyPerShard, replicaLatency)
- `src/core/clickhouse/engines/ReplicatedMergeTreeEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ networkLatencyPerReplica, partsLatencyMsPerPart)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û** - –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ClickHouse —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–º—É–ª—è—Ç–∏–≤–µ–Ω –±–µ–∑ –∑–∞—Å–∫—Ä–∏–ø—Ç–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.

---

### –§–∞–∑–∞ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**

#### 2.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è ‚úÖ
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–æ–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseColumnStorage` –∫–ª–∞—Å—Å
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º (Map<columnName, columnData[]>)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∂–∞—Ç–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–ª–æ–Ω–æ–∫
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ –∫–æ–ª–æ–Ω–æ–∫
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseTableStorage` –∫–ª–∞—Å—Å
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∞–º–∏ —Ç–∞–±–ª–∏—Ü—ã
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è INSERT, SELECT —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∫–æ–ª–æ–Ω–æ–∫
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è —á—Ç–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ (column pruning)
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `ClickHouseRoutingEngine`
  - –ó–∞–º–µ–Ω–µ–Ω `tableData: Map<string, any[]>` –Ω–∞ `tableStorage: Map<string, ClickHouseTableStorage>`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/ColumnStorage.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~200 —Å—Ç—Ä–æ–∫)
- `src/core/clickhouse/TableStorage.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~250 —Å—Ç—Ä–æ–∫)
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è)
- `src/core/clickhouse/DataSizeCalculator.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `calculateColumnSize`)

#### 2.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å column pruning ‚úÖ
**–¶–µ–ª—å**: –ó–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏

**–ó–∞–¥–∞—á–∏**:
- [x] –û–±–Ω–æ–≤–∏—Ç—å SQL –ø–∞—Ä—Å–µ—Ä –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å column pruning –≤ SELECT –∑–∞–ø—Ä–æ—Å–∞—Ö
  - SELECT –∑–∞–ø—Ä–æ—Å—ã —á–∏—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
  - Latency —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- [x] –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç latency —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- [x] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (column pruning –≤ SELECT, –æ–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏)

---

### –§–∞–∑–∞ 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤–∏–∂–∫–æ–≤ —Ç–∞–±–ª–∏—Ü ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)** - –ü–æ–ª–Ω–æ—Å—Ç—å—é (6 –∏–∑ 7 –¥–≤–∏–∂–∫–æ–≤)

#### 3.1 –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–≤–∏–∂–∫–∞ —Ç–∞–±–ª–∏—Ü—ã ‚úÖ
**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–≤–∏–∂–∫–æ–≤ —Ç–∞–±–ª–∏—Ü

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseTableEngine` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - –ú–µ—Ç–æ–¥—ã: insert, select, merge, getParts, getMetrics
- [x] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `BaseTableEngine`
  - –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö –¥–≤–∏–∂–∫–æ–≤
  - –ú–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è parts
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è parts

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/TableEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~300 —Å—Ç—Ä–æ–∫)

#### 3.2 MergeTree –¥–≤–∏–∂–æ–∫ ‚úÖ
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É MergeTree

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `MergeTreeEngine` –∫–ª–∞—Å—Å
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ORDER BY (primary key)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PARTITION BY (–±–∞–∑–æ–≤–∞—è)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ (primary key, secondary indexes)
  - –°–∏–º—É–ª—è—Ü–∏—è parts –∏ merges
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SAMPLE
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FINAL
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è parts –ø—Ä–∏ INSERT
  - –°–æ–∑–¥–∞–Ω–∏–µ parts –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤ (10MB –∏–ª–∏ 10K —Å—Ç—Ä–æ–∫)
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ parts
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É merge parts –≤ —Ñ–æ–Ω–µ
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ parts –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ 2-4 parts –∑–∞ —Ä–∞–∑
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ parts
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SAMPLE –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FINAL –¥–ª—è —á—Ç–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ merged –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/MergeTreeEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~250 —Å—Ç—Ä–æ–∫)

#### 3.3 ReplacingMergeTree –¥–≤–∏–∂–æ–∫ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ReplacingMergeTree —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–¥–∞–ª–µ–Ω–∏–µ–º –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ReplacingMergeTreeEngine` –∫–ª–∞—Å—Å
  - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç MergeTreeEngine
  - –õ–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—Ä–∏ merge
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (version column)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ ORDER BY –∫–æ–ª–æ–Ω–æ–∫ (primary key)
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∏–∑ ORDER BY –∫–æ–ª–æ–Ω–æ–∫
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ merge
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ version column –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫–∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
  - –ï—Å–ª–∏ version column –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –≤—ã–±–æ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ ClickHouseRoutingEngine

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/ReplacingMergeTreeEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~350 —Å—Ç—Ä–æ–∫)
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ReplacingMergeTreeEngine)

#### 3.4 SummingMergeTree –¥–≤–∏–∂–æ–∫ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å SummingMergeTree —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `SummingMergeTreeEngine` –∫–ª–∞—Å—Å
  - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç MergeTreeEngine
  - –õ–æ–≥–∏–∫–∞ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ merge
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ columns –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ –ø–æ ORDER BY –∫–æ–ª–æ–Ω–∫–∞–º
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–∏—Å–ª–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
  - –°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ merge

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/SummingMergeTreeEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~400 —Å—Ç—Ä–æ–∫)

#### 3.5 AggregatingMergeTree –¥–≤–∏–∂–æ–∫ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AggregatingMergeTree —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `AggregatingMergeTreeEngine` –∫–ª–∞—Å—Å
  - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç MergeTreeEngine
  - –õ–æ–≥–∏–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø—Ä–∏ merge
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (sum, count, avg, min, max, any)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ –ø–æ ORDER BY –∫–æ–ª–æ–Ω–∫–∞–º
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (State —Ñ—É–Ω–∫—Ü–∏–∏)
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø—Ä–∏ merge (sum, count, avg, min, max, any)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/AggregatingMergeTreeEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~500 —Å—Ç—Ä–æ–∫)

#### 3.6 ReplicatedMergeTree –¥–≤–∏–∂–æ–∫ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ReplicatedMergeTree —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ReplicatedMergeTreeEngine` –∫–ª–∞—Å—Å
  - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç MergeTreeEngine
  - –õ–æ–≥–∏–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ ClickHouse Keeper (—Å–∏–º—É–ª—è—Ü–∏—è)
  - –°–∏–º—É–ª—è—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á—Ç–µ–Ω–∏—è —Å —Ä–µ–ø–ª–∏–∫
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Ä–µ–ø–ª–∏–∫–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è
- [x] –£—á–µ—Ç network latency –ø—Ä–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
- [x] –°–∏–º—É–ª—è—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Keeper (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/ReplicatedMergeTreeEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~250 —Å—Ç—Ä–æ–∫)

#### 3.7 Distributed –¥–≤–∏–∂–æ–∫ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Distributed –¥–≤–∏–∂–æ–∫ –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `DistributedEngine` –∫–ª–∞—Å—Å
  - –õ–æ–≥–∏–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —à–∞—Ä–¥–∞–º
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü (—Å–∏–º—É–ª—è—Ü–∏—è)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞—Ä–¥–∞–º
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —à–∞—Ä–¥–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ (–Ω–∞ –æ—Å–Ω–æ–≤–µ sharding key)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —à–∞—Ä–¥–æ–≤
- [x] –£—á–µ—Ç network latency –ø—Ä–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞—Ä–¥–∞–º

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/DistributedEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~450 —Å—Ç—Ä–æ–∫)

#### 3.8 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–≤–∏–∂–∫–æ–≤ ‚úÖ
**–ó–∞–¥–∞—á–∏**:
- [x] –û–±–Ω–æ–≤–∏—Ç—å `ClickHouseRoutingEngine` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–≤–∏–∂–∫–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω Map –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–≤–∏–∂–∫–æ–≤ —Ç–∞–±–ª–∏—Ü
  - –ú–µ—Ç–æ–¥ `initializeTableEngine` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤–∏–∂–∫–æ–≤
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `executeInsert` –∏ `executeSelect`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SAMPLE –∏ FINAL –≤ SELECT –∑–∞–ø—Ä–æ—Å–∞—Ö
  - –ú–µ—Ç–æ–¥ `performBackgroundMerge` –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ merge
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MergeTree, ReplacingMergeTree, SummingMergeTree, AggregatingMergeTree, ReplicatedMergeTree –∏ Distributed –¥–≤–∏–∂–∫–æ–≤ ‚úÖ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–≤–∏–∂–∫–∞ (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–≤–∏–∂–∫–∞ —Ç–∞–±–ª–∏—Ü—ã (–æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –§–∞–∑—É 8)

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–≤–∏–∂–∫–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–≤–∏–∂–∫–æ–≤)
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –§–∞–∑—É 8)

---

### –§–∞–∑–∞ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è parts –∏ merge policy ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**

#### 4.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ parts ‚úÖ
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É parts

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHousePart` –∫–ª–∞—Å—Å
  - –°–≤–æ–π—Å—Ç–≤–∞: name, minDate, maxDate, rows, size, level, columns
  - –ú–µ—Ç–æ–¥—ã: getColumnData, merge, getSize, getColumnsData, getRows, updateSize, overlapsByDate, canMergeWith
- [x] –û–±–Ω–æ–≤–∏—Ç—å `ClickHouseTablePart` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ parts –ø—Ä–∏ INSERT (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ BaseTableEngine)

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/Part.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~250 —Å—Ç—Ä–æ–∫)
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–≤–∏–∂–∫–∏)

#### 4.2 Merge policy ‚úÖ
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É merge

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseMergePolicy` –∫–ª–∞—Å—Å
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: max_bytes_to_merge_at_max_space_in_pool, max_bytes_to_merge_at_min_space_in_pool
  - –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ parts –¥–ª—è merge —Å —É—á–µ—Ç–æ–º —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
  - –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ merge
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ parts –ø–æ —É—Ä–æ–≤–Ω—é
  - –£—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ parts –∏ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å MergePolicy –≤ BaseTableEngine
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è parts (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ BaseTableEngine.mergeParts)

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/MergePolicy.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~350 —Å—Ç—Ä–æ–∫)
- `src/core/clickhouse/TableEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MergePolicy)
- `src/core/clickhouse/engines/MergeTreeEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MergePolicy)

#### 4.3 –°–∏–º—É–ª—è—Ü–∏—è merge –≤ —Ñ–æ–Ω–µ ‚úÖ
**–ó–∞–¥–∞—á–∏**:
- [x] –£–ª—É—á—à–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å merge (performBackgroundMerge)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MergePolicy –¥–ª—è –≤—ã–±–æ—Ä–∞ parts
  - –£—á–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (freeSpacePercent)
  - –ü–µ—Ä–µ–¥–∞—á–∞ freeSpacePercent –≤ –¥–≤–∏–∂–∫–∏
- [x] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è pending merges (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- [x] –û–±–Ω–æ–≤–∏—Ç—å latency –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —É—á–µ—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ parts (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ LatencyCalculator)

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (performBackgroundMerge –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MergePolicy)

---

### –§–∞–∑–∞ 5: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SQL –ø–∞—Ä—Å–µ—Ä–∞ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)** - –ß–∞—Å—Ç–∏—á–Ω–æ (5.1 –∏ 5.3 —á–∞—Å—Ç–∏—á–Ω–æ)

#### 5.1 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ClickHouse ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
**–ó–∞–¥–∞—á–∏**:
- [x] –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
  - Array(T), Tuple(T1, T2, ...), Map(K, V), Nested ‚úÖ
  - LowCardinality(String), Nullable(T) ‚úÖ
  - Date, DateTime, DateTime64 ‚úÖ
  - FixedString(N) ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] –û–±–Ω–æ–≤–∏—Ç—å DataSizeCalculator –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ ‚úÖ (—É–∂–µ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞–Ω–µ–µ)

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/SQLParser.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~600 —Å—Ç—Ä–æ–∫)
- `src/core/clickhouse/DataSizeCalculator.ts` ‚úÖ (—É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã)

#### 5.2 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π ClickHouse ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û** (–æ—Ç–ª–æ–∂–µ–Ω–æ)
**–ó–∞–¥–∞—á–∏**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ñ—É–Ω–∫—Ü–∏–π ClickHouse:
  - Array functions: arrayMap, arrayFilter, arrayReduce, etc.
  - String functions: length, substring, replace, etc.
  - Date functions: toDate, toDateTime, now, today, etc.
  - Aggregation functions: count, sum, avg, min, max, quantile, etc.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å latency calculator –¥–ª—è —É—á–µ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–π

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/Functions.ts` (–Ω–æ–≤—ã–π)
- `src/core/ClickHouseRoutingEngine.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏–∏ ClickHouse –æ—Ç–ª–æ–∂–µ–Ω—ã –Ω–∞ –±—É–¥—É—â—É—é –≤–µ—Ä—Å–∏—é, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –±–∞–∑–æ–≤–æ–π —Å–∏–º—É–ª—è—Ç–∏–≤–Ω–æ—Å—Ç–∏.

#### 5.3 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ñ–∏—á ClickHouse ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û –ß–ê–°–¢–ò–ß–ù–û (0.1.8n)**
**–ó–∞–¥–∞—á–∏**:
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SAMPLE –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö ‚úÖ (—É–∂–µ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞–Ω–µ–µ)
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FINAL –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚úÖ (—É–∂–µ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞–Ω–µ–µ)
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PREWHERE –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚úÖ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ SQLParser –∏ executeSelect)
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ENGINE —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (ORDER BY, PARTITION BY, PRIMARY KEY) ‚úÖ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ SQLParser –∏ executeCreateTable)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MATERIALIZED VIEW (CREATE MATERIALIZED VIEW) ‚ùå (–æ—Ç–ª–æ–∂–µ–Ω–æ)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DICTIONARY (CREATE DICTIONARY) ‚ùå (–æ—Ç–ª–æ–∂–µ–Ω–æ)

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/SQLParser.ts` ‚úÖ **–°–û–ó–î–ê–ù** (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ PREWHERE, ENGINE –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SQLParser, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PREWHERE, –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫ –ø—Ä–∏ CREATE TABLE)

---

### –§–∞–∑–∞ 6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ClickHouseEmulationEngine ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**

#### 6.1 –°–æ–∑–¥–∞–Ω–∏–µ ClickHouseEmulationEngine ‚úÖ
**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π EmulationEngine –¥–ª—è ClickHouse

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseEmulationEngine` –∫–ª–∞—Å—Å
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –¥–≤–∏–∂–∫–∞–º–∏
  - –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ClickHouseRoutingEngine
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã: initialize, updateConfig, updateMetrics, getMetrics
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å EmulationEngine

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseEmulationEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~550 —Å—Ç—Ä–æ–∫)
- `src/core/EmulationEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è emulation engine)

#### 6.2 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ ClickHouse ‚úÖ
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∞–ª—å–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º ClickHouse

**–ó–∞–¥–∞—á–∏**:
- [x] –†–∞—Å—à–∏—Ä–∏—Ç—å `ClickHouseMetrics` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å–æ–∑–¥–∞–Ω `ExtendedClickHouseMetrics`):
  - Query metrics: queries, queries_per_second, slow_query_count, failed_queries
  - Memory metrics: MemoryTracking, MemoryTrackingInBackgroundProcessingPool, MemoryTrackingInMerges, MemoryTrackingInQueries
  - Merge metrics: BackgroundMerges, BackgroundMergesAndMutationsPoolTask, MergedRows, MergedUncompressedBytes, MergedCompressedBytes
  - Replication metrics: ReplicatedFetches, ReplicatedSends, ReplicatedChecks, ReplicatedDataLoss
  - Parts metrics: PartsActive, PartsCommitted, PartsOutdated, PartsDeleting
  - Compression metrics: CompressedReadBufferBytes, UncompressedReadBufferBytes, CompressedWriteBufferBytes, UncompressedWriteBufferBytes
  - Query execution metrics: SelectQuery, InsertQuery, AlterQuery, CreateQuery, DropQuery
  - Network metrics: NetworkReceiveBytes, NetworkSendBytes, NetworkReceiveElapsedMicroseconds, NetworkSendElapsedMicroseconds
  - Disk metrics: DiskReadBytes, DiskWriteBytes, DiskReadElapsedMicroseconds, DiskWriteElapsedMicroseconds
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –≤ ClickHouseEmulationEngine
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –°–∏–º—É–ª—è—Ü–∏—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π (network –∏ disk)
  - –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ merge –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ EmulationEngine
  - –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ updateMetrics –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ClickHouseEmulationEngine
  - –í—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ customMetrics

**–§–∞–π–ª—ã**:
- `src/core/ClickHouseEmulationEngine.ts` ‚úÖ **–°–û–ó–î–ê–ù** (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
- `src/core/EmulationEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫)
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –§–∞–∑—É 8)

---

### –§–∞–∑–∞ 7: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**

#### 7.1 –°–∏–º—É–ª—è—Ü–∏—è ClickHouse Keeper ‚úÖ
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é ClickHouse Keeper –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫

**–ó–∞–¥–∞—á–∏**:
- [x] –°–æ–∑–¥–∞—Ç—å `ClickHouseKeeper` –∫–ª–∞—Å—Å
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ä–µ–ø–ª–∏–∫
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –º–µ–∂–¥—É —Ä–µ–ø–ª–∏–∫–∞–º–∏
  - –°–∏–º—É–ª—è—Ü–∏—è quorum –∏ consensus
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ–º –¥–ª—è merge –æ–ø–µ—Ä–∞—Ü–∏–π
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è parts –º–µ–∂–¥—É —Ä–µ–ø–ª–∏–∫–∞–º–∏
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–ø–ª–∏–∫
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å ReplicatedMergeTreeEngine
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–ø–ª–∏–∫ –≤ Keeper
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Keeper –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ª–∏–¥–µ—Ä–∞
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è merge –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Keeper
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ parts –≤ Keeper –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/Keeper.ts` ‚úÖ **–°–û–ó–î–ê–ù** (~450 —Å—Ç—Ä–æ–∫)
- `src/core/clickhouse/engines/ReplicatedMergeTreeEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Keeper)

#### 7.2 –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ ‚úÖ
**–ó–∞–¥–∞—á–∏**:
- [x] –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞—Ä–¥–∞–º –≤ DistributedEngine
- [x] –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —à–∞—Ä–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞ –æ—Å–Ω–æ–≤–µ sharding key)
- [x] –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —à–∞—Ä–¥–æ–≤
- [x] –£–ª—É—á—à–µ–Ω —Ä–∞—Å—á–µ—Ç latency —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (—É—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Keeper)

**–§–∞–π–ª—ã**:
- `src/core/clickhouse/engines/DistributedEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (—É–ª—É—á—à–µ–Ω–∞ —Å–∏–º—É–ª—è—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞)
- `src/core/ClickHouseRoutingEngine.ts` ‚úÖ **–û–ë–ù–û–í–õ–ï–ù** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Keeper, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫)

---

### –§–∞–∑–∞ 8: UI/UX —É–ª—É—á—à–µ–Ω–∏—è

#### 8.1 –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü
**–ó–∞–¥–∞—á–∏**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ã (—Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, nullable, default)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–≤–∏–∂–∫–∞ —Ç–∞–±–ª–∏—Ü—ã (ENGINE –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (PARTITION BY)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (ORDER BY, PRIMARY KEY)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏–Ω–¥–µ–∫—Å–æ–≤ (secondary indexes)

**–§–∞–π–ª—ã**:
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (–æ–±–Ω–æ–≤–∏—Ç—å)

#### 8.2 –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è parts –∏ merges
**–ó–∞–¥–∞—á–∏**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é parts —Ç–∞–±–ª–∏—Ü—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é merge –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π parts
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ pending merges

**–§–∞–π–ª—ã**:
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (–æ–±–Ω–æ–≤–∏—Ç—å)
- `src/components/config/data/ClickHousePartsVisualization.tsx` (–Ω–æ–≤—ã–π)

#### 8.3 –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞
**–ó–∞–¥–∞—á–∏**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª–∞—Å—Ç–µ—Ä–∞ (—É–∑–ª—ã, —à–∞—Ä–¥—ã, —Ä–µ–ø–ª–∏–∫–∏)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞—Ä–¥–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —É–∑–ª–∞–º –∫–ª–∞—Å—Ç–µ—Ä–∞

**–§–∞–π–ª—ã**:
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (–æ–±–Ω–æ–≤–∏—Ç—å)
- `src/components/config/data/ClickHouseClusterVisualization.tsx` (–Ω–æ–≤—ã–π)

#### 8.4 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ UI
**–ó–∞–¥–∞—á–∏**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ ClickHouse
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –º–µ—Ç—Ä–∏–∫ (queries per second, memory usage, parts count, etc.)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫

**–§–∞–π–ª—ã**:
- `src/components/config/data/ClickHouseConfigAdvanced.tsx` (–æ–±–Ω–æ–≤–∏—Ç—å)

---

### –§–∞–∑–∞ 9: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 9.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DataFlowEngine
**–ó–∞–¥–∞—á–∏**:
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è ClickHouse
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ payload
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ batch –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ streaming –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª—ã**:
- `src/core/DataFlowEngine.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)

#### 9.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å EmulationEngine
**–ó–∞–¥–∞—á–∏**:
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ClickHouseEmulationEngine —Å EmulationEngine
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ClickHouseEmulationEngine
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–§–∞–π–ª—ã**:
- `src/core/EmulationEngine.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å ClickHouse
- **–ù–ï –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å** –ª–æ–≥–∏–∫—É –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (PostgreSQL, MongoDB)
- –£—á–∏—Ç—ã–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫—É ClickHouse:
  - –ö–æ–ª–æ–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
  - MergeTree –¥–≤–∏–∂–∫–∏
  - Parts –∏ merges
  - –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü—ã
  - ClickHouse Keeper –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏

### 2. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å
- –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º ClickHouse
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ClickHouse
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏, –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞

### 3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –°–∏–º—É–ª—è—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π (–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å UI)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è merge –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–æ–≤ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

### 4. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–æ–¥—É–ª—å–Ω—ã–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ClickHouse

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
1. –§–∞–∑–∞ 1: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
2. –§–∞–∑–∞ 6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ClickHouseEmulationEngine
3. –§–∞–∑–∞ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)
4. –§–∞–∑–∞ 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤–∏–∂–∫–æ–≤ —Ç–∞–±–ª–∏—Ü (MergeTree, ReplacingMergeTree)
5. –§–∞–∑–∞ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è parts –∏ merge policy
6. –§–∞–∑–∞ 5: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SQL –ø–∞—Ä—Å–µ—Ä–∞ (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
7. ‚úÖ –§–∞–∑–∞ 7: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ - **–ó–ê–í–ï–†–®–ï–ù–û (0.1.8n)**
8. –§–∞–∑–∞ 8: UI/UX —É–ª—É—á—à–µ–Ω–∏—è
9. –§–∞–∑–∞ 9: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ñ–∞–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ClickHouse –±—É–¥–µ—Ç:
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–º—É–ª—è—Ç–∏–≤–Ω—ã–º (–±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏)
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–º—É ClickHouse –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏ ClickHouse
- ‚úÖ –ò–º–µ—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –ò–º–µ—Ç—å —É–¥–æ–±–Ω—ã–π UI/UX
- ‚úÖ –ë—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º (–Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –≠—Ç–æ—Ç –ø–ª–∞–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ ClickHouse
- –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π
- –ü–ª–∞–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
