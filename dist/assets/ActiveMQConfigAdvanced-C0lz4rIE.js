import{u as qe,_ as Me,j as e,r as y,i as d,S as te,$ as q,C as i,e as m,f as x,k as l,T as Pe,a as Ee,b as C,c as Qe,R as Le,d as w,h as v,L as u,I as h,n as I,o as W,p as $,q as O,s as j,t as Ue,P as _,a0 as ne,m as V,B as G}from"./index-B2nbXufR.js";import{P as K}from"./progress-CIRipF6g.js";import{A as M,a as P,b as E}from"./alert-CRAYYGKt.js";import{R as Fe}from"./refresh-ccw-DSnA80LG.js";import{M as ae}from"./message-square-Dc-8CdZm.js";import{D as ce}from"./database-M05bB2WX.js";import{U as Be}from"./users-D6O8nzEI.js";import{S as ze}from"./shield-C1Nyu3J9.js";import{P as ie}from"./pen-U4Wk0VJT.js";function He({componentId:Z}){const{nodes:le,updateNode:oe}=qe(),{isRunning:H,start:De,stop:Re,updateMetrics:de}=Me(),U=le.find(s=>s.id===Z);if(!U)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const n=U.data.config||{},X=n.brokerName||"localhost",me=n.brokerUrl||"tcp://localhost:61616",xe=n.protocol||"openwire",ue=n.port||61616,he=n.username||"admin",je=n.password||"admin",N=n.queues||[],f=n.topics||[],Q=n.connections||[],F=n.subscriptions||[],pe=n.persistenceEnabled??!0,ge=n.maxConnections||1e3,B=n.memoryLimit||1024,J=n.storeUsage||0,Y=n.tempUsage||0,L=n.acls||[],[ee,z]=y.useState(!1),[c,b]=y.useState({principal:"",resource:"",operation:"read",permission:"allow"}),a=s=>{oe(Z,{data:{...U.data,config:{...n,...s}}})},Ne=()=>{const s=`queue-${Date.now()}`;a({queues:[...N,{name:s,queueSize:0,consumerCount:0,enqueueCount:0,dequeueCount:0,memoryUsage:0,memoryPercent:0}]})},fe=s=>{a({queues:N.filter((r,t)=>t!==s)})},ve=s=>!s||s.trim()===""?"Queue name cannot be empty":s.length>255?"Queue name cannot exceed 255 characters":/^[a-zA-Z0-9._-]+$/.test(s)?s.startsWith(".")||s.endsWith(".")?"Queue name cannot start or end with a dot":null:"Queue name can only contain letters, numbers, dots, underscores, and hyphens",be=(s,r,t)=>{{const A=ve(t);if(A){D({...p,[s]:A});return}else{const T={...p};delete T[s],D(T)}}const o=[...N];o[s]={...o[s],[r]:t},a({queues:o})},[se,k]=y.useState(null),[p,D]=y.useState({}),ye=()=>{const s=`topic-${Date.now()}`;a({topics:[...f,{name:s,subscriberCount:0,enqueueCount:0,dequeueCount:0,memoryUsage:0,memoryPercent:0}]})},Ce=s=>{a({topics:f.filter((r,t)=>t!==s)})},we=s=>!s||s.trim()===""?"Topic name cannot be empty":s.length>255?"Topic name cannot exceed 255 characters":/^[a-zA-Z0-9._-]+$/.test(s)?s.startsWith(".")||s.endsWith(".")?"Topic name cannot start or end with a dot":null:"Topic name can only contain letters, numbers, dots, underscores, and hyphens",ke=(s,r,t)=>{{const A=we(t);if(A){R({...g,[s]:A});return}else{const T={...g};delete T[s],R(T)}}const o=[...f];o[s]={...o[s],[r]:t},a({topics:o})},[re,S]=y.useState(null),[g,R]=y.useState({}),Se=()=>{if(!c.principal||!c.resource)return;const s={principal:c.principal,resource:c.resource,operation:c.operation,permission:c.permission};a({acls:[...L,s]}),z(!1),b({principal:"",resource:"",operation:"read",permission:"allow"})},Ae=s=>{a({acls:L.filter((r,t)=>t!==s)})},Te=N.reduce((s,r)=>s+(r.queueSize||0),0);return N.reduce((s,r)=>s+(r.consumerCount||0),0),f.reduce((s,r)=>s+(r.subscriberCount||0),0),e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"ActiveMQ Broker"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Broker Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure ActiveMQ broker, queues, topics, connections and security"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>de(),title:"Manually refresh broker metrics (metrics update automatically during simulation)",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Refresh Metrics"]})})]}),e.jsx(te,{}),N.length===0&&f.length===0&&e.jsxs(M,{children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(P,{children:"Getting Started"}),e.jsxs(E,{className:"space-y-2 mt-2",children:[e.jsx("p",{children:"To start using ActiveMQ broker, follow these steps:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[e.jsxs("li",{children:["Configure at least one ",e.jsx("strong",{children:"Queue"})," or ",e.jsx("strong",{children:"Topic"})," in the tabs below"]}),e.jsx("li",{children:"Connect other components (producers/consumers) to this broker"}),e.jsx("li",{children:"Start the simulation from the Emulation Panel to see metrics"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[e.jsx("strong",{children:"Note:"})," Queues and Topics are configuration - they define what destinations are available. Connections and Subscriptions are created automatically by clients at runtime."]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(i,{children:[e.jsx(m,{className:"pb-3",children:e.jsx(x,{className:"text-sm font-medium",children:"Broker Status"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${H?"bg-green-500":"bg-gray-500"}`}),e.jsx("span",{className:"text-lg font-semibold",children:H?"Running":"Stopped"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:X})]})]}),e.jsxs(i,{children:[e.jsx(m,{className:"pb-3",children:e.jsx(x,{className:"text-sm font-medium",children:"Total Messages"})}),e.jsxs(l,{children:[e.jsx("span",{className:"text-2xl font-bold",children:Te.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Across all queues"})]})]}),e.jsxs(i,{children:[e.jsx(m,{className:"pb-3",children:e.jsx(x,{className:"text-sm font-medium",children:"Active Connections"})}),e.jsxs(l,{children:[e.jsx("span",{className:"text-2xl font-bold",children:Q.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connected clients"})]})]}),e.jsxs(i,{children:[e.jsx(m,{className:"pb-3",children:e.jsx(x,{className:"text-sm font-medium",children:"Memory Usage"})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{children:["Store: ",J," MB"]}),e.jsxs("span",{children:["Temp: ",Y," MB"]})]}),e.jsx(K,{value:(J+Y)/B*100,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Limit: ",B," MB"]})]})})]})]}),e.jsxs(Pe,{defaultValue:"broker",className:"space-y-4",children:[e.jsxs(Ee,{children:[e.jsxs(C,{value:"broker",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Broker"]}),e.jsxs(C,{value:"queues",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Queues (",N.length,")"]}),e.jsxs(C,{value:"topics",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Topics (",f.length,")"]}),e.jsxs(C,{value:"connections",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Connections (",Q.length,")"]}),e.jsxs(C,{value:"subscriptions",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Subscriptions (",F.length,")"]}),e.jsxs(C,{value:"security",children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Security"]})]}),e.jsxs(w,{value:"broker",className:"space-y-4",children:[e.jsxs(M,{className:"mb-4",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(P,{children:"Broker Configuration"}),e.jsx(E,{className:"text-sm",children:"Configure connection settings, protocols, and broker limits. These settings affect how clients connect to the broker and how messages are processed."})]}),e.jsxs(i,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Broker Configuration"}),e.jsx(v,{children:"Basic broker settings and connection parameters"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"brokerName",children:"Broker Name"}),e.jsx(h,{id:"brokerName",value:X,onChange:s=>a({brokerName:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"brokerUrl",children:"Broker URL"}),e.jsx(h,{id:"brokerUrl",value:me,onChange:s=>a({brokerUrl:s.target.value}),placeholder:"tcp://localhost:61616"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"protocol",children:"Protocol"}),e.jsxs(I,{value:xe,onValueChange:s=>a({protocol:s}),children:[e.jsx(W,{children:e.jsx($,{})}),e.jsxs(O,{children:[e.jsx(j,{value:"openwire",children:"OpenWire"}),e.jsx(j,{value:"amqp",children:"AMQP"}),e.jsx(j,{value:"mqtt",children:"MQTT"}),e.jsx(j,{value:"stomp",children:"STOMP"}),e.jsx(j,{value:"ws",children:"WebSocket"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"port",children:"Port"}),e.jsx(h,{id:"port",type:"number",value:ue,onChange:s=>a({port:Number(s.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"username",children:"Username"}),e.jsx(h,{id:"username",value:he,onChange:s=>a({username:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(h,{id:"password",type:"password",value:je,onChange:s=>a({password:s.target.value})})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"persistenceEnabled",children:"Persistence Enabled"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Persist messages to disk"})]}),e.jsx(Ue,{id:"persistenceEnabled",checked:pe,onCheckedChange:s=>a({persistenceEnabled:s})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"maxConnections",children:"Max Connections"}),e.jsx(h,{id:"maxConnections",type:"number",value:ge,onChange:s=>a({maxConnections:Number(s.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"memoryLimit",children:"Memory Limit (MB)"}),e.jsx(h,{id:"memoryLimit",type:"number",value:B,onChange:s=>a({memoryLimit:Number(s.target.value)})})]})]})]})]})]})]}),e.jsxs(w,{value:"queues",className:"space-y-4",children:[e.jsxs(M,{className:"mb-4",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(P,{children:"Queue Configuration"}),e.jsxs(E,{className:"text-sm space-y-1",children:[e.jsx("p",{children:"Configure queues for point-to-point messaging. Each queue represents a destination where producers send messages and consumers receive them."}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("strong",{children:"Tip:"})," To send messages to a queue, connect a producer component and specify the queue name in the connection settings."]})]})]}),e.jsxs(i,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Queues"}),e.jsx(v,{children:"Configure message queues (queues are created dynamically by clients at runtime)"})]}),e.jsxs(d,{onClick:Ne,size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add Queue Config"]})]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:N.map((s,r)=>e.jsxs(i,{className:"border-l-4 border-l-blue-500",children:[e.jsx(m,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(ae,{className:"h-5 w-5 text-blue-500"}),se===r?e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{value:s.name,onChange:t=>be(r,"name",t.target.value),placeholder:"queue-name",className:`flex-1 ${p[r]?"border-red-500":""}`,onBlur:()=>{p[r]||k(null)},onKeyDown:t=>{if(t.key==="Enter"&&!p[r]&&k(null),t.key==="Escape"){k(null);const o={...p};delete o[r],D(o)}},autoFocus:!0}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>{p[r]||k(null)},disabled:!!p[r],children:e.jsx(ne,{className:"h-3 w-3"})})]}),p[r]&&e.jsx("p",{className:"text-xs text-red-500",children:p[r]})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"text-base",children:s.name}),e.jsx(d,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>k(r),children:e.jsx(ie,{className:"h-3 w-3"})})]})]}),se!==r&&e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>fe(r),disabled:N.length===1,children:e.jsx(V,{className:"h-4 w-4"})})]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Queue Size"}),e.jsx("p",{className:"text-lg font-semibold",children:s.queueSize||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Consumers"}),e.jsx("p",{className:"text-lg font-semibold",children:s.consumerCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enqueued"}),e.jsx("p",{className:"text-lg font-semibold",children:(s.enqueueCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dequeued"}),e.jsx("p",{className:"text-lg font-semibold",children:(s.dequeueCount||0).toLocaleString()})]})]}),s.memoryUsage!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Memory Usage"}),e.jsxs("span",{children:[s.memoryUsage," MB (",s.memoryPercent||0,"%)"]})]}),e.jsx(K,{value:s.memoryPercent||0,className:"h-2"})]})]})]},r))})})]})]}),e.jsxs(w,{value:"topics",className:"space-y-4",children:[e.jsxs(M,{className:"mb-4",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(P,{children:"Topic Configuration"}),e.jsxs(E,{className:"text-sm space-y-1",children:[e.jsx("p",{children:"Configure topics for publish-subscribe messaging. Publishers send messages to topics, and all subscribers receive copies of the messages."}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("strong",{children:"Tip:"})," To publish messages, connect a producer component and specify the topic name. Multiple consumers can subscribe to the same topic."]})]})]}),e.jsxs(i,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Topics"}),e.jsx(v,{children:"Configure publish-subscribe topics (topics are created dynamically by clients at runtime)"})]}),e.jsxs(d,{onClick:ye,size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add Topic Config"]})]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:f.map((s,r)=>e.jsxs(i,{className:"border-l-4 border-l-green-500",children:[e.jsx(m,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(ce,{className:"h-5 w-5 text-green-500"}),re===r?e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{value:s.name,onChange:t=>ke(r,"name",t.target.value),placeholder:"topic-name",className:`flex-1 ${g[r]?"border-red-500":""}`,onBlur:()=>{g[r]||S(null)},onKeyDown:t=>{if(t.key==="Enter"&&!g[r]&&S(null),t.key==="Escape"){S(null);const o={...g};delete o[r],R(o)}},autoFocus:!0}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>{g[r]||S(null)},disabled:!!g[r],children:e.jsx(ne,{className:"h-3 w-3"})})]}),g[r]&&e.jsx("p",{className:"text-xs text-red-500",children:g[r]})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"text-base",children:s.name}),e.jsx(d,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>S(r),children:e.jsx(ie,{className:"h-3 w-3"})})]})]}),re!==r&&e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>Ce(r),children:e.jsx(V,{className:"h-4 w-4"})})]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"}),e.jsx("p",{className:"text-lg font-semibold",children:s.subscriberCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enqueued"}),e.jsx("p",{className:"text-lg font-semibold",children:(s.enqueueCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dequeued"}),e.jsx("p",{className:"text-lg font-semibold",children:(s.dequeueCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Memory"}),e.jsxs("p",{className:"text-lg font-semibold",children:[s.memoryUsage||0," MB"]})]})]}),s.memoryPercent!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Memory Usage"}),e.jsxs("span",{children:[s.memoryPercent,"%"]})]}),e.jsx(K,{value:s.memoryPercent,className:"h-2"})]})]})]},r))})})]})]}),e.jsx(w,{value:"connections",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(x,{children:"Connections"}),e.jsx(v,{children:"Active client connections to the broker (read-only, connections are created by clients)"})]})})}),e.jsx(l,{children:Q.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No active connections"}):e.jsx("div",{className:"space-y-2",children:Q.map(s=>e.jsx(i,{className:"border-l-4 border-l-purple-500",children:e.jsxs(l,{className:"pt-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Client ID"}),e.jsx("p",{className:"text-sm font-medium",children:s.clientId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"User"}),e.jsx("p",{className:"text-sm font-medium",children:s.userName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Protocol"}),e.jsx(G,{variant:"outline",children:s.protocol||"OpenWire"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"}),e.jsx("p",{className:"text-sm font-medium",children:s.messageCount||0})]})]})}),s.remoteAddress&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Remote: ",s.remoteAddress]})]})},s.id))})})]})}),e.jsx(w,{value:"subscriptions",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(x,{children:"Subscriptions"}),e.jsx(v,{children:"Active topic subscriptions (read-only, subscriptions are created by clients)"})]})})}),e.jsx(l,{children:F.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No active subscriptions"}):e.jsx("div",{className:"space-y-2",children:F.map(s=>e.jsx(i,{className:"border-l-4 border-l-orange-500",children:e.jsxs(l,{className:"pt-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),e.jsx("p",{className:"text-sm font-medium",children:s.destination})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Client ID"}),e.jsx("p",{className:"text-sm font-medium",children:s.clientId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-sm font-medium",children:s.pendingQueueSize||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dispatched"}),e.jsx("p",{className:"text-sm font-medium",children:s.dispatchedQueueSize||0})]})]})}),s.selector&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Selector: ",s.selector]})]})},s.id))})})]})}),e.jsxs(w,{value:"security",className:"space-y-4",children:[e.jsxs(M,{className:"mb-4",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(P,{children:"Access Control Lists (ACLs)"}),e.jsxs(E,{className:"text-sm space-y-1",children:[e.jsx("p",{children:"Configure permissions to control access to queues and topics. ACLs are enforced during simulation."}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("strong",{children:"Format:"})," Resource should be in format ",e.jsx("code",{children:"queue://name"})," or ",e.jsx("code",{children:"topic://name"})," (wildcard ",e.jsx("code",{children:"*"})," supported). Operations: ",e.jsx("code",{children:"read"}),", ",e.jsx("code",{children:"write"}),", ",e.jsx("code",{children:"admin"}),", ",e.jsx("code",{children:"create"}),".",e.jsx("strong",{children:"Deny"})," takes precedence over ",e.jsx("strong",{children:"Allow"}),"."]})]})]}),e.jsxs(i,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Access Control Lists (ACLs)"}),e.jsx(v,{children:"Configure permissions for users and resources"})]}),e.jsxs(d,{onClick:()=>z(!0),size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add ACL"]})]})}),e.jsxs(l,{children:[ee&&e.jsxs(i,{className:"mb-4 border-primary",children:[e.jsxs(m,{children:[e.jsx(x,{children:"Create ACL Rule"}),e.jsx(v,{children:"Configure access control for queues and topics"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"acl-principal",children:"Principal (User/Group)"}),e.jsx(h,{id:"acl-principal",value:c.principal,onChange:s=>b({...c,principal:s.target.value}),placeholder:"user1 or * for all"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"User or group name, use * for all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"acl-resource",children:"Resource"}),e.jsx(h,{id:"acl-resource",value:c.resource,onChange:s=>b({...c,resource:s.target.value}),placeholder:"queue://orders or topic://events"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: queue://name or topic://name (use * for all)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"acl-operation",children:"Operation"}),e.jsxs(I,{value:c.operation,onValueChange:s=>b({...c,operation:s}),children:[e.jsx(W,{id:"acl-operation",children:e.jsx($,{})}),e.jsxs(O,{children:[e.jsx(j,{value:"read",children:"Read"}),e.jsx(j,{value:"write",children:"Write"}),e.jsx(j,{value:"admin",children:"Admin"}),e.jsx(j,{value:"create",children:"Create"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"acl-permission",children:"Permission"}),e.jsxs(I,{value:c.permission,onValueChange:s=>b({...c,permission:s}),children:[e.jsx(W,{id:"acl-permission",children:e.jsx($,{})}),e.jsxs(O,{children:[e.jsx(j,{value:"allow",children:"Allow"}),e.jsx(j,{value:"deny",children:"Deny"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{onClick:Se,disabled:!c.principal||!c.resource,children:"Create ACL"}),e.jsx(d,{variant:"outline",onClick:()=>{z(!1),b({principal:"",resource:"",operation:"read",permission:"allow"})},children:"Cancel"})]})]})]}),L.length===0&&!ee?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No ACLs configured"}):e.jsx("div",{className:"space-y-2",children:L.map((s,r)=>e.jsx(i,{className:"border-l-4 border-l-red-500",children:e.jsx(l,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Principal"}),e.jsx("p",{className:"text-sm font-medium",children:s.principal})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resource"}),e.jsx("p",{className:"text-sm font-medium",children:s.resource})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Operation"}),e.jsx(G,{variant:"outline",children:s.operation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Permission"}),e.jsx(G,{variant:s.permission==="allow"?"default":"destructive",children:s.permission})]})]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>Ae(r),children:e.jsx(V,{className:"h-4 w-4"})})]})})},r))})]})]})]})]})]})})}export{He as ActiveMQConfigAdvanced};
