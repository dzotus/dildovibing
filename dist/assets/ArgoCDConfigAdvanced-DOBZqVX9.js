import{K as Vs,u as _s,a as Js,j as e,e as Ks,r as i,B as C,A as Qs,S as k,C as x,h as u,i as j,m as v,al as I,n as Ws,T as Xs,b as Ys,c as B,D as Ve,d as Zs,f as G,a5 as et,I as r,q as T,s as L,t as z,v as M,w as d,l as c,P as He,k as A,R as st,a6 as tt,ai as ps,o as _e,L as a,x as U,am as at,y as q,z as V,E as _,G as J,H as K,J as Q,ag as it,ax as hs,af as nt}from"./index-UHkh-5io.js";import{P as rt}from"./progress-CUC2GdAn.js";import{T as lt}from"./textarea-B1p-7d_b.js";import{u as ct}from"./use-toast-D3-v-Nv7.js";import{F as xs}from"./folder-git-2-DMWxdQHJ.js";import{S as ms}from"./shield-BuOfjExX.js";import{B as ot}from"./bell-o4Lql_AQ.js";import{G as dt}from"./git-branch-bSUX7r7u.js";import{C as pt}from"./clock-BG9TXgSU.js";const ht=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Je=Vs("rocket",ht);function Rt({componentId:Y}){const{nodes:us,updateNode:js}=_s(),{isRunning:Z,getComponentMetrics:gs}=Js(),{toast:N}=ct(),H=us.find(s=>s.id===Y);if(!H)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const h=Ks.getArgoCDEmulationEngine(Y),Ke=gs(Y),n=H.data.config||{},[S,vs]=i.useState([]),[R,fs]=i.useState([]),[W,ys]=i.useState([]),[Qe,Ns]=i.useState([]),[l,ws]=i.useState(null),[g,Cs]=i.useState(""),[ee,Ss]=i.useState("all"),[se,As]=i.useState("all"),[b,Rs]=i.useState(null),[bs,$e]=i.useState(!1),[Ps,te]=i.useState(!1),[ks,ae]=i.useState(!1),[Ds,ie]=i.useState(!1),[Fs,ne]=i.useState(!1),[Es,re]=i.useState(!1),[xt,mt]=i.useState(!1),[le,We]=i.useState(null),[Ie,Xe]=i.useState(null),[ut,jt]=i.useState(null),[P,ce]=i.useState(""),[oe,de]=i.useState("default"),[pe,he]=i.useState("default"),[$,xe]=i.useState(""),[me,ue]=i.useState("."),[je,ge]=i.useState("main"),[ve,fe]=i.useState("https://kubernetes.default.svc"),[ye,Ne]=i.useState("default"),[we,Ce]=i.useState("manual"),[D,Se]=i.useState(""),[F,Ae]=i.useState(""),[Re,be]=i.useState("git"),[Pe,ke]=i.useState(""),[De,Fe]=i.useState(""),[Ee,Oe]=i.useState(!1),[Ye,Ze]=i.useState(""),[Be,es]=i.useState(""),[ss,ts]=i.useState(""),[as,Os]=i.useState([]),[is,Ts]=i.useState([]),[Te,y]=i.useState(""),[Le,E]=i.useState(""),[ze,O]=i.useState(""),[ns,Ge]=i.useState("");i.useEffect(()=>{if(!h)return;const s=()=>{try{const o=h.getApplications(),f=h.getRepositories(),w=h.getProjects(),X=h.getSyncOperations(),Ue=h.getMetrics();vs(o),fs(f),ys(w),Ns(X),ws(Ue)}catch(o){console.error("Error updating Argo CD data:",o)}};s();const t=setInterval(s,Z?500:2e3);return()=>clearInterval(t)},[h,Z]),i.useEffect(()=>{!h||!H||(JSON.stringify({apps:n.applications?.map(s=>s.name).sort(),repos:n.repositories?.map(s=>s.name).sort(),projects:n.projects?.map(s=>s.name).sort()}),h.initializeConfig(H))},[h,H,n.applications?.length,n.repositories?.length,n.projects?.length]);const qe=i.useMemo(()=>{let s=S.length>0?S:n.applications||[];return g&&(s=s.filter(t=>t.name.toLowerCase().includes(g.toLowerCase())||t.namespace&&t.namespace.toLowerCase().includes(g.toLowerCase())||t.repository&&t.repository.toLowerCase().includes(g.toLowerCase()))),ee!=="all"&&(s=s.filter(t=>t.status===ee)),se!=="all"&&(s=s.filter(t=>t.health===se)),s},[S,n.applications,g,ee,se]),rs=i.useMemo(()=>{let s=R.length>0?R:n.repositories||[];return g&&(s=s.filter(t=>t.name.toLowerCase().includes(g.toLowerCase())||t.url.toLowerCase().includes(g.toLowerCase()))),s},[R,n.repositories,g]),ls=i.useMemo(()=>{let s=W.length>0?W:n.projects||[];return g&&(s=s.filter(t=>t.name.toLowerCase().includes(g.toLowerCase())||t.description&&t.description.toLowerCase().includes(g.toLowerCase()))),s},[W,n.projects,g]),p=i.useMemo(()=>{if(l)return{totalApps:l.applicationsTotal||0,syncedApps:l.applicationsSynced||0,outOfSyncApps:l.applicationsOutOfSync||0,progressingApps:l.applicationsProgressing||0,degradedApps:l.applicationsDegraded||0,healthyApps:l.applicationsHealthy||0,syncRate:l.syncRate||0,repositoriesTotal:l.repositoriesTotal||0,repositoriesConnected:l.repositoriesConnected||0,projectsTotal:l.projectsTotal||0};const s=S.length>0?S:n.applications||[];return{totalApps:s.length,syncedApps:s.filter(t=>t.status==="synced").length,outOfSyncApps:s.filter(t=>t.status==="outofsync").length,progressingApps:s.filter(t=>t.status==="progressing").length,degradedApps:s.filter(t=>t.status==="degraded").length,healthyApps:s.filter(t=>t.health==="healthy").length,syncRate:0,repositoriesTotal:R.length||n.repositories?.length||0,repositoriesConnected:R.filter(t=>t.connectionStatus==="successful").length,projectsTotal:W.length||n.projects?.length||0}},[l,S,R,W,n]),m=s=>{js(Y,{data:{...H.data,config:{...n,...s}}})},Ls=()=>{let s=!1;if(P.trim()?/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/.test(P)?(S.length>0?S:n.applications||[]).some(w=>w.name===P.trim())?(y("Application with this name already exists"),s=!0):y(""):(y("Application name must be a valid Kubernetes name (lowercase alphanumeric and hyphens)"),s=!0):(y("Application name is required"),s=!0),$.trim()?/^(https?:\/\/|git@)/.test($.trim())||(y("Repository URL must be a valid Git URL"),s=!0):(y("Repository is required"),s=!0),s)return;const t={name:P,namespace:oe||void 0,project:pe||"default",repository:$,path:me||".",targetRevision:je||"main",destination:{server:ve||"https://kubernetes.default.svc",namespace:ye||"default"},syncPolicy:we,status:"progressing",health:"progressing"},o=n.applications||[];m({applications:[...o,{name:t.name,namespace:t.namespace,project:t.project,repository:t.repository,path:t.path,targetRevision:t.targetRevision,destination:t.destination,syncPolicy:t.syncPolicy}]}),h&&h.addApplication(t),ce(""),de("default"),he("default"),xe(""),ue("."),ge("main"),fe("https://kubernetes.default.svc"),Ne("default"),Ce("manual"),te(!1),N({title:"Application added",description:`Application "${t.name}" has been added successfully.`})},zs=s=>{We(s),ce(s.name),de(s.namespace||"default"),he(s.project||"default"),xe(s.repository),ue(s.path||"."),ge(s.targetRevision||"main"),fe(s.destination?.server||"https://kubernetes.default.svc"),Ne(s.destination?.namespace||"default"),Ce(s.syncPolicy),ae(!0)},Ms=()=>{if(!le)return;if(!P.trim()){y("Application name is required");return}y("");const s={...le,name:P,namespace:oe||void 0,project:pe||"default",repository:$,path:me||".",targetRevision:je||"main",destination:{server:ve||"https://kubernetes.default.svc",namespace:ye||"default"},syncPolicy:we},o=(n.applications||[]).map(f=>f.name===le.name?{name:s.name,namespace:s.namespace,project:s.project,repository:s.repository,path:s.path,targetRevision:s.targetRevision,destination:s.destination,syncPolicy:s.syncPolicy}:f);m({applications:o}),h&&h.updateApplication(le.name,s),ae(!1),We(null),N({title:"Application updated",description:`Application "${s.name}" has been updated successfully.`})},Us=s=>{const t=n.applications||[];m({applications:t.filter(o=>o.name!==s)}),h&&h.removeApplication(s),N({title:"Application deleted",description:`Application "${s}" has been deleted.`})},cs=s=>{if(!h){N({title:"Error",description:"Argo CD engine not available",variant:"destructive"});return}const t=h.startSync(s);N(t?{title:"Sync started",description:`Synchronization for "${s}" has been started.`}:{title:"Sync failed",description:`Failed to start synchronization for "${s}".`,variant:"destructive"})},Hs=()=>{let s=!1;if(D.trim()?(R.length>0?R:n.repositories||[]).some(w=>w.name===D.trim())?(E("Repository with this name already exists"),s=!0):E(""):(E("Repository name is required"),s=!0),F.trim()?/^(https?:\/\/|git@|oci:\/\/)/.test(F.trim())?O(""):(O("Repository URL must be a valid URL (http/https/git/oci)"),s=!0):(O("Repository URL is required"),s=!0),s)return;const t={name:D,url:F,type:Re,username:Pe||void 0,password:De||void 0,insecure:Ee,project:Ye||void 0,connectionStatus:"unknown"},o=n.repositories||[];m({repositories:[...o,{name:t.name,url:t.url,type:t.type,username:t.username,password:t.password,insecure:t.insecure,project:t.project}]}),h&&h.addRepository(t),Se(""),Ae(""),be("git"),ke(""),Fe(""),Oe(!1),Ze(""),ie(!1),N({title:"Repository added",description:`Repository "${t.name}" has been added successfully.`})},$s=s=>{Xe(s),Se(s.name),Ae(s.url),be(s.type||"git"),ke(s.username||""),Fe(s.password||""),Oe(s.insecure||!1),Ze(s.project||""),ne(!0)},Is=()=>{if(!Ie)return;if(!D.trim()){E("Repository name is required");return}if(!F.trim()){O("Repository URL is required");return}E(""),O("");const s={...Ie,name:D,url:F,type:Re,username:Pe||void 0,password:De||void 0,insecure:Ee,project:Ye||void 0},o=(n.repositories||[]).map(f=>f.name===Ie.name?{name:s.name,url:s.url,type:s.type,username:s.username,password:s.password,insecure:s.insecure,project:s.project}:f);m({repositories:o}),ne(!1),Xe(null),N({title:"Repository updated",description:`Repository "${s.name}" has been updated successfully.`})},Bs=s=>{const t=n.repositories||[];m({repositories:t.filter(o=>o.name!==s)}),h&&h.removeRepository(s),N({title:"Repository deleted",description:`Repository "${s}" has been deleted.`})},Gs=()=>{if(!Be.trim()){Ge("Project name is required");return}Ge("");const s={name:Be,description:ss||void 0,sourceRepos:as.length>0?as:["*"],destinations:is.length>0?is:[{server:"*",namespace:"*"}]},t=n.projects||[];m({projects:[...t,{name:s.name,description:s.description,sourceRepos:s.sourceRepos,destinations:s.destinations}]}),es(""),ts(""),Os([]),Ts([]),re(!1),N({title:"Project added",description:`Project "${s.name}" has been added successfully.`})},qs=s=>{const t=n.projects||[];m({projects:t.filter(o=>o.name!==s)}),N({title:"Project deleted",description:`Project "${s}" has been deleted.`})},os=s=>{switch(s){case"synced":return e.jsx(nt,{className:"h-4 w-4 text-green-500"});case"outofsync":return e.jsx(hs,{className:"h-4 w-4 text-yellow-500"});case"progressing":return e.jsx(I,{className:"h-4 w-4 text-blue-500 animate-spin"});case"degraded":return e.jsx(hs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"})}},ds=s=>{switch(s){case"healthy":return e.jsx(C,{variant:"default",className:"bg-green-500",children:"Healthy"});case"degraded":return e.jsx(C,{variant:"destructive",children:"Degraded"});case"progressing":return e.jsx(C,{variant:"default",className:"bg-blue-500",children:"Progressing"});case"suspended":return e.jsx(C,{variant:"secondary",children:"Suspended"});case"missing":return e.jsx(C,{variant:"destructive",children:"Missing"});default:return e.jsx(C,{variant:"secondary",children:s})}},Me=s=>{if(!s)return"Never";const o=Date.now()-s,f=Math.floor(o/1e3),w=Math.floor(f/60),X=Math.floor(w/60),Ue=Math.floor(X/24);return Ue>0?`${Ue}d ago`:X>0?`${X}h ago`:w>0?`${w}m ago`:`${f}s ago`};return e.jsxs("div",{className:"h-full overflow-y-auto bg-background",children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:e.jsx(Je,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Argo CD"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"GitOps Continuous Deployment"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${Z?"bg-green-500 animate-pulse":"bg-gray-400"}`}),Z?"Running":"Stopped"]}),Ke&&e.jsxs(C,{variant:"outline",className:"gap-2",children:[e.jsx(Qs,{className:"h-3 w-3"}),Ke.throughput?.toFixed(2)||0," ops/s"]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Applications"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.totalApps}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total apps"}),l&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${p.healthyApps===p.totalApps?"bg-green-500":"bg-yellow-500"}`}),e.jsxs("span",{children:[p.healthyApps," healthy"]})]})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Synced"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:p.syncedApps}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In sync"}),l&&l.syncOperationsRunning>0&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-blue-500",children:[e.jsx(I,{className:"h-3 w-3 animate-spin"}),e.jsxs("span",{children:[l.syncOperationsRunning," syncing"]})]})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Out of Sync"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:p.outOfSyncApps}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Needs sync"}),p.degradedApps>0&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-red-500",children:[e.jsx(Ws,{className:"h-3 w-3"}),e.jsxs("span",{children:[p.degradedApps," degraded"]})]})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Sync Rate"})}),e.jsxs(v,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[p.totalApps>0?Math.round(p.syncedApps/p.totalApps*100):0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Synced"}),l&&l.syncRate>0&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[l.syncRate," syncs/hour"]})]})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Repositories"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-xl font-bold",children:p.repositoriesTotal}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p.repositoriesConnected," connected",p.repositoriesTotal-p.repositoriesConnected>0&&e.jsxs("span",{className:"text-red-500 ml-2",children:[p.repositoriesTotal-p.repositoriesConnected," failed"]})]})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Projects"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-xl font-bold",children:p.projectsTotal}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total projects"})]})]}),e.jsxs(x,{children:[e.jsx(u,{className:"pb-3",children:e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Sync Operations"})}),e.jsxs(v,{children:[e.jsx("div",{className:"text-xl font-bold",children:l.syncOperationsTotal||0}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.syncOperationsSuccess||0," success",l.syncOperationsFailed>0&&e.jsxs("span",{className:"text-red-500 ml-2",children:[l.syncOperationsFailed," failed"]})]}),l.averageSyncDuration>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avg duration: ",(l.averageSyncDuration/1e3).toFixed(1),"s"]})]})]})]}),e.jsxs(Xs,{defaultValue:"applications",className:"w-full",children:[e.jsxs(Ys,{className:"grid w-full grid-cols-6",children:[e.jsxs(B,{value:"applications",className:"gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),"Applications"]}),e.jsxs(B,{value:"repositories",className:"gap-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),"Repositories"]}),e.jsxs(B,{value:"projects",className:"gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"Projects"]}),e.jsxs(B,{value:"settings",className:"gap-2",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Settings"]}),e.jsxs(B,{value:"rbac",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"RBAC"]}),e.jsxs(B,{value:"notifications",className:"gap-2",children:[e.jsx(ot,{className:"h-4 w-4"}),"Notifications"]})]}),e.jsxs(G,{value:"applications",className:"space-y-4 mt-4",children:[e.jsx(x,{children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(r,{placeholder:"Search applications...",value:g,onChange:s=>Cs(s.target.value),className:"pl-9"})]}),e.jsxs(T,{value:ee,onValueChange:s=>Ss(s),children:[e.jsx(L,{className:"w-[180px]",children:e.jsx(z,{placeholder:"Filter by status"})}),e.jsxs(M,{children:[e.jsx(d,{value:"all",children:"All Status"}),e.jsx(d,{value:"synced",children:"Synced"}),e.jsx(d,{value:"outofsync",children:"Out of Sync"}),e.jsx(d,{value:"progressing",children:"Progressing"}),e.jsx(d,{value:"degraded",children:"Degraded"})]})]}),e.jsxs(T,{value:se,onValueChange:s=>As(s),children:[e.jsx(L,{className:"w-[180px]",children:e.jsx(z,{placeholder:"Filter by health"})}),e.jsxs(M,{children:[e.jsx(d,{value:"all",children:"All Health"}),e.jsx(d,{value:"healthy",children:"Healthy"}),e.jsx(d,{value:"degraded",children:"Degraded"}),e.jsx(d,{value:"progressing",children:"Progressing"})]})]}),e.jsxs(c,{size:"sm",onClick:()=>te(!0),variant:"default",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"New Application"]})]})})}),e.jsxs(x,{children:[e.jsx(u,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(j,{children:"Applications"}),e.jsxs(A,{children:["GitOps application deployments (",qe.length,")"]})]})})}),e.jsx(v,{children:e.jsx("div",{className:"space-y-3",children:qe.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Je,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No applications found"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first application to get started"})]}):qe.map((s,t)=>e.jsx(x,{className:"border-border hover:border-primary/50 transition-colors",children:e.jsx(u,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[os(s.status),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"text-lg",children:s.name}),ds(s.health)]}),e.jsxs(A,{className:"text-xs mt-1",children:["Namespace: ",s.namespace||"default"," • Project: ",s.project||"default"," • ",s.syncPolicy," sync",s.lastSync&&` • Last sync: ${Me(s.lastSync)}`,s.revision&&` • Revision: ${s.revision.substring(0,7)}`]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[s.status==="outofsync"&&e.jsxs(c,{size:"sm",variant:"outline",onClick:()=>cs(s.name),disabled:s.status==="progressing",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Sync"]}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>handleRefreshApplication(s.name),title:"Refresh application status",children:e.jsx(I,{className:"h-4 w-4"})}),s.history&&s.history.length>1&&e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>handleRollbackApplication(s.name),title:"Rollback to previous revision",children:e.jsx(st,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>{Rs(s.name),$e(!0)},title:"View details",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>zs(s),title:"Edit application",children:e.jsx(ps,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>{confirm(`Are you sure you want to delete application "${s.name}"?`)&&Us(s.name)},title:"Delete application",children:e.jsx(_e,{className:"h-4 w-4"})})]})})]})})},s.name||t))})})]})]}),e.jsx(G,{value:"repositories",className:"space-y-4 mt-4",children:e.jsxs(x,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(j,{children:"Repositories"}),e.jsx(A,{children:"Git repositories, Helm charts, and OCI registries"})]}),e.jsxs(c,{size:"sm",onClick:()=>ie(!0),variant:"default",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Repository"]})]})}),e.jsx(v,{children:e.jsx("div",{className:"space-y-3",children:rs.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No repositories found"})]}):rs.map((s,t)=>e.jsx(x,{className:"border-border",children:e.jsx(u,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx(j,{className:"text-lg",children:s.name}),e.jsxs(A,{className:"text-xs mt-1",children:[s.url," • Type: ",s.type||"git",s.connectionStatus&&e.jsx(C,{variant:s.connectionStatus==="successful"?"default":"destructive",className:"ml-2",children:s.connectionStatus})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>$s(s),children:e.jsx(ps,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>Bs(s.name),children:e.jsx(_e,{className:"h-4 w-4"})})]})]})})},s.name||t))})})]})}),e.jsx(G,{value:"projects",className:"space-y-4 mt-4",children:e.jsxs(x,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(j,{children:"Projects"}),e.jsx(A,{children:"Logical grouping of applications"})]}),e.jsxs(c,{size:"sm",onClick:()=>re(!0),variant:"default",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"New Project"]})]})}),e.jsx(v,{children:e.jsx("div",{className:"space-y-3",children:ls.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(xs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No projects found"})]}):ls.map((s,t)=>e.jsx(x,{className:"border-border",children:e.jsx(u,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(j,{className:"text-lg",children:s.name}),s.description&&e.jsx(A,{className:"text-xs mt-1",children:s.description})]}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>qs(s.name),children:e.jsx(_e,{className:"h-4 w-4"})})]})})},s.name||t))})})]})}),e.jsx(G,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(x,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Argo CD Server"}),e.jsx(A,{children:"Server configuration"})]}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"server-url",children:"Server URL"}),e.jsx(r,{id:"server-url",value:n.serverUrl||"https://argocd.example.com",onChange:s=>m({serverUrl:s.target.value}),placeholder:"https://argocd.example.com"})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{children:"Enable SSO"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Single Sign-On authentication"})]}),e.jsx(U,{checked:n.enableSSO??!1,onCheckedChange:s=>m({enableSSO:s})})]}),n.enableSSO&&e.jsxs("div",{className:"space-y-2 pl-6",children:[e.jsx(a,{htmlFor:"sso-provider",children:"SSO Provider"}),e.jsxs(T,{value:n.ssoProvider||"oidc",onValueChange:s=>m({ssoProvider:s}),children:[e.jsx(L,{id:"sso-provider",children:e.jsx(z,{})}),e.jsxs(M,{children:[e.jsx(d,{value:"oidc",children:"OIDC"}),e.jsx(d,{value:"saml",children:"SAML"}),e.jsx(d,{value:"ldap",children:"LDAP"})]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{children:"Enable RBAC"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Role-based access control"})]}),e.jsx(U,{checked:n.enableRBAC??!0,onCheckedChange:s=>m({enableRBAC:s})})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{children:"Auto Sync"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically sync applications"})]}),e.jsx(U,{checked:n.autoSync??!1,onCheckedChange:s=>m({autoSync:s})})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{children:"Enable Health Checks"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor application health"})]}),e.jsx(U,{checked:n.enableHealthChecks??!0,onCheckedChange:s=>m({enableHealthChecks:s})})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sync Status"}),e.jsxs("span",{className:"font-semibold",children:[p.syncedApps,"/",p.totalApps," synced"]})]}),e.jsx(rt,{value:p.totalApps>0?p.syncedApps/p.totalApps*100:0,className:"h-2"})]})]})]})]})}),e.jsx(G,{value:"rbac",className:"space-y-4 mt-4",children:e.jsxs(x,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Role-Based Access Control"}),e.jsx(A,{children:"Manage roles and permissions"})]}),e.jsx(v,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ms,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"RBAC configuration coming soon"})]})})]})}),e.jsx(G,{value:"notifications",className:"space-y-4 mt-4",children:e.jsxs(x,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Notifications"}),e.jsx(A,{children:"Configure notification channels"})]}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for sync events"})]}),e.jsx(U,{checked:n.enableNotifications??!0,onCheckedChange:s=>m({enableNotifications:s})})]}),n.enableNotifications&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Notification Channels"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(n.notificationChannels||["slack"]).map((s,t)=>e.jsxs(C,{variant:"secondary",children:[s,e.jsx("button",{onClick:()=>{const o=n.notificationChannels||[];m({notificationChannels:o.filter((f,w)=>w!==t)})},className:"ml-2 hover:text-destructive",children:e.jsx(at,{className:"h-3 w-3"})})]},t))}),e.jsxs(c,{size:"sm",variant:"outline",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Channel"]})]})]})]})})]})]}),e.jsx(q,{open:Ps,onOpenChange:te,children:e.jsxs(V,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(J,{children:"New Application"}),e.jsx(K,{children:"Create a new Argo CD application for GitOps deployment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-name",children:"Application Name *"}),e.jsx(r,{id:"app-name",value:P,onChange:s=>{ce(s.target.value),y("")},placeholder:"my-app"}),Te&&e.jsx("p",{className:"text-sm text-destructive",children:Te})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-namespace",children:"Namespace"}),e.jsx(r,{id:"app-namespace",value:oe,onChange:s=>de(s.target.value),placeholder:"default"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-project",children:"Project"}),e.jsx(r,{id:"app-project",value:pe,onChange:s=>he(s.target.value),placeholder:"default"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-repository",children:"Repository *"}),e.jsx(r,{id:"app-repository",value:$,onChange:s=>{xe(s.target.value),y("")},placeholder:"https://github.com/example/repo"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-path",children:"Path"}),e.jsx(r,{id:"app-path",value:me,onChange:s=>ue(s.target.value),placeholder:"."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-revision",children:"Target Revision"}),e.jsx(r,{id:"app-revision",value:je,onChange:s=>ge(s.target.value),placeholder:"main"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-dest-server",children:"Destination Server"}),e.jsx(r,{id:"app-dest-server",value:ve,onChange:s=>fe(s.target.value),placeholder:"https://kubernetes.default.svc"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-dest-namespace",children:"Destination Namespace"}),e.jsx(r,{id:"app-dest-namespace",value:ye,onChange:s=>Ne(s.target.value),placeholder:"default"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"app-sync-policy",children:"Sync Policy"}),e.jsxs(T,{value:we,onValueChange:s=>Ce(s),children:[e.jsx(L,{id:"app-sync-policy",children:e.jsx(z,{})}),e.jsxs(M,{children:[e.jsx(d,{value:"automated",children:"Automated"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"sync-window",children:"Sync Window"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(c,{variant:"outline",onClick:()=>te(!1),children:"Cancel"}),e.jsx(c,{onClick:Ls,children:"Create Application"})]})]})}),e.jsx(q,{open:ks,onOpenChange:ae,children:e.jsxs(V,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(J,{children:"Edit Application"}),e.jsx(K,{children:"Update application configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-name",children:"Application Name *"}),e.jsx(r,{id:"edit-app-name",value:P,onChange:s=>{ce(s.target.value),y("")},placeholder:"my-app"}),Te&&e.jsx("p",{className:"text-sm text-destructive",children:Te})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-namespace",children:"Namespace"}),e.jsx(r,{id:"edit-app-namespace",value:oe,onChange:s=>de(s.target.value),placeholder:"default"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-project",children:"Project"}),e.jsx(r,{id:"edit-app-project",value:pe,onChange:s=>he(s.target.value),placeholder:"default"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-repository",children:"Repository *"}),e.jsx(r,{id:"edit-app-repository",value:$,onChange:s=>{xe(s.target.value),y("")},placeholder:"https://github.com/example/repo"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-path",children:"Path"}),e.jsx(r,{id:"edit-app-path",value:me,onChange:s=>ue(s.target.value),placeholder:"."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-revision",children:"Target Revision"}),e.jsx(r,{id:"edit-app-revision",value:je,onChange:s=>ge(s.target.value),placeholder:"main"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-dest-server",children:"Destination Server"}),e.jsx(r,{id:"edit-app-dest-server",value:ve,onChange:s=>fe(s.target.value),placeholder:"https://kubernetes.default.svc"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-dest-namespace",children:"Destination Namespace"}),e.jsx(r,{id:"edit-app-dest-namespace",value:ye,onChange:s=>Ne(s.target.value),placeholder:"default"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-app-sync-policy",children:"Sync Policy"}),e.jsxs(T,{value:we,onValueChange:s=>Ce(s),children:[e.jsx(L,{id:"edit-app-sync-policy",children:e.jsx(z,{})}),e.jsxs(M,{children:[e.jsx(d,{value:"automated",children:"Automated"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"sync-window",children:"Sync Window"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(c,{variant:"outline",onClick:()=>ae(!1),children:"Cancel"}),e.jsx(c,{onClick:Ms,children:"Save Changes"})]})]})}),e.jsx(q,{open:Ds,onOpenChange:ie,children:e.jsxs(V,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(J,{children:"Add Repository"}),e.jsx(K,{children:"Add a Git repository, Helm chart repository, or OCI registry"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"repo-name",children:"Repository Name *"}),e.jsx(r,{id:"repo-name",value:D,onChange:s=>{Se(s.target.value),E("")},placeholder:"my-repo"}),Le&&e.jsx("p",{className:"text-sm text-destructive",children:Le})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"repo-url",children:"Repository URL *"}),e.jsx(r,{id:"repo-url",value:F,onChange:s=>{Ae(s.target.value),O("")},placeholder:"https://github.com/example/repo"}),ze&&e.jsx("p",{className:"text-sm text-destructive",children:ze})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"repo-type",children:"Repository Type"}),e.jsxs(T,{value:Re,onValueChange:s=>be(s),children:[e.jsx(L,{id:"repo-type",children:e.jsx(z,{})}),e.jsxs(M,{children:[e.jsx(d,{value:"git",children:"Git"}),e.jsx(d,{value:"helm",children:"Helm"}),e.jsx(d,{value:"oci",children:"OCI"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"repo-username",children:"Username"}),e.jsx(r,{id:"repo-username",value:Pe,onChange:s=>ke(s.target.value),placeholder:"optional"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"repo-password",children:"Password"}),e.jsx(r,{id:"repo-password",type:"password",value:De,onChange:s=>Fe(s.target.value),placeholder:"optional"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"repo-insecure",checked:Ee,onCheckedChange:Oe}),e.jsx(a,{htmlFor:"repo-insecure",children:"Insecure (skip TLS verification)"})]})]}),e.jsxs(Q,{children:[e.jsx(c,{variant:"outline",onClick:()=>ie(!1),children:"Cancel"}),e.jsx(c,{onClick:Hs,children:"Add Repository"})]})]})}),e.jsx(q,{open:Fs,onOpenChange:ne,children:e.jsxs(V,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(J,{children:"Edit Repository"}),e.jsx(K,{children:"Update repository configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-repo-name",children:"Repository Name *"}),e.jsx(r,{id:"edit-repo-name",value:D,onChange:s=>{Se(s.target.value),E("")},placeholder:"my-repo"}),Le&&e.jsx("p",{className:"text-sm text-destructive",children:Le})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-repo-url",children:"Repository URL *"}),e.jsx(r,{id:"edit-repo-url",value:F,onChange:s=>{Ae(s.target.value),O("")},placeholder:"https://github.com/example/repo"}),ze&&e.jsx("p",{className:"text-sm text-destructive",children:ze})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-repo-type",children:"Repository Type"}),e.jsxs(T,{value:Re,onValueChange:s=>be(s),children:[e.jsx(L,{id:"edit-repo-type",children:e.jsx(z,{})}),e.jsxs(M,{children:[e.jsx(d,{value:"git",children:"Git"}),e.jsx(d,{value:"helm",children:"Helm"}),e.jsx(d,{value:"oci",children:"OCI"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-repo-username",children:"Username"}),e.jsx(r,{id:"edit-repo-username",value:Pe,onChange:s=>ke(s.target.value),placeholder:"optional"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"edit-repo-password",children:"Password"}),e.jsx(r,{id:"edit-repo-password",type:"password",value:De,onChange:s=>Fe(s.target.value),placeholder:"optional"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"edit-repo-insecure",checked:Ee,onCheckedChange:Oe}),e.jsx(a,{htmlFor:"edit-repo-insecure",children:"Insecure (skip TLS verification)"})]})]}),e.jsxs(Q,{children:[e.jsx(c,{variant:"outline",onClick:()=>ne(!1),children:"Cancel"}),e.jsx(c,{onClick:Is,children:"Save Changes"})]})]})}),e.jsx(q,{open:Es,onOpenChange:re,children:e.jsxs(V,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(J,{children:"New Project"}),e.jsx(K,{children:"Create a new project to group applications"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"project-name",children:"Project Name *"}),e.jsx(r,{id:"project-name",value:Be,onChange:s=>{es(s.target.value),Ge("")},placeholder:"my-project"}),ns&&e.jsx("p",{className:"text-sm text-destructive",children:ns})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"project-description",children:"Description"}),e.jsx(lt,{id:"project-description",value:ss,onChange:s=>ts(s.target.value),placeholder:"Project description",rows:3})]})]}),e.jsxs(Q,{children:[e.jsx(c,{variant:"outline",onClick:()=>re(!1),children:"Cancel"}),e.jsx(c,{onClick:Gs,children:"Create Project"})]})]})}),e.jsx(q,{open:bs,onOpenChange:$e,children:e.jsxs(V,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(J,{children:"Application Details"}),e.jsx(K,{children:"Detailed information about application"})]}),b&&(()=>{const s=S.find(t=>t.name===b)||(n.applications||[]).find(t=>t.name===b);return s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-semibold",children:s.name})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[os(s.status),e.jsx("span",{className:"capitalize",children:s.status})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Health"}),e.jsx("div",{children:ds(s.health)})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Namespace"}),e.jsx("p",{children:s.namespace||"default"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Project"}),e.jsx("p",{children:s.project||"default"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Sync Policy"}),e.jsx("p",{className:"capitalize",children:s.syncPolicy})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Repository"}),e.jsx("p",{className:"text-sm break-all",children:s.repository})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Path"}),e.jsx("p",{children:s.path||"."})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Target Revision"}),e.jsx("p",{children:s.targetRevision||"main"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Current Revision"}),e.jsx("p",{className:"font-mono text-sm",children:s.revision||"N/A"})]}),s.lastSync&&e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Last Sync"}),e.jsx("p",{children:Me(s.lastSync)}),s.lastSyncDuration&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Duration: ",(s.lastSyncDuration/1e3).toFixed(1),"s"]})]}),s.destination&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Destination Server"}),e.jsx("p",{className:"text-sm break-all",children:s.destination.server||"N/A"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground",children:"Destination Namespace"}),e.jsx("p",{children:s.destination.namespace||"N/A"})]})]})]}),s.history&&s.history.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground mb-2 block",children:"Sync History"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s.history.map((t,o)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-mono text-sm",children:t.revision.substring(0,7)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Me(t.deployedAt)})]}),o===0&&e.jsx(C,{variant:"secondary",className:"text-xs",children:"Current"})]},t.id||o))})]})]}),Qe.filter(t=>t.application===s.name).length>0&&e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsxs("div",{children:[e.jsx(a,{className:"text-muted-foreground mb-2 block",children:"Active Sync Operations"}),e.jsx("div",{className:"space-y-2",children:Qe.filter(t=>t.application===s.name&&t.status==="running").map(t=>e.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[e.jsx(I,{className:"h-4 w-4 text-blue-500 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Sync in progress..."}),e.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:["Started ",Me(t.startedAt)]})]},t.id))})]})]})]}):null})(),e.jsxs(Q,{children:[e.jsx(c,{variant:"outline",onClick:()=>$e(!1),children:"Close"}),b&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{variant:"outline",onClick:()=>{b&&handleRefreshApplication(b)},children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(c,{onClick:()=>{b&&cs(b)},children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Sync Now"]})]})]})]})})]})}export{Rt as ArgoCDConfigAdvanced};
