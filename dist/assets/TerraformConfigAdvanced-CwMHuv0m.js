import{u as ve,X as Ne,j as e,V as be,r as i,i as y,S as A,C as o,e as h,f as p,W as M,k as x,A as F,F as P,T as ye,a as we,b as T,N as _,c as Ce,d as W,h as D,P as ke,B as c,Y as z,m as Re,L as u,I as k,n as B,o as q,p as U,q as X,s as m,t as V,ab as Se,K as Ae,ap as Te}from"./index-CydFlkT-.js";import{u as We}from"./use-toast-BfsLpuT9.js";import{T as De}from"./textarea-gCrBNtSF.js";import{R as Ve}from"./refresh-ccw-BIF1Do-O.js";import{C as E}from"./circle-check-big-AI36Ss3n.js";import{C as Ee}from"./cloud-CvztnlZd.js";import{C as Le}from"./clock-DVkzYYxK.js";function Ke({componentId:R}){const{nodes:ee,updateNode:se}=ve(),{isRunning:Q,getComponentMetrics:te}=Ne(),{toast:d}=We(),j=ee.find(s=>s.id===R);if(!j)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const r=be.getTerraformEmulationEngine(R);te(R);const l=j.data.config||{},g=l.workspaces||[{id:"1",name:"production",description:"Production infrastructure",terraformVersion:"1.5.0",autoApply:!1,queueAllRuns:!0,workingDirectory:"/terraform",lastRun:{id:"run-1",status:"applied",createdAt:new Date().toISOString()}}],G=l.runs||[{id:"1",workspace:"production",status:"applied",createdAt:new Date().toISOString(),planOnly:!1,message:"Apply completed successfully",duration:120}],H=l.states||[{id:"1",workspace:"production",version:1,serial:1,resources:15,updatedAt:new Date().toISOString()}],[$e,Oe]=i.useState(null),[Ie,ae]=i.useState(!1),[K,re]=i.useState([]),[Y,ne]=i.useState([]),[J,le]=i.useState([]),[L,ie]=i.useState(null),[w,ce]=i.useState(""),[C,de]=i.useState("all"),[Me,Fe]=i.useState(null),[Pe,ze]=i.useState(!1),b=K.length>0?K:g,S=Y.length>0?Y:G,$=J.length>0?J:H,oe=L?.workspacesTotal||b.length,xe=L?.runsRunning||S.filter(s=>["pending","planning","applying"].includes(s.status)).length,ue=L?.runsSuccess||S.filter(s=>s.status==="applied").length,O=i.useMemo(()=>{let s=S;return w&&(s=s.filter(t=>t.workspaceName?.toLowerCase().includes(w.toLowerCase())||t.id?.toLowerCase().includes(w.toLowerCase()))),C==="active"?s=s.filter(t=>["pending","planning","applying"].includes(t.status)):C==="success"?s=s.filter(t=>t.status==="applied"):C==="failed"&&(s=s.filter(t=>t.status==="errored")),s.sort((t,a)=>{const n=t.createdAt?typeof t.createdAt=="string"?new Date(t.createdAt).getTime():t.createdAt:0;return(a.createdAt?typeof a.createdAt=="string"?new Date(a.createdAt).getTime():a.createdAt:0)-n})},[S,w,C]);i.useEffect(()=>{if(!r)return;const s=()=>{try{const a=r.getWorkspaces(),n=r.getActiveRuns(),N=[];for(const ge of a){const fe=r.getRunsForWorkspace(ge.id,100);N.push(...fe)}const Z=r.getStates(),I=r.getMetrics();re(a),ne(N),le(Z),ie(I)}catch(a){console.error("Error updating Terraform data:",a)}};s();const t=setInterval(s,Q?500:2e3);return()=>clearInterval(t)},[r,Q]),i.useEffect(()=>{!r||!j||r.updateConfig(j)},[l.workspaces?.length,l.runs?.length,l.states?.length,r,j]);const f=s=>{se(R,{data:{...j.data,config:{...l,...s}}})},me=()=>{const s={id:`workspace-${Date.now()}`,name:"new-workspace",terraformVersion:l.defaultTerraformVersion||"1.5.0",autoApply:!1,queueAllRuns:!0};f({workspaces:[...g,s]}),ae(!1),d({title:"Workspace created",description:"New workspace has been added"})},he=s=>{if(b.length===1){d({title:"Cannot delete workspace",description:"At least one workspace is required",variant:"destructive"});return}const t=b.find(a=>a.id===s);t&&window.confirm(`Are you sure you want to delete workspace "${t.name}"?`)&&(f({workspaces:g.filter(a=>a.id!==s)}),d({title:"Workspace deleted",description:`Workspace "${t.name}" has been removed`}))},v=(s,t,a)=>{const n=g.map(N=>{if(N.id===s){if(t==="vcsRepo"&&a===void 0){const{vcsRepo:Z,...I}=N;return I}return{...N,[t]:a}}return N});f({workspaces:n})},pe=(s,t=!1)=>{const a=g.find(n=>n.id===s);if(!a){d({title:"Error",description:"Workspace not found",variant:"destructive"});return}if(r){const n=r.triggerRun(s,{planOnly:t,source:"api",triggeredBy:"user"});n.success?d({title:"Run triggered",description:`Run ${n.runId} created for workspace ${a.name}`}):d({title:"Error",description:n.reason||"Failed to trigger run",variant:"destructive"})}else{const n={id:`run-${Date.now()}`,workspace:a.name,status:"pending",createdAt:new Date().toISOString(),planOnly:t};f({runs:[n,...G.slice(0,9)]}),d({title:"Run created",description:`Run created for workspace ${a.name}`})}},je=s=>{if(r){const t=r.cancelRun(s);t.success?d({title:"Run canceled",description:`Run ${s} has been canceled`}):d({title:"Error",description:t.reason||"Failed to cancel run",variant:"destructive"})}else d({title:"Error",description:"Terraform engine not available",variant:"destructive"})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Terraform"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Infrastructure as Code"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage workspaces, runs, and state"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{r&&j&&(r.updateConfig(j),d({title:"Refreshed",description:"Configuration has been refreshed"}))},children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(A,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(o,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"Workspaces"}),e.jsx(M,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:oe}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(o,{className:"border-l-4 border-l-cyan-500 bg-card",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"Active Runs"}),e.jsx(F,{className:"h-4 w-4 text-cyan-500 animate-pulse"})]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:xe}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"running"})]})})]}),e.jsxs(o,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),e.jsx(E,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:ue}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"success"})]})})]}),e.jsxs(o,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:"State Versions"}),e.jsx(P,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:H.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"versions"})]})})]})]}),e.jsxs(ye,{defaultValue:"workspaces",className:"space-y-4",children:[e.jsxs(we,{children:[e.jsxs(T,{value:"workspaces",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Workspaces (",b.length,")"]}),e.jsxs(T,{value:"runs",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Runs (",O.length,")"]}),e.jsxs(T,{value:"state",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"State (",$.length,")"]}),e.jsxs(T,{value:"settings",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(W,{value:"workspaces",className:"space-y-4",children:e.jsxs(o,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Workspaces"}),e.jsx(D,{children:"Manage Terraform workspaces"})]}),e.jsxs(y,{onClick:me,size:"sm",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Create Workspace"]})]})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:b.map(s=>e.jsxs(o,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(M,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(p,{className:"text-lg font-semibold",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(c,{variant:"outline",className:"font-mono text-xs",children:[e.jsx(Ee,{className:"h-3 w-3 mr-1"}),"v",s.terraformVersion||"1.5.0"]}),s.autoApply&&e.jsxs(c,{variant:"default",className:"bg-green-500",children:[e.jsx(E,{className:"h-3 w-3 mr-1"}),"Auto Apply"]}),s.lastRun&&e.jsxs(c,{variant:s.lastRun.status==="applied"?"default":s.lastRun.status==="errored"?"destructive":"secondary",children:[s.lastRun.status==="applied"&&e.jsx(E,{className:"h-3 w-3 mr-1"}),s.lastRun.status==="errored"&&e.jsx(z,{className:"h-3 w-3 mr-1"}),typeof s.lastRun.status=="string"?s.lastRun.status:"unknown"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(y,{size:"sm",variant:"default",onClick:()=>pe(s.id,!1),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Run Plan"]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>he(s.id),disabled:b.length===1,className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Re,{className:"h-4 w-4"})})]})]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"Workspace Name"}),e.jsx(k,{value:s.name,onChange:t=>v(s.id,"name",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"Terraform Version"}),e.jsxs(B,{value:s.terraformVersion||l.defaultTerraformVersion||"1.5.0",onValueChange:t=>v(s.id,"terraformVersion",t),children:[e.jsx(q,{children:e.jsx(U,{})}),e.jsxs(X,{children:[e.jsx(m,{value:"1.5.0",children:"1.5.0"}),e.jsx(m,{value:"1.4.0",children:"1.4.0"}),e.jsx(m,{value:"1.3.0",children:"1.3.0"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"Working Directory"}),e.jsx(k,{value:s.workingDirectory||"",onChange:t=>v(s.id,"workingDirectory",t.target.value),placeholder:"/terraform"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{children:"Auto Apply"}),e.jsx(V,{checked:s.autoApply??!1,onCheckedChange:t=>v(s.id,"autoApply",t)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"Description"}),e.jsx(De,{value:s.description||"",onChange:t=>v(s.id,"description",t.target.value),rows:2,placeholder:"Workspace description"})]}),e.jsx(A,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"VCS Repository (Optional)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(k,{placeholder:"org/repo",value:s.vcsRepo?.identifier||"",onChange:t=>{const a=g.find(n=>n.id===s.id);a&&v(s.id,"vcsRepo",{...a.vcsRepo||{},identifier:t.target.value})}}),e.jsx(k,{placeholder:"branch",value:s.vcsRepo?.branch||"",onChange:t=>{const a=g.find(n=>n.id===s.id);a&&v(s.id,"vcsRepo",{...a.vcsRepo||{identifier:""},branch:t.target.value})}}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>{g.find(a=>a.id===s.id)&&v(s.id,"vcsRepo",void 0)},disabled:!s.vcsRepo,children:e.jsx(Se,{className:"h-4 w-4"})})]})]})]})]},s.id))})})]})}),e.jsx(W,{value:"runs",className:"space-y-4",children:e.jsxs(o,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Terraform Runs"}),e.jsx(D,{children:"Execution history and status"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ae,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(k,{placeholder:"Search runs...",value:w,onChange:s=>ce(s.target.value),className:"pl-8 w-64"})]}),e.jsxs(B,{value:C,onValueChange:s=>de(s),children:[e.jsx(q,{className:"w-32",children:e.jsx(U,{})}),e.jsxs(X,{children:[e.jsx(m,{value:"all",children:"All"}),e.jsx(m,{value:"active",children:"Active"}),e.jsx(m,{value:"success",children:"Success"}),e.jsx(m,{value:"failed",children:"Failed"})]})]})]})]})}),e.jsx(x,{children:O.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No runs found"}):e.jsx("div",{className:"space-y-2",children:O.map(s=>e.jsx(o,{className:`border-l-4 hover:shadow-md transition-all ${s.status==="applied"?"border-l-green-500 bg-card":s.status==="errored"?"border-l-red-500 bg-card":s.status==="canceled"?"border-l-gray-500 bg-card":["pending","planning","applying"].includes(s.status)?"border-l-blue-500 bg-card":"border-l-yellow-500 bg-card"}`,children:e.jsx(x,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:`p-2 rounded-lg ${s.status==="applied"?"bg-green-100 dark:bg-green-900/30":s.status==="errored"?"bg-red-100 dark:bg-red-900/30":["pending","planning","applying"].includes(s.status)?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-900/30"}`,children:[s.status==="applied"&&e.jsx(E,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.status==="errored"&&e.jsx(z,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),["pending","planning","applying"].includes(s.status)&&e.jsx(F,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 animate-pulse"}),s.status==="canceled"&&e.jsx(z,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(c,{variant:s.status==="applied"?"default":s.status==="errored"?"destructive":s.status==="canceled"?"outline":"secondary",className:"font-medium",children:s.status}),s.planOnly&&e.jsxs(c,{variant:"outline",className:"text-xs",children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Plan Only"]}),e.jsx("span",{className:"font-semibold text-base",children:s.workspaceName||s.workspace})]}),s.message&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.message}),s.error&&e.jsx("p",{className:"text-sm text-destructive mb-2",children:s.error}),s.hasChanges&&e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-muted-foreground",children:[s.resourceAdditions!==void 0&&s.resourceAdditions>0&&e.jsxs(c,{variant:"outline",className:"bg-green-50 text-green-700",children:["+",s.resourceAdditions]}),s.resourceChanges!==void 0&&s.resourceChanges>0&&e.jsxs(c,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:["~",s.resourceChanges]}),s.resourceDestructions!==void 0&&s.resourceDestructions>0&&e.jsxs(c,{variant:"outline",className:"bg-red-50 text-red-700",children:["-",s.resourceDestructions]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"h-3 w-3"}),s.createdAt?typeof s.createdAt=="string"?new Date(s.createdAt).toLocaleString():new Date(s.createdAt).toLocaleString():"Unknown"]}),s.duration!==void 0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),Math.round(s.duration/1e3),"s"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:["pending","planning","applying"].includes(s.status)&&e.jsxs(y,{size:"sm",variant:"outline",onClick:()=>{window.confirm(`Are you sure you want to cancel run ${s.id}?`)&&je(s.id)},children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]})})},s.id))})})]})}),e.jsx(W,{value:"state",className:"space-y-4",children:e.jsxs(o,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"State Management"}),e.jsx(D,{children:"Terraform state versions"})]}),e.jsx(x,{children:$.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No state versions"}):e.jsx("div",{className:"space-y-2",children:$.map(s=>e.jsx(o,{className:"border-l-4 border-l-purple-500",children:e.jsx(x,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(c,{variant:"outline",children:s.workspaceName||s.workspace}),e.jsxs(c,{variant:"outline",children:["v",s.version]}),e.jsxs(c,{variant:"outline",children:["Serial: ",s.serial]}),s.resources!==void 0&&e.jsxs(c,{variant:"outline",children:[s.resources," resources"]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsxs("p",{children:["Updated: ",s.updatedAt?typeof s.updatedAt=="string"?new Date(s.updatedAt).toLocaleString():new Date(s.updatedAt).toLocaleString():"Unknown"]})}),s.outputs&&Object.keys(s.outputs).length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Outputs:"}),e.jsx("div",{className:"space-y-1",children:Object.entries(s.outputs).map(([t,a])=>e.jsxs("div",{className:"text-xs font-mono bg-muted p-1 rounded",children:[e.jsx("span",{className:"text-blue-600",children:t})," = ",e.jsx("span",{className:"text-green-600",children:String(a)})]},t))})]})]})})})},s.id))})})]})}),e.jsx(W,{value:"settings",className:"space-y-4",children:e.jsxs(o,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Terraform Settings"}),e.jsx(D,{children:"Global configuration"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{children:"Default Terraform Version"}),e.jsxs(B,{value:l.defaultTerraformVersion||"1.5.0",onValueChange:s=>f({defaultTerraformVersion:s}),children:[e.jsx(q,{children:e.jsx(U,{})}),e.jsxs(X,{children:[e.jsx(m,{value:"1.5.0",children:"1.5.0"}),e.jsx(m,{value:"1.4.0",children:"1.4.0"}),e.jsx(m,{value:"1.3.0",children:"1.3.0"})]})]})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(u,{children:"Enable State Locking"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Prevents concurrent modifications"})]}),e.jsx(V,{checked:l.enableStateLocking!==!1,onCheckedChange:s=>f({enableStateLocking:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(u,{children:"Enable Remote State"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Store state remotely"})]}),e.jsx(V,{checked:l.enableRemoteState!==!1,onCheckedChange:s=>f({enableRemoteState:s})})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(u,{children:"Enable VCS Integration"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect to version control"})]}),e.jsx(V,{checked:l.enableVCS!==!1,onCheckedChange:s=>f({enableVCS:s})})]})]})]})})]})]})})}export{Ke as TerraformConfigAdvanced};
