import{J as xs,u as ms,a as hs,j as e,e as us,r as j,l as h,S as g,C as b,h as w,i as C,m as M,A as Te,Z as js,T as ps,b as vs,c as H,R as Ee,d as gs,f as K,k as J,L as n,q as D,s as L,t as O,v as A,w as p,n as fs,ad as Ns,ac as ys,P as se,O as bs,I as o,U as ws,B as v,X as Cs,o as Ms,aa as Ps,x as U,_ as ue,D as Ue,y as Fe,z as ze,E as Re,G as De,H as Le}from"./index-CwK32Mz8.js";import{T as Oe}from"./textarea-DOr2Uxm6.js";import{u as Ss}from"./use-toast-CRdpUAjT.js";import{R as ks}from"./refresh-ccw-D-s9mPLx.js";import{D as Ts}from"./database-Cu0THndJ.js";import{C as Es}from"./chart-column-BMnj1w1M.js";import{C as Us}from"./circle-check-big-tE0tjoYM.js";import{R as te,C as ae,X as ne,Y as ie,T as le,P as re,L as Ae,a as W}from"./LineChart-ckZ0UGFf.js";import{A as Ie,a as Be}from"./AreaChart-JyLpGLx_.js";const Fs=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],je=xs("brain",Fs);function Gs({componentId:_}){const{nodes:qe,updateNode:$e}=ms(),{getComponentMetrics:Ge}=hs(),{toast:u}=Ss(),X=qe.find(s=>s.id===_);if(!X)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const d=us.getTensorFlowServingEmulationEngine(_),F=Ge(_)?.customMetrics||{},i=X.data.config||{},c=i.models||[],N=i.predictions||[],Q=i.endpoint||"localhost:8501",P=d?.getMetrics(),Ve=P?.totalModels??i.totalModels??c.length,He=P?.servingModels??c.filter(s=>s.status==="serving").length,Ke=P?.totalPredictions??i.totalPredictions??N.length,pe=P?.averageLatency??i.averageLatency??(c.length>0?c.reduce((s,t)=>s+(t.avgLatency||0),0)/c.length:0),ve=P?.requestsPerSecond??F.requestsPerSecond??0,ce=P?.errorRate??F.errorRate??0,de=P?.batchUtilization??F.batchUtilization??0,oe=P?.gpuUtilization??F.gpuUtilization??0,ge=P?.memoryUsage??F.memoryUsage??0,xe=P?.cpuUtilization??F.cpuUtilization??0,[k,Je]=j.useState(""),[I,fe]=j.useState(""),[z,Ne]=j.useState(""),[We,Y]=j.useState(""),[B,_e]=j.useState(""),[Z,Xe]=j.useState("all"),[Qe,q]=j.useState(!1),[S,ye]=j.useState(null),[Ye,ee]=j.useState(!1),[$,be]=j.useState(null),[E,we]=j.useState(1),T=10,[Ce,Ze]=j.useState([]),[r,y]=j.useState({name:"",version:"1",platform:"tensorflow",status:"serving",inputs:[],outputs:[]});j.useEffect(()=>{if(d){const s=d.getModels();if(s.length>0){const t=s.map(a=>({name:a.name,version:a.version,status:a.status,platform:a.platform,inputs:a.inputs,outputs:a.outputs,requests:a.requests,avgLatency:a.avgLatency,totalPredictions:a.totalPredictions,successfulPredictions:a.successfulPredictions,failedPredictions:a.failedPredictions}));l({models:t})}}},[d]),j.useEffect(()=>{if(d){const s=d.getRecentPredictions(100);if(s.length>0){const t=s.map(a=>({id:a.id,model:a.model,version:a.version,input:a.input,output:a.output,status:a.status,timestamp:new Date(a.timestamp).toISOString(),latency:a.latency}));l({predictions:t})}}},[d]),j.useEffect(()=>{const s=setInterval(()=>{if(d){d.syncModelsFromConfig();const t=d.getMetricsHistory(60);Ze(t)}},2e3);return()=>clearInterval(s)},[d]);const G=j.useMemo(()=>Ce.map(s=>({time:new Date(s.timestamp).toLocaleTimeString(),latency:s.latency.toFixed(1),rps:s.rps.toFixed(1),errorRate:(s.errorRate*100).toFixed(2),throughput:s.throughput.toFixed(1),batchUtilization:(s.batchUtilization*100).toFixed(1),gpuUtilization:s.gpuUtilization?(s.gpuUtilization*100).toFixed(1):0,cpuUtilization:(s.cpuUtilization*100).toFixed(1)})),[Ce]),l=s=>{$e(_,{data:{...X.data,config:{...i,...s}}}),d&&(d.initializeConfig(X),d.syncModelsFromConfig())},es=async()=>{if(!k||!I){u({title:"Error",description:"Please select a model and version",variant:"destructive"});return}try{const s=z?JSON.parse(z):{instances:[[Math.random(),Math.random(),Math.random()]]};if(d){const t=await d.processPrediction(k,I,s);t.success?(Y(JSON.stringify(t.output,null,2)),u({title:"Success",description:`Prediction completed in ${t.latency}ms`})):(Y(""),u({title:"Error",description:t.error||"Prediction failed",variant:"destructive"}))}else{const t={id:`pred-${Date.now()}`,model:k,version:I,input:z,output:JSON.stringify({predictions:[[.8,.1,.1]]},null,2),status:"success",timestamp:new Date().toISOString(),latency:Math.floor(Math.random()*50)+20};Y(t.output||""),l({predictions:[...N,t]}),u({title:"Success",description:`Prediction completed in ${t.latency}ms`})}}catch(s){u({title:"Error",description:s instanceof Error?s.message:"Invalid JSON input",variant:"destructive"})}},ss=()=>{ye(null),y({name:"",version:"1",platform:"tensorflow",status:"serving",inputs:[],outputs:[]}),q(!0)},ts=s=>{ye(s),y({name:s.name,version:s.version,platform:s.platform,status:s.status,inputs:s.inputs||[],outputs:s.outputs||[]}),q(!0)},as=()=>{if(!r.name||!r.version){u({title:"Error",description:"Model name and version are required",variant:"destructive"});return}if(c.find(a=>a.name===r.name&&a.version===r.version&&(!S||a.name!==S.name||a.version!==S.version))){u({title:"Error",description:"Model with this name and version already exists",variant:"destructive"});return}const t=S?c.map(a=>a.name===S.name&&a.version===S.version?{...r,requests:a.requests,avgLatency:a.avgLatency}:a):[...c,{...r,requests:0,avgLatency:0}];l({models:t}),q(!1),u({title:"Success",description:S?"Model updated":"Model added"})},ns=s=>{be({name:s.name,version:s.version}),ee(!0)},is=()=>{if($){const s=c.filter(t=>!(t.name===$.name&&t.version===$.version));l({models:s}),ee(!1),be(null),u({title:"Success",description:"Model deleted"})}},ls=()=>{try{const s={models:c,exportDate:new Date().toISOString(),version:"1.0"},t=JSON.stringify(s,null,2),a=new Blob([t],{type:"application/json"}),x=URL.createObjectURL(a),m=document.createElement("a");m.href=x,m.download=`tensorflow-serving-models-${Date.now()}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(x),u({title:"Success",description:`Exported ${c.length} model(s)`})}catch{u({title:"Error",description:"Failed to export models",variant:"destructive"})}},rs=()=>{const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=t=>{const a=t.target.files?.[0];if(!a)return;const x=new FileReader;x.onload=m=>{try{const f=m.target?.result,me=JSON.parse(f);if(!me.models||!Array.isArray(me.models))throw new Error("Invalid import format: models array not found");const cs=new Set(c.map(V=>`${V.name}:${V.version}`)),he=me.models.filter(V=>{const os=`${V.name}:${V.version}`;return!cs.has(os)});if(he.length===0){u({title:"Info",description:"No new models to import (all models already exist)"});return}const ds=[...c,...he];l({models:ds}),u({title:"Success",description:`Imported ${he.length} model(s)`})}catch(f){u({title:"Error",description:f instanceof Error?f.message:"Failed to import models",variant:"destructive"})}},x.readAsText(a)},s.click()},Me=s=>{const t={name:"",dtype:"float32",shape:"[1,1]"};y(s==="input"?{...r,inputs:[...r.inputs,t]}:{...r,outputs:[...r.outputs,t]})},Pe=(s,t)=>{y(s==="input"?{...r,inputs:r.inputs.filter((a,x)=>x!==t)}:{...r,outputs:r.outputs.filter((a,x)=>x!==t)})},R=(s,t,a,x)=>{if(s==="input"){const m=[...r.inputs];m[t]={...m[t],[a]:x},y({...r,inputs:m})}else{const m=[...r.outputs];m[t]={...m[t],[a]:x},y({...r,outputs:m})}},Se=s=>{switch(s){case"serving":return"bg-green-500";case"loading":return"bg-yellow-500";case"unavailable":case"error":return"bg-red-500";default:return"bg-gray-500"}},ke=j.useMemo(()=>c.filter(s=>{const t=!B||s.name.toLowerCase().includes(B.toLowerCase())||s.version.toLowerCase().includes(B.toLowerCase()),a=Z==="all"||s.status===Z;return t&&a}),[c,B,Z]);return e.jsxs("div",{className:"h-full overflow-y-auto bg-background",children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"TensorFlow Serving"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Model Serving"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"High-performance serving system for machine learning models"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>{d&&(d.syncModelsFromConfig(),u({title:"Refreshed",description:"Metrics updated"}))},children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(g,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(b,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:"Models"}),e.jsx(je,{className:"h-4 w-4 text-blue-500"})]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Ve}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[He," serving"]})]})]}),e.jsxs(b,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:"Predictions"}),e.jsx(Te,{className:"h-4 w-4 text-green-500"})]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Ke}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[ve.toFixed(1)," req/s"]})]})]}),e.jsxs(b,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(js,{className:"h-4 w-4 text-purple-500"})]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:pe.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Error: ",(ce*100).toFixed(1),"%"]})]})]}),e.jsxs(b,{className:"border-l-4 border-l-cyan-500 bg-card",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:"text-sm font-medium text-muted-foreground",children:"Endpoint"}),e.jsx(Ts,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-sm font-semibold text-cyan-600 dark:text-cyan-400 truncate",children:Q}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Port: ",Q.split(":")[1]||"8501"]})]})]})]}),e.jsxs(ps,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(vs,{className:"flex flex-wrap w-full gap-1 p-1 bg-muted rounded-lg",children:[e.jsxs(H,{value:"test",className:"flex items-center gap-2 flex-1 min-w-[120px]",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Test Prediction"}),e.jsx("span",{className:"sm:hidden",children:"Test"})]}),e.jsxs(H,{value:"models",className:"flex items-center gap-2 flex-1 min-w-[120px]",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsxs("span",{className:"hidden sm:inline",children:["Models (",c.length,")"]}),e.jsx("span",{className:"sm:hidden",children:"Models"})]}),e.jsxs(H,{value:"history",className:"flex items-center gap-2 flex-1 min-w-[120px]",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsxs("span",{className:"hidden sm:inline",children:["History (",N.length,")"]}),e.jsx("span",{className:"sm:hidden",children:"History"})]}),e.jsxs(H,{value:"metrics",className:"flex items-center gap-2 flex-1 min-w-[120px]",children:[e.jsx(Es,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Metrics"}),e.jsx("span",{className:"sm:hidden",children:"Metrics"})]}),e.jsxs(H,{value:"settings",className:"flex items-center gap-2 flex-1 min-w-[120px]",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Settings"}),e.jsx("span",{className:"sm:hidden",children:"Config"})]})]}),e.jsx(K,{value:"test",className:"space-y-4",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(C,{children:"Model Prediction"}),e.jsx(J,{children:"Test model inference"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Model"}),e.jsxs(D,{value:k,onValueChange:s=>{Je(s);const t=c.find(a=>a.name===s);t&&fe(t.version)},children:[e.jsx(L,{children:e.jsx(O,{placeholder:"Select model"})}),e.jsx(A,{children:c.filter(s=>s.status==="serving").map(s=>e.jsx(p,{value:s.name,children:s.name},s.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Version"}),e.jsxs(D,{value:I,onValueChange:fe,children:[e.jsx(L,{children:e.jsx(O,{placeholder:"Select version"})}),e.jsx(A,{children:k&&c.find(s=>s.name===k)&&e.jsx(p,{value:c.find(s=>s.name===k).version,children:c.find(s=>s.name===k).version})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Input (JSON)"}),e.jsx(Oe,{value:z,onChange:s=>{if(Ne(s.target.value),s.target.value.trim())try{JSON.parse(s.target.value)}catch{}},className:"font-mono text-sm min-h-[200px]",placeholder:'{ "instances": [[0.1, 0.2, 0.3]] }'}),z.trim()&&(()=>{try{return JSON.parse(z),null}catch{return e.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[e.jsx(fs,{className:"h-3 w-3"}),"Invalid JSON format"]})}})()]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Output"}),e.jsx(Oe,{value:We,readOnly:!0,className:"font-mono text-sm min-h-[200px] bg-muted",placeholder:"Prediction result will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{onClick:es,disabled:!k||!I,children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Run Prediction"]}),e.jsx(h,{variant:"outline",onClick:()=>{Ne(""),Y("")},children:"Clear"})]})]})]})}),e.jsx(K,{value:"models",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(C,{children:"Models"}),e.jsx(J,{children:"Deployed TensorFlow models"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",onClick:ls,disabled:c.length===0,children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(h,{variant:"outline",onClick:rs,children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Import"]}),e.jsxs(h,{onClick:ss,children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Add Model"]})]})]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(o,{placeholder:"Search models...",value:B,onChange:s=>_e(s.target.value),className:"pl-9"})]}),e.jsxs(D,{value:Z,onValueChange:Xe,children:[e.jsxs(L,{className:"w-[180px]",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),e.jsx(O,{})]}),e.jsxs(A,{children:[e.jsx(p,{value:"all",children:"All Status"}),e.jsx(p,{value:"serving",children:"Serving"}),e.jsx(p,{value:"loading",children:"Loading"}),e.jsx(p,{value:"unavailable",children:"Unavailable"}),e.jsx(p,{value:"error",children:"Error"})]})]})]}),e.jsx("div",{className:"space-y-4",children:ke.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:c.length===0?"No models deployed":"No models match your filters"}):ke.map(s=>e.jsxs(b,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${Se(s.status)}/20`,children:e.jsx(je,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(C,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[e.jsx(v,{variant:"outline",className:Se(s.status),children:s.status}),e.jsxs(v,{variant:"outline",children:["v",s.version]}),e.jsx(v,{variant:"outline",children:s.platform}),s.requests!==void 0&&e.jsxs(v,{variant:"outline",children:[s.requests," requests"]}),s.avgLatency!==void 0&&e.jsxs(v,{variant:"outline",children:[s.avgLatency.toFixed(0),"ms avg"]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>ts(s),children:e.jsx(Cs,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>ns(s),children:e.jsx(Ms,{className:"h-4 w-4 text-destructive"})})]})]})}),e.jsxs(M,{children:[s.inputs&&s.inputs.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Inputs"}),s.inputs.map((t,a)=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsx("span",{className:"font-mono font-semibold",children:t.name}),e.jsx(v,{variant:"outline",className:"ml-2 text-xs",children:t.dtype}),e.jsx(v,{variant:"outline",className:"ml-2 text-xs",children:t.shape})]},a))]}),s.outputs&&s.outputs.length>0&&e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(n,{children:"Outputs"}),s.outputs.map((t,a)=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsx("span",{className:"font-mono font-semibold",children:t.name}),e.jsx(v,{variant:"outline",className:"ml-2 text-xs",children:t.dtype}),e.jsx(v,{variant:"outline",className:"ml-2 text-xs",children:t.shape})]},a))]}),s.totalPredictions!==void 0&&e.jsxs("div",{className:"mt-4 text-sm space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Predictions:"}),e.jsx("span",{className:"font-semibold",children:s.totalPredictions})]}),s.successfulPredictions!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Successful:"}),e.jsx("span",{className:"font-semibold text-green-600",children:s.successfulPredictions})]}),s.failedPredictions!==void 0&&s.failedPredictions>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Failed:"}),e.jsx("span",{className:"font-semibold text-red-600",children:s.failedPredictions})]})]})]})]},`${s.name}-${s.version}`))})]})]})}),e.jsx(K,{value:"history",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(C,{children:"Prediction History"}),e.jsx(J,{children:"Previously executed predictions"})]}),N.length>0&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(E-1)*T+1,"-",Math.min(E*T,N.length)," of ",N.length]})]})}),e.jsxs(M,{children:[e.jsx("div",{className:"space-y-4",children:N.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No predictions yet"}):N.slice().reverse().slice((E-1)*T,E*T).map(s=>e.jsxs(b,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(w,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.status==="success"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:s.status==="success"?e.jsx(Us,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(Ps,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsxs(C,{className:"text-lg font-semibold",children:[s.model," v",s.version]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.latency&&e.jsxs(v,{variant:"outline",children:[s.latency,"ms"]}),e.jsx(v,{variant:s.status==="success"?"default":"destructive",children:s.status})]})]})]})})}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.input&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Input"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:s.input})]}),s.output&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Output"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:s.output})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(s.timestamp).toLocaleString()})]})]},s.id))}),N.length>T&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>we(s=>Math.max(1,s-1)),disabled:E===1,children:"Previous"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",E," of ",Math.ceil(N.length/T)]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>we(s=>Math.min(Math.ceil(N.length/T),s+1)),disabled:E>=Math.ceil(N.length/T),children:"Next"})]})]})]})}),e.jsx(K,{value:"metrics",className:"space-y-4",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(C,{children:"Performance Metrics"}),e.jsx(J,{children:"Real-time metrics visualization"})]}),e.jsx(M,{className:"space-y-6",children:G.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No metrics data available yet. Metrics will appear as predictions are processed."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{className:"text-base font-semibold",children:"Latency Over Time"}),e.jsxs(v,{variant:"outline",children:[pe.toFixed(0),"ms avg"]})]}),e.jsx("div",{className:"h-64",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ie,{data:G,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(ne,{dataKey:"time"}),e.jsx(ie,{label:{value:"Latency (ms)",angle:-90,position:"insideLeft"}}),e.jsx(le,{}),e.jsx(re,{}),e.jsx(Be,{type:"monotone",dataKey:"latency",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3,name:"Latency (ms)"})]})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{className:"text-base font-semibold",children:"Requests Per Second"}),e.jsxs(v,{variant:"outline",children:[ve.toFixed(1)," req/s"]})]}),e.jsx("div",{className:"h-64",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ae,{data:G,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(ne,{dataKey:"time"}),e.jsx(ie,{label:{value:"RPS",angle:-90,position:"insideLeft"}}),e.jsx(le,{}),e.jsx(re,{}),e.jsx(W,{type:"monotone",dataKey:"rps",stroke:"#82ca9d",strokeWidth:2,name:"Requests/sec"}),e.jsx(W,{type:"monotone",dataKey:"throughput",stroke:"#ffc658",strokeWidth:2,strokeDasharray:"5 5",name:"Throughput"})]})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{className:"text-base font-semibold",children:"Error Rate"}),e.jsxs(v,{variant:"outline",className:ce>.1?"bg-red-500":"",children:[(ce*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-64",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ie,{data:G,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(ne,{dataKey:"time"}),e.jsx(ie,{label:{value:"Error Rate (%)",angle:-90,position:"insideLeft"}}),e.jsx(le,{}),e.jsx(re,{}),e.jsx(Be,{type:"monotone",dataKey:"errorRate",stroke:"#ff7300",fill:"#ff7300",fillOpacity:.3,name:"Error Rate (%)"})]})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(n,{className:"text-base font-semibold",children:"Resource Utilization"})}),e.jsx("div",{className:"h-64",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(Ae,{data:G,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(ne,{dataKey:"time"}),e.jsx(ie,{label:{value:"Utilization (%)",angle:-90,position:"insideLeft"}}),e.jsx(le,{}),e.jsx(re,{}),e.jsx(W,{type:"monotone",dataKey:"cpuUtilization",stroke:"#00ff00",strokeWidth:2,name:"CPU (%)"}),i.enableGPU&&e.jsx(W,{type:"monotone",dataKey:"gpuUtilization",stroke:"#ff00ff",strokeWidth:2,name:"GPU (%)"}),i.enableBatching&&e.jsx(W,{type:"monotone",dataKey:"batchUtilization",stroke:"#0088fe",strokeWidth:2,strokeDasharray:"5 5",name:"Batch (%)"})]})})})]})]})})]})}),e.jsx(K,{value:"settings",className:"space-y-4",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(C,{children:"TensorFlow Serving Settings"}),e.jsx(J,{children:"Server configuration"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Endpoint"}),e.jsx(o,{value:Q,onChange:s=>l({endpoint:s.target.value}),placeholder:"localhost:8501"})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Model Base Path"}),e.jsx(o,{value:i.modelBasePath||"/models",onChange:s=>l({modelBasePath:s.target.value}),placeholder:"/models"})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable Batching"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Batch multiple requests for better throughput"})]}),e.jsx(U,{checked:i.enableBatching!==!1,onCheckedChange:s=>l({enableBatching:s})})]}),i.enableBatching!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Batch Size"}),e.jsx(o,{type:"number",value:i.batchSize||32,onChange:s=>l({batchSize:parseInt(s.target.value)||32}),min:1,max:1e3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Max Batch Size"}),e.jsx(o,{type:"number",value:i.maxBatchSize||128,onChange:s=>l({maxBatchSize:parseInt(s.target.value)||128}),min:1,max:1e4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Max Batch Wait Time (ms)"}),e.jsx(o,{type:"number",value:i.maxBatchWaitTime||100,onChange:s=>l({maxBatchWaitTime:parseInt(s.target.value)||100}),min:1})]}),de>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(n,{children:"Batch Utilization"}),e.jsxs("span",{className:"text-muted-foreground",children:[(de*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${de*100}%`}})})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable GPU"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use GPU acceleration for inference"})]}),e.jsx(U,{checked:i.enableGPU||!1,onCheckedChange:s=>l({enableGPU:s})})]}),i.enableGPU&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"GPU Memory Fraction"}),e.jsx(o,{type:"number",step:"0.1",value:i.gpuMemoryFraction||.5,onChange:s=>l({gpuMemoryFraction:parseFloat(s.target.value)||.5}),min:.1,max:1})]}),oe>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(n,{children:"GPU Utilization"}),e.jsxs("span",{className:"text-muted-foreground",children:[(oe*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${oe*100}%`}})})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable Monitoring"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable metrics collection"})]}),e.jsx(U,{checked:i.enableMonitoring!==!1,onCheckedChange:s=>l({enableMonitoring:s})})]}),i.enableMonitoring!==!1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Monitoring Port"}),e.jsx(o,{type:"number",value:i.monitoringPort||8501,onChange:s=>l({monitoringPort:parseInt(s.target.value)||8501}),min:1,max:65535})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Number of Threads"}),e.jsx(o,{type:"number",value:i.numThreads||4,onChange:s=>l({numThreads:parseInt(s.target.value)||4}),min:1,max:32})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Inter-Op Parallelism Threads"}),e.jsx(o,{type:"number",value:i.interOpParallelismThreads||2,onChange:s=>l({interOpParallelismThreads:parseInt(s.target.value)||2}),min:1,max:16})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Intra-Op Parallelism Threads"}),e.jsx(o,{type:"number",value:i.intraOpParallelismThreads||2,onChange:s=>l({intraOpParallelismThreads:parseInt(s.target.value)||2}),min:1,max:16})]}),ge>0&&e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(n,{children:"Memory Usage"}),e.jsxs("span",{className:"text-muted-foreground",children:[(ge/1024).toFixed(2)," GB"]})]})}),xe>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(n,{children:"CPU Utilization"}),e.jsxs("span",{className:"text-muted-foreground",children:[(xe*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${xe*100}%`}})})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable Error Simulation"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Simulate errors for testing error handling"})]}),e.jsx(U,{checked:i.enableErrorSimulation||!1,onCheckedChange:s=>l({enableErrorSimulation:s})})]}),i.enableErrorSimulation&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Error Rate (0-1)"}),e.jsx(o,{type:"number",step:"0.01",value:i.errorRate||0,onChange:s=>l({errorRate:Math.max(0,Math.min(1,parseFloat(s.target.value)||0))}),min:0,max:1}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Probability of error: ",(i.errorRate||0)*100,"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Request Timeout (ms)"}),e.jsx(o,{type:"number",value:i.timeoutMs||3e4,onChange:s=>l({timeoutMs:parseInt(s.target.value)||3e4}),min:1e3,max:3e5})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Model Versioning Policy"}),e.jsxs(D,{value:i.versioningPolicy||"latest",onValueChange:s=>l({versioningPolicy:s}),children:[e.jsx(L,{children:e.jsx(O,{})}),e.jsxs(A,{children:[e.jsx(p,{value:"latest",children:"Latest - Use latest version"}),e.jsx(p,{value:"specific",children:"Specific - Use specified version"}),e.jsx(p,{value:"all",children:"All - Load balance across all versions"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How to select model version when multiple versions are available"})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable A/B Testing"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Distribute traffic across model versions"})]}),e.jsx(U,{checked:i.enableABTesting||!1,onCheckedChange:s=>l({enableABTesting:s})})]}),i.enableABTesting&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{className:"text-sm font-semibold",children:"A/B Test Configuration"}),e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>{const s=Array.from(new Set(c.map(f=>f.name)));if(s.length===0){u({title:"Error",description:"No models available for A/B testing",variant:"destructive"});return}const t=i.abTestConfig||[],a=s[0],x=c.filter(f=>f.name===a);if(x.length<2){u({title:"Error",description:`Model "${a}" needs at least 2 versions for A/B testing`,variant:"destructive"});return}const m=Math.floor(100/x.length);t.push({modelName:a,versions:x.map(f=>({version:f.version,trafficPercentage:m}))}),l({abTestConfig:t})},children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Add A/B Test"]})]}),(i.abTestConfig||[]).map((s,t)=>e.jsxs(b,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{className:"font-semibold",children:s.modelName}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>{const a=(i.abTestConfig||[]).filter((x,m)=>m!==t);l({abTestConfig:a})},children:e.jsx(ue,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[s.versions.map((a,x)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",children:["v",a.version]}),e.jsx(o,{type:"number",value:a.trafficPercentage,onChange:m=>{const f=[...i.abTestConfig||[]];f[t].versions[x].trafficPercentage=Math.max(0,Math.min(100,parseInt(m.target.value)||0)),l({abTestConfig:f})},className:"w-24",min:0,max:100}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]},x)),e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Total: ",s.versions.reduce((a,x)=>a+x.trafficPercentage,0),"%"]})]})]},t))]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable Prometheus Metrics Export"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Export metrics in Prometheus format"})]}),e.jsx(U,{checked:i.enablePrometheusExport||!1,onCheckedChange:s=>l({enablePrometheusExport:s})})]}),i.enablePrometheusExport&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Prometheus Port"}),e.jsx(o,{type:"number",value:i.prometheusPort||8502,onChange:s=>l({prometheusPort:parseInt(s.target.value)||8502}),min:1,max:65535})]}),d&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{children:"Prometheus Metrics Endpoint"}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>{const s=d.getPrometheusMetrics();navigator.clipboard.writeText(s),u({title:"Copied",description:"Prometheus metrics copied to clipboard"})},children:"Copy Metrics"})]}),e.jsx("div",{className:"p-3 bg-muted rounded text-xs font-mono max-h-40 overflow-auto",children:e.jsx("pre",{children:d.getPrometheusMetrics()})})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable gRPC API"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable gRPC API for efficient data transfer"})]}),e.jsx(U,{checked:i.enableGRPC||!1,onCheckedChange:s=>l({enableGRPC:s})})]}),i.enableGRPC&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"gRPC Port"}),e.jsx(o,{type:"number",value:i.grpcPort||8500,onChange:s=>l({grpcPort:parseInt(s.target.value)||8500}),min:1,max:65535}),d&&e.jsxs("div",{className:"p-2 bg-muted rounded text-xs",children:[e.jsx("div",{className:"font-semibold",children:"gRPC Endpoint:"}),e.jsx("div",{className:"text-muted-foreground mt-1",children:d.getGRPCInfo()?.endpoint||`${Q.split(":")[0]}:${i.grpcPort||8500}`})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Model Status API"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["REST API endpoint: GET /v1/models/","{model}","/versions/","{version}"]}),d&&c.length>0&&e.jsx("div",{className:"space-y-2 mt-2",children:c.slice(0,3).map(s=>{const t=d.getModelStatus(s.name,s.version);return e.jsxs("div",{className:"p-2 border rounded text-xs",children:[e.jsxs("div",{className:"font-semibold",children:[s.name,":",s.version]}),e.jsxs("div",{className:"text-muted-foreground mt-1",children:["Status: ",s.status]}),t&&e.jsxs("div",{className:"text-muted-foreground mt-1",children:["API State: ",t.model_version_status[0]?.state]})]},`${s.name}-${s.version}`)})})]})]})]})})]})]}),e.jsx(Ue,{open:Qe,onOpenChange:q,children:e.jsxs(Fe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ze,{children:[e.jsx(Re,{children:S?"Edit Model":"Add Model"}),e.jsx(De,{children:S?"Update model configuration":"Add a new TensorFlow model to the serving system"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Model Name *"}),e.jsx(o,{value:r.name,onChange:s=>y({...r,name:s.target.value}),placeholder:"my-model"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Version *"}),e.jsx(o,{value:r.version,onChange:s=>y({...r,version:s.target.value}),placeholder:"1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Platform"}),e.jsxs(D,{value:r.platform,onValueChange:s=>y({...r,platform:s}),children:[e.jsx(L,{children:e.jsx(O,{})}),e.jsxs(A,{children:[e.jsx(p,{value:"tensorflow",children:"TensorFlow"}),e.jsx(p,{value:"tensorflow-lite",children:"TensorFlow Lite"}),e.jsx(p,{value:"savedmodel",children:"SavedModel"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Status"}),e.jsxs(D,{value:r.status,onValueChange:s=>y({...r,status:s}),children:[e.jsx(L,{children:e.jsx(O,{})}),e.jsxs(A,{children:[e.jsx(p,{value:"serving",children:"Serving"}),e.jsx(p,{value:"loading",children:"Loading"}),e.jsx(p,{value:"unavailable",children:"Unavailable"}),e.jsx(p,{value:"error",children:"Error"})]})]})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{children:"Inputs"}),e.jsxs(h,{type:"button",variant:"outline",size:"sm",onClick:()=>Me("input"),children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Add Input"]})]}),r.inputs.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[e.jsx(o,{placeholder:"Name",value:s.name,onChange:a=>R("input",t,"name",a.target.value)}),e.jsx(o,{placeholder:"dtype",value:s.dtype,onChange:a=>R("input",t,"dtype",a.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{placeholder:"shape",value:s.shape,onChange:a=>R("input",t,"shape",a.target.value)}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>Pe("input",t),children:e.jsx(ue,{className:"h-4 w-4"})})]})]},t))]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{children:"Outputs"}),e.jsxs(h,{type:"button",variant:"outline",size:"sm",onClick:()=>Me("output"),children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Add Output"]})]}),r.outputs.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-end",children:[e.jsx(o,{placeholder:"Name",value:s.name,onChange:a=>R("output",t,"name",a.target.value)}),e.jsx(o,{placeholder:"dtype",value:s.dtype,onChange:a=>R("output",t,"dtype",a.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{placeholder:"shape",value:s.shape,onChange:a=>R("output",t,"shape",a.target.value)}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>Pe("output",t),children:e.jsx(ue,{className:"h-4 w-4"})})]})]},t))]})]}),e.jsxs(Le,{children:[e.jsx(h,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),e.jsxs(h,{onClick:as,children:[S?"Update":"Add"," Model"]})]})]})}),e.jsx(Ue,{open:Ye,onOpenChange:ee,children:e.jsxs(Fe,{children:[e.jsxs(ze,{children:[e.jsx(Re,{children:"Delete Model"}),e.jsxs(De,{children:['Are you sure you want to delete model "',$?.name,'" version "',$?.version,'"? This action cannot be undone.']})]}),e.jsxs(Le,{children:[e.jsx(h,{variant:"outline",onClick:()=>ee(!1),children:"Cancel"}),e.jsx(h,{variant:"destructive",onClick:is,children:"Delete"})]})]})})]})}export{Gs as TensorFlowServingConfigAdvanced};
