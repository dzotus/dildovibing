import{u as b,j as s,B as j,i as y,c as u,S as w,T as S,a as T,b as d,A as C,d as m,C as r,e as t,f as i,h as c,k as n,L as D,I as R}from"./index-CHKNZn98.js";import{P as U}from"./progress-BgkEGxEf.js";import{G as o}from"./git-branch-Ca5AxnNt.js";function P({componentId:x}){const{nodes:p,updateNode:v}=b(),l=p.find(e=>e.id===x);if(!l)return s.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const a=l.data.config||{},g=a.serverUrl||"http://jaeger:16686",h=a.traces||[{id:"abc123",service:"web-api",operation:"GET /users",duration:125,spans:8,status:"success",timestamp:"2m ago"},{id:"def456",service:"auth-service",operation:"POST /login",duration:89,spans:5,status:"success",timestamp:"5m ago"},{id:"ghi789",service:"payment-service",operation:"POST /charge",duration:450,spans:12,status:"error",timestamp:"10m ago"}],N=a.services||[{name:"web-api",traces:1250,errors:45,avgDuration:125},{name:"auth-service",traces:890,errors:12,avgDuration:89},{name:"payment-service",traces:450,errors:23,avgDuration:234}];a.totalTraces||h.length,a.errorRate,a.avgTraceDuration;const f=e=>{v(x,{data:{...l.data,config:{...a,...e}}})};return s.jsx("div",{className:"h-full overflow-y-auto bg-background",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(o,{className:"h-6 w-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Jaeger"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Distributed Tracing System"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(j,{variant:"outline",className:"gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),s.jsxs(y,{size:"sm",variant:"outline",children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"UI"]})]})]}),s.jsx(w,{}),s.jsxs(S,{defaultValue:"traces",className:"w-full",children:[s.jsxs(T,{className:"grid w-full grid-cols-3",children:[s.jsxs(d,{value:"traces",className:"gap-2",children:[s.jsx(o,{className:"h-4 w-4"}),"Traces"]}),s.jsxs(d,{value:"services",className:"gap-2",children:[s.jsx(C,{className:"h-4 w-4"}),"Services"]}),s.jsxs(d,{value:"settings",className:"gap-2",children:[s.jsx(u,{className:"h-4 w-4"}),"Settings"]})]}),s.jsx(m,{value:"traces",className:"space-y-4 mt-4",children:s.jsxs(r,{children:[s.jsxs(t,{children:[s.jsx(i,{children:"Recent Traces"}),s.jsx(c,{children:"Distributed trace information"})]}),s.jsx(n,{children:s.jsx("div",{className:"space-y-3",children:h.map(e=>s.jsx(r,{className:"border-border",children:s.jsx(t,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-primary/10",children:s.jsx(o,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx(i,{className:"text-lg",children:e.operation}),s.jsxs(c,{className:"text-xs mt-1",children:["Service: ",e.service," • ",e.spans," spans • ",e.duration,"ms • ",e.timestamp]})]})]}),s.jsx(j,{variant:e.status==="success"?"default":"destructive",children:e.status})]})})},e.id))})})]})}),s.jsx(m,{value:"services",className:"space-y-4 mt-4",children:s.jsxs(r,{children:[s.jsxs(t,{children:[s.jsx(i,{children:"Services"}),s.jsx(c,{children:"Service trace statistics"})]}),s.jsx(n,{children:s.jsx("div",{className:"space-y-3",children:N.map(e=>s.jsxs(r,{className:"border-border",children:[s.jsx(t,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(i,{className:"text-lg",children:e.name}),s.jsxs(c,{className:"text-xs mt-1",children:[e.traces," traces • ",e.errors," errors • Avg: ",e.avgDuration,"ms"]})]})})}),s.jsx(n,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),s.jsxs("span",{className:"font-semibold",children:[(e.errors/e.traces*100).toFixed(1),"%"]})]}),s.jsx(U,{value:e.errors/e.traces*100,className:"h-2"})]})})]},e.name))})})]})}),s.jsx(m,{value:"settings",className:"space-y-4 mt-4",children:s.jsxs(r,{children:[s.jsxs(t,{children:[s.jsx(i,{children:"Jaeger Server"}),s.jsx(c,{children:"Server configuration"})]}),s.jsx(n,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"server-url",children:"Server URL"}),s.jsx(R,{id:"server-url",value:g,onChange:e=>f({serverUrl:e.target.value}),placeholder:"http://jaeger:16686"})]})})]})})]})]})})}export{P as JaegerConfigAdvanced};
