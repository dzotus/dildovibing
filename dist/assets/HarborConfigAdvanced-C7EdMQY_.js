import{E as rs,u as ts,_ as ls,j as e,r as l,B as o,S as cs,C as g,e as v,f as b,h as f,k as m,L as r,I as u,t as T,T as ds,a as os,b as U,Q as ms,d as k,i as c,P as le,a3 as us,m as ce,n as de,o as oe,p as me,q as ue,s as N,K as hs,af as Re,aj as he,ak as xe,al as je,am as pe,an as ge,ao as ve,ap as be,aq as fe}from"./index-D0eJihqw.js";import{d as h,a as y,c as xs,s as js}from"./toast-D1zIafiD.js";import{P as Te}from"./package-f6nRgzIP.js";import{F as ps}from"./folder-DWEXe-OC.js";import{U as gs}from"./users-BekKh_pQ.js";import{S as vs}from"./shield-D1vwDJ8j.js";const bs=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],fs=rs("tag",bs);function Ts({componentId:E}){const{nodes:Ue,updateNode:ke}=ts(),D=Ue.find(s=>s.id===E),x=ls(s=>s.componentMetrics.get(E));if(!D)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const d=D.data.config||{},De=d.serverUrl||"https://harbor.example.com",Ae=d.adminUsername||"admin",Me=d.adminPassword||"",_e=d.enableVulnerabilityScanning??!0,Ve=d.enableContentTrust??!1,$e=d.enableImageScanning??!0,j=d.projects||[{id:"1",name:"archiphoenix",public:!1,repositories:12,tags:45,vulnerabilityCount:3,storageUsed:2.5,accessLevel:"private"},{id:"2",name:"public-images",public:!0,repositories:8,tags:23,vulnerabilityCount:0,storageUsed:1.2,accessLevel:"public"}],Ne=d.repositories||[{id:"1",name:"archiphoenix/web-app",project:"archiphoenix",tags:5,pullCount:1250,lastPush:"2 hours ago",size:450},{id:"2",name:"archiphoenix/api-server",project:"archiphoenix",tags:8,pullCount:890,lastPush:"1 day ago",size:320}],S=d.tags||[{id:"1",name:"latest",repository:"archiphoenix/web-app",digest:"sha256:abc123...",size:125,created:"2024-01-15T10:30:00Z",vulnerabilityScan:{status:"completed",severity:"medium",totalVulnerabilities:5,critical:0,high:1,medium:3,low:1,scannedAt:"2024-01-15T11:00:00Z"},signed:!0},{id:"2",name:"v1.2.3",repository:"archiphoenix/web-app",digest:"sha256:def456...",size:120,created:"2024-01-14T15:20:00Z",vulnerabilityScan:{status:"completed",severity:"low",totalVulnerabilities:2,critical:0,high:0,medium:1,low:1,scannedAt:"2024-01-14T16:00:00Z"},signed:!1}],P=d.replicationPolicies||[{id:"1",name:"prod-replication",sourceRegistry:"harbor-prod",destinationRegistry:"harbor-backup",trigger:"event-based",enabled:!0,filters:["archiphoenix/**"]}],C=d.users||[{id:"1",username:"admin",email:"admin@archiphoenix.com",role:"admin",enabled:!0},{id:"2",username:"developer1",email:"dev1@archiphoenix.com",role:"developer",enabled:!0}],z=d.selectedProject||"all",[Ee,L]=l.useState(!1),[ze,q]=l.useState(!1),[Le,F]=l.useState(!1),[O,qe]=l.useState(""),[H,Fe]=l.useState(""),[B,I]=l.useState(""),[G,Z]=l.useState(""),[Q,K]=l.useState(""),[W,J]=l.useState(""),[A,X]=l.useState(""),[M,Y]=l.useState(""),[ye,ee]=l.useState("manual"),[_,se]=l.useState(null),[V,ae]=l.useState(null),[$,ie]=l.useState(null),n=s=>{ke(E,{data:{...D.data,config:{...d,...s}}})},Ce=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),Oe=s=>s.trim().length>0&&!j.some(a=>a.name===s.trim()),He=s=>s.trim().length>0&&!C.some(a=>a.username===s.trim()),ne=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Be=()=>{const s=B.trim();if(!s){h("Project name is required");return}if(!Oe(s)){h("Project name must be unique");return}const a={id:ne(),name:s,public:!1,repositories:0,tags:0,accessLevel:"private"};n({projects:[...j,a]}),I(""),L(!1),y(`Project "${s}" created successfully`)},Ie=s=>{const a=j.find(t=>t.id===s);if(!a)return;const i=Ne.filter(t=>t.project===a.name).length;if(i>0){js(`Cannot delete project "${a.name}" because it contains ${i} repositories`);return}n({projects:j.filter(t=>t.id!==s)}),se(null),y(`Project "${a.name}" deleted successfully`)},Ge=(s,a,i)=>{const t=j.map(p=>p.id===s?{...p,[a]:i}:p);n({projects:t})},Ze=()=>{const s=W.trim();if(!s){h("Policy name is required");return}if(!A.trim()||!M.trim()){h("Source and destination registries are required");return}const a={id:ne(),name:s,sourceRegistry:A.trim(),destinationRegistry:M.trim(),trigger:ye,enabled:!0};n({replicationPolicies:[...P,a]}),J(""),X(""),Y(""),ee("manual"),q(!1),y(`Replication policy "${s}" created successfully`)},Qe=s=>{const a=P.find(i=>i.id===s);a&&(n({replicationPolicies:P.filter(i=>i.id!==s)}),ie(null),y(`Replication policy "${a.name}" deleted successfully`))},Ke=()=>{const s=G.trim(),a=Q.trim();if(!s){h("Username is required");return}if(!a){h("Email is required");return}if(!Ce(a)){h("Invalid email format");return}if(!He(s)){h("Username must be unique");return}const i={id:ne(),username:s,email:a,role:"guest",enabled:!0};n({users:[...C,i]}),Z(""),K(""),F(!1),y(`User "${s}" created successfully`)},We=s=>{const a=C.find(i=>i.id===s);a&&(n({users:C.filter(i=>i.id!==s)}),ae(null),y(`User "${a.username}" deleted successfully`))},re=(s,a,i)=>{if(a==="email"&&typeof i=="string"&&!Ce(i)){h("Invalid email format");return}const t=C.map(p=>p.id===s?{...p,[a]:i}:p);n({users:t})},Je=s=>{const a=S.find(t=>t.id===s);if(!a)return;if(a.vulnerabilityScan?.status==="running"){xs("Scan already in progress");return}const i=S.map(t=>t.id===s?{...t,vulnerabilityScan:{status:"running",severity:"none",scannedAt:new Date().toISOString()}}:t);n({tags:i}),y(`Vulnerability scan started for ${a.repository}:${a.name}`),setTimeout(()=>{const ns=((D.data.config||{}).tags||S).map(te=>te.id===s?{...te,vulnerabilityScan:{status:"completed",severity:["none","low","medium","high","critical"][Math.floor(Math.random()*5)],totalVulnerabilities:Math.floor(Math.random()*10),critical:Math.floor(Math.random()*2),high:Math.floor(Math.random()*3),medium:Math.floor(Math.random()*4),low:Math.floor(Math.random()*3),scannedAt:new Date().toISOString()}}:te);n({tags:ns}),y(`Vulnerability scan completed for ${a.repository}:${a.name}`)},2e3)},Xe=s=>{switch(s){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-green-500"}},Ye=Ne.filter(s=>!(z!=="all"&&s.project!==z||H&&!s.name.toLowerCase().includes(H.toLowerCase()))),w=x?.customMetrics||{},es=w.harbor_push_ops_per_sec||0,ss=w.harbor_pull_ops_per_sec||0,as=w.harbor_scan_ops_per_sec||0,we=w.harbor_storage_used||0,Se=w.harbor_storage_total||100,Pe=w.harbor_scans_running||0,is=w.harbor_vulnerabilities_total||0,R=x?x.errorRate>.5?{status:"error",color:"red",label:"Error"}:x.utilization>0||x.throughput>0||Pe>0?{status:"running",color:"green",label:"Running"}:{status:"stopped",color:"gray",label:"Stopped"}:{status:"stopped",color:"gray",label:"Stopped"};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Te,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Harbor Registry"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Container image registry & vulnerability scanning"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:"outline",children:"v2.10"}),e.jsxs(o,{variant:R.status==="error"?"destructive":R.status==="running"?"default":"secondary",className:"gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${R.status==="running"?"bg-green-500 animate-pulse":R.status==="error"?"bg-red-500":"bg-gray-500"}`}),R.label]})]})]}),e.jsx(cs,{}),e.jsxs(g,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Connection Settings"}),e.jsx(f,{children:"Configure Harbor registry connection"})]}),e.jsxs(m,{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Server URL"}),e.jsx(u,{value:De,onChange:s=>n({serverUrl:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Admin Username"}),e.jsx(u,{value:Ae,onChange:s=>n({adminUsername:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Admin Password"}),e.jsx(u,{type:"password",value:Me,onChange:s=>n({adminPassword:s.target.value})})]})]})]}),e.jsxs(g,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Metrics"}),e.jsx(f,{children:"Real-time Harbor metrics"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Push Ops/sec"}),e.jsx("div",{className:"text-2xl font-bold",children:es.toFixed(2)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pull Ops/sec"}),e.jsx("div",{className:"text-2xl font-bold",children:ss.toFixed(2)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Scan Ops/sec"}),e.jsx("div",{className:"text-2xl font-bold",children:as.toFixed(2)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),e.jsxs("span",{className:"font-medium",children:[we.toFixed(2)," GB / ",Se.toFixed(2)," GB"]})]}),e.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${Math.min(100,we/Se*100)}%`}})})]}),x&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Average Latency: "}),e.jsxs("span",{className:"font-medium",children:[x.latency.toFixed(0)," ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Throughput: "}),e.jsxs("span",{className:"font-medium",children:[x.throughput.toFixed(2)," ops/sec"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Scans Running: "}),e.jsx("span",{className:"font-medium",children:Pe})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Vulnerabilities: "}),e.jsx("span",{className:"font-medium",children:is})]})]})]})]})]}),e.jsxs(g,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Security Settings"}),e.jsx(f,{children:"Configure security features"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(r,{children:"Enable Vulnerability Scanning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically scan images for vulnerabilities"})]}),e.jsx(T,{checked:_e,onCheckedChange:s=>n({enableVulnerabilityScanning:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(r,{children:"Enable Content Trust"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Require signed images"})]}),e.jsx(T,{checked:Ve,onCheckedChange:s=>n({enableContentTrust:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(r,{children:"Enable Image Scanning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan images on push"})]}),e.jsx(T,{checked:$e,onCheckedChange:s=>n({enableImageScanning:s})})]})]})]}),e.jsxs(ds,{defaultValue:"projects",className:"w-full",children:[e.jsxs(os,{className:"grid w-full grid-cols-5",children:[e.jsxs(U,{value:"projects",className:"gap-2",children:[e.jsx(ps,{className:"h-4 w-4"}),"Projects"]}),e.jsxs(U,{value:"repositories",className:"gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Repositories"]}),e.jsxs(U,{value:"tags",className:"gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Tags"]}),e.jsxs(U,{value:"replication",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Replication"]}),e.jsxs(U,{value:"users",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Users"]})]}),e.jsx(k,{value:"projects",className:"mt-4 space-y-4",children:e.jsxs(g,{children:[e.jsxs(v,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Projects"}),e.jsx(f,{children:"Manage container image projects"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>L(!0),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}),Ee&&e.jsx(m,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Project Name"}),e.jsx(u,{placeholder:"new-project",value:B,onChange:s=>I(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:Be,disabled:!B.trim(),children:"Create Project"}),e.jsx(c,{variant:"outline",onClick:()=>{L(!1),I("")},children:"Cancel"})]})]})}),e.jsx(m,{className:"space-y-3",children:j.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.repositories," repositories • ",s.tags," tags",s.storageUsed&&` • ${s.storageUsed} GB`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:s.public?"default":"secondary",children:s.accessLevel||(s.public?"Public":"Private")}),s.vulnerabilityCount!==void 0&&s.vulnerabilityCount>0&&e.jsxs(o,{variant:"destructive",children:[e.jsx(us,{className:"h-3 w-3 mr-1"}),s.vulnerabilityCount]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>se(s.id),children:e.jsx(ce,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{checked:s.public,onCheckedChange:a=>Ge(s.id,"public",a)}),e.jsx(r,{children:"Public Project"})]})]},s.id))})]})}),e.jsx(k,{value:"repositories",className:"mt-4 space-y-4",children:e.jsxs(g,{children:[e.jsxs(v,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Repositories"}),e.jsx(f,{children:"Container image repositories"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(de,{value:z,onValueChange:s=>{n({selectedProject:s==="all"?void 0:s})},children:[e.jsx(oe,{className:"w-48",children:e.jsx(me,{placeholder:"All Projects"})}),e.jsxs(ue,{children:[e.jsx(N,{value:"all",children:"All Projects"}),j.map(s=>e.jsx(N,{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(u,{className:"pl-8 w-64",placeholder:"Search repositories...",value:H,onChange:s=>Fe(s.target.value)})]})]})]}),e.jsx(m,{className:"space-y-3",children:Ye.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.tags," tags • ",s.pullCount," pulls",s.size&&` • ${s.size} MB`,s.lastPush&&` • Last push: ${s.lastPush}`]})]}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>qe(O===s.name?"":s.name),children:O===s.name?"Hide Tags":"View Tags"})]}),O===s.name&&e.jsx("div",{className:"pt-2 border-t space-y-2",children:S.filter(a=>a.repository===s.name).map(a=>e.jsxs("div",{className:"p-2 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-mono text-sm",children:a.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.digest.substring(0,20),"... • ",a.size," MB"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.vulnerabilityScan&&e.jsx(o,{variant:a.vulnerabilityScan.severity==="none"?"default":"destructive",children:a.vulnerabilityScan.severity}),a.signed&&e.jsxs(o,{variant:"outline",children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"Signed"]})]})]},a.id))})]},s.id))})]})}),e.jsx(k,{value:"tags",className:"mt-4 space-y-4",children:e.jsxs(g,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"Image Tags"}),e.jsx(f,{children:"Manage and scan container image tags"})]}),e.jsx(m,{className:"space-y-3",children:S.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"font-semibold font-mono",children:[s.repository,":",s.name]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.digest," • ",s.size," MB",s.created&&` • Created: ${new Date(s.created).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.vulnerabilityScan&&e.jsx(o,{variant:s.vulnerabilityScan.severity==="none"?"default":"destructive",className:Xe(s.vulnerabilityScan.severity),children:s.vulnerabilityScan.severity}),s.signed&&e.jsxs(o,{variant:"outline",children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"Signed"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>Je(s.id),disabled:s.vulnerabilityScan?.status==="running",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),s.vulnerabilityScan?.status==="running"?"Scanning...":"Scan"]})]})]}),s.vulnerabilityScan&&s.vulnerabilityScan.status==="completed"&&e.jsxs("div",{className:"pt-2 border-t space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-red-500",children:s.vulnerabilityScan.critical||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Critical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-orange-500",children:s.vulnerabilityScan.high||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"High"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-500",children:s.vulnerabilityScan.medium||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Medium"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-blue-500",children:s.vulnerabilityScan.low||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:s.vulnerabilityScan.totalVulnerabilities||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),s.vulnerabilityScan.scannedAt&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Scanned: ",new Date(s.vulnerabilityScan.scannedAt).toLocaleString()]})]})]},s.id))})]})}),e.jsx(k,{value:"replication",className:"mt-4 space-y-4",children:e.jsxs(g,{children:[e.jsxs(v,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Replication Policies"}),e.jsx(f,{children:"Configure image replication between registries"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>q(!0),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]}),ze&&e.jsx(m,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Policy Name"}),e.jsx(u,{placeholder:"replication-policy",value:W,onChange:s=>J(s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Source Registry"}),e.jsx(u,{placeholder:"source-registry",value:A,onChange:s=>X(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Destination Registry"}),e.jsx(u,{placeholder:"dest-registry",value:M,onChange:s=>Y(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Trigger"}),e.jsxs(de,{value:ye,onValueChange:s=>ee(s),children:[e.jsx(oe,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(N,{value:"manual",children:"Manual"}),e.jsx(N,{value:"event-based",children:"Event-based"}),e.jsx(N,{value:"scheduled",children:"Scheduled"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:Ze,disabled:!W.trim()||!A.trim()||!M.trim(),children:"Create Policy"}),e.jsx(c,{variant:"outline",onClick:()=>{q(!1),J(""),X(""),Y(""),ee("manual")},children:"Cancel"})]})]})}),e.jsx(m,{className:"space-y-3",children:P.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.sourceRegistry," → ",s.destinationRegistry]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:s.enabled?"default":"secondary",children:s.enabled?"Enabled":"Disabled"}),e.jsx(o,{variant:"outline",children:s.trigger}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>ie(s.id),children:e.jsx(ce,{className:"h-4 w-4"})})]})]}),s.filters&&s.filters.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(r,{className:"text-xs",children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.filters.map((a,i)=>e.jsx(o,{variant:"outline",className:"text-xs",children:a},i))})]})]},s.id))})]})}),e.jsx(k,{value:"users",className:"mt-4 space-y-4",children:e.jsxs(g,{children:[e.jsxs(v,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Users"}),e.jsx(f,{children:"Manage Harbor users and permissions"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>F(!0),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),Le&&e.jsx(m,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Username"}),e.jsx(u,{placeholder:"new-user",value:G,onChange:s=>Z(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Email"}),e.jsx(u,{type:"email",placeholder:"user@example.com",value:Q,onChange:s=>K(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:Ke,disabled:!G.trim()||!Q.trim(),children:"Add User"}),e.jsx(c,{variant:"outline",onClick:()=>{F(!1),Z(""),K("")},children:"Cancel"})]})]})}),e.jsx(m,{className:"space-y-3",children:C.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:s.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:s.role==="admin"?"default":"secondary",children:s.role}),e.jsx(T,{checked:s.enabled,onCheckedChange:a=>re(s.id,"enabled",a)}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>ae(s.id),children:e.jsx(ce,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Role"}),e.jsxs(de,{value:s.role,onValueChange:a=>re(s.id,"role",a),children:[e.jsx(oe,{children:e.jsx(me,{})}),e.jsxs(ue,{children:[e.jsx(N,{value:"admin",children:"Admin"}),e.jsx(N,{value:"developer",children:"Developer"}),e.jsx(N,{value:"guest",children:"Guest"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Email"}),e.jsx(u,{type:"email",value:s.email,onChange:a=>re(s.id,"email",a.target.value)})]})]})]},s.id))})]})})]}),e.jsx(he,{open:_!==null,onOpenChange:s=>!s&&se(null),children:e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(pe,{children:"Delete Project"}),e.jsxs(ge,{children:['Are you sure you want to delete project "',j.find(s=>s.id===_)?.name,'"? This action cannot be undone.']})]}),e.jsxs(ve,{children:[e.jsx(be,{children:"Cancel"}),e.jsx(fe,{onClick:()=>_&&Ie(_),children:"Delete"})]})]})}),e.jsx(he,{open:V!==null,onOpenChange:s=>!s&&ae(null),children:e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(pe,{children:"Delete User"}),e.jsxs(ge,{children:['Are you sure you want to delete user "',C.find(s=>s.id===V)?.username,'"? This action cannot be undone.']})]}),e.jsxs(ve,{children:[e.jsx(be,{children:"Cancel"}),e.jsx(fe,{onClick:()=>V&&We(V),children:"Delete"})]})]})}),e.jsx(he,{open:$!==null,onOpenChange:s=>!s&&ie(null),children:e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(pe,{children:"Delete Replication Policy"}),e.jsxs(ge,{children:['Are you sure you want to delete replication policy "',P.find(s=>s.id===$)?.name,'"? This action cannot be undone.']})]}),e.jsxs(ve,{children:[e.jsx(be,{children:"Cancel"}),e.jsx(fe,{onClick:()=>$&&Qe($),children:"Delete"})]})]})})]})})}export{Ts as HarborConfigAdvanced};
