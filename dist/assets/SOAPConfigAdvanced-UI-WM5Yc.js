import{u as ne,X as de,j as e,V as ce,r as v,i as y,S as T,C as r,e as a,f as l,k as n,A as X,Z as ie,T as xe,a as oe,b as u,N as K,R as he,F as me,c as je,d as p,h as i,L as d,n as A,o as q,p as F,q as k,s as M,B as g,aj as ue,ak as pe,ah as ge,I as S,t as w}from"./index-CNviH85w.js";import{T as W}from"./textarea-SzKe3kHn.js";import{R as Ne}from"./refresh-ccw-zJkbsgti.js";import{S as O}from"./server-CbFcGhXu.js";import{C as H}from"./circle-check-big-DjDgevKp.js";import{T as ve}from"./trending-up-BDXhRlwq.js";import{S as fe}from"./shield-C26BIm_E.js";function Le({componentId:R}){const{nodes:_,updateNode:Z}=ne(),{getComponentMetrics:G}=de(),C=_.find(s=>s.id===R);if(!C)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const h=ce.getSOAPEmulationEngine(R),E=G(R)?.customMetrics||{},c=C.data.config||{},N=c.services||[],m=c.requests||[],J=c.endpoint||"http://localhost:8080/soap",Q=c.wsdlUrl||N[0]?.wsdlUrl||"",t=h?.getSOAPMetrics(),B=t?.totalRequests??c.totalRequests??m.length,Y=t?.successRate??c.successRate??(m.length>0?m.filter(s=>s.status==="success").length/m.length*100:0),D=t?.averageLatency??c.averageLatency??(m.length>0?m.reduce((s,o)=>s+(o.duration||0),0)/m.length:0),z=t?.requestsPerSecond??E.requests_per_second??0,ee=t?.errorRate??E.error_rate??0,[L,se]=v.useState(""),[j,U]=v.useState(""),[V,$]=v.useState(""),[te,I]=v.useState(""),[f,P]=v.useState(""),[b,re]=v.useState(!0);v.useEffect(()=>{if(!b)return;const s=setInterval(()=>{P(f)},2e3);return()=>clearInterval(s)},[b,f]);const x=s=>{Z(R,{data:{...C.data,config:{...c,...s}}})},ae=()=>{if(!j)return;const s={id:`req-${Date.now()}`,operation:j,requestBody:V||`<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <${j}Request>
      <!-- Request data -->
    </${j}Request>
  </soap:Body>
</soap:Envelope>`,responseBody:`<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <${j}Response>
      <!-- Response data -->
    </${j}Response>
  </soap:Body>
</soap:Envelope>`,status:"success",timestamp:new Date().toISOString(),duration:Math.floor(Math.random()*200)+50};I(s.responseBody||""),x({requests:[...m,s]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"SOAP"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"SOAP Web Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Simple Object Access Protocol web service"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{re(!b)},children:[e.jsx(Ne,{className:`h-4 w-4 mr-2 ${b?"animate-spin":""}`}),b?"Auto Refresh":"Manual"]})})]}),e.jsx(T,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(r,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(O,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:N.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(r,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Requests/sec"}),e.jsx(X,{className:"h-4 w-4 text-green-500"})]})}),e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:z.toFixed(1)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"per second"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Total: ",B]})]})]}),e.jsxs(r,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(H,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(n,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[Y.toFixed(1),"%"]})})})]}),e.jsxs(r,{className:"border-l-4 border-l-cyan-500 bg-card",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(ie,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:D.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]})]}),e.jsxs(xe,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(oe,{className:"flex-wrap h-auto",children:[e.jsxs(u,{value:"test",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Test Client"]}),e.jsxs(u,{value:"services",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Services (",N.length,")"]}),e.jsxs(u,{value:"operations",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Operations"]}),e.jsxs(u,{value:"wsdl",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"WSDL"]}),e.jsxs(u,{value:"metrics",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Metrics"]}),e.jsxs(u,{value:"security",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Security"]}),e.jsxs(u,{value:"history",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"History (",m.length,")"]}),e.jsxs(u,{value:"settings",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(p,{value:"test",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"SOAP Test Client"}),e.jsx(i,{children:"Test SOAP operations"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Service"}),e.jsxs(A,{value:L,onValueChange:s=>{se(s);const o=N.find(le=>le.name===s);o&&o.operations.length>0&&U(o.operations[0].name)},children:[e.jsx(q,{children:e.jsx(F,{placeholder:"Select service"})}),e.jsx(k,{children:N.map(s=>e.jsx(M,{value:s.name,children:s.name},s.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Operation"}),e.jsxs(A,{value:j,onValueChange:U,children:[e.jsx(q,{children:e.jsx(F,{placeholder:"Select operation"})}),e.jsx(k,{children:L&&N.find(s=>s.name===L)?.operations.map(s=>e.jsx(M,{value:s.name,children:s.name},s.name))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"SOAP Request (XML)"}),e.jsx(W,{value:V,onChange:s=>$(s.target.value),className:"font-mono text-sm min-h-[300px]",placeholder:"<soap:Envelope>..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"SOAP Response"}),e.jsx(W,{value:te,readOnly:!0,className:"font-mono text-sm min-h-[300px] bg-muted",placeholder:"Response will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(y,{onClick:ae,disabled:!j,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Execute Request"]}),e.jsx(y,{variant:"outline",onClick:()=>{$(""),I("")},children:"Clear"})]})]})]})}),e.jsx(p,{value:"services",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"SOAP Services"}),e.jsx(i,{children:"Registered services and operations"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:N.map(s=>e.jsxs(r,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(O,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(l,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(g,{variant:"outline",children:s.port}),e.jsxs(g,{variant:"outline",children:[s.operations.length," operations"]})]}),s.wsdlUrl&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["WSDL: ",s.wsdlUrl]})]})]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-2",children:s.operations.map(o=>e.jsxs("div",{className:"p-3 border rounded",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-mono font-semibold",children:o.name})}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[o.inputMessage&&e.jsxs("span",{children:["Input: ",o.inputMessage]}),o.outputMessage&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"→"}),e.jsxs("span",{children:["Output: ",o.outputMessage]})]})]})]},o.name))})})]},s.name))})})]})}),e.jsx(p,{value:"operations",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Operation Metrics"}),e.jsx(i,{children:"Performance metrics per operation"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:t?.operationMetrics&&t.operationMetrics.length>0?t.operationMetrics.map(s=>e.jsxs(r,{className:"border-l-4 border-l-blue-500",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-lg font-semibold",children:s.operationName}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Service: ",s.serviceName]})]}),e.jsxs(g,{variant:s.errorRate>5?"destructive":"default",children:[s.errorRate.toFixed(1),"% errors"]})]})}),e.jsxs(n,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totalCalls})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Latency"}),e.jsxs("p",{className:"text-2xl font-bold",children:[s.averageLatency.toFixed(0),"ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Calls/sec"}),e.jsx("p",{className:"text-2xl font-bold",children:s.callsPerSecond.toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.totalErrors})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Latency"}),e.jsx("p",{className:"text-lg font-semibold",children:s.minLatency===1/0?"N/A":`${s.minLatency.toFixed(0)}ms`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Max Latency"}),e.jsxs("p",{className:"text-lg font-semibold",children:[s.maxLatency.toFixed(0),"ms"]})]})]})]})]},`${s.serviceName}:${s.operationName}`)):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No operation metrics available"})})})]})}),e.jsx(p,{value:"wsdl",className:"space-y-4",children:e.jsxs(r,{children:[e.jsx(a,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(l,{children:"WSDL Definition"}),e.jsx(i,{children:"Web Service Description Language"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{const s=h?.getWSDLXML();s&&P(s)},children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Generate WSDL"]}),e.jsxs(y,{variant:"outline",size:"sm",onClick:async()=>{if(f){const s=h?.parseWSDL(f);s&&(h?.setWSDL(s),x({wsdl:s}))}},children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Load WSDL"]})]})]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"WSDL XML"}),e.jsx(W,{value:f||h?.getWSDLXML()||"",onChange:s=>P(s.target.value),className:"font-mono text-sm min-h-[400px]",placeholder:"WSDL XML will appear here..."})]}),h?.getWSDL()&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"WSDL Info"}),e.jsxs("div",{className:"p-4 bg-muted rounded",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Target Namespace:"})," ",h.getWSDL()?.targetNamespace||"N/A"]}),e.jsxs("p",{className:"text-sm mt-2",children:[e.jsx("strong",{children:"Services:"})," ",h.getWSDL()?.services?.length||0]}),e.jsxs("p",{className:"text-sm mt-2",children:[e.jsx("strong",{children:"Messages:"})," ",h.getWSDL()?.messages?.length||0]}),e.jsxs("p",{className:"text-sm mt-2",children:[e.jsx("strong",{children:"Port Types:"})," ",h.getWSDL()?.portTypes?.length||0]})]})]})]})]})}),e.jsxs(p,{value:"metrics",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(r,{children:[e.jsx(a,{className:"pb-3",children:e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Requests/sec"})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold",children:z.toFixed(1)}),t?.throughputTrends&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{className:`text-xs ${t.throughputTrends.trend==="increasing"?"text-green-600":t.throughputTrends.trend==="decreasing"?"text-red-600":"text-muted-foreground"}`,children:t.throughputTrends.trend==="increasing"?"↑":t.throughputTrends.trend==="decreasing"?"↓":"→"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.throughputTrends.changePercent>0?"+":"",t.throughputTrends.changePercent.toFixed(1),"%"]})]})]})]}),e.jsxs(r,{children:[e.jsx(a,{className:"pb-3",children:e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Error Rate"})}),e.jsx(n,{children:e.jsxs("div",{className:"text-3xl font-bold text-red-600",children:[ee.toFixed(2),"%"]})})]}),e.jsxs(r,{children:[e.jsx(a,{className:"pb-3",children:e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Total Requests"})}),e.jsx(n,{children:e.jsx("div",{className:"text-3xl font-bold",children:B})})]}),e.jsxs(r,{children:[e.jsx(a,{className:"pb-3",children:e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Avg Response Time"})}),e.jsx(n,{children:e.jsxs("div",{className:"text-3xl font-bold",children:[t?.averageResponseTime?.toFixed(0)||D.toFixed(0),"ms"]})})]})]}),t&&(t.latencyP50||t.latencyP95||t.latencyP99)&&e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Latency Percentiles"}),e.jsx(i,{children:"Response time distribution"})]}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"P50 (Median)"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.latencyP50?.toFixed(0)||"N/A","ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"P95"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.latencyP95?.toFixed(0)||"N/A","ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"P99"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.latencyP99?.toFixed(0)||"N/A","ms"]})]})]})})]}),t?.requestSizeMetrics&&e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Request Size Metrics"}),e.jsx(i,{children:"Message size statistics"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Request Size"}),e.jsxs("p",{className:"text-lg font-bold",children:[(t.requestSizeMetrics.averageRequestSize/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Response Size"}),e.jsxs("p",{className:"text-lg font-bold",children:[(t.requestSizeMetrics.averageResponseSize/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Request"}),e.jsx("p",{className:"text-lg font-bold",children:t.requestSizeMetrics.minRequestSize===1/0?"N/A":`${(t.requestSizeMetrics.minRequestSize/1024).toFixed(2)} KB`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Max Request"}),e.jsxs("p",{className:"text-lg font-bold",children:[(t.requestSizeMetrics.maxRequestSize/1024).toFixed(2)," KB"]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Bytes Received"}),e.jsxs("p",{className:"text-lg font-bold",children:[(t.requestSizeMetrics.totalBytesReceived/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Bytes Sent"}),e.jsxs("p",{className:"text-lg font-bold",children:[(t.requestSizeMetrics.totalBytesSent/1024/1024).toFixed(2)," MB"]})]})]})]})]}),t?.throughputTrends&&e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Throughput Trends"}),e.jsx(i,{children:"Request rate trends"})]}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Current RPS"}),e.jsx("p",{className:"text-2xl font-bold",children:t.throughputTrends.current.toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Previous RPS"}),e.jsx("p",{className:"text-2xl font-bold",children:t.throughputTrends.previous.toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak RPS"}),e.jsx("p",{className:"text-2xl font-bold",children:t.throughputTrends.peak.toFixed(1)}),t.throughputTrends.peakTime&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(t.throughputTrends.peakTime).toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trend"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(g,{variant:t.throughputTrends.trend==="increasing"?"default":t.throughputTrends.trend==="decreasing"?"destructive":"secondary",children:t.throughputTrends.trend==="increasing"?"↑ Increasing":t.throughputTrends.trend==="decreasing"?"↓ Decreasing":"→ Stable"})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.throughputTrends.changePercent>0?"+":"",t.throughputTrends.changePercent.toFixed(1),"%"]})]})]})})]}),t?.serviceMetrics&&t.serviceMetrics.length>0&&e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Service Metrics"}),e.jsx(i,{children:"Performance metrics per service"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:t.serviceMetrics.map(s=>e.jsxs("div",{className:"p-4 border rounded",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold",children:s.serviceName}),e.jsxs(g,{variant:s.errorRate>5?"destructive":"default",children:[s.errorRate.toFixed(1),"% errors"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests"}),e.jsx("p",{className:"text-lg font-bold",children:s.totalRequests})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:s.totalErrors})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Latency"}),e.jsxs("p",{className:"text-lg font-bold",children:[s.averageLatency.toFixed(0),"ms"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests/sec"}),e.jsx("p",{className:"text-lg font-bold",children:s.requestsPerSecond.toFixed(1)})]})]})]},s.serviceName))})})]}),t?.errorMetrics&&t.errorMetrics.length>0&&e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Error Metrics"}),e.jsx(i,{children:"Errors by category"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-2",children:t.errorMetrics.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold capitalize",children:s.category}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.errorsPerSecond.toFixed(1)," errors/sec"]})]}),e.jsx(g,{variant:"destructive",children:s.totalErrors})]},s.category))})})]})]}),e.jsxs(p,{value:"security",className:"space-y-4",children:[e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"WS-Security Metrics"}),e.jsx(i,{children:"Security validation statistics"})]}),e.jsx(n,{children:t?.wsSecurityMetrics?e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Validations"}),e.jsx("p",{className:"text-2xl font-bold",children:t.wsSecurityMetrics.totalValidations})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[t.wsSecurityMetrics.validationSuccessRate.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Signatures Processed"}),e.jsx("p",{className:"text-2xl font-bold",children:t.wsSecurityMetrics.signaturesProcessed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Encryptions Processed"}),e.jsx("p",{className:"text-2xl font-bold",children:t.wsSecurityMetrics.encryptionsProcessed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed Validations"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.wsSecurityMetrics.failedValidations})]})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"WS-Security metrics not available"})})]}),e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"WS-Addressing Metrics"}),e.jsx(i,{children:"Addressing usage statistics"})]}),e.jsx(n,{children:t?.wsAddressingMetrics?e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Messages"}),e.jsx("p",{className:"text-2xl font-bold",children:t.wsAddressingMetrics.totalMessages})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"With Addressing"}),e.jsx("p",{className:"text-2xl font-bold",children:t.wsAddressingMetrics.messagesWithAddressing})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Async Responses"}),e.jsx("p",{className:"text-2xl font-bold",children:t.wsAddressingMetrics.asyncResponses})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Usage Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.wsAddressingMetrics.addressingUsageRate.toFixed(1),"%"]})]})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"WS-Addressing metrics not available"})})]}),e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"MTOM Metrics"}),e.jsx(i,{children:"Message Transmission Optimization Mechanism"})]}),e.jsx(n,{children:t?.mtomMetrics?e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Messages"}),e.jsx("p",{className:"text-2xl font-bold",children:t.mtomMetrics.totalMessages})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"With MTOM"}),e.jsx("p",{className:"text-2xl font-bold",children:t.mtomMetrics.messagesWithMTOM})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Attachments"}),e.jsx("p",{className:"text-2xl font-bold",children:t.mtomMetrics.totalAttachments})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Attachments"}),e.jsx("p",{className:"text-2xl font-bold",children:t.mtomMetrics.averageAttachmentsPerMessage.toFixed(1)})]}),e.jsxs("div",{className:"col-span-2 md:col-span-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"MTOM Usage Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.mtomMetrics.mtomUsageRate.toFixed(1),"%"]})]})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"MTOM metrics not available"})})]})]}),e.jsx(p,{value:"history",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"Request History"}),e.jsx(i,{children:"Previously executed SOAP requests"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs(r,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(a,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.status==="success"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:s.status==="success"?e.jsx(H,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(ge,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(l,{className:"text-lg font-semibold",children:s.operation}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.duration&&e.jsxs(g,{variant:"outline",children:[s.duration,"ms"]}),e.jsx(g,{variant:s.status==="success"?"default":"destructive",children:s.status})]})]})]})})}),e.jsxs(n,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Request"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:s.requestBody})]}),s.responseBody&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Response"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:s.responseBody})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(s.timestamp).toLocaleString()})]})]},s.id))})})]})}),e.jsx(p,{value:"settings",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(l,{children:"SOAP Settings"}),e.jsx(i,{children:"Service configuration"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Endpoint URL"}),e.jsx(S,{value:J,onChange:s=>x({endpoint:s.target.value}),placeholder:"http://localhost:8080/soap"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"WSDL URL"}),e.jsx(S,{value:Q,onChange:s=>x({wsdlUrl:s.target.value}),placeholder:"http://localhost:8080/wsdl/service.wsdl"})]}),e.jsx(T,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Enable WS-Security"}),e.jsx(w,{checked:c.enableWSSecurity??!1,onCheckedChange:s=>x({enableWSSecurity:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Enable WS-Addressing"}),e.jsx(w,{checked:c.enableWSAddressing??!1,onCheckedChange:s=>x({enableWSAddressing:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Enable MTOM"}),e.jsx(w,{checked:c.enableMTOM??!1,onCheckedChange:s=>x({enableMTOM:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Enable Validation"}),e.jsx(w,{checked:c.enableValidation??!0,onCheckedChange:s=>x({enableValidation:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Enable Caching"}),e.jsx(w,{checked:c.enableCaching??!1,onCheckedChange:s=>x({enableCaching:s})})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"SOAP Version"}),e.jsxs(A,{value:c.soapVersion??"1.1",onValueChange:s=>x({soapVersion:s}),children:[e.jsx(q,{children:e.jsx(F,{})}),e.jsxs(k,{children:[e.jsx(M,{value:"1.1",children:"SOAP 1.1"}),e.jsx(M,{value:"1.2",children:"SOAP 1.2"})]})]})]}),c.enableCaching&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Cache TTL (seconds)"}),e.jsx(S,{type:"number",value:c.cacheTTL??300,onChange:s=>x({cacheTTL:parseInt(s.target.value)||300}),placeholder:"300"})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Requests Per Second"}),e.jsx(S,{type:"number",value:c.requestsPerSecond??100,onChange:s=>x({requestsPerSecond:parseInt(s.target.value)||100}),placeholder:"100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Response Latency (ms)"}),e.jsx(S,{type:"number",value:c.responseLatency??50,onChange:s=>x({responseLatency:parseInt(s.target.value)||50}),placeholder:"50"})]})]})]})})]})]})})}export{Le as SOAPConfigAdvanced};
