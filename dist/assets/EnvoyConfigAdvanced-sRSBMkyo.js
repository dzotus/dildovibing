import{u as nt,X as at,j as e,r as i,V as lt,i as o,S as k,C,e as N,f,k as y,R as ns,A as rt,a9 as it,T as ct,a as dt,b as as,c as ot,d as ls,h as rs,P as is,B as p,U as cs,m as ds,L as t,t as b,I as r,n as R,o as E,p as P,q as D,s as d,D as q,v as O,w as _,x as M,y as U,z,_ as os,a0 as hs,a1 as xs,a2 as us,a3 as ms,a4 as js,a5 as ps,a6 as vs}from"./index-zfnU8aSQ.js";import{a as v,s as u}from"./toast-vd5KZ9bG.js";import{R as ht}from"./refresh-ccw-BTge5KT-.js";import{S as gs}from"./server-Cxo94eUY.js";import{G as Cs}from"./globe-ChNQf2g4.js";import{C as xt}from"./circle-check-big-Bmmh-OXg.js";function Ct({componentId:F}){const{nodes:Ds,updateNode:Ns}=nt(),fs=at(s=>s.componentMetrics.get(F)),V=Ds.find(s=>s.id===F);if(!V)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const l=V.data.config||{},m=l.clusters||[],g=l.listeners||[],w=l.routes||[],[Ls,Y]=i.useState(!1),[Is,ee]=i.useState(!1),[Bs,se]=i.useState(!1),[ys,te]=i.useState(null),[ne,ae]=i.useState(null),[K,le]=i.useState(null),[re,ie]=i.useState(null),[ce,de]=i.useState(null),[oe,bs]=i.useState(null),[he,ws]=i.useState(null),[xe,ks]=i.useState(null),[ue,Ss]=i.useState(null),[L,me]=i.useState(""),[je,pe]=i.useState("STRICT_DNS"),[G,ve]=i.useState(!0),[ge,Ce]=i.useState(1e4),[Ne,fe]=i.useState(5e3),[ye,be]=i.useState("/health"),[we,ke]=i.useState(1),[Se,Te]=i.useState(2),[Re,Ee]=i.useState(5e3),[Pe,De]=i.useState("ROUND_ROBIN"),[W,Le]=i.useState(!1),[Ie,Be]=i.useState(1024),[He,Ae]=i.useState(5),[$,qe]=i.useState(!1),[Oe,_e]=i.useState(5),[Q,Me]=i.useState("192.168.1.100"),[X,Ue]=i.useState(8080),[ze,Fe]=i.useState(100),[I,Ve]=i.useState(""),[Ge,We]=i.useState("0.0.0.0"),[B,$e]=i.useState(80),[Qe,Xe]=i.useState("HTTP"),[S,J]=i.useState(["http_connection_manager"]),[H,Je]=i.useState(""),[Z,Ze]=i.useState("/"),[A,Ke]=i.useState(""),[Ye,es]=i.useState(0),[ss,ts]=i.useState(15e3),T=lt.getEnvoyRoutingEngine(F);i.useEffect(()=>{if(!T||!fs)return;const s=T.getStats(),n=fs.customMetrics||{},c={...l,totalRequests:s.totalRequests||n.total_requests||0,totalResponses:s.totalResponses||n.total_responses||0,activeConnections:s.activeConnections||n.active_connections||0,totalBytesIn:s.totalBytesIn||n.total_bytes_in||0,totalBytesOut:s.totalBytesOut||n.total_bytes_out||0,totalClusters:s.clusters||m.length,totalListeners:s.listeners||g.length,totalRoutes:s.routes||w.length};c.clusters&&(c.clusters=c.clusters.map(a=>{const x=T.getClusterStats(a.name);return{...a,requests:x?.requests||a.requests||0,errors:x?.errors||a.errors||0,activeConnections:x?.activeConnections||a.activeConnections||0}})),c.listeners&&(c.listeners=c.listeners.map(a=>{const x=T.getListenerStats(a.name);return{...a,activeConnections:x?.activeConnections||a.activeConnections||0,requests:x?.requests||a.requests||0,responses:x?.responses||a.responses||0}})),c.routes&&(c.routes=c.routes.map(a=>{const x=T.getRouteStats(a.name);return{...a,requests:x?.requests||a.requests||0,responses:x?.responses||a.responses||0,errors:x?.errors||a.errors||0}})),(c.totalRequests!==l.totalRequests||c.totalResponses!==l.totalResponses||c.activeConnections!==l.activeConnections)&&Ns(F,{data:{...V.data,config:c}})},[fs,T]),i.useEffect(()=>{if(V&&T){const s=(l.clusters||[]).map(a=>({name:a.name,type:a.type||"STRICT_DNS",endpoints:(a.hosts||[]).map(x=>({address:x.address,port:x.port,weight:x.weight||1,healthStatus:x.healthStatus||"unknown"})),connectTimeout:a.connectTimeout||5e3,healthCheck:a.healthChecks?{enabled:!0,interval:a.healthCheckInterval||1e4,timeout:a.healthCheckTimeout||5e3,path:a.healthCheckPath||"/health",healthyThreshold:a.healthCheckHealthyThreshold||1,unhealthyThreshold:a.healthCheckUnhealthyThreshold||2}:void 0,circuitBreaker:a.circuitBreaker?{enabled:!0,maxConnections:a.circuitBreakerMaxConnections,maxRequests:a.circuitBreakerMaxRequests,consecutiveErrors:a.circuitBreakerConsecutiveErrors||5}:void 0,loadBalancingPolicy:a.loadBalancingPolicy||"ROUND_ROBIN",outlierDetection:a.outlierDetection?{enabled:!0,consecutiveErrors:a.outlierDetectionConsecutiveErrors||5,interval:a.outlierDetectionInterval||1e4,baseEjectionTime:a.outlierDetectionBaseEjectionTime||3e4,maxEjectionPercent:a.outlierDetectionMaxEjectionPercent||50}:void 0})),n=(l.listeners||[]).map(a=>({name:a.name,address:a.address||"0.0.0.0",port:a.port,protocol:a.protocol||"HTTP",filters:(a.filters||[]).map(x=>typeof x=="string"?{name:x,type:x}:x)})),c=(l.routes||[]).map(a=>({name:a.name,match:{prefix:a.match?.startsWith("/")?a.match:void 0,path:a.match&&!a.match.includes("*")&&!a.match.startsWith("/")?a.match:void 0,regex:a.match?.includes("*")?a.match.replace(/\*/g,".*"):void 0},cluster:a.cluster,priority:a.priority||0,timeout:a.timeout,retryPolicy:a.retryPolicy})),j={maxConnections:l.maxConnections||1024,connectTimeout:l.connectTimeout||5e3,requestTimeout:l.requestTimeout||15e3,drainTime:l.drainTime||600,rateLimit:l.enableRateLimiting?{enabled:!0,rate:l.rateLimitPerSecond||100,burst:l.rateLimitBurst||10}:void 0,tracing:l.enableTracing?{enabled:!0,provider:l.tracingProvider||"jaeger"}:void 0};T.initialize({clusters:s,listeners:n,routes:c,globalConfig:j})}},[l.clusters,l.listeners,l.routes,F,V]);const h=i.useCallback(s=>{Ns(F,{data:{...V.data,config:{...l,...s}}})},[F,V,l,Ns]),Hs=()=>{if(!L.trim()){u("Please fill in cluster name");return}if(m.some(n=>n.name===L)){u("Cluster with this name already exists");return}const s={name:L,type:je,hosts:[],healthChecks:G,healthCheckInterval:ge,healthCheckTimeout:Ne,healthCheckPath:ye,healthCheckHealthyThreshold:we,healthCheckUnhealthyThreshold:Se,connectTimeout:Re,loadBalancingPolicy:Pe,circuitBreaker:W,circuitBreakerMaxConnections:Ie,circuitBreakerConsecutiveErrors:He,outlierDetection:$,outlierDetectionConsecutiveErrors:Oe,requests:0,errors:0,activeConnections:0};h({clusters:[...m,s]}),v("Cluster created successfully"),Y(!1),Ts()},As=s=>{ae(s),me(s.name),pe(s.type),ve(s.healthChecks||!1),Ce(s.healthCheckInterval||1e4),fe(s.healthCheckTimeout||5e3),be(s.healthCheckPath||"/health"),ke(s.healthCheckHealthyThreshold||1),Te(s.healthCheckUnhealthyThreshold||2),Ee(s.connectTimeout||5e3),De(s.loadBalancingPolicy||"ROUND_ROBIN"),Le(s.circuitBreaker||!1),Be(s.circuitBreakerMaxConnections||1024),Ae(s.circuitBreakerConsecutiveErrors||5),qe(s.outlierDetection||!1),_e(s.outlierDetectionConsecutiveErrors||5)},qs=()=>{if(!ne||!L.trim()){u("Please fill in cluster name");return}if(m.some(n=>n.name===L&&n.name!==ne.name)){u("Cluster with this name already exists");return}const s=m.map(n=>n.name===ne.name?{...n,name:L,type:je,healthChecks:G,healthCheckInterval:ge,healthCheckTimeout:Ne,healthCheckPath:ye,healthCheckHealthyThreshold:we,healthCheckUnhealthyThreshold:Se,connectTimeout:Re,loadBalancingPolicy:Pe,circuitBreaker:W,circuitBreakerMaxConnections:Ie,circuitBreakerConsecutiveErrors:He,outlierDetection:$,outlierDetectionConsecutiveErrors:Oe}:n);h({clusters:s}),v("Cluster updated successfully"),ae(null),Ts()},Os=s=>{if(w.some(c=>c.cluster===s)){u("Cannot delete cluster: it is used in routes");return}h({clusters:m.filter(c=>c.name!==s)}),v("Cluster deleted successfully"),bs(null)},Ts=()=>{me(""),pe("STRICT_DNS"),ve(!0),Ce(1e4),fe(5e3),be("/health"),ke(1),Te(2),Ee(5e3),De("ROUND_ROBIN"),Le(!1),Be(1024),Ae(5),qe(!1),_e(5)},_s=s=>{if(!Q.trim()||!X){u("Please fill in endpoint address and port");return}if(!m.find(a=>a.name===s))return;const c={address:Q,port:X,weight:ze},j=m.map(a=>a.name===s?{...a,hosts:[...a.hosts,c]}:a);h({clusters:j}),v("Endpoint added successfully"),te(null),Rs()},Ms=(s,n)=>{const c=m.find(a=>a.name===s);if(!c||!c.hosts[n])return;const j=c.hosts[n];de({clusterName:s,endpointIndex:n}),Me(j.address),Ue(j.port),Fe(j.weight||100)},Us=()=>{if(!ce||!Q.trim()||!X){u("Please fill in endpoint address and port");return}const s=m.map(n=>n.name===ce.clusterName?{...n,hosts:n.hosts.map((c,j)=>j===ce.endpointIndex?{address:Q,port:X,weight:ze}:c)}:n);h({clusters:s}),v("Endpoint updated successfully"),de(null),Rs()},zs=(s,n)=>{const c=m.map(j=>j.name===s?{...j,hosts:j.hosts.filter((a,x)=>x!==n)}:j);h({clusters:c}),v("Endpoint deleted successfully"),Ss(null)},Rs=()=>{Me("192.168.1.100"),Ue(8080),Fe(100)},Fs=()=>{if(!I.trim()||!B){u("Please fill in listener name and port");return}if(g.some(n=>n.name===I)){u("Listener with this name already exists");return}if(g.some(n=>n.port===B)){u("Port is already in use");return}const s={name:I,address:Ge,port:B,protocol:Qe,filters:S,activeConnections:0,requests:0,responses:0};h({listeners:[...g,s]}),v("Listener created successfully"),ee(!1),Es()},Vs=s=>{le(s),Ve(s.name),We(s.address),$e(s.port),Xe(s.protocol||"HTTP"),J(s.filters)},Gs=()=>{if(!K||!I.trim()||!B){u("Please fill in listener name and port");return}if(g.some(n=>n.name===I&&n.name!==K.name)){u("Listener with this name already exists");return}if(g.some(n=>n.port===B&&n.name!==K.name)){u("Port is already in use");return}const s=g.map(n=>n.name===K.name?{...n,name:I,address:Ge,port:B,protocol:Qe,filters:S}:n);h({listeners:s}),v("Listener updated successfully"),le(null),Es()},Ws=s=>{h({listeners:g.filter(n=>n.name!==s)}),v("Listener deleted successfully"),ws(null)},Es=()=>{Ve(""),We("0.0.0.0"),$e(80),Xe("HTTP"),J(["http_connection_manager"])},$s=()=>{if(!H.trim()||!Z.trim()||!A){u("Please fill in route name, match pattern, and cluster");return}if(w.some(n=>n.name===H)){u("Route with this name already exists");return}if(!m.some(n=>n.name===A)){u("Cluster does not exist");return}const s={name:H,match:Z,cluster:A,priority:Ye,timeout:ss,requests:0,responses:0,errors:0};h({routes:[...w,s]}),v("Route created successfully"),se(!1),Ps()},Qs=s=>{ie(s),Je(s.name),Ze(s.match),Ke(s.cluster),es(s.priority||0),ts(s.timeout||15e3)},Xs=()=>{if(!re||!H.trim()||!Z.trim()||!A){u("Please fill in route name, match pattern, and cluster");return}if(w.some(n=>n.name===H&&n.name!==re.name)){u("Route with this name already exists");return}if(!m.some(n=>n.name===A)){u("Cluster does not exist");return}const s=w.map(n=>n.name===re.name?{...n,name:H,match:Z,cluster:A,priority:Ye,timeout:ss}:n);h({routes:s}),v("Route updated successfully"),ie(null),Ps()},Js=s=>{h({routes:w.filter(n=>n.name!==s)}),v("Route deleted successfully"),ks(null)},Ps=()=>{Je(""),Ze("/"),Ke(""),es(0),ts(15e3)},Zs=()=>{if(T){const s=T.getStats();v(`Stats refreshed: ${s.totalRequests} requests, ${s.healthyEndpoints}/${s.totalEndpoints} endpoints healthy`)}else u("Routing engine not initialized")},Ks=l.totalClusters||m.length,Ys=l.totalListeners||g.length,et=l.totalRoutes||w.length,st=l.totalRequests||0;l.totalResponses;const tt=l.totalErrors||0;return l.activeConnections,l.totalBytesIn,l.totalBytesOut,e.jsxs("div",{className:"h-full overflow-y-auto bg-background",children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Envoy Proxy"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Service Proxy"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"High-performance edge and service proxy"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(o,{variant:"outline",size:"sm",onClick:Zs,children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(k,{}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs(C,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-sm font-medium text-muted-foreground",children:"Clusters"}),e.jsx(gs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(y,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Ks}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"configured"})]})})]}),e.jsxs(C,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-sm font-medium text-muted-foreground",children:"Listeners"}),e.jsx(ns,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(y,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Ys}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(C,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-sm font-medium text-muted-foreground",children:"Routes"}),e.jsx(Cs,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(y,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:et}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(C,{className:"border-l-4 border-l-cyan-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(rt,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(y,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:st.toLocaleString()})})})]}),e.jsxs(C,{className:"border-l-4 border-l-red-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-sm font-medium text-muted-foreground",children:"Errors"}),e.jsx(it,{className:"h-4 w-4 text-red-500"})]})}),e.jsx(y,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:tt})})})]})]}),e.jsxs(ct,{defaultValue:"clusters",className:"space-y-4",children:[e.jsxs(dt,{children:[e.jsxs(as,{value:"clusters",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Clusters (",m.length,")"]}),e.jsxs(as,{value:"listeners",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Listeners (",g.length,")"]}),e.jsxs(as,{value:"routes",children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Routes (",w.length,")"]}),e.jsxs(as,{value:"settings",children:[e.jsx(ot,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ls,{value:"clusters",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Clusters"}),e.jsx(rs,{children:"Backend service clusters"})]}),e.jsxs(o,{onClick:()=>Y(!0),size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Cluster"]})]})}),e.jsx(y,{children:m.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No clusters configured"}),e.jsx("p",{className:"text-sm",children:'Click "Create Cluster" to add one'})]}):e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs(C,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(gs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(f,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsx(p,{variant:"outline",children:s.type}),e.jsxs(p,{variant:"outline",children:[s.hosts.length," endpoints"]}),s.healthChecks&&e.jsxs(p,{variant:"default",className:"bg-green-500",children:[e.jsx(xt,{className:"h-3 w-3 mr-1"}),"Health Checks"]}),s.circuitBreaker&&e.jsx(p,{variant:"default",className:"bg-orange-500 hover:bg-orange-600",children:"Circuit Breaker"}),s.outlierDetection&&e.jsx(p,{variant:"default",className:"bg-purple-500 hover:bg-purple-600",children:"Outlier Detection"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 ml-14",children:[e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>As(s),children:[e.jsx(cs,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>te(s.name),children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>bs(s.name),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(ds,{className:"h-4 w-4"})})]})]})}),e.jsxs(y,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Endpoints"}),s.hosts.length===0?e.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No endpoints configured. Click "Add Endpoint" to add one.'}):e.jsx("div",{className:"space-y-2",children:s.hosts.map((n,c)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("span",{className:"font-mono text-sm",children:[n.address,":",n.port]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.weight&&n.weight!==100&&e.jsxs(p,{variant:"outline",children:["Weight: ",n.weight]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>Ms(s.name,c),children:e.jsx(cs,{className:"h-4 w-4"})}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>Ss({clusterName:s.name,endpointIndex:c}),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(ds,{className:"h-4 w-4"})})]})]},c))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mt-4",children:[s.requests!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.requests.toLocaleString()})]}),s.errors!==void 0&&s.errors>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-500",children:s.errors})]}),s.connectTimeout&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeout:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[s.connectTimeout,"ms"]})]})]})]})]},s.name))})})]})}),e.jsx(ls,{value:"listeners",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Listeners"}),e.jsx(rs,{children:"Network listeners and ports"})]}),e.jsxs(o,{onClick:()=>ee(!0),size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Listener"]})]})}),e.jsx(y,{children:g.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ns,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No listeners configured"}),e.jsx("p",{className:"text-sm",children:'Click "Create Listener" to add one'})]}):e.jsx("div",{className:"space-y-4",children:g.map(s=>e.jsxs(C,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(ns,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(f,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsxs(p,{variant:"outline",className:"font-mono",children:[s.address,":",s.port]}),s.protocol&&e.jsx(p,{variant:"outline",children:s.protocol}),s.activeConnections!==void 0&&e.jsxs(p,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",children:[s.activeConnections," connections"]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 ml-14",children:[e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>Vs(s),children:[e.jsx(cs,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>ws(s.name),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(ds,{className:"h-4 w-4"})})]})]})}),e.jsxs(y,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.filters.map((n,c)=>e.jsx(p,{variant:"outline",children:n},c))})]}),s.requests!==void 0&&e.jsxs("div",{className:"text-sm mt-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.requests.toLocaleString()})]})]})]},s.name))})})]})}),e.jsx(ls,{value:"routes",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Routes"}),e.jsx(rs,{children:"Request routing rules"})]}),e.jsxs(o,{onClick:()=>se(!0),size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Route"]})]})}),e.jsx(y,{children:w.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Cs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No routes configured"}),e.jsx("p",{className:"text-sm",children:'Click "Create Route" to add one'})]}):e.jsx("div",{className:"space-y-4",children:w.map(s=>e.jsxs(C,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Cs,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(f,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsx(p,{variant:"outline",className:"font-mono text-xs",children:s.match}),e.jsxs(p,{variant:"outline",children:["â†’ ",s.cluster]}),s.priority!==void 0&&e.jsxs(p,{variant:"outline",children:["Priority: ",s.priority]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 ml-14",children:[e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>Qs(s),children:[e.jsx(cs,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>ks(s.name),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(ds,{className:"h-4 w-4"})})]})]})}),s.requests!==void 0&&e.jsx(y,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.requests.toLocaleString()})]}),s.responses!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Responses:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.responses.toLocaleString()})]}),s.errors!==void 0&&s.errors>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-500",children:s.errors})]})]})})]},s.name))})})]})}),e.jsx(ls,{value:"settings",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(N,{children:[e.jsx(f,{children:"Envoy Settings"}),e.jsx(rs,{children:"Proxy configuration"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Admin Interface"}),e.jsx(b,{checked:l.enableAdminInterface??!0,onCheckedChange:s=>h({enableAdminInterface:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Access Logging"}),e.jsx(b,{checked:l.enableAccessLogging??!0,onCheckedChange:s=>h({enableAccessLogging:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Stats"}),e.jsx(b,{checked:l.enableStats??!0,onCheckedChange:s=>h({enableStats:s})})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Admin Port"}),e.jsx(r,{type:"number",value:l.adminPort??9901,onChange:s=>h({adminPort:parseInt(s.target.value)||9901}),min:1,max:65535})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Drain Time (seconds)"}),e.jsx(r,{type:"number",value:l.drainTime??600,onChange:s=>h({drainTime:parseInt(s.target.value)||600}),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Max Connections"}),e.jsx(r,{type:"number",value:l.maxConnections??1024,onChange:s=>h({maxConnections:parseInt(s.target.value)||1024}),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Connect Timeout (ms)"}),e.jsx(r,{type:"number",value:l.connectTimeout??5e3,onChange:s=>h({connectTimeout:parseInt(s.target.value)||5e3}),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Request Timeout (ms)"}),e.jsx(r,{type:"number",value:l.requestTimeout??15e3,onChange:s=>h({requestTimeout:parseInt(s.target.value)||15e3}),min:1})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Enable Rate Limiting"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Limit requests per second"})]}),e.jsx(b,{checked:l.enableRateLimiting??!1,onCheckedChange:s=>h({enableRateLimiting:s})})]}),l.enableRateLimiting&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Rate Limit (requests/second)"}),e.jsx(r,{type:"number",value:l.rateLimitPerSecond??100,onChange:s=>h({rateLimitPerSecond:parseInt(s.target.value)||100}),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Burst"}),e.jsx(r,{type:"number",value:l.rateLimitBurst??10,onChange:s=>h({rateLimitBurst:parseInt(s.target.value)||10}),min:1})]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Enable Tracing"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Distributed tracing support"})]}),e.jsx(b,{checked:l.enableTracing??!1,onCheckedChange:s=>h({enableTracing:s})})]}),l.enableTracing&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Tracing Provider"}),e.jsxs(R,{value:l.tracingProvider||"jaeger",onValueChange:s=>h({tracingProvider:s}),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"jaeger",children:"Jaeger"}),e.jsx(d,{value:"zipkin",children:"Zipkin"}),e.jsx(d,{value:"datadog",children:"Datadog"})]})]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Enable Prometheus Metrics"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Export metrics for Prometheus scraping via /stats/prometheus"})]}),e.jsx(b,{checked:l.metrics?.enabled??!0,onCheckedChange:s=>h({metrics:{...l.metrics,enabled:s,prometheusPath:l.metrics?.prometheusPath||"/stats/prometheus"}})})]}),l.metrics?.enabled!==!1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Prometheus Stats Path"}),e.jsx(r,{type:"text",value:l.metrics?.prometheusPath??"/stats/prometheus",onChange:s=>h({metrics:{...l.metrics,prometheusPath:s.target.value||"/stats/prometheus"}}),placeholder:"/stats/prometheus"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Metrics available at: ",l.adminPort??9901,l.metrics?.prometheusPath||"/stats/prometheus"]})]})]})]})]})})]})]}),e.jsx(q,{open:Ls,onOpenChange:Y,children:e.jsxs(O,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(M,{children:"Create Cluster"}),e.jsx(U,{children:"Configure a new backend service cluster"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Cluster Name *"}),e.jsx(r,{value:L,onChange:s=>me(s.target.value),placeholder:"backend-cluster"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Cluster Type"}),e.jsxs(R,{value:je,onValueChange:s=>pe(s),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"STATIC_DNS",children:"Static DNS"}),e.jsx(d,{value:"STRICT_DNS",children:"Strict DNS"}),e.jsx(d,{value:"LOGICAL_DNS",children:"Logical DNS"}),e.jsx(d,{value:"EDS",children:"EDS"}),e.jsx(d,{value:"ORIGINAL_DST",children:"Original Destination"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Load Balancing Policy"}),e.jsxs(R,{value:Pe,onValueChange:s=>De(s),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"ROUND_ROBIN",children:"Round Robin"}),e.jsx(d,{value:"LEAST_REQUEST",children:"Least Request"}),e.jsx(d,{value:"RING_HASH",children:"Ring Hash"}),e.jsx(d,{value:"MAGLEV",children:"Maglev"}),e.jsx(d,{value:"RANDOM",children:"Random"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Connect Timeout (ms)"}),e.jsx(r,{type:"number",value:Re,onChange:s=>Ee(parseInt(s.target.value)||5e3),min:1})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Health Checks"}),e.jsx(b,{checked:G,onCheckedChange:ve})]}),G&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Health Check Interval (ms)"}),e.jsx(r,{type:"number",value:ge,onChange:s=>Ce(parseInt(s.target.value)||1e4),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Health Check Timeout (ms)"}),e.jsx(r,{type:"number",value:Ne,onChange:s=>fe(parseInt(s.target.value)||5e3),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Health Check Path"}),e.jsx(r,{value:ye,onChange:s=>be(s.target.value),placeholder:"/health"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Healthy Threshold"}),e.jsx(r,{type:"number",value:we,onChange:s=>ke(parseInt(s.target.value)||1),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Unhealthy Threshold"}),e.jsx(r,{type:"number",value:Se,onChange:s=>Te(parseInt(s.target.value)||2),min:1})]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Circuit Breaker"}),e.jsx(b,{checked:W,onCheckedChange:Le})]}),W&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Max Connections"}),e.jsx(r,{type:"number",value:Ie,onChange:s=>Be(parseInt(s.target.value)||1024),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Consecutive Errors"}),e.jsx(r,{type:"number",value:He,onChange:s=>Ae(parseInt(s.target.value)||5),min:1})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Outlier Detection"}),e.jsx(b,{checked:$,onCheckedChange:qe})]}),$&&e.jsxs("div",{className:"space-y-2 pl-4 border-l-2",children:[e.jsx(t,{children:"Consecutive Errors"}),e.jsx(r,{type:"number",value:Oe,onChange:s=>_e(parseInt(s.target.value)||5),min:1})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),e.jsx(o,{onClick:Hs,children:"Create"})]})]})}),e.jsx(q,{open:!!ne,onOpenChange:s=>!s&&ae(null),children:e.jsxs(O,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(M,{children:"Edit Cluster"}),e.jsx(U,{children:"Update cluster configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Cluster Name *"}),e.jsx(r,{value:L,onChange:s=>me(s.target.value),placeholder:"backend-cluster"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Cluster Type"}),e.jsxs(R,{value:je,onValueChange:s=>pe(s),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"STATIC_DNS",children:"Static DNS"}),e.jsx(d,{value:"STRICT_DNS",children:"Strict DNS"}),e.jsx(d,{value:"LOGICAL_DNS",children:"Logical DNS"}),e.jsx(d,{value:"EDS",children:"EDS"}),e.jsx(d,{value:"ORIGINAL_DST",children:"Original Destination"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Load Balancing Policy"}),e.jsxs(R,{value:Pe,onValueChange:s=>De(s),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"ROUND_ROBIN",children:"Round Robin"}),e.jsx(d,{value:"LEAST_REQUEST",children:"Least Request"}),e.jsx(d,{value:"RING_HASH",children:"Ring Hash"}),e.jsx(d,{value:"MAGLEV",children:"Maglev"}),e.jsx(d,{value:"RANDOM",children:"Random"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Connect Timeout (ms)"}),e.jsx(r,{type:"number",value:Re,onChange:s=>Ee(parseInt(s.target.value)||5e3),min:1})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Health Checks"}),e.jsx(b,{checked:G,onCheckedChange:ve})]}),G&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Health Check Interval (ms)"}),e.jsx(r,{type:"number",value:ge,onChange:s=>Ce(parseInt(s.target.value)||1e4),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Health Check Timeout (ms)"}),e.jsx(r,{type:"number",value:Ne,onChange:s=>fe(parseInt(s.target.value)||5e3),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Health Check Path"}),e.jsx(r,{value:ye,onChange:s=>be(s.target.value),placeholder:"/health"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Healthy Threshold"}),e.jsx(r,{type:"number",value:we,onChange:s=>ke(parseInt(s.target.value)||1),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Unhealthy Threshold"}),e.jsx(r,{type:"number",value:Se,onChange:s=>Te(parseInt(s.target.value)||2),min:1})]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Circuit Breaker"}),e.jsx(b,{checked:W,onCheckedChange:Le})]}),W&&e.jsxs("div",{className:"space-y-4 pl-4 border-l-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Max Connections"}),e.jsx(r,{type:"number",value:Ie,onChange:s=>Be(parseInt(s.target.value)||1024),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Consecutive Errors"}),e.jsx(r,{type:"number",value:He,onChange:s=>Ae(parseInt(s.target.value)||5),min:1})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{children:"Enable Outlier Detection"}),e.jsx(b,{checked:$,onCheckedChange:qe})]}),$&&e.jsxs("div",{className:"space-y-2 pl-4 border-l-2",children:[e.jsx(t,{children:"Consecutive Errors"}),e.jsx(r,{type:"number",value:Oe,onChange:s=>_e(parseInt(s.target.value)||5),min:1})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>ae(null),children:"Cancel"}),e.jsx(o,{onClick:qs,children:"Save"})]})]})}),e.jsx(q,{open:!!ys,onOpenChange:s=>!s&&te(null),children:e.jsxs(O,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Add Endpoint"}),e.jsx(U,{children:"Add a new endpoint to the cluster"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Address *"}),e.jsx(r,{value:Q,onChange:s=>Me(s.target.value),placeholder:"192.168.1.100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Port *"}),e.jsx(r,{type:"number",value:X,onChange:s=>Ue(parseInt(s.target.value)||8080),min:1,max:65535})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Weight"}),e.jsx(r,{type:"number",value:ze,onChange:s=>Fe(parseInt(s.target.value)||100),min:1})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>te(null),children:"Cancel"}),e.jsx(o,{onClick:()=>ys&&_s(ys),children:"Add"})]})]})}),e.jsx(q,{open:!!ce,onOpenChange:s=>!s&&de(null),children:e.jsxs(O,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Edit Endpoint"}),e.jsx(U,{children:"Update endpoint configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Address *"}),e.jsx(r,{value:Q,onChange:s=>Me(s.target.value),placeholder:"192.168.1.100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Port *"}),e.jsx(r,{type:"number",value:X,onChange:s=>Ue(parseInt(s.target.value)||8080),min:1,max:65535})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Weight"}),e.jsx(r,{type:"number",value:ze,onChange:s=>Fe(parseInt(s.target.value)||100),min:1})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>de(null),children:"Cancel"}),e.jsx(o,{onClick:Us,children:"Save"})]})]})}),e.jsx(q,{open:Is,onOpenChange:ee,children:e.jsxs(O,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Create Listener"}),e.jsx(U,{children:"Configure a new network listener"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Listener Name *"}),e.jsx(r,{value:I,onChange:s=>Ve(s.target.value),placeholder:"http-listener"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Address"}),e.jsx(r,{value:Ge,onChange:s=>We(s.target.value),placeholder:"0.0.0.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Port *"}),e.jsx(r,{type:"number",value:B,onChange:s=>$e(parseInt(s.target.value)||80),min:1,max:65535})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Protocol"}),e.jsxs(R,{value:Qe,onValueChange:s=>Xe(s),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"HTTP",children:"HTTP"}),e.jsx(d,{value:"HTTPS",children:"HTTPS"}),e.jsx(d,{value:"TCP",children:"TCP"}),e.jsx(d,{value:"UDP",children:"UDP"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["http_connection_manager","tls_inspector","router","cors","ratelimit"].map(s=>e.jsx(p,{variant:S.includes(s)?"default":"outline",className:"cursor-pointer",onClick:()=>{S.includes(s)?J(S.filter(n=>n!==s)):J([...S,s])},children:s},s))})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>ee(!1),children:"Cancel"}),e.jsx(o,{onClick:Fs,children:"Create"})]})]})}),e.jsx(q,{open:!!K,onOpenChange:s=>!s&&le(null),children:e.jsxs(O,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Edit Listener"}),e.jsx(U,{children:"Update listener configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Listener Name *"}),e.jsx(r,{value:I,onChange:s=>Ve(s.target.value),placeholder:"http-listener"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Address"}),e.jsx(r,{value:Ge,onChange:s=>We(s.target.value),placeholder:"0.0.0.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Port *"}),e.jsx(r,{type:"number",value:B,onChange:s=>$e(parseInt(s.target.value)||80),min:1,max:65535})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Protocol"}),e.jsxs(R,{value:Qe,onValueChange:s=>Xe(s),children:[e.jsx(E,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(d,{value:"HTTP",children:"HTTP"}),e.jsx(d,{value:"HTTPS",children:"HTTPS"}),e.jsx(d,{value:"TCP",children:"TCP"}),e.jsx(d,{value:"UDP",children:"UDP"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["http_connection_manager","tls_inspector","router","cors","ratelimit"].map(s=>e.jsx(p,{variant:S.includes(s)?"default":"outline",className:"cursor-pointer",onClick:()=>{S.includes(s)?J(S.filter(n=>n!==s)):J([...S,s])},children:s},s))})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>le(null),children:"Cancel"}),e.jsx(o,{onClick:Gs,children:"Save"})]})]})}),e.jsx(q,{open:Bs,onOpenChange:se,children:e.jsxs(O,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Create Route"}),e.jsx(U,{children:"Configure a new routing rule"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Route Name *"}),e.jsx(r,{value:H,onChange:s=>Je(s.target.value),placeholder:"api-route"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Match Pattern *"}),e.jsx(r,{value:Z,onChange:s=>Ze(s.target.value),placeholder:"/api/*"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use * for wildcard, /api/* for prefix match"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Cluster *"}),e.jsxs(R,{value:A,onValueChange:Ke,children:[e.jsx(E,{children:e.jsx(P,{placeholder:"Select cluster"})}),e.jsx(D,{children:m.map(s=>e.jsx(d,{value:s.name,children:s.name},s.name))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Priority"}),e.jsx(r,{type:"number",value:Ye,onChange:s=>es(parseInt(s.target.value)||0),min:0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Timeout (ms)"}),e.jsx(r,{type:"number",value:ss,onChange:s=>ts(parseInt(s.target.value)||15e3),min:1})]})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),e.jsx(o,{onClick:$s,children:"Create"})]})]})}),e.jsx(q,{open:!!re,onOpenChange:s=>!s&&ie(null),children:e.jsxs(O,{children:[e.jsxs(_,{children:[e.jsx(M,{children:"Edit Route"}),e.jsx(U,{children:"Update route configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Route Name *"}),e.jsx(r,{value:H,onChange:s=>Je(s.target.value),placeholder:"api-route"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Match Pattern *"}),e.jsx(r,{value:Z,onChange:s=>Ze(s.target.value),placeholder:"/api/*"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use * for wildcard, /api/* for prefix match"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Cluster *"}),e.jsxs(R,{value:A,onValueChange:Ke,children:[e.jsx(E,{children:e.jsx(P,{placeholder:"Select cluster"})}),e.jsx(D,{children:m.map(s=>e.jsx(d,{value:s.name,children:s.name},s.name))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Priority"}),e.jsx(r,{type:"number",value:Ye,onChange:s=>es(parseInt(s.target.value)||0),min:0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Timeout (ms)"}),e.jsx(r,{type:"number",value:ss,onChange:s=>ts(parseInt(s.target.value)||15e3),min:1})]})]})]}),e.jsxs(z,{children:[e.jsx(o,{variant:"outline",onClick:()=>ie(null),children:"Cancel"}),e.jsx(o,{onClick:Xs,children:"Save"})]})]})}),e.jsx(os,{open:!!oe,onOpenChange:s=>!s&&bs(null),children:e.jsxs(hs,{children:[e.jsxs(xs,{children:[e.jsx(us,{children:"Delete Cluster"}),e.jsxs(ms,{children:['Are you sure you want to delete cluster "',oe,'"? This action cannot be undone.']})]}),e.jsxs(js,{children:[e.jsx(ps,{children:"Cancel"}),e.jsx(vs,{onClick:()=>oe&&Os(oe),children:"Delete"})]})]})}),e.jsx(os,{open:!!he,onOpenChange:s=>!s&&ws(null),children:e.jsxs(hs,{children:[e.jsxs(xs,{children:[e.jsx(us,{children:"Delete Listener"}),e.jsxs(ms,{children:['Are you sure you want to delete listener "',he,'"? This action cannot be undone.']})]}),e.jsxs(js,{children:[e.jsx(ps,{children:"Cancel"}),e.jsx(vs,{onClick:()=>he&&Ws(he),children:"Delete"})]})]})}),e.jsx(os,{open:!!xe,onOpenChange:s=>!s&&ks(null),children:e.jsxs(hs,{children:[e.jsxs(xs,{children:[e.jsx(us,{children:"Delete Route"}),e.jsxs(ms,{children:['Are you sure you want to delete route "',xe,'"? This action cannot be undone.']})]}),e.jsxs(js,{children:[e.jsx(ps,{children:"Cancel"}),e.jsx(vs,{onClick:()=>xe&&Js(xe),children:"Delete"})]})]})}),e.jsx(os,{open:!!ue,onOpenChange:s=>!s&&Ss(null),children:e.jsxs(hs,{children:[e.jsxs(xs,{children:[e.jsx(us,{children:"Delete Endpoint"}),e.jsx(ms,{children:"Are you sure you want to delete this endpoint? This action cannot be undone."})]}),e.jsxs(js,{children:[e.jsx(ps,{children:"Cancel"}),e.jsx(vs,{onClick:()=>{ue&&zs(ue.clusterName,ue.endpointIndex)},children:"Delete"})]})]})})]})}export{Ct as EnvoyConfigAdvanced};
