import{u as Ee,a as Ke,r as C,j as e,e as ne,B as le,n as U,S as je,C as S,h as P,i as T,k as I,m as O,L as i,I as v,T as _e,b as Xe,c as z,d as Ae,A as ge,f as H,l as N,P as _,a5 as Se,as as Pe,ah as Ye,q,s as $,t as k,v as L,w as u,x as X,O as Qe,at as We,o as fe,Q as Ze,V as es,W as ss,X as ts,Y as as,_ as rs,$ as ns,au as ls,av as is,ag as cs}from"./index-C50GjM4J.js";import{T as J}from"./textarea-DH0yP9d7.js";import{P as ie}from"./progress-BwopX1mm.js";import{R as os,C as ds,a as hs}from"./index-AOT-uTZJ.js";import{d as V,a as B,s as Te}from"./toast-CdfuIZXR.js";import{G as Oe}from"./globe-Cj18Fm8d.js";import{T as qe}from"./trending-up-CqV69w_5.js";import{C as $e}from"./clock-RuilHuG5.js";import{C as ce}from"./code-jfFhfS2k.js";const ve=os,xs=ds,ke=hs;function bs({componentId:M}){const{nodes:Le,updateNode:Ne}=Ee(),{nodes:Me}=Ee(),j=Ke(s=>s.componentMetrics.get(M)),[Y,Re]=C.useState({}),[F,Q]=C.useState(new Map),[G,oe]=C.useState(""),[W,ye]=C.useState("all"),[Z,be]=C.useState("all"),R=Le.find(s=>s.id===M);if(!R)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const y=R.data.config||{},ee=y.baseUrl||"https://api.example.com",se=y.version||"v1",de=y.title||"REST API",Ce=y.description||"RESTful API service",c=y.endpoints||[],f=y.authentication||{type:"none"},w=y.cors||{enabled:!1,allowedOrigins:[],allowedMethods:["GET","POST","PUT","DELETE","PATCH"],allowedHeaders:["Content-Type","Authorization"]},D=y.rateLimit||{enabled:!1,requestsPerSecond:1e3,burst:100},he=y.openApiSpec||`openapi: 3.0.0
info:
  title: ${de}
  version: ${se}
  description: ${Ce}
servers:
  - url: ${ee}
paths:
  /users:
    get:
      summary: List users
      tags: [users]
      responses:
        '200':
          description: Successful response`;C.useEffect(()=>{const s=ne.getRestApiRoutingEngine(M);if(s){const r=s.getAllEndpointStats();Re(r)}},[M,j]);const Ie=Me.filter(s=>s.id!==M&&s.type!=="rest"),xe=C.useMemo(()=>{const s=new Set;return c.forEach(r=>{r.tags&&r.tags.forEach(t=>s.add(t))}),Array.from(s).sort()},[c]),te=C.useMemo(()=>{let s=[...c];if(G.trim()){const r=G.toLowerCase();s=s.filter(t=>t.path.toLowerCase().includes(r)||t.description.toLowerCase().includes(r)||t.summary?.toLowerCase().includes(r)||t.tags?.some(o=>o.toLowerCase().includes(r)))}return W!=="all"&&(s=s.filter(r=>r.method===W)),Z!=="all"&&(s=s.filter(r=>r.tags?.includes(Z))),s},[c,G,W,Z]),we=s=>s?s.startsWith("/")?null:"Path must start with /":"Path is required",ae=s=>{if(!s.trim())return null;try{return JSON.parse(s),null}catch{return"Invalid JSON format"}},re=(s,r,t)=>{const o=we(s.path);if(o)return o;if(t.findIndex((g,a)=>a!==r&&g.method===s.method&&g.path===s.path)!==-1)return`Duplicate endpoint: ${s.method} ${s.path} already exists`;if(s.requestBody){const g=ae(s.requestBody);if(g)return`Request Body: ${g}`}if(s.responseExample){const g=ae(s.responseExample);if(g)return`Response Example: ${g}`}return null},x=C.useCallback(s=>{const r={...y,...s};if(Ne(M,{data:{...R.data,config:r}}),ne.getRestApiRoutingEngine(M)){const o={...R,data:{...R.data,config:r}};ne.updateNodesAndConnections([o],[])}else ne.updateNodesAndConnections([{...R,data:{...R.data,config:r}}],[])},[M,R,y,Ne]),De=()=>{const s={path:"/new-endpoint",method:"GET",description:"New endpoint",requests:0,avgResponseTime:0,statusCode:200},r=re(s,c.length,[...c,s]);if(r){V(r);return}x({endpoints:[...c,s]}),B("Endpoint added successfully")},Be=s=>{const r=c[s];x({endpoints:c.filter((t,o)=>o!==s)}),B(`Endpoint ${r.method} ${r.path} removed`)},[Ue,me]=C.useState(null),[pe,K]=C.useState(null),E=(s,r,t)=>{const o=[...c],n={...o[s]};o[s]={...o[s],[r]:t};const g=re(o[s],s,o);if(g){V(g),o[s]=n;return}x({endpoints:o}),(r==="path"||r==="method")&&B("Endpoint updated")},ue=s=>{if(!s.trim())return null;try{return JSON.parse(s),null}catch{if(!s.includes("openapi:")&&!s.includes('"openapi"'))return'Invalid OpenAPI spec: missing "openapi" field';if(!s.includes("info:")&&!s.includes('"info"'))return'Invalid OpenAPI spec: missing "info" field';const r=s.split(`
`);let t=0;for(const o of r)if(o.includes("{")&&t++,o.includes("}")&&t--,t<0)return"Invalid YAML/JSON: unmatched closing brace";return null}},ze=()=>{try{let s;try{s=JSON.parse(he)}catch{Te("Please convert YAML to JSON manually or use a YAML-to-JSON converter");return}const r=JSON.stringify(s,null,2),t=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download=`${de||"api"}-openapi.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o),B("OpenAPI spec exported to JSON")}catch{Te("Failed to export OpenAPI spec")}},He=s=>{const r=s.target.files?.[0];if(!r)return;const t=new FileReader;t.onload=o=>{const n=o.target?.result;if(!n)return;const g=ue(n);if(g){K(g),V(g);return}K(null),x({openApiSpec:n}),B("OpenAPI spec imported successfully")},t.readAsText(r),s.target.value=""},Je=()=>{for(let n=0;n<c.length;n++){const g=re(c[n],n,c);if(g){V(`Endpoint ${n+1}: ${g}`);return}}const s={};c.forEach(n=>{if(n.enabled===!1)return;s[n.path]||(s[n.path]={});const g=n.method.toLowerCase(),a={summary:n.summary||n.description,description:n.description,tags:n.tags||[],responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object"}}}}}};if(n.parameters&&n.parameters.length>0&&(a.parameters=n.parameters.map(l=>{const d={type:l.type||"string"};return l.type==="array"&&l.itemsType&&(d.items={type:l.itemsType}),l.type==="object"&&l.properties&&l.properties.length>0&&(d.properties={},d.required=[],l.properties.forEach(h=>{d.properties[h.name]={type:h.type||"string"},h.required&&d.required.push(h.name)}),d.required.length===0&&delete d.required),{name:l.name,in:l.in,required:l.required,schema:d,description:l.defaultValue?`Default: ${l.defaultValue}`:void 0}})),["POST","PUT","PATCH"].includes(n.method)&&n.requestBody)try{const l=JSON.parse(n.requestBody);a.requestBody={required:!0,content:{"application/json":{schema:{type:"object"},example:l}}}}catch{a.requestBody={required:!0,content:{"application/json":{schema:{type:"object"},example:n.requestBody}}}}if(n.responseExample)try{const l=JSON.parse(n.responseExample);a.responses[200].content["application/json"].example=l}catch{a.responses[200].content["application/json"].example=n.responseExample}s[n.path][g]=a});const r=n=>n.includes(`
`)||n.includes(":")||n.includes('"')||n.includes("'")?`"${n.replace(/"/g,'\\"')}"`:n;let t=`openapi: 3.0.0
info:
  title: ${r(de)}
  version: ${r(se)}
  description: ${r(Ce)}
servers:
  - url: ${r(ee)}
    description: API Server
paths:
`;for(const[n,g]of Object.entries(s)){t+=`  ${n}:
`;for(const[a,l]of Object.entries(g)){const d=l;if(t+=`    ${a}:
      summary: ${r(d.summary||"")}
      description: ${r(d.description||"")}
`,d.tags&&d.tags.length>0&&(t+=`      tags:
`,d.tags.forEach(h=>{t+=`        - ${r(h)}
`})),d.parameters&&d.parameters.length>0&&(t+=`      parameters:
`,d.parameters.forEach(h=>{t+=`        - name: ${r(h.name)}
          in: ${h.in}
          required: ${h.required}
          schema:
            type: ${h.schema.type||"string"}
`,h.schema.type==="array"&&h.schema.items&&(t+=`            items:
              type: ${h.schema.items.type}
`),h.schema.type==="object"&&h.schema.properties&&(t+=`            properties:
`,Object.entries(h.schema.properties).forEach(([m,p])=>{t+=`              ${r(m)}:
                type: ${p.type||"string"}
`}),h.schema.required&&h.schema.required.length>0&&(t+=`            required:
`,h.schema.required.forEach(m=>{t+=`              - ${r(m)}
`}))),h.description&&(t+=`          description: ${r(h.description)}
`)})),d.requestBody&&(t+=`      requestBody:
        required: ${d.requestBody.required}
        content:
          application/json:
            schema:
              type: object
`,d.requestBody.content["application/json"].example)){const h=d.requestBody.content["application/json"].example,m=typeof h=="string"?h:JSON.stringify(h,null,2);t+=`            example: |
${m.split(`
`).map(p=>`              ${p}`).join(`
`)}
`}if(t+=`      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
`,d.responses[200].content["application/json"].example){const h=d.responses[200].content["application/json"].example,m=typeof h=="string"?h:JSON.stringify(h,null,2);t+=`              example: |
${m.split(`
`).map(p=>`                ${p}`).join(`
`)}
`}}}const o=ue(t);if(o){K(o),V(o);return}K(null),x({openApiSpec:t}),B("OpenAPI specification generated successfully")},Ve=s=>{const r=c[s],t={...r,path:`${r.path}-copy`,description:`${r.description} (Copy)`},o=re(t,c.length,[...c,t]);if(o){V(o);return}x({endpoints:[...c,t]}),B(`Endpoint ${r.method} ${r.path} copied`)},Fe=s=>{switch(s){case"GET":return"bg-blue-500";case"POST":return"bg-green-500";case"PUT":return"bg-yellow-500";case"DELETE":return"bg-red-500";case"PATCH":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(Oe,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"REST API"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"RESTful API Service"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(le,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${j&&j.throughput>0?"bg-green-500 animate-pulse":"bg-gray-400"}`}),j&&j.throughput>0?"Active":"Idle"]}),j&&e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"text-muted-foreground",children:[Math.round(j.throughput)," req/s"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($e,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{className:"text-muted-foreground",children:[Math.round(j.latency),"ms"]})]}),j.errorRate>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:"text-muted-foreground",children:[(j.errorRate*100).toFixed(1),"%"]})]})]})]})]}),e.jsx(je,{}),e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"API Information"}),e.jsxs(I,{children:[ee,"/",se]})]}),e.jsx(O,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Base URL"}),e.jsx(v,{value:ee,onChange:s=>x({baseUrl:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Version"}),e.jsx(v,{value:se,onChange:s=>x({version:s.target.value})})]})]})})]}),e.jsxs(_e,{defaultValue:"endpoints",className:"w-full",children:[e.jsxs(Xe,{className:"flex flex-wrap w-full justify-start gap-1",children:[e.jsxs(z,{value:"endpoints",className:"gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Endpoints"]}),e.jsxs(z,{value:"auth",className:"gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Authentication"]}),e.jsxs(z,{value:"metrics",className:"gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Metrics"]}),e.jsxs(z,{value:"openapi",className:"gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),"OpenAPI Spec"]}),e.jsxs(z,{value:"cors",className:"gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"CORS"]}),e.jsxs(z,{value:"rate-limit",className:"gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Rate Limit"]})]}),e.jsx(H,{value:"endpoints",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{children:"API Endpoints"}),e.jsx(I,{children:"REST API endpoint configuration"})]}),e.jsxs(N,{size:"sm",onClick:De,variant:"outline",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]})]})}),e.jsxs(O,{children:[c.length>0&&e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(v,{placeholder:"Search endpoints by path, description, tags...",value:G,onChange:s=>oe(s.target.value),className:"pl-9"}),G&&e.jsx(N,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6",onClick:()=>oe(""),children:e.jsx(Pe,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(q,{value:W,onValueChange:ye,children:[e.jsx($,{className:"w-[140px]",children:e.jsx(k,{placeholder:"All methods"})}),e.jsxs(L,{children:[e.jsx(u,{value:"all",children:"All Methods"}),e.jsx(u,{value:"GET",children:"GET"}),e.jsx(u,{value:"POST",children:"POST"}),e.jsx(u,{value:"PUT",children:"PUT"}),e.jsx(u,{value:"DELETE",children:"DELETE"}),e.jsx(u,{value:"PATCH",children:"PATCH"})]})]}),xe.length>0&&e.jsxs(q,{value:Z,onValueChange:be,children:[e.jsx($,{className:"w-[140px]",children:e.jsx(k,{placeholder:"All tags"})}),e.jsxs(L,{children:[e.jsx(u,{value:"all",children:"All Tags"}),xe.map(s=>e.jsx(u,{value:s,children:s},s))]})]})]})]}),te.length!==c.length&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",te.length," of ",c.length," endpoints"]})]}),c.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ce,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No endpoints configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Endpoint" to create a new endpoint'})]}):te.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Se,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No endpoints match your search criteria"}),e.jsx(N,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{oe(""),ye("all"),be("all")},children:"Clear filters"})]}):e.jsx("div",{className:"space-y-3",children:te.map((s,r)=>{const t=c.findIndex(a=>a.method===s.method&&a.path===s.path),o=we(s.path),n=s.requestBody?ae(s.requestBody):null,g=s.responseExample?ae(s.responseExample):null;return e.jsxs(S,{className:"border-border",children:[e.jsx(P,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:Fe(s.method),children:s.method}),e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-lg",children:s.path}),e.jsx(I,{className:"text-xs mt-1",children:s.description}),(()=>{const a=`${s.method}:${s.path}`,l=Y[a];return l?e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[e.jsx(qe,{className:"h-3 w-3"}),e.jsxs("span",{children:[l.requestCount.toLocaleString()," requests"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[e.jsx($e,{className:"h-3 w-3"}),e.jsxs("span",{children:[Math.round(l.averageLatency),"ms avg"]})]}),l.errorCount>0&&e.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[e.jsx(U,{className:"h-3 w-3"}),e.jsxs("span",{children:[l.errorCount," errors"]})]})]}):null})()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{htmlFor:`enabled-${t}`,className:"text-xs",children:"Enabled"}),e.jsx(X,{id:`enabled-${t}`,checked:s.enabled!==!1,onCheckedChange:a=>E(t,"enabled",a)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{size:"icon",variant:"ghost",className:"hover:bg-blue-500/10 hover:text-blue-500",onClick:a=>{a.stopPropagation(),Ve(t)},title:"Copy endpoint",children:e.jsx(ce,{className:"h-4 w-4"})}),e.jsxs(Qe,{open:Ue===t,onOpenChange:a=>me(a?t:null),children:[e.jsx(We,{asChild:!0,children:e.jsx(N,{size:"icon",variant:"ghost",className:"hover:bg-destructive/10 hover:text-destructive",onClick:a=>{a.stopPropagation(),me(t)},children:e.jsx(fe,{className:"h-4 w-4"})})}),e.jsxs(Ze,{children:[e.jsxs(es,{children:[e.jsx(ss,{children:"Delete Endpoint"}),e.jsxs(ts,{children:["Are you sure you want to delete the endpoint ",e.jsxs("strong",{children:[s.method," ",s.path]}),"? This action cannot be undone."]})]}),e.jsxs(as,{children:[e.jsx(rs,{children:"Cancel"}),e.jsx(ns,{onClick:()=>{Be(t),me(null)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]})})}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Method"}),e.jsxs(q,{value:s.method,onValueChange:a=>E(t,"method",a),children:[e.jsx($,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(u,{value:"GET",children:"GET"}),e.jsx(u,{value:"POST",children:"POST"}),e.jsx(u,{value:"PUT",children:"PUT"}),e.jsx(u,{value:"DELETE",children:"DELETE"}),e.jsx(u,{value:"PATCH",children:"PATCH"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Path"}),e.jsx(v,{value:s.path,onChange:a=>E(t,"path",a.target.value),placeholder:"/users",className:o?"border-red-500":""}),o&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),o]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Description"}),e.jsx(J,{value:s.description,onChange:a=>E(t,"description",a.target.value),placeholder:"Describe what this endpoint does",rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Brief description of the endpoint functionality"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.tags&&s.tags.length>0?s.tags.map((a,l)=>e.jsxs(le,{variant:"secondary",className:"gap-1",children:[a,e.jsx("button",{onClick:()=>{const d=[...c];d[t].tags=d[t].tags?.filter((h,m)=>m!==l),x({endpoints:d})},className:"ml-1 hover:text-destructive",children:e.jsx(Pe,{className:"h-3 w-3"})})]},l)):e.jsx("p",{className:"text-xs text-muted-foreground",children:"No tags"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{placeholder:"Add tag...",onKeyDown:a=>{if(a.key==="Enter"&&a.currentTarget.value.trim()){a.preventDefault();const l=a.currentTarget.value.trim(),d=[...c];d[t].tags||(d[t].tags=[]),d[t].tags.includes(l)||(d[t].tags.push(l),x({endpoints:d})),a.currentTarget.value=""}},list:`tags-list-${t}`}),e.jsx("datalist",{id:`tags-list-${t}`,children:xe.filter(a=>!s.tags?.includes(a)).map(a=>e.jsx("option",{value:a},a))}),e.jsxs(N,{type:"button",size:"sm",variant:"outline",onClick:a=>{const l=a.currentTarget.previousElementSibling;if(l&&l.value.trim()){const d=l.value.trim(),h=[...c];h[t].tags||(h[t].tags=[]),h[t].tags.includes(d)||(h[t].tags.push(d),x({endpoints:h})),l.value=""}},children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tags for grouping endpoints in OpenAPI documentation. Press Enter or click Add to add a tag."})]}),e.jsxs("div",{className:"space-y-4 pt-2 border-t",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(i,{className:"text-sm font-semibold",children:"Advanced Settings"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs",children:"Target Service (optional)"}),e.jsxs(q,{value:s.targetService||"none",onValueChange:a=>E(t,"targetService",a==="none"?void 0:a),children:[e.jsx($,{children:e.jsx(k,{placeholder:"Select target service"})}),e.jsxs(L,{children:[e.jsx(u,{value:"none",children:"None (direct response)"}),Ie.map(a=>e.jsx(u,{value:a.id,children:a.data.label||a.type},a.id))]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests to a connected service"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs",children:"Rate Limit (req/s)"}),e.jsx(v,{type:"number",value:s.rateLimit||"",onChange:a=>E(t,"rateLimit",a.target.value?parseInt(a.target.value):void 0),placeholder:"Unlimited"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests per second limit for this endpoint"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs",children:"Summary (for OpenAPI)"}),e.jsx(v,{value:s.summary||"",onChange:a=>E(t,"summary",a.target.value),placeholder:"Brief summary for API documentation"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Short summary used in OpenAPI specification"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs",children:"Timeout (ms)"}),e.jsx(v,{type:"number",value:s.timeout||"",onChange:a=>E(t,"timeout",a.target.value?parseInt(a.target.value):void 0),placeholder:"No timeout",min:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Request timeout in milliseconds (optional)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Parameters"}),e.jsxs(N,{size:"sm",variant:"outline",onClick:()=>{const a=[...c];a[t].parameters||(a[t].parameters=[]),a[t].parameters.push({name:"param",in:"query",type:"string",required:!1,defaultValue:void 0}),x({endpoints:a})},children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"Add Parameter"]})]}),s.parameters&&s.parameters.length>0?e.jsx("div",{className:"space-y-2",children:s.parameters.map((a,l)=>{const d=`param-${t}-${l}`,h=F.get(d)||!1;return e.jsxs("div",{className:"border border-border rounded-lg bg-card shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-background/50",children:[e.jsxs(q,{value:a.in,onValueChange:m=>{const p=[...c];p[t].parameters[l].in=m,x({endpoints:p})},children:[e.jsx($,{className:"w-24",children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(u,{value:"query",children:"Query"}),e.jsx(u,{value:"path",children:"Path"}),e.jsx(u,{value:"header",children:"Header"})]})]}),e.jsx(v,{value:a.name,onChange:m=>{const p=[...c];p[t].parameters[l].name=m.target.value,x({endpoints:p})},placeholder:"Parameter name",className:"flex-1"}),e.jsxs(q,{value:a.type||"string",onValueChange:m=>{const p=[...c];p[t].parameters[l].type=m,m!=="object"&&delete p[t].parameters[l].properties,m!=="array"&&delete p[t].parameters[l].itemsType,x({endpoints:p})},children:[e.jsx($,{className:"w-32",children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(u,{value:"string",children:"string"}),e.jsx(u,{value:"number",children:"number"}),e.jsx(u,{value:"integer",children:"integer"}),e.jsx(u,{value:"boolean",children:"boolean"}),e.jsx(u,{value:"array",children:"array"}),e.jsx(u,{value:"object",children:"object"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"text-xs",children:"Required"}),e.jsx(X,{checked:a.required,onCheckedChange:m=>{const p=[...c];p[t].parameters[l].required=m,x({endpoints:p})}})]}),(a.type==="object"||a.type==="array")&&e.jsx(ve,{open:h,onOpenChange:m=>{const p=new Map(F);p.set(d,m),Q(p)},children:e.jsx(xs,{asChild:!0,children:e.jsx(N,{size:"icon",variant:"ghost",children:h?e.jsx(ls,{className:"h-4 w-4"}):e.jsx(is,{className:"h-4 w-4"})})})}),e.jsx(N,{size:"icon",variant:"ghost",onClick:()=>{const m=[...c];m[t].parameters=m[t].parameters.filter((A,b)=>b!==l),x({endpoints:m});const p=new Map(F);p.delete(d),Q(p)},children:e.jsx(fe,{className:"h-4 w-4"})})]}),a.type==="object"&&e.jsx(ve,{open:h,onOpenChange:m=>{const p=new Map(F);p.set(d,m),Q(p)},children:e.jsx(ke,{className:"px-2 pb-2",children:e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-xs font-semibold",children:"Object Properties"}),e.jsxs(N,{size:"sm",variant:"outline",onClick:()=>{const m=[...c];m[t].parameters[l].properties||(m[t].parameters[l].properties=[]),m[t].parameters[l].properties.push({name:"property",type:"string",required:!1}),x({endpoints:m})},children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"Add Property"]})]}),a.properties&&a.properties.length>0?e.jsx("div",{className:"space-y-2",children:a.properties.map((m,p)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-card border border-border rounded-md shadow-sm",children:[e.jsx(v,{value:m.name,onChange:A=>{const b=[...c];b[t].parameters[l].properties[p].name=A.target.value,x({endpoints:b})},placeholder:"Property name",className:"flex-1 bg-background"}),e.jsxs(q,{value:m.type||"string",onValueChange:A=>{const b=[...c];b[t].parameters[l].properties[p].type=A,x({endpoints:b})},children:[e.jsx($,{className:"w-28 bg-background",children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(u,{value:"string",children:"string"}),e.jsx(u,{value:"number",children:"number"}),e.jsx(u,{value:"integer",children:"integer"}),e.jsx(u,{value:"boolean",children:"boolean"}),e.jsx(u,{value:"array",children:"array"}),e.jsx(u,{value:"object",children:"object"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2",children:[e.jsx(i,{className:"text-xs font-medium text-foreground",children:"Required"}),e.jsx(X,{checked:m.required,onCheckedChange:A=>{const b=[...c];b[t].parameters[l].properties[p].required=A,x({endpoints:b})}})]}),e.jsx(N,{size:"icon",variant:"ghost",className:"hover:bg-destructive/10 hover:text-destructive",onClick:()=>{const A=[...c];A[t].parameters[l].properties=A[t].parameters[l].properties.filter((b,Ge)=>Ge!==p),x({endpoints:A})},children:e.jsx(fe,{className:"h-4 w-4"})})]},p))}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"No properties defined"})]})})}),a.type==="array"&&e.jsx(ve,{open:h,onOpenChange:m=>{const p=new Map(F);p.set(d,m),Q(p)},children:e.jsx(ke,{className:"px-2 pb-2",children:e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsx(i,{className:"text-xs font-semibold",children:"Array Items Type"}),e.jsxs(q,{value:a.itemsType||"string",onValueChange:m=>{const p=[...c];p[t].parameters[l].itemsType=m,x({endpoints:p})},children:[e.jsx($,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(u,{value:"string",children:"string"}),e.jsx(u,{value:"number",children:"number"}),e.jsx(u,{value:"integer",children:"integer"}),e.jsx(u,{value:"boolean",children:"boolean"}),e.jsx(u,{value:"object",children:"object"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Type of elements in the array"})]})})})]},l)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No parameters configured"})]}),["POST","PUT","PATCH"].includes(s.method)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Request Body Example"}),e.jsx(J,{value:s.requestBody||"",onChange:a=>E(t,"requestBody",a.target.value),className:`font-mono text-sm ${n?"border-red-500":""}`,rows:6,placeholder:'{"key": "value"}'}),n&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),n]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"JSON example for request body (used in OpenAPI spec)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Response Example"}),e.jsx(J,{value:s.responseExample||"",onChange:a=>E(t,"responseExample",a.target.value),className:`font-mono text-sm ${g?"border-red-500":""}`,rows:6,placeholder:'{"data": [], "count": 0}'}),g&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),g]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"JSON example for successful response (used in OpenAPI spec)"})]})]})]},`${s.method}-${s.path}-${t}`)})})]})]})}),e.jsx(H,{value:"auth",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Authentication"}),e.jsx(I,{children:"API authentication configuration"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Authentication Type"}),e.jsxs(q,{value:f.type,onValueChange:s=>x({authentication:{...f,type:s}}),children:[e.jsx($,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(u,{value:"none",children:"None"}),e.jsx(u,{value:"bearer",children:"Bearer Token"}),e.jsx(u,{value:"apiKey",children:"API Key"}),e.jsx(u,{value:"basic",children:"Basic Auth"}),e.jsx(u,{value:"oauth2",children:"OAuth 2.0"})]})]})]}),f.type==="bearer"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Bearer Token"}),e.jsx(v,{type:"password",value:f.token||"",onChange:s=>x({authentication:{...f,token:s.target.value}}),placeholder:"Enter bearer token"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Token to validate in Authorization: Bearer header"})]}),f.type==="apiKey"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"API Key"}),e.jsx(v,{type:"password",value:f.apiKey||f.token||"",onChange:s=>x({authentication:{...f,apiKey:s.target.value,token:s.target.value}}),placeholder:"Enter API key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"API Key Header Name"}),e.jsx(v,{value:f.apiKeyHeader||"X-API-Key",onChange:s=>x({authentication:{...f,apiKeyHeader:s.target.value}}),placeholder:"X-API-Key"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Header name where API key should be provided (default: X-API-Key)"})]})]}),f.type==="basic"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Username"}),e.jsx(v,{value:f.username||"",onChange:s=>x({authentication:{...f,username:s.target.value}}),placeholder:"Enter username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Password"}),e.jsx(v,{type:"password",value:f.password||"",onChange:s=>x({authentication:{...f,password:s.target.value}}),placeholder:"Enter password"})]})]}),f.type==="oauth2"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Token Endpoint"}),e.jsx(v,{value:f.oauth2Config?.tokenEndpoint||"",onChange:s=>x({authentication:{...f,oauth2Config:{...f.oauth2Config,tokenEndpoint:s.target.value}}}),placeholder:"https://oauth.example.com/token"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Client ID"}),e.jsx(v,{value:f.oauth2Config?.clientId||"",onChange:s=>x({authentication:{...f,oauth2Config:{...f.oauth2Config,clientId:s.target.value}}}),placeholder:"Client ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Client Secret"}),e.jsx(v,{type:"password",value:f.oauth2Config?.clientSecret||"",onChange:s=>x({authentication:{...f,oauth2Config:{...f.oauth2Config,clientSecret:s.target.value}}}),placeholder:"Client Secret"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Scopes (comma-separated)"}),e.jsx(v,{value:f.oauth2Config?.scopes?.join(", ")||"",onChange:s=>x({authentication:{...f,oauth2Config:{...f.oauth2Config,scopes:s.target.value.split(",").map(r=>r.trim()).filter(r=>r)}}}),placeholder:"read, write, admin"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"OAuth2 scopes required for access (comma-separated)"})]})]})]})]})}),e.jsx(H,{value:"metrics",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"API Metrics"}),e.jsx(I,{children:"Real-time performance metrics"})]}),e.jsx(O,{className:"space-y-4",children:j?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Throughput"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{value:Math.min(100,j.throughput/(j.customMetrics?.rps||100)*100),className:"flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(j.throughput)," req/s"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Average Latency"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{value:Math.min(100,j.latency/200*100),className:"flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(j.latency),"ms"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Error Rate"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{value:j.errorRate*100,className:"flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[(j.errorRate*100).toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Utilization"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{value:j.utilization*100,className:"flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(j.utilization*100),"%"]})]})]})]}),(j.latencyP50||j.latencyP99)&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(i,{className:"mb-2",children:"Latency Percentiles"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[j.latencyP50&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"P50 (Median)"}),e.jsxs("div",{className:"text-lg font-semibold",children:[Math.round(j.latencyP50),"ms"]})]}),j.latencyP95&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"P95"}),e.jsxs("div",{className:"text-lg font-semibold",children:[Math.round(j.latencyP95),"ms"]})]}),j.latencyP99&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"P99"}),e.jsxs("div",{className:"text-lg font-semibold",children:[Math.round(j.latencyP99),"ms"]})]})]})]}),Object.keys(Y).length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(i,{className:"mb-3",children:"Endpoint Statistics"}),e.jsx("div",{className:"space-y-4",children:Object.entries(Y).map(([s,r])=>{if(!r)return null;const t=r.statusCodeCounts||{},o=Object.entries(t).sort(([n],[g])=>parseInt(n)-parseInt(g));return e.jsxs(S,{className:"border-border",children:[e.jsx(P,{className:"pb-3",children:e.jsx(T,{className:"text-sm",children:s})}),e.jsxs(O,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Requests"}),e.jsx("div",{className:"font-semibold",children:r.requestCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"}),e.jsx("div",{className:"font-semibold text-red-500",children:r.errorCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Latency"}),e.jsxs("div",{className:"font-semibold",children:[Math.round(r.averageLatency),"ms"]})]})]}),o.length>0&&e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Status Codes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(([n,g])=>{const a=parseInt(n),l=a>=500?"bg-red-500":a>=400?"bg-orange-500":a>=300?"bg-yellow-500":"bg-green-500";return e.jsxs(le,{className:`${l} text-white`,children:[n,": ",g]},n)})})]})]})]},s)})})]}),j.customMetrics&&Object.keys(Y).length===0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(i,{className:"mb-2",children:"Endpoint Statistics"}),e.jsx("div",{className:"space-y-2",children:Object.entries(j.customMetrics).filter(([s])=>s.startsWith("endpoint_")).map(([s,r])=>{const t=s.split("_"),o=t.slice(1,-1).join("_"),n=t[t.length-1];return e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[o," (",n,")"]}),e.jsx("span",{className:"font-medium",children:typeof r=="number"?r.toLocaleString():r})]},s)})})]})]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ge,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No metrics available"}),e.jsx("p",{className:"text-xs mt-2",children:"Start simulation to see real-time metrics"})]})})]})}),e.jsx(H,{value:"cors",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"CORS Configuration"}),e.jsx(I,{children:"Cross-Origin Resource Sharing settings"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Enable CORS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow cross-origin requests from web browsers"})]}),e.jsx(X,{checked:w.enabled,onCheckedChange:s=>x({cors:{...w,enabled:s}})})]}),w.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(je,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Allowed Origins"}),e.jsx(J,{value:w.allowedOrigins?.join(`
`)||"",onChange:s=>x({cors:{...w,allowedOrigins:s.target.value.split(`
`).filter(r=>r.trim())}}),placeholder:`https://example.com
https://app.example.com
* (for all origins)`,rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"One origin per line. Use * to allow all origins (not recommended for production)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Allowed Methods"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"].map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`cors-method-${s}`,checked:w.allowedMethods?.includes(s)||!1,onChange:r=>{const t=w.allowedMethods||[],o=r.target.checked?[...t,s]:t.filter(n=>n!==s);x({cors:{...w,allowedMethods:o}})},className:"rounded border-gray-300"}),e.jsx(i,{htmlFor:`cors-method-${s}`,className:"text-sm font-normal cursor-pointer",children:s})]},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Allowed Headers"}),e.jsx(J,{value:w.allowedHeaders?.join(", ")||"",onChange:s=>x({cors:{...w,allowedHeaders:s.target.value.split(",").map(r=>r.trim()).filter(r=>r)}}),placeholder:"Content-Type, Authorization, X-Requested-With",rows:3}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of allowed headers"})]})]})]})]})}),e.jsx(H,{value:"rate-limit",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Global Rate Limiting"}),e.jsx(I,{children:"Configure global rate limits for the API"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Enable Global Rate Limit"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Limit requests per second across all endpoints"})]}),e.jsx(X,{checked:D.enabled,onCheckedChange:s=>x({rateLimit:{...D,enabled:s}})})]}),D.enabled&&e.jsxs(e.Fragment,{children:[e.jsx(je,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Requests Per Second"}),e.jsx(v,{type:"number",value:D.requestsPerSecond||1e3,onChange:s=>x({rateLimit:{...D,requestsPerSecond:parseInt(s.target.value)||1e3}}),placeholder:"1000",min:"1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum requests per second allowed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Burst Size"}),e.jsx(v,{type:"number",value:D.burst||100,onChange:s=>x({rateLimit:{...D,burst:parseInt(s.target.value)||100}}),placeholder:"100",min:"1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum burst requests allowed"})]})]})]})]})]})}),e.jsx(H,{value:"openapi",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{children:"OpenAPI Specification"}),e.jsx(I,{children:"OpenAPI 3.0 specification document"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{size:"sm",variant:"outline",onClick:Je,disabled:c.length===0,children:[e.jsx(cs,{className:"h-4 w-4 mr-2"}),"Generate from Endpoints"]}),e.jsxs(N,{size:"sm",variant:"outline",onClick:ze,disabled:!he,children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),e.jsxs("label",{children:[e.jsx(N,{size:"sm",variant:"outline",asChild:!0,className:"cursor-pointer",children:e.jsxs("span",{children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Import"]})}),e.jsx("input",{type:"file",accept:".json,.yaml,.yml",onChange:He,className:"hidden"})]})]})]})}),e.jsx(O,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"OpenAPI YAML"}),c.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.filter(s=>s.enabled!==!1).length," endpoint(s) configured"]})]}),e.jsx(J,{value:he,onChange:s=>{const r=s.target.value,t=ue(r);K(t),x({openApiSpec:r})},className:`font-mono text-sm h-96 ${pe?"border-red-500":""}`,placeholder:"openapi: 3.0.0..."}),pe&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),pe]}),c.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Configure endpoints first, then click "Generate from Endpoints" to create OpenAPI spec'})]})})]})})]})]})})}export{bs as RestApiConfigAdvanced};
