import{E as G,u as X,j as e,A as q,B as o,i as u,c as k,S as j,C as i,e as l,f as c,k as r,T as H,a as V,b as g,d as p,h,P,m as B,L as x,I as b,t as f,X as $,a9 as K}from"./index-CHKNZn98.js";import{P as Q}from"./progress-BgkEGxEf.js";import{G as S}from"./git-branch-Ca5AxnNt.js";import{P as A}from"./package-Bhv4wnrN.js";import{U as W}from"./users-DxnuAYzV.js";import{C as Y}from"./clock-CL3uNMwy.js";const Z=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ee=G("loader-circle",Z);function ce({componentId:C}){const{nodes:E,updateNode:I}=X(),N=E.find(s=>s.id===C);if(!N)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const n=N.data.config||{},T=n.jenkinsUrl||"http://jenkins:8080",R=n.enableCSRF??!0,y=n.executorCount||2;n.enablePlugins;const m=n.plugins||["git","docker","kubernetes"],F=n.enablePipeline??!0,z=n.enableBlueOcean??!1,w=n.enableArtifactArchiving??!0,D=n.retentionDays||30,d=n.pipelines||[{id:"1",name:"main-pipeline",status:"success",lastBuild:42,duration:120,branch:"main"},{id:"2",name:"deploy-staging",status:"running",lastBuild:15,duration:45,branch:"develop"},{id:"3",name:"test-suite",status:"failed",lastBuild:8,duration:30,branch:"feature/test"}],a=s=>{I(C,{data:{...N.data,config:{...n,...s}}})},U=()=>{a({pipelines:[...d,{id:String(d.length+1),name:"new-pipeline",status:"pending",lastBuild:0}]})},J=s=>{a({pipelines:d.filter((t,v)=>v!==s)})},L=()=>{a({plugins:[...m,"new-plugin"]})},O=s=>{a({plugins:m.filter((t,v)=>v!==s)})},_=s=>{switch(s){case"success":return e.jsx(K,{className:"h-4 w-4 text-green-500"});case"running":return e.jsx(ee,{className:"h-4 w-4 text-blue-500 animate-spin"});case"failed":return e.jsx($,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"})}},M=s=>{switch(s){case"success":return e.jsx(o,{variant:"default",className:"bg-green-500",children:"Success"});case"running":return e.jsx(o,{variant:"default",className:"bg-blue-500",children:"Running"});case"failed":return e.jsx(o,{variant:"destructive",children:"Failed"});default:return e.jsx(o,{variant:"secondary",children:"Pending"})}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:e.jsx(q,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Jenkins"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Continuous Integration & Delivery"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(u,{size:"sm",variant:"outline",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Configure"]})]})]}),e.jsx(j,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(i,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Pipelines"})}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total pipelines"})]})]}),e.jsxs(i,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Executors"})}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available"})]})]}),e.jsxs(i,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Plugins"})}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Installed"})]})]}),e.jsxs(i,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Builds"})}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.reduce((s,t)=>s+t.lastBuild,0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total builds"})]})]})]}),e.jsxs(H,{defaultValue:"pipelines",className:"w-full",children:[e.jsxs(V,{className:"grid w-full grid-cols-4",children:[e.jsxs(g,{value:"pipelines",className:"gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Pipelines"]}),e.jsxs(g,{value:"plugins",className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Plugins"]}),e.jsxs(g,{value:"executors",className:"gap-2",children:[e.jsx(W,{className:"h-4 w-4"}),"Executors"]}),e.jsxs(g,{value:"settings",className:"gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(p,{value:"pipelines",className:"space-y-4 mt-4",children:e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Pipelines"}),e.jsx(h,{children:"CI/CD pipeline configuration and monitoring"})]}),e.jsxs(u,{size:"sm",onClick:U,variant:"outline",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"New Pipeline"]})]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:d.map((s,t)=>e.jsxs(i,{className:"border-border",children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[_(s.status),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{className:"text-lg",children:s.name}),e.jsxs(h,{className:"text-xs mt-1 flex items-center gap-2",children:[e.jsx(S,{className:"h-3 w-3"}),s.branch||"main"," • Build #",s.lastBuild,s.duration&&` • ${s.duration}s`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[M(s.status),d.length>1&&e.jsx(u,{size:"icon",variant:"ghost",onClick:()=>J(t),children:e.jsx(B,{className:"h-4 w-4"})})]})]})}),s.status==="running"&&e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsx("span",{children:"65%"})]}),e.jsx(Q,{value:65,className:"h-2"})]})})]},t))})})]})}),e.jsx(p,{value:"plugins",className:"space-y-4 mt-4",children:e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Plugins"}),e.jsx(h,{children:"Installed Jenkins plugins"})]}),e.jsxs(u,{size:"sm",onClick:L,variant:"outline",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Install Plugin"]})]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-2",children:m.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border rounded-lg bg-card",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(A,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold capitalize",children:s}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Plugin installed"})]}),e.jsx(o,{variant:"secondary",children:"Active"}),m.length>1&&e.jsx(u,{size:"icon",variant:"ghost",onClick:()=>O(t),children:e.jsx(B,{className:"h-4 w-4"})})]},t))})})]})}),e.jsx(p,{value:"executors",className:"space-y-4 mt-4",children:e.jsxs(i,{children:[e.jsxs(l,{children:[e.jsx(c,{children:"Executor Configuration"}),e.jsx(h,{children:"Manage concurrent build executors"})]}),e.jsx(r,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"executor-count",children:"Executor Count"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{id:"executor-count",type:"number",min:"1",max:"100",value:y,onChange:s=>a({executorCount:parseInt(s.target.value)||2})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"concurrent builds"})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Number of concurrent builds that can run simultaneously"})]})})]})}),e.jsx(p,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(i,{children:[e.jsxs(l,{children:[e.jsx(c,{children:"Server Configuration"}),e.jsx(h,{children:"Jenkins server settings"})]}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"jenkins-url",children:"Jenkins URL"}),e.jsx(b,{id:"jenkins-url",value:T,onChange:s=>a({jenkinsUrl:s.target.value}),placeholder:"http://jenkins:8080"})]}),e.jsx(j,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(x,{children:"Enable CSRF Protection"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Protect against cross-site request forgery"})]}),e.jsx(f,{checked:R,onCheckedChange:s=>a({enableCSRF:s})})]}),e.jsx(j,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(x,{children:"Enable Pipelines"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable Jenkins pipeline support"})]}),e.jsx(f,{checked:F,onCheckedChange:s=>a({enablePipeline:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(x,{children:"Enable Blue Ocean"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Modern pipeline UI"})]}),e.jsx(f,{checked:z,onCheckedChange:s=>a({enableBlueOcean:s})})]}),e.jsx(j,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(x,{children:"Enable Artifact Archiving"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Store build artifacts"})]}),e.jsx(f,{checked:w,onCheckedChange:s=>a({enableArtifactArchiving:s})})]}),w&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"retention-days",children:"Retention Days"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{id:"retention-days",type:"number",min:"1",max:"365",value:D,onChange:s=>a({retentionDays:parseInt(s.target.value)||30})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"days"})]})]})]})]})})]})]})})}export{ce as JenkinsConfigAdvanced};
