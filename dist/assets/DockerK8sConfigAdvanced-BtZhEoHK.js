import{J as ve,u as Ds,e as Ms,r as l,j as e,D as it,y as lt,z as ct,E as ot,d as Fe,G as dt,l as x,L as o,q as xe,s as ge,t as pe,v as je,w as y,I as u,x as Ae,H as mt,aa as $s,ai as Ls,a as ut,Y as Ye,B as b,S as ht,A as Cs,ab as xt,C as p,h as j,i as v,m as N,T as gt,b as pt,c as Q,W as ks,f as G,k as w,P as We,O as Le,aj as se,ak as jt,R as Xe,o as Te,$ as F,a1 as A,a2 as P,a3 as I,a4 as V,a5 as z,a6 as E,a7 as U}from"./index-Nkr1tjDA.js";import{T as te}from"./textarea-D_P4HYki.js";import{P as ws}from"./progress-CNv1y1Uh.js";import{A as Pe,a as Ie,b as Je}from"./alert-D_pfrzgu.js";import{s as $,a as f,c as Ze,d as O}from"./toast-Czm-F-I2.js";import{L as vt}from"./loader-circle-DG6jQvca.js";import{H as bs}from"./hard-drive-DDmXOlKT.js";const ft=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],Ss=ve("container",ft);const yt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],es=ve("image",yt);const Nt=[["path",{d:"M3 5h1",key:"1mv5vm"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M3 19h1",key:"w6f3n9"}],["path",{d:"M8 5h1",key:"1nxr5w"}],["path",{d:"M8 12h1",key:"1con00"}],["path",{d:"M8 19h1",key:"k7p10e"}],["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}]],Ct=ve("logs",Nt);const kt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wt=ve("wifi-off",kt);const bt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],St=ve("wifi",bt);function Dt({componentId:S,open:fe,onOpenChange:R}){const{nodes:t,updateNode:C}=Ds(),h=t.find(d=>d.id===S);if(!h)return null;const g=h.data.config||{},D=Ms.getDockerEmulationEngine(S),[k,Ve]=l.useState(g.dockerConnection?.type||"local"),[ye,ae]=l.useState(g.dockerConnection?.url||"unix:///var/run/docker.sock"),[_,ne]=l.useState(g.dockerConnection?.host||"localhost"),[re,Ne]=l.useState(g.dockerConnection?.port||2376),[L,Ce]=l.useState(g.dockerConnection?.useTLS||!1),[ke,we]=l.useState(g.dockerConnection?.caCert||""),[be,Se]=l.useState(g.dockerConnection?.clientCert||""),[Y,ze]=l.useState(g.dockerConnection?.clientKey||""),[W,ie]=l.useState(g.syncSettings?.enabled||!1),[De,le]=l.useState(g.syncSettings?.interval||2e3),[K,ce]=l.useState(g.syncSettings?.useEvents||!1),[q,H]=l.useState(!1),[B,T]=l.useState("idle"),[X,J]=l.useState("");l.useEffect(()=>{if(D){const d=D.isConnected();T(d?"connected":"disconnected")}},[D,fe]);const oe=async()=>{if(!D){$("Docker engine not initialized");return}H(!0),J("");try{const d=await D.testConnection();d.success?(T("connected"),f("Connection test successful")):(T("error"),J(d.error||"Connection failed"),$(d.error||"Connection test failed"))}catch(d){T("error"),J(d.message||"Connection test failed"),$(d.message||"Connection test failed")}finally{H(!1)}},Ee=async()=>{const d={type:k,url:k==="local"?ye:void 0,host:k==="remote"?_:void 0,port:k==="remote"?re:void 0,useTLS:k==="remote"?L:!1,caCert:L?ke:void 0,clientCert:L?be:void 0,clientKey:L?Y:void 0},Z={enabled:W,interval:De,useEvents:K};if(C(S,{data:{...h.data,config:{...g,dockerConnection:d,syncSettings:Z}}}),D&&h){const Me={...h,data:{...h.data,config:{...g,dockerConnection:d,syncSettings:Z}}};D.initializeConfig(Me),W&&g.mode!=="simulation"&&await D.connect()}f("Connection settings saved"),R(!1)},Ue=()=>{switch(B){case"connected":return e.jsx(Ls,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx($s,{className:"h-4 w-4 text-red-500"});case"disconnected":return e.jsx(wt,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(St,{className:"h-4 w-4 text-gray-400"})}},de=()=>{switch(B){case"connected":return"Connected";case"error":return"Connection Error";case"disconnected":return"Disconnected";default:return"Unknown"}};return e.jsx(it,{open:fe,onOpenChange:R,children:e.jsxs(lt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ct,{children:[e.jsxs(ot,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Docker Connection Settings"]}),e.jsx(dt,{children:"Configure connection to Docker daemon for real Docker mode"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Ue(),e.jsxs("span",{className:"font-medium",children:["Status: ",de()]})]}),e.jsx(x,{variant:"outline",size:"sm",onClick:oe,disabled:q,children:q?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Test Connection"})]}),X&&e.jsx(Pe,{variant:"destructive",children:e.jsx(Ie,{children:X})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Connection Type"}),e.jsxs(xe,{value:k,onValueChange:d=>Ve(d),children:[e.jsx(ge,{children:e.jsx(pe,{})}),e.jsxs(je,{children:[e.jsx(y,{value:"local",children:"Local Socket"}),e.jsx(y,{value:"remote",children:"Remote TCP"})]})]})]}),k==="local"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Docker Socket URL"}),e.jsx(u,{value:ye,onChange:d=>ae(d.target.value),placeholder:"unix:///var/run/docker.sock"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Note: In browser environment, this requires a backend proxy to access the socket"})]}),k==="remote"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Host"}),e.jsx(u,{value:_,onChange:d=>ne(d.target.value),placeholder:"localhost"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Port"}),e.jsx(u,{type:"number",value:re,onChange:d=>Ne(parseInt(d.target.value)||2376),placeholder:"2376"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"use-tls",checked:L,onCheckedChange:Ce}),e.jsx(o,{htmlFor:"use-tls",children:"Use TLS"})]}),L&&e.jsxs("div",{className:"space-y-4 p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"CA Certificate"}),e.jsx(te,{value:ke,onChange:d=>we(d.target.value),placeholder:"Paste CA certificate",className:"font-mono text-xs min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Client Certificate"}),e.jsx(te,{value:be,onChange:d=>Se(d.target.value),placeholder:"Paste client certificate",className:"font-mono text-xs min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Client Key"}),e.jsx(te,{value:Y,onChange:d=>ze(d.target.value),placeholder:"Paste client key",className:"font-mono text-xs min-h-[100px]"})]})]})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h3",{className:"font-semibold",children:"Synchronization Settings"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"sync-enabled",checked:W,onCheckedChange:ie}),e.jsx(o,{htmlFor:"sync-enabled",children:"Enable automatic synchronization"})]}),W&&e.jsxs("div",{className:"space-y-4 pl-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Sync Interval (ms)"}),e.jsx(u,{type:"number",value:De,onChange:d=>le(parseInt(d.target.value)||2e3),min:1e3,step:1e3}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"How often to poll Docker daemon for updates"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"use-events",checked:K,onCheckedChange:ce}),e.jsx(o,{htmlFor:"use-events",children:"Use Docker Events API (real-time updates)"})]})]})]})]}),e.jsxs(mt,{children:[e.jsx(x,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),e.jsx(x,{onClick:Ee,children:"Save Settings"})]})]})})}function It({componentId:S}){const{nodes:fe,updateNode:R}=Ds(),t=fe.find(s=>s.id===S),C=ut(s=>s.componentMetrics.get(S)),h=t?.type==="docker"?Ms.getDockerEmulationEngine(S):void 0,[g,D]=l.useState(""),[k,Ve]=l.useState("all"),[ye,ae]=l.useState(!1),[_,ne]=l.useState(null),[re,Ne]=l.useState(""),[L,Ce]=l.useState("nginx:latest"),[ke,we]=l.useState("512Mi"),[be,Se]=l.useState("500m"),[Y,ze]=l.useState(""),[W,ie]=l.useState(!1),[De,le]=l.useState(!1),[K,ce]=l.useState(null),[q,H]=l.useState(""),[B,T]=l.useState("latest"),[X,J]=l.useState(""),[oe,Ee]=l.useState(""),[Ue,de]=l.useState(!1),[d,Z]=l.useState(null),[Me,ss]=l.useState(""),[ts,as]=l.useState("bridge"),[Be,Ts]=l.useState(""),[Fs,Oe]=l.useState(!1),[$e,Re]=l.useState(null),[ns,rs]=l.useState(""),[is,ls]=l.useState("local"),[_e,As]=l.useState(null),[cs,os]=l.useState([]),[Ps,Ke]=l.useState(!1),[Is,ds]=l.useState(!1);if(!t)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=t.data.config||{};l.useEffect(()=>{if(t?.type==="docker"&&h)try{const s=h.getContainers();if(s.length>0){const a=s.map(n=>({id:n.id,name:n.name,image:n.image,imageId:n.imageId,status:n.status,createdAt:n.createdAt,startedAt:n.startedAt,finishedAt:n.finishedAt,restartCount:n.restartCount,cpuUsage:n.cpuUsage,memoryUsage:n.memoryUsage,memoryLimit:n.memoryLimit,networkRx:n.networkRx,networkTx:n.networkTx,ports:n.ports,environment:n.environment,volumes:n.volumes,networks:n.networks,health:n.health,exitCode:n.exitCode})),r=i.containers||[];(r.length!==a.length||r.some((n,ee)=>{const M=a.find(rt=>rt.id===n.id);return!M||M.status!==n.status||M.cpuUsage!==n.cpuUsage||M.memoryUsage!==n.memoryUsage}))&&R(S,{data:{...t.data,config:{...i,containers:a}}})}}catch(s){console.error("Error syncing containers from engine:",s)}},[h,C,t?.id,S,R,i.containers]);const ms=i.image||"nginx:latest",us=i.replicas||1,hs=i.memory||"512Mi",xs=i.cpu||"500m",Vs=i.yaml||(t.type==="docker"?`FROM nginx:latest
COPY . /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]`:`apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      app: myapp
  template:
    metadata:
      labels:
        app: myapp
    spec:
      containers:
      - name: myapp
        image: nginx:latest
        ports:
        - containerPort: 80`),gs=i.containers||(t.type==="docker"?[{id:"1",name:"web-server",image:"nginx:latest",status:"running",cpu:15,memory:"128Mi"},{id:"2",name:"api-server",image:"node:18",status:"running",cpu:25,memory:"256Mi"}]:[]),ps=i.pods||(t.type==="kubernetes"?[{id:"pod-1",name:"app-pod-1",image:"nginx:latest",status:"running",cpu:20,memory:"256Mi"},{id:"pod-2",name:"app-pod-2",image:"nginx:latest",status:"running",cpu:18,memory:"240Mi"},{id:"pod-3",name:"app-pod-3",image:"nginx:latest",status:"running",cpu:22,memory:"260Mi"}]:[]),zs=i.totalCpu||(t.type==="docker"?gs.reduce((s,a)=>s+(a.cpu||0),0):ps.reduce((s,a)=>s+(a.cpu||0),0)),Es=i.totalMemory||"1.2Gi",m=s=>{R(S,{data:{...t.data,config:{...i,...s}}})},me=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ue=s=>{if(!s)return"0 B";const a=1024,r=["B","KB","MB","GB"],c=Math.floor(Math.log(s)/Math.log(a));return Math.round(s/Math.pow(a,c)*100)/100+" "+r[c]},Us=()=>{if(t.type!=="docker")return;const s=re.trim();if(!s){O("Container name is required");return}const a=i.containers||[];if(a.some(c=>c.name===s)){O("Container name must be unique");return}const r={id:me(),name:s,image:L.trim()||"nginx:latest",status:"created",createdAt:Date.now(),restartCount:0,cpuUsage:0,memoryUsage:0,memoryLimit:512*1024*1024};m({containers:[...a,r]}),Ne(""),Ce("nginx:latest"),we("512Mi"),Se("500m"),ae(!1),f(`Container "${s}" created successfully`)},Bs=async s=>{if(t.type!=="docker")return;if(h&&(i.mode==="real"||i.mode==="hybrid")&&h.isConnected())try{await h.startContainerViaProvider(s),f("Container started via Docker daemon");return}catch(n){$(n.message||"Failed to start container");return}const a=i.containers||[],r=a.map(n=>n.id===s?{...n,status:"running",startedAt:Date.now()}:n);m({containers:r});const c=a.find(n=>n.id===s);f(`Container "${c?.name}" started`)},js=async s=>{if(t.type!=="docker")return;if(h&&(i.mode==="real"||i.mode==="hybrid")&&h.isConnected())try{await h.stopContainerViaProvider(s),f("Container stopped via Docker daemon");return}catch(n){$(n.message||"Failed to stop container");return}const a=i.containers||[],r=a.map(n=>n.id===s?{...n,status:"exited",finishedAt:Date.now(),cpuUsage:0,memoryUsage:0}:n);m({containers:r});const c=a.find(n=>n.id===s);f(`Container "${c?.name}" stopped`)},Os=s=>{if(t.type!=="docker")return;const a=i.containers||[],r=a.map(n=>n.id===s?{...n,status:"paused"}:n);m({containers:r});const c=a.find(n=>n.id===s);f(`Container "${c?.name}" paused`)},Rs=s=>{if(t.type!=="docker")return;const a=i.containers||[],r=a.map(n=>n.id===s?{...n,status:"running"}:n);m({containers:r});const c=a.find(n=>n.id===s);f(`Container "${c?.name}" unpaused`)},_s=s=>{if(t.type!=="docker")return;const a=i.containers||[],r=a.find(n=>n.id===s),c=a.map(n=>n.id===s?{...n,status:"running",startedAt:Date.now(),restartCount:(n.restartCount||0)+1,finishedAt:void 0}:n);m({containers:c}),f(`Container "${r?.name}" restarted`)},Ks=s=>{if(t.type!=="docker")return;const a=i.containers||[],r=a.find(c=>c.id===s);if(r){if(r.status==="running"){$("Cannot remove running container. Stop it first.");return}m({containers:a.filter(c=>c.id!==s)}),ne(null),f(`Container "${r.name}" removed`)}},qs=()=>{if(t.type!=="docker")return;const s=q.trim();if(!s){O("Image name is required");return}const a=i.images||[],r=`${s}:${B||"latest"}`;if(a.some(n=>`${n.repository}:${n.tag}`===r)){Ze(`Image ${r} already exists`);return}const c={id:me(),repository:s,tag:B||"latest",size:100+Math.random()*500,createdAt:Date.now()};m({images:[...a,c]}),H(""),T("latest"),ie(!1),f(`Pulling image "${r}"...`)},Hs=()=>{if(t.type!=="docker")return;if(!X.trim()){O("Dockerfile content is required");return}const s=i.images||[],a=q.trim()||"my-image",r=B||"latest",c=`${a}:${r}`;if(s.some(ee=>`${ee.repository}:${ee.tag}`===c)){Ze(`Image ${c} already exists`);return}const n={id:me(),repository:a,tag:r,size:200+Math.random()*800,createdAt:Date.now()};m({images:[...s,n],dockerfile:X}),H(""),T("latest"),J(""),le(!1),f(`Building image "${c}"...`)},Qs=s=>{if(t.type!=="docker")return;const a=i.images||[],r=a.find(M=>M.id===s);if(!r)return;const c=i.containers||[],n=`${r.repository}:${r.tag}`,ee=c.filter(M=>M.image===n);if(ee.length>0){$(`Cannot remove image "${n}" - used by ${ee.length} container(s)`);return}m({images:a.filter(M=>M.id!==s)}),ce(null),f(`Image "${n}" removed`)},Gs=()=>{if(t.type!=="docker")return;const s=Me.trim();if(!s){O("Network name is required");return}const a=i.networks||[];if(a.some(c=>c.name===s)){O("Network name must be unique");return}const r={id:me(),name:s,driver:ts,containers:[]};m({networks:[...a,r]}),ss(""),as("bridge"),de(!1),f(`Network "${s}" created successfully`)},Ys=s=>{if(t.type!=="docker")return;const a=i.networks||[],r=a.find(c=>c.id===s);if(r){if(r.containers&&r.containers.length>0){$(`Cannot remove network "${r.name}" - ${r.containers.length} container(s) connected`);return}m({networks:a.filter(c=>c.id!==s)}),Z(null),f(`Network "${r.name}" removed`)}},Ws=()=>{if(t.type!=="docker")return;const s=ns.trim();if(!s){O("Volume name is required");return}const a=i.volumes||[];if(a.some(c=>c.name===s)){O("Volume name must be unique");return}const r={id:me(),name:s,driver:is,size:0,usedBy:[]};m({volumes:[...a,r]}),rs(""),ls("local"),Oe(!1),f(`Volume "${s}" created successfully`)},Xs=s=>{if(t.type!=="docker")return;const a=i.volumes||[],r=a.find(c=>c.id===s);if(r){if(r.usedBy&&r.usedBy.length>0){$(`Cannot remove volume "${r.name}" - used by ${r.usedBy.length} container(s)`);return}m({volumes:a.filter(c=>c.id!==s)}),Re(null),f(`Volume "${r.name}" removed`)}},vs=t.type==="docker"?(i.images||[]).filter(s=>!(Y&&!`${s.repository}:${s.tag}`.toLowerCase().includes(Y.toLowerCase()))):[],fs=t.type==="docker"?(i.networks||[]).filter(s=>!(oe&&!s.name.toLowerCase().includes(oe.toLowerCase()))):[],ys=t.type==="docker"?(i.volumes||[]).filter(s=>!(Be&&!s.name.toLowerCase().includes(Be.toLowerCase()))):[],Js=()=>t.type==="docker"?"Docker":"Kubernetes",qe=()=>t.type==="docker"?"Dockerfile":"Deployment YAML",Zs=s=>{switch(s){case"running":return e.jsx(Xe,{className:"h-4 w-4 text-green-500"});case"stopped":return e.jsx(se,{className:"h-4 w-4 text-red-500"});case"paused":return e.jsx(se,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(se,{className:"h-4 w-4 text-muted-foreground"})}},et=s=>{switch(s){case"running":return e.jsx(b,{variant:"default",className:"bg-green-500",children:"Running"});case"stopped":return e.jsx(b,{variant:"destructive",children:"Stopped"});case"paused":return e.jsx(b,{variant:"secondary",children:"Paused"});default:return e.jsx(b,{variant:"secondary",children:"Unknown"})}},He=t.type==="docker"?gs:ps,st=t.type==="docker"?"Container":"Pod",Qe=t.type==="docker"?(i.containers||[]).filter(s=>!(g&&!s.name.toLowerCase().includes(g.toLowerCase())&&!s.image.toLowerCase().includes(g.toLowerCase())||k!=="all"&&(k==="running"&&s.status!=="running"||k==="stopped"&&s.status!=="exited"&&s.status!=="stopped"&&s.status!=="dead"||k==="paused"&&s.status!=="paused"))):[],he=C?.customMetrics||{},tt=he.docker_containers_total||i.containers?.length||0,at=he.docker_containers_running||Qe.filter(s=>s.status==="running").length,nt=he.docker_total_cpu_usage||0,Ns=he.docker_total_memory_usage||0,Ge=he.docker_total_memory_limit||0;return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:t.type==="docker"?e.jsx(Ss,{className:"h-6 w-6 text-blue-500"}):e.jsx(Ye,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[Js()," Configuration"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.type==="docker"?"Container Management":"Container Orchestration"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[t.type==="docker"&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-muted rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Simulation"}),e.jsx(Ae,{checked:i.mode==="real"||i.mode==="hybrid",onCheckedChange:async s=>{const a=s?"real":"simulation";if(h)if(h.setMode(a),m({mode:a}),s){ds(!0);try{await h.connect()||Ze("Failed to connect to Docker daemon. Please check connection settings.")}catch(r){$(r.message||"Failed to connect")}finally{ds(!1)}}else await h.disconnect();else m({mode:a})},disabled:Is}),e.jsx("span",{className:"text-sm font-medium",children:"Real Docker"})]}),t.type==="docker"&&h&&(i.mode==="real"||i.mode==="hybrid")&&e.jsxs("div",{className:"flex items-center gap-2",children:[h.isConnected()?e.jsxs(b,{variant:"outline",className:"gap-2 border-green-500 text-green-500",children:[e.jsx(Ls,{className:"h-3 w-3"}),"Connected"]}):e.jsxs(b,{variant:"outline",className:"gap-2 border-red-500 text-red-500",children:[e.jsx($s,{className:"h-3 w-3"}),"Disconnected"]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>Ke(!0),children:e.jsx(Fe,{className:"h-4 w-4"})})]}),i.mode==="simulation"&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>Ke(!0),title:"Configure Docker connection for Real mode",children:e.jsx(Fe,{className:"h-4 w-4"})})]}),t.type==="docker"&&C?e.jsxs(b,{variant:"outline",className:`gap-2 ${C.errorRate>.5?"border-red-500 text-red-500":C.utilization>0||C.throughput>0?"border-green-500 text-green-500":"border-gray-500 text-gray-500"}`,children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${C.errorRate>.5?"bg-red-500":C.utilization>0||C.throughput>0?"bg-green-500 animate-pulse":"bg-gray-500"}`}),C.errorRate>.5?"Error":C.utilization>0||C.throughput>0?"Running":"Stopped"]}):e.jsxs(b,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Active"]})]})]}),e.jsx(ht,{}),t.type==="docker"&&e.jsx(e.Fragment,{children:i.mode==="simulation"?e.jsxs(Pe,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[e.jsx(Cs,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx(Je,{className:"text-blue-900 dark:text-blue-100",children:"Simulation Mode"}),e.jsx(Ie,{className:"text-blue-800 dark:text-blue-200",children:"This is a simulation environment. All Docker operations (containers, images, networks, volumes) are simulated and do not create real Docker resources. The system simulates realistic behavior, metrics, and operations for architecture modeling purposes."})]}):i.mode==="real"?e.jsxs(Pe,{className:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",children:[e.jsx(xt,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),e.jsx(Je,{className:"text-orange-900 dark:text-orange-100",children:"Real Docker Mode"}),e.jsxs(Ie,{className:"text-orange-800 dark:text-orange-200",children:[e.jsx("strong",{children:"Warning:"})," You are connected to a real Docker daemon. All operations will affect real Docker resources on your system. Be careful when creating, starting, stopping, or removing containers, images, networks, and volumes."]})]}):i.mode==="hybrid"?e.jsxs(Pe,{className:"bg-purple-50 dark:bg-purple-950 border-purple-200 dark:border-purple-800",children:[e.jsx(Cs,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),e.jsx(Je,{className:"text-purple-900 dark:text-purple-100",children:"Hybrid Mode"}),e.jsx(Ie,{className:"text-purple-800 dark:text-purple-200",children:"Hybrid mode: Some containers are real (from Docker daemon), some are simulated. Real containers are marked with a badge."})]}):null}),t.type==="docker"&&e.jsx(Dt,{componentId:S,open:Ps,onOpenChange:Ke}),e.jsxs("div",{className:`grid gap-4 ${t.type==="docker","grid-cols-4"}`,children:[e.jsxs(p,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:t.type==="docker"?"Containers":"Pods"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.type==="docker"?tt:He.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.type==="docker"?`${at} running`:`Total ${st.toLowerCase()}s`})]})]}),t.type==="kubernetes"&&e.jsxs(p,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:"Replicas"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:us}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desired"})]})]}),e.jsxs(p,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:"CPU"})}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t.type==="docker"?Math.round(nt):zs,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total usage"})]})]}),e.jsxs(p,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(v,{className:"text-sm font-medium text-muted-foreground",children:"Memory"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.type==="docker"?ue(Ns):Es}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.type==="docker"&&Ge>0?`${Math.round(Ns/Ge*100)}% of ${ue(Ge)}`:"Total usage"})]})]})]}),e.jsxs(gt,{defaultValue:t.type==="docker"?"containers":"pods",className:"w-full",children:[e.jsxs(pt,{className:`inline-flex h-10 items-center justify-start rounded-md bg-muted p-1 text-muted-foreground ${t.type==="docker"?"w-full overflow-x-auto":"w-full"}`,children:[e.jsxs(Q,{value:t.type==="docker"?"containers":"pods",className:"gap-2 whitespace-nowrap",children:[e.jsx(Ss,{className:"h-4 w-4"}),t.type==="docker"?"Containers":"Pods"]}),t.type==="docker"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{value:"images",className:"gap-2 whitespace-nowrap",children:[e.jsx(es,{className:"h-4 w-4"}),"Images"]}),e.jsxs(Q,{value:"networks",className:"gap-2 whitespace-nowrap",children:[e.jsx(ks,{className:"h-4 w-4"}),"Networks"]}),e.jsxs(Q,{value:"volumes",className:"gap-2 whitespace-nowrap",children:[e.jsx(bs,{className:"h-4 w-4"}),"Volumes"]}),e.jsxs(Q,{value:"logs",className:"gap-2 whitespace-nowrap",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Logs"]})]}),e.jsxs(Q,{value:"settings",className:"gap-2 whitespace-nowrap",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Settings"]}),e.jsxs(Q,{value:"config",className:"gap-2 whitespace-nowrap",children:[e.jsx(Ye,{className:"h-4 w-4"}),qe()]})]}),e.jsx(G,{value:t.type==="docker"?"containers":"pods",className:"space-y-4 mt-4",children:e.jsxs(p,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:t.type==="docker"?"Containers":"Pods"}),e.jsx(w,{children:t.type==="docker"?"Manage Docker containers":"Deployed pods"})]}),t.type==="docker"&&e.jsxs(x,{onClick:()=>ae(!0),children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Create Container"]})]})}),e.jsxs(N,{children:[t.type==="docker"&&e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search containers...",value:g,onChange:s=>D(s.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:k,onValueChange:s=>Ve(s),children:[e.jsx(ge,{className:"w-[180px]",children:e.jsx(pe,{placeholder:"Filter by status"})}),e.jsxs(je,{children:[e.jsx(y,{value:"all",children:"All Status"}),e.jsx(y,{value:"running",children:"Running"}),e.jsx(y,{value:"stopped",children:"Stopped"}),e.jsx(y,{value:"paused",children:"Paused"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[(t.type==="docker"?Qe:He).map(s=>e.jsxs(p,{className:"border-border",children:[e.jsx(j,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[Zs(s.status),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"text-lg",children:s.name}),t.type==="docker"&&h&&e.jsx(e.Fragment,{children:(i.mode==="real"||i.mode==="hybrid")&&h.isConnected()?e.jsx(b,{variant:"outline",className:"text-xs border-orange-500 text-orange-500",children:"Real"}):e.jsx(b,{variant:"outline",className:"text-xs border-blue-500 text-blue-500",children:"Simulated"})})]}),e.jsxs(w,{className:"text-xs mt-1",children:[s.image,s.restartCount!==void 0&&s.restartCount>0&&e.jsxs("span",{className:"ml-2",children:["(",s.restartCount," restarts)"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[et(s.status),t.type==="docker"&&e.jsxs("div",{className:"flex gap-1 ml-2",children:[s.status==="running"&&e.jsxs(e.Fragment,{children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>Os(s.id),children:e.jsx(se,{className:"h-3 w-3"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>js(s.id),children:e.jsx(se,{className:"h-3 w-3"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>_s(s.id),children:e.jsx(jt,{className:"h-3 w-3"})})]}),(s.status==="exited"||s.status==="stopped"||s.status==="dead")&&e.jsx(x,{size:"sm",variant:"outline",onClick:()=>Bs(s.id),children:e.jsx(Xe,{className:"h-3 w-3"})}),s.status==="paused"&&e.jsxs(e.Fragment,{children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>Rs(s.id),children:e.jsx(Xe,{className:"h-3 w-3"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>js(s.id),children:e.jsx(se,{className:"h-3 w-3"})})]}),s.status!=="running"&&e.jsx(x,{size:"sm",variant:"outline",onClick:()=>ne(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx(Te,{className:"h-3 w-3"})})]})]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"CPU:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[t.type==="docker"?(s.cpuUsage||0).toFixed(1):s.cpu||0,"%"]}),e.jsx(ws,{value:t.type==="docker"?s.cpuUsage||0:s.cpu||0,className:"h-1 mt-1"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Memory:"}),e.jsx("span",{className:"ml-2 font-semibold",children:t.type==="docker"?ue(s.memoryUsage):s.memory||"0Mi"}),t.type==="docker"&&s.memoryLimit&&e.jsx(ws,{value:(s.memoryUsage||0)/s.memoryLimit*100,className:"h-1 mt-1"})]})]})})]},s.id)),(t.type==="docker"?Qe:He).length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t.type==="docker"?"No containers found. Create your first container to get started.":"No pods found."})]})]})]})}),e.jsx(G,{value:"settings",className:"space-y-4 mt-4",children:t.type==="docker"?e.jsxs(e.Fragment,{children:[e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(v,{children:"Docker Daemon Settings"}),e.jsx(w,{children:"Configure Docker daemon behavior"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"daemon-url",children:"Daemon URL"}),e.jsx(u,{id:"daemon-url",value:i.daemonUrl||"unix:///var/run/docker.sock",onChange:s=>m({daemonUrl:s.target.value}),placeholder:"unix:///var/run/docker.sock"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"api-version",children:"API Version"}),e.jsx(u,{id:"api-version",value:i.apiVersion||"1.41",onChange:s=>m({apiVersion:s.target.value}),placeholder:"1.41"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"resource-cpu",children:"Default CPU Limit"}),e.jsx(u,{id:"resource-cpu",value:i.resourceLimits?.cpu||"2",onChange:s=>m({resourceLimits:{...i.resourceLimits,cpu:s.target.value}}),placeholder:"2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"resource-memory",children:"Default Memory Limit"}),e.jsx(u,{id:"resource-memory",value:i.resourceLimits?.memory||"4Gi",onChange:s=>m({resourceLimits:{...i.resourceLimits,memory:s.target.value}}),placeholder:"4Gi"})]})]})]})]}),e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(v,{children:"Default Container Settings"}),e.jsx(w,{children:"Default settings for new containers"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"default-image",children:"Default Image"}),e.jsx(u,{id:"default-image",value:ms,onChange:s=>m({image:s.target.value}),placeholder:"nginx:latest"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"default-memory",children:"Default Memory"}),e.jsx(u,{id:"default-memory",value:hs,onChange:s=>m({memory:s.target.value}),placeholder:"512Mi"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"default-cpu",children:"Default CPU"}),e.jsx(u,{id:"default-cpu",value:xs,onChange:s=>m({cpu:s.target.value}),placeholder:"500m"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"default-env",children:"Default Environment Variables"}),e.jsx(te,{id:"default-env",value:Object.entries(i.environment||{}).map(([s,a])=>`${s}=${a}`).join(`
`),onChange:s=>{const a={};s.target.value.split(`
`).forEach(r=>{const[c,...n]=r.split("=");c.trim()&&(a[c.trim()]=n.join("=").trim())}),m({environment:a})},className:"font-mono text-sm h-32",placeholder:`NODE_ENV=production
PORT=3000`}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"One variable per line, format: KEY=VALUE"})]})]})]}),e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(v,{children:"Build Settings"}),e.jsx(w,{children:"Docker build configuration"})]}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"enable-buildkit",children:"Enable BuildKit"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use BuildKit for faster builds"})]}),e.jsx("input",{id:"enable-buildkit",type:"checkbox",checked:i.enableBuildKit??!0,onChange:s=>m({enableBuildKit:s.target.checked}),className:"h-4 w-4"})]})})]})]}):e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(v,{children:"Container Settings"}),e.jsx(w,{children:"Basic container configuration"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"image",children:"Image"}),e.jsx(u,{id:"image",value:ms,onChange:s=>m({image:s.target.value}),placeholder:"nginx:latest"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"replicas",children:"Replicas"}),e.jsx(u,{id:"replicas",type:"number",min:"1",value:us,onChange:s=>m({replicas:parseInt(s.target.value)||1}),placeholder:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"memory",children:"Memory"}),e.jsx(u,{id:"memory",value:hs,onChange:s=>m({memory:s.target.value}),placeholder:"512Mi"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"cpu",children:"CPU"}),e.jsx(u,{id:"cpu",value:xs,onChange:s=>m({cpu:s.target.value}),placeholder:"500m"})]})]})]})]})}),e.jsx(G,{value:"config",className:"space-y-4 mt-4",children:e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(v,{children:qe()}),e.jsx(w,{children:t.type==="docker"?"Docker configuration file":"Kubernetes manifest"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"yaml",children:"Configuration"}),e.jsx(te,{id:"yaml",value:Vs,onChange:s=>m({yaml:s.target.value}),className:"font-mono text-sm h-96",placeholder:`Enter ${qe()} configuration...`})]})})]})}),t.type==="docker"&&e.jsx(G,{value:"images",className:"space-y-4 mt-4",children:e.jsxs(p,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Images"}),e.jsx(w,{children:"Docker images available on this host (simulated)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:"outline",onClick:()=>ie(!0),children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Pull Image"]}),e.jsxs(x,{variant:"outline",onClick:()=>le(!0),children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Build Image"]})]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"flex gap-4 mb-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search images...",value:Y,onChange:s=>ze(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"space-y-3",children:[vs.map(s=>{const a=`${s.repository}:${s.tag}`,r=ue(s.size*1024*1024);return e.jsx(p,{className:"border-border",children:e.jsx(j,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(es,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(v,{className:"text-lg",children:a}),e.jsxs(w,{className:"text-xs mt-1",children:["Size: ",r," • Created: ",s.createdAt?new Date(s.createdAt).toLocaleString():"Unknown"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"outline",children:s.tag}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>ce(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx(Te,{className:"h-3 w-3"})})]})]})})},s.id)}),vs.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No images found. Pull or build your first image to get started."})]})]})]})}),t.type==="docker"&&e.jsx(G,{value:"networks",className:"space-y-4 mt-4",children:e.jsxs(p,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Networks"}),e.jsx(w,{children:"Docker networks for container communication (simulated)"})]}),e.jsxs(x,{onClick:()=>de(!0),children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Create Network"]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"flex gap-4 mb-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search networks...",value:oe,onChange:s=>Ee(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"space-y-3",children:[fs.map(s=>{const a=s.containers?.length||0;return e.jsx(p,{className:"border-border",children:e.jsx(j,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(ks,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(v,{className:"text-lg",children:s.name}),e.jsxs(w,{className:"text-xs mt-1",children:["Driver: ",s.driver," • ",a," container(s) connected"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"outline",children:s.driver}),a===0&&e.jsx(x,{size:"sm",variant:"outline",onClick:()=>Z(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx(Te,{className:"h-3 w-3"})})]})]})})},s.id)}),fs.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No networks found. Create your first network to get started."})]})]})]})}),t.type==="docker"&&e.jsx(G,{value:"volumes",className:"space-y-4 mt-4",children:e.jsxs(p,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Volumes"}),e.jsx(w,{children:"Docker volumes for persistent storage (simulated)"})]}),e.jsxs(x,{onClick:()=>Oe(!0),children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Create Volume"]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"flex gap-4 mb-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search volumes...",value:Be,onChange:s=>Ts(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"space-y-3",children:[ys.map(s=>{const a=s.usedBy?.length||0,r=s.size?ue(s.size):"0 B";return e.jsx(p,{className:"border-border",children:e.jsx(j,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(bs,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(v,{className:"text-lg",children:s.name}),e.jsxs(w,{className:"text-xs mt-1",children:["Driver: ",s.driver," • Size: ",r," • ",a," container(s) using"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"outline",children:s.driver}),a===0&&e.jsx(x,{size:"sm",variant:"outline",onClick:()=>Re(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx(Te,{className:"h-3 w-3"})})]})]})})},s.id)}),ys.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No volumes found. Create your first volume to get started."})]})]})]})}),t.type==="docker"&&e.jsx(G,{value:"logs",className:"space-y-4 mt-4",children:e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(v,{children:"Container Logs"}),e.jsx(w,{children:"View logs from running containers"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Select Container"}),e.jsxs(xe,{value:_e||"",onValueChange:s=>{if(As(s||null),s){const a=(i.containers||[]).find(r=>r.id===s);if(a){const r=[`[${new Date().toISOString()}] Container ${a.name} started`,`[${new Date().toISOString()}] Application initialized`,`[${new Date().toISOString()}] Listening on port 80`,`[${new Date().toISOString()}] Health check passed`,`[${new Date().toISOString()}] Request received: GET /`,`[${new Date().toISOString()}] Response sent: 200 OK`];os(r)}}else os([])},children:[e.jsx(ge,{className:"w-full",children:e.jsx(pe,{placeholder:"Select a container..."})}),e.jsx(je,{children:(i.containers||[]).filter(s=>s.status==="running").map(s=>e.jsxs(y,{value:s.id,children:[s.name," (",s.image,")"]},s.id))})]})]}),_e&&e.jsx("div",{className:"border rounded-md p-4 bg-black text-green-400 font-mono text-sm h-96 overflow-y-auto",children:cs.length>0?cs.map((s,a)=>e.jsx("div",{className:"mb-1",children:s},a)):e.jsx("div",{className:"text-muted-foreground",children:"No logs available"})}),!_e&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a running container to view its logs"})]})})]})})]}),t.type==="docker"&&e.jsx(F,{open:ye,onOpenChange:ae,children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Create New Container"}),e.jsx(V,{children:"Configure a new Docker container"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"container-name",children:"Container Name"}),e.jsx(u,{id:"container-name",value:re,onChange:s=>Ne(s.target.value),placeholder:"my-container"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"container-image",children:"Image"}),e.jsx(u,{id:"container-image",value:L,onChange:s=>Ce(s.target.value),placeholder:"nginx:latest"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"container-memory",children:"Memory"}),e.jsx(u,{id:"container-memory",value:ke,onChange:s=>we(s.target.value),placeholder:"512Mi"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"container-cpu",children:"CPU"}),e.jsx(u,{id:"container-cpu",value:be,onChange:s=>Se(s.target.value),placeholder:"500m"})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:Us,children:"Create"})]})]})}),t.type==="docker"&&_&&e.jsx(F,{open:!!_,onOpenChange:s=>!s&&ne(null),children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Delete Container"}),e.jsx(V,{children:"Are you sure you want to delete this container? This action cannot be undone."})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:()=>{_&&Ks(_)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})}),t.type==="docker"&&e.jsx(F,{open:W,onOpenChange:ie,children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Pull Image"}),e.jsx(V,{children:"Pull a Docker image from a registry"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"image-name",children:"Image Name"}),e.jsx(u,{id:"image-name",value:q,onChange:s=>H(s.target.value),placeholder:"nginx"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"image-tag",children:"Tag"}),e.jsx(u,{id:"image-tag",value:B,onChange:s=>T(s.target.value),placeholder:"latest"})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:qs,children:"Pull"})]})]})}),t.type==="docker"&&e.jsx(F,{open:De,onOpenChange:le,children:e.jsxs(A,{className:"max-w-2xl",children:[e.jsxs(P,{children:[e.jsx(I,{children:"Build Image"}),e.jsx(V,{children:"Build a Docker image from a Dockerfile"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"build-image-name",children:"Image Name"}),e.jsx(u,{id:"build-image-name",value:q,onChange:s=>H(s.target.value),placeholder:"my-image"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"build-image-tag",children:"Tag"}),e.jsx(u,{id:"build-image-tag",value:B,onChange:s=>T(s.target.value),placeholder:"latest"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"dockerfile",children:"Dockerfile"}),e.jsx(te,{id:"dockerfile",value:X,onChange:s=>J(s.target.value),className:"font-mono text-sm h-64",placeholder:`FROM nginx:latest
COPY . /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]`})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:Hs,children:"Build"})]})]})}),t.type==="docker"&&K&&e.jsx(F,{open:!!K,onOpenChange:s=>!s&&ce(null),children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Delete Image"}),e.jsx(V,{children:"Are you sure you want to delete this image? This action cannot be undone."})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:()=>{K&&Qs(K)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})}),t.type==="docker"&&e.jsx(F,{open:Ue,onOpenChange:de,children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Create Network"}),e.jsx(V,{children:"Create a new Docker network"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"network-name",children:"Network Name"}),e.jsx(u,{id:"network-name",value:Me,onChange:s=>ss(s.target.value),placeholder:"my-network"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"network-driver",children:"Driver"}),e.jsxs(xe,{value:ts,onValueChange:s=>as(s),children:[e.jsx(ge,{id:"network-driver",className:"w-full",children:e.jsx(pe,{placeholder:"Select driver"})}),e.jsxs(je,{children:[e.jsx(y,{value:"bridge",children:"Bridge"}),e.jsx(y,{value:"host",children:"Host"}),e.jsx(y,{value:"overlay",children:"Overlay"}),e.jsx(y,{value:"macvlan",children:"Macvlan"}),e.jsx(y,{value:"none",children:"None"})]})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:Gs,children:"Create"})]})]})}),t.type==="docker"&&d&&e.jsx(F,{open:!!d,onOpenChange:s=>!s&&Z(null),children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Delete Network"}),e.jsx(V,{children:"Are you sure you want to delete this network? This action cannot be undone."})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:()=>{d&&Ys(d)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})}),t.type==="docker"&&e.jsx(F,{open:Fs,onOpenChange:Oe,children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Create Volume"}),e.jsx(V,{children:"Create a new Docker volume"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"volume-name",children:"Volume Name"}),e.jsx(u,{id:"volume-name",value:ns,onChange:s=>rs(s.target.value),placeholder:"my-volume"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"volume-driver",children:"Driver"}),e.jsxs(xe,{value:is,onValueChange:s=>ls(s),children:[e.jsx(ge,{id:"volume-driver",className:"w-full",children:e.jsx(pe,{placeholder:"Select driver"})}),e.jsxs(je,{children:[e.jsx(y,{value:"local",children:"Local"}),e.jsx(y,{value:"nfs",children:"NFS"}),e.jsx(y,{value:"cifs",children:"CIFS"}),e.jsx(y,{value:"tmpfs",children:"Tmpfs"})]})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:Ws,children:"Create"})]})]})}),t.type==="docker"&&$e&&e.jsx(F,{open:!!$e,onOpenChange:s=>!s&&Re(null),children:e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx(I,{children:"Delete Volume"}),e.jsx(V,{children:"Are you sure you want to delete this volume? This action cannot be undone."})]}),e.jsxs(z,{children:[e.jsx(E,{children:"Cancel"}),e.jsx(U,{onClick:()=>{$e&&Xs($e)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})})}export{It as DockerK8sConfigAdvanced};
