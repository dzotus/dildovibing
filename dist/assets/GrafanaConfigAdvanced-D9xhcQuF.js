import{E as X,r as S,u as Ne,j as e,B as f,i as o,S as I,C as u,e as p,f as v,h as N,k as j,T as fe,a as ye,b as q,M as be,c as Ce,d as E,L as i,I as g,n as b,o as C,p as w,q as A,s as n,P as k,m as Q,t as R,U as we,a2 as K,a8 as Ae}from"./index-Dd33G1rA.js";import{T as De}from"./textarea-DbhW0zkJ.js";import{C as U}from"./chart-column-Cfk5dXNs.js";import{D as B}from"./database-CTo8fyrd.js";const Pe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Se=X("chart-line",Pe);const ke=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Le=X("link",ke);function Ge({componentId:$}){const[_,Y]=S.useState(null),[Te,qe]=S.useState(null),[Z,z]=S.useState(!1),[ee,G]=S.useState(!1),[se,M]=S.useState(!1);try{const{nodes:D,updateNode:ae}=Ne(),F=D.find(s=>s.id===$);if(!F)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const t=F.data.config||{},re=t.adminUser||"admin",le=t.adminPassword||"admin";let h=[];Array.isArray(t.datasources)&&(t.datasources.length>0&&typeof t.datasources[0]=="string"?h=t.datasources.map(s=>({name:s,type:"prometheus",url:"http://localhost:9090",access:"proxy",isDefault:s===t.datasources[0]})):h=t.datasources.filter(s=>s&&typeof s=="object"&&s.name)),h.length===0&&(h=[{name:"Prometheus",type:"prometheus",url:"http://localhost:9090",access:"proxy",isDefault:!0}]);let x=[];Array.isArray(t.dashboards)&&(x=t.dashboards.map(s=>{if(s&&typeof s=="object"){if(typeof s.panels=="number")return{...s,panels:[],tags:Array.isArray(s.tags)?s.tags:[]};if(Array.isArray(s.panels))return{...s,panels:s.panels.map(r=>({id:r.id||`panel-${Date.now()}`,title:r.title||"Panel",type:r.type||"graph",datasource:r.datasource||h[0]?.name||"Prometheus",queries:Array.isArray(r.queries)?r.queries:[{refId:"A",expr:"up"}],gridPos:r.gridPos||{x:0,y:0,w:12,h:8}})),tags:Array.isArray(s.tags)?s.tags:[]}}return s}).filter(s=>s&&typeof s=="object"&&s.id)),x.length===0&&(x=[{id:"1",name:"Overview",panels:[{id:"panel-1",title:"CPU Usage",type:"graph",datasource:h.length>0?h[0].name:"Prometheus",queries:[{refId:"A",expr:"rate(process_cpu_seconds_total[5m])",legendFormat:"CPU"}],gridPos:{x:0,y:0,w:12,h:8}}],tags:["system","overview"],refresh:"30s"}]);const L=Array.isArray(t.alerts)?t.alerts.filter(s=>s&&typeof s=="object"&&s.id):[],Ee=t.defaultDashboard||"overview",H=t.enableAuth??!1,ne=t.authProvider||"ldap",O=t.enableAlerting??!0,ie=Array.isArray(t.alertNotificationChannels)?t.alertNotificationChannels:["email","slack"],te=t.theme||"dark",d=s=>{ae($,{data:{...F.data,config:{...t,...s}}})},ce=()=>{const s={name:"New Data Source",type:"prometheus",url:"http://localhost:9090",access:"proxy"};d({datasources:[...h,s]}),M(!1)},de=s=>{d({datasources:h.filter((r,a)=>a!==s)})},T=(s,r,a)=>{const l=[...h];l[s]={...l[s],[r]:a},d({datasources:l})},oe=()=>{const s={id:String(Date.now()),name:"New Dashboard",panels:[],tags:[],refresh:"30s"};d({dashboards:[...x,s]}),z(!1)},he=s=>{d({dashboards:x.filter((r,a)=>a!==s)})},xe=s=>{const r=h&&h.length>0?h[0].name:"Prometheus",a={id:`panel-${Date.now()}`,title:"New Panel",type:"graph",datasource:r,queries:[{refId:"A",expr:"up",legendFormat:"{{instance}}"}],gridPos:{x:0,y:0,w:12,h:8}},l=x.map(c=>c.id===s?{...c,panels:[...c.panels,a]}:c);d({dashboards:l})},me=(s,r)=>{const a=x.map(l=>l.id===s?{...l,panels:l.panels.filter(c=>c.id!==r)}:l);d({dashboards:a})},V=(s,r,a,l)=>{const c=x.map(m=>m.id===s?{...m,panels:m.panels.map(y=>y.id===r?{...y,[a]:l}:y)}:m);d({dashboards:c})},je=(s,r)=>{const a=x.map(l=>l.id===s?{...l,panels:l.panels.map(c=>{if(c.id===r){const m=Array.isArray(c.queries)?c.queries:[];return{...c,queries:[...m,{refId:String.fromCharCode(65+m.length),expr:"",legendFormat:""}]}}return c})}:l);d({dashboards:a})},J=(s,r,a,l,c)=>{const m=x.map(y=>y.id===s?{...y,panels:y.panels.map(P=>{if(P.id===r){const ge=Array.isArray(P.queries)?P.queries:[];return{...P,queries:ge.map((W,ve)=>ve===a?{...W,[l]:c}:W)}}return P})}:y);d({dashboards:m})},ue=()=>{const s={id:`alert-${Date.now()}`,name:"New Alert",condition:{query:"up == 0",evaluator:{type:"gt",params:[0]},reducer:{type:"last",params:[]}},for:"5m",annotations:{summary:"Alert triggered",description:"Service is down"},notificationChannels:ie.slice(0,1)};d({alerts:[...L,s]}),G(!1)},pe=s=>{d({alerts:L.filter(r=>r.id!==s)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:e.jsx(U,{className:"h-6 w-6 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Grafana"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analytics & Monitoring Platform"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(f,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(o,{size:"sm",variant:"outline",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Open Dashboard"]})]})]}),e.jsx(I,{}),e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(v,{children:"Live Dashboard Preview"}),e.jsx(N,{children:"Snapshot of how this Grafana instance renders panels"})]}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-2 p-4 rounded-lg bg-gradient-to-br from-orange-500/20 via-orange-500/5 to-transparent border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"font-semibold",children:"System Load"}),e.jsxs(f,{variant:"secondary",className:"gap-2",children:[e.jsx(Se,{className:"h-3 w-3"})," CPU"]})]}),e.jsx("div",{className:"h-32 flex items-end gap-1",children:[45,60,58,62,55,70,65,80,72,68,75,78].map((s,r)=>e.jsx("div",{className:"flex-1 bg-orange-500/50 rounded-t",style:{height:`${s}%`}},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Dashboards"}),e.jsx(U,{className:"h-3 w-3 text-muted-foreground"})]}),e.jsx("div",{className:"text-2xl font-bold",children:x.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total dashboards"})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Data Sources"}),e.jsx(B,{className:"h-3 w-3 text-muted-foreground"})]}),e.jsx("div",{className:"text-2xl font-bold",children:h.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})]})})]}),e.jsxs(fe,{defaultValue:"datasources",className:"w-full",children:[e.jsxs(ye,{className:"grid w-full grid-cols-4",children:[e.jsxs(q,{value:"datasources",className:"gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Data Sources"]}),e.jsxs(q,{value:"dashboards",className:"gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Dashboards"]}),e.jsxs(q,{value:"alerts",className:"gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"Alerts"]}),e.jsxs(q,{value:"settings",className:"gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Settings"]})]}),e.jsxs(E,{value:"datasources",className:"space-y-4 mt-4",children:[se&&e.jsxs(u,{className:"mb-4 border-primary",children:[e.jsxs(p,{children:[e.jsx(v,{children:"Create Data Source"}),e.jsx(N,{children:"Configure connection to metrics/logs database"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Name"}),e.jsx(g,{placeholder:"Prometheus"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Type"}),e.jsxs(b,{defaultValue:"prometheus",children:[e.jsx(C,{children:e.jsx(w,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"prometheus",children:"Prometheus"}),e.jsx(n,{value:"loki",children:"Loki"}),e.jsx(n,{value:"influxdb",children:"InfluxDB"}),e.jsx(n,{value:"elasticsearch",children:"Elasticsearch"}),e.jsx(n,{value:"postgres",children:"PostgreSQL"}),e.jsx(n,{value:"mysql",children:"MySQL"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"URL"}),e.jsx(g,{placeholder:"http://localhost:9090"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{onClick:ce,children:"Create Data Source"}),e.jsx(o,{variant:"outline",onClick:()=>M(!1),children:"Cancel"})]})]})]}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Data Sources"}),e.jsx(N,{children:"Configure data sources for metrics and logs"})]}),e.jsxs(o,{size:"sm",onClick:()=>M(!0),variant:"outline",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add Data Source"]})]})}),e.jsx(j,{children:e.jsx("div",{className:"space-y-3",children:h.map((s,r)=>e.jsxs(u,{className:"border-border",children:[e.jsx(p,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(B,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(v,{className:"text-lg",children:s.name}),e.jsxs(N,{className:"text-xs mt-1",children:[s.type," • ",s.url,s.isDefault&&e.jsx(f,{variant:"outline",className:"ml-2",children:"Default"})]})]})]}),e.jsx(o,{size:"icon",variant:"ghost",onClick:()=>de(r),children:e.jsx(Q,{className:"h-4 w-4"})})]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Name"}),e.jsx(g,{value:s.name,onChange:a=>T(r,"name",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Type"}),e.jsxs(b,{value:s.type,onValueChange:a=>T(r,"type",a),children:[e.jsx(C,{children:e.jsx(w,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"prometheus",children:"Prometheus"}),e.jsx(n,{value:"loki",children:"Loki"}),e.jsx(n,{value:"influxdb",children:"InfluxDB"}),e.jsx(n,{value:"elasticsearch",children:"Elasticsearch"}),e.jsx(n,{value:"postgres",children:"PostgreSQL"}),e.jsx(n,{value:"mysql",children:"MySQL"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"URL"}),e.jsx(g,{value:s.url,onChange:a=>T(r,"url",a.target.value),placeholder:"http://localhost:9090"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{checked:s.isDefault||!1,onCheckedChange:a=>T(r,"isDefault",a)}),e.jsx(i,{children:"Set as default"})]})]})]},r))})})]})]}),e.jsxs(E,{value:"dashboards",className:"space-y-4 mt-4",children:[Z&&e.jsxs(u,{className:"mb-4 border-primary",children:[e.jsxs(p,{children:[e.jsx(v,{children:"Create Dashboard"}),e.jsx(N,{children:"Configure dashboard settings"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Dashboard Name"}),e.jsx(g,{placeholder:"My Dashboard"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{onClick:oe,children:"Create Dashboard"}),e.jsx(o,{variant:"outline",onClick:()=>z(!1),children:"Cancel"})]})]})]}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Dashboards"}),e.jsx(N,{children:"Manage and configure dashboards"})]}),e.jsxs(o,{size:"sm",onClick:()=>z(!0),variant:"outline",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Create Dashboard"]})]})}),e.jsx(j,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map((s,r)=>e.jsxs(u,{className:"border-border hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(p,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(v,{className:"text-base",children:s.name})]}),x.length>1&&e.jsx(o,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>he(r),children:e.jsx(Q,{className:"h-3 w-3"})})]})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Panels:"}),e.jsx("span",{className:"font-semibold",children:Array.isArray(s.panels)?s.panels.length:0})]}),e.jsx("div",{className:"flex gap-1 flex-wrap",children:s.tags.map((a,l)=>e.jsx(f,{variant:"outline",className:"text-xs",children:a},l))}),e.jsxs(o,{size:"sm",variant:"outline",className:"w-full mt-2",onClick:()=>Y(_===s.id?null:s.id),children:[e.jsx(we,{className:"h-3 w-3 mr-2"}),_===s.id?"Hide Panels":"Edit Panels"]})]})}),_===s.id&&e.jsx(j,{className:"pt-0 border-t",children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-sm font-semibold",children:"Panels"}),e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>xe(s.id),children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Add Panel"]})]}),!Array.isArray(s.panels)||s.panels.length===0?e.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No panels. Click "Add Panel" to create one.'}):s.panels.map(a=>e.jsxs(u,{className:"border-border",children:[e.jsx(p,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"outline",children:a.type}),e.jsx(g,{value:a.title,onChange:l=>V(s.id,a.id,"title",l.target.value),className:"h-7 flex-1"})]}),e.jsx(o,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>me(s.id,a.id),children:e.jsx(Q,{className:"h-3 w-3"})})]})}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs",children:"Type"}),e.jsxs(b,{value:a.type,onValueChange:l=>V(s.id,a.id,"type",l),children:[e.jsx(C,{className:"h-7",children:e.jsx(w,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"graph",children:"Graph"}),e.jsx(n,{value:"table",children:"Table"}),e.jsx(n,{value:"stat",children:"Stat"}),e.jsx(n,{value:"gauge",children:"Gauge"}),e.jsx(n,{value:"piechart",children:"Pie Chart"}),e.jsx(n,{value:"bargraph",children:"Bar Graph"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs",children:"Data Source"}),e.jsxs(b,{value:a.datasource,onValueChange:l=>V(s.id,a.id,"datasource",l),children:[e.jsx(C,{className:"h-7",children:e.jsx(w,{})}),e.jsx(A,{children:h.map(l=>e.jsx(n,{value:l.name,children:l.name},l.name))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-xs",children:"Queries (PromQL/LogQL)"}),e.jsxs(o,{size:"sm",variant:"ghost",className:"h-6",onClick:()=>je(s.id,a.id),children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Add Query"]})]}),Array.isArray(a.queries)&&a.queries.length>0?a.queries.map((l,c)=>e.jsxs("div",{className:"space-y-1 p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"secondary",className:"text-xs",children:l.refId||"A"}),e.jsx(g,{value:l.expr||"",onChange:m=>J(s.id,a.id,c,"expr",m.target.value),placeholder:"up or {job='api'} |= 'error'",className:"h-7 text-xs font-mono"})]}),e.jsx(g,{value:l.legendFormat||"",onChange:m=>J(s.id,a.id,c,"legendFormat",m.target.value),placeholder:"Legend format: {{instance}}",className:"h-6 text-xs"})]},c)):e.jsx("div",{className:"text-center py-2 text-xs text-muted-foreground",children:'No queries. Click "Add Query" to add one.'})]})]})]},a.id))]})})]},r))})})]})]}),e.jsxs(E,{value:"alerts",className:"space-y-4 mt-4",children:[ee&&e.jsxs(u,{className:"mb-4 border-primary",children:[e.jsxs(p,{children:[e.jsx(v,{children:"Create Alert Rule"}),e.jsx(N,{children:"Configure alert conditions and notifications"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Alert Name"}),e.jsx(g,{placeholder:"High CPU Usage"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"PromQL Query"}),e.jsx(De,{placeholder:"rate(process_cpu_seconds_total[5m]) > 0.8",className:"font-mono text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Condition"}),e.jsxs(b,{defaultValue:"gt",children:[e.jsx(C,{children:e.jsx(w,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"gt",children:"Greater Than"}),e.jsx(n,{value:"lt",children:"Less Than"}),e.jsx(n,{value:"eq",children:"Equal"}),e.jsx(n,{value:"ne",children:"Not Equal"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Threshold"}),e.jsx(g,{type:"number",placeholder:"0.8"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{onClick:ue,children:"Create Alert"}),e.jsx(o,{variant:"outline",onClick:()=>G(!1),children:"Cancel"})]})]})]}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Alert Rules"}),e.jsx(N,{children:"Configure alert conditions and notifications"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{checked:O,onCheckedChange:s=>d({enableAlerting:s})}),e.jsxs(o,{size:"sm",onClick:()=>G(!0),variant:"outline",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Create Alert"]})]})]})}),e.jsx(j,{children:O?L.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(K,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:'No alert rules configured. Click "Create Alert" to add one.'})]}):e.jsx("div",{className:"space-y-3",children:L.map(s=>e.jsxs(u,{className:"border-border",children:[e.jsx(p,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{className:"text-lg",children:s.name}),e.jsxs(N,{className:"text-xs mt-1",children:["For: ",s.for," • Channels: ",s.notificationChannels.join(", ")]})]}),e.jsx(o,{size:"icon",variant:"ghost",onClick:()=>pe(s.id),children:e.jsx(Q,{className:"h-4 w-4"})})]})}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs",children:"PromQL Query"}),e.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:s.condition.query})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs",children:"Evaluator"}),e.jsx(f,{variant:"outline",children:s.condition.evaluator.type})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs",children:"Threshold"}),e.jsx(f,{variant:"outline",children:s.condition.evaluator.params.join(", ")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs",children:"Reducer"}),e.jsx(f,{variant:"outline",children:s.condition.reducer.type})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs",children:"Summary"}),e.jsx("div",{className:"text-sm",children:s.annotations.summary}),s.annotations.description&&e.jsx("div",{className:"text-xs text-muted-foreground",children:s.annotations.description})]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(K,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Alerting is disabled. Enable it to create alert rules."})]})})]})]}),e.jsx(E,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(v,{children:"Administration"}),e.jsx(N,{children:"Grafana server configuration"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"admin-user",children:"Admin Username"}),e.jsx(g,{id:"admin-user",value:re,onChange:s=>d({adminUser:s.target.value}),placeholder:"admin"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"admin-password",children:"Admin Password"}),e.jsx(g,{id:"admin-password",type:"password",value:le,onChange:s=>d({adminPassword:s.target.value}),placeholder:"admin"})]})]}),e.jsx(I,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Default Theme"}),e.jsxs(b,{value:te,onValueChange:s=>d({theme:s}),children:[e.jsx(C,{children:e.jsx(w,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"dark",children:"Dark"}),e.jsx(n,{value:"light",children:"Light"})]})]})]}),e.jsx(I,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Enable Authentication"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Require login to access Grafana"})]}),e.jsx(R,{checked:H,onCheckedChange:s=>d({enableAuth:s})})]}),H&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Auth Provider"}),e.jsxs(b,{value:ne,onValueChange:s=>d({authProvider:s}),children:[e.jsx(C,{children:e.jsx(w,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"ldap",children:"LDAP"}),e.jsx(n,{value:"oauth",children:"OAuth"}),e.jsx(n,{value:"saml",children:"SAML"}),e.jsx(n,{value:"jwt",children:"JWT"})]})]})]})]})]})})]})]})})}catch(D){return Ae("Error rendering GrafanaConfigAdvanced",D instanceof Error?D:new Error(String(D))),e.jsxs("div",{className:"p-4 text-destructive",children:[e.jsx("p",{children:"Error loading Grafana configuration"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:String(D)})]})}}export{Ge as GrafanaConfigAdvanced};
