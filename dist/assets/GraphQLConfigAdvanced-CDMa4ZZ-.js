import{u as J,j as e,r as o,i as b,S as N,C as n,e as r,f as i,A as D,k as l,Z as q,T as M,a as V,b as m,N as L,F as H,c as X,d as h,h as u,L as a,B as j,X as Z,I as f,t as p}from"./index-DLY56EcE.js";import{T as v}from"./textarea-DLekUSKy.js";import{R as $}from"./refresh-ccw-CIIwm2k8.js";import{D as P}from"./database-CVetjLhw.js";import{C as z}from"./code-CgxJflZX.js";import{C as K}from"./circle-check-big-B_f8k0M8.js";function re({componentId:y}){const{nodes:R,updateNode:A}=J(),g=R.find(s=>s.id===y);if(!g)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const t=g.data.config||{},x=t.queries||[],C=t.schema||{types:[{name:"User",kind:"OBJECT",fields:[{name:"id",type:"ID!",description:"User unique identifier"},{name:"name",type:"String!",description:"User name"},{name:"email",type:"String!",description:"User email"},{name:"posts",type:"[Post!]!",description:"User posts"}],description:"User type"},{name:"Post",kind:"OBJECT",fields:[{name:"id",type:"ID!",description:"Post unique identifier"},{name:"title",type:"String!",description:"Post title"},{name:"content",type:"String",description:"Post content"},{name:"author",type:"User!",description:"Post author"}],description:"Post type"}]},w=t.endpoint||"/graphql",I=t.subscriptionsEnabled??!0,U=t.introspectionEnabled??!0,B=t.totalQueries||x.length,F=t.averageResponseTime||x.reduce((s,d)=>s+(d.duration||0),0)/x.length,[W,Y]=o.useState(""),[Q,k]=o.useState(`query {
  users {
    id
    name
  }
}`),[S,T]=o.useState(""),[G,E]=o.useState(""),c=s=>{A(y,{data:{...g.data,config:{...t,...s}}})},O=()=>{const s={id:`query-${Date.now()}`,name:"New Query",query:Q,variables:S||void 0,timestamp:new Date().toISOString(),duration:Math.floor(Math.random()*100)+20,success:!0};E(JSON.stringify({data:{users:[{id:"1",name:"John Doe"}]}},null,2)),c({queries:[...x,s]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"GraphQL"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"GraphQL API"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Query language and runtime for APIs"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(N,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(n,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Queries"}),e.jsx(D,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:B}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"executed"})]})})]}),e.jsxs(n,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Avg Response"}),e.jsx(q,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:F.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]}),e.jsxs(n,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Types"}),e.jsx(P,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:C.types?.length||0}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(n,{className:"border-l-4 border-l-cyan-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:"Endpoint"}),e.jsx(z,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(l,{children:e.jsx("div",{className:"text-sm font-semibold text-cyan-600 dark:text-cyan-400 truncate",children:w})})]})]}),e.jsxs(M,{defaultValue:"playground",className:"space-y-4",children:[e.jsxs(V,{children:[e.jsxs(m,{value:"playground",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Playground"]}),e.jsxs(m,{value:"schema",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Schema Explorer"]}),e.jsxs(m,{value:"history",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Query History (",x.length,")"]}),e.jsxs(m,{value:"settings",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(h,{value:"playground",className:"space-y-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(i,{children:"GraphQL Playground"}),e.jsx(u,{children:"Execute queries and mutations"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Query"}),e.jsx(v,{value:Q,onChange:s=>k(s.target.value),className:"font-mono text-sm min-h-[300px]",placeholder:"query { ... }"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Variables (JSON)"}),e.jsx(v,{value:S,onChange:s=>T(s.target.value),className:"font-mono text-sm min-h-[150px]",placeholder:'{ "id": "1" }'}),e.jsx(a,{children:"Response"}),e.jsx(v,{value:G,readOnly:!0,className:"font-mono text-sm min-h-[150px] bg-muted",placeholder:"Response will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{onClick:O,children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Execute Query"]}),e.jsx(b,{variant:"outline",onClick:()=>{k(""),T(""),E("")},children:"Clear"})]})]})]})}),e.jsx(h,{value:"schema",className:"space-y-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(i,{children:"Schema Explorer"}),e.jsx(u,{children:"Browse GraphQL schema types and fields"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:C.types?.map(s=>e.jsxs(n,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(P,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(j,{variant:"outline",children:s.kind}),s.description&&e.jsx("span",{className:"text-sm text-muted-foreground",children:s.description})]})]})]})}),s.fields&&s.fields.length>0&&e.jsx(l,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Fields"}),s.fields.map(d=>e.jsxs("div",{className:"p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono font-semibold",children:d.name}),e.jsx(j,{variant:"outline",className:"text-xs",children:d.type})]}),d.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]},d.name))]})})]},s.name))})})]})}),e.jsx(h,{value:"history",className:"space-y-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(i,{children:"Query History"}),e.jsx(u,{children:"Previously executed queries"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsxs(n,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.success?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:s.success?e.jsx(K,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(Z,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.duration&&e.jsxs(j,{variant:"outline",children:[s.duration,"ms"]}),e.jsx(j,{variant:s.success?"default":"destructive",children:s.success?"Success":"Failed"})]})]})]})})}),e.jsxs(l,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Query"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:s.query}),s.variables&&e.jsxs(e.Fragment,{children:[e.jsx(a,{children:"Variables"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:s.variables})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(s.timestamp).toLocaleString()})]})]},s.id))})})]})}),e.jsx(h,{value:"settings",className:"space-y-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(i,{children:"GraphQL Settings"}),e.jsx(u,{children:"API configuration"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Endpoint URL"}),e.jsx(f,{value:w,onChange:s=>c({endpoint:s.target.value}),placeholder:"/graphql"})]}),e.jsx(N,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{children:"Enable Subscriptions"}),e.jsx(p,{checked:I,onCheckedChange:s=>c({subscriptionsEnabled:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{children:"Enable Introspection"}),e.jsx(p,{checked:U,onCheckedChange:s=>c({introspectionEnabled:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{children:"Enable Query Complexity Analysis"}),e.jsx(p,{checked:t.enableQueryComplexityAnalysis??!0,onCheckedChange:s=>c({enableQueryComplexityAnalysis:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{children:"Enable Query Depth Limiting"}),e.jsx(p,{checked:t.enableQueryDepthLimiting??!0,onCheckedChange:s=>c({enableQueryDepthLimiting:s})})]}),e.jsx(N,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Max Query Depth"}),e.jsx(f,{type:"number",value:t.maxQueryDepth??15,onChange:s=>c({maxQueryDepth:parseInt(s.target.value)||15}),min:1,max:50})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Max Query Complexity"}),e.jsx(f,{type:"number",value:t.maxQueryComplexity??1e3,onChange:s=>c({maxQueryComplexity:parseInt(s.target.value)||1e3}),min:1})]})]})]})})]})]})})}export{re as GraphQLConfigAdvanced};
