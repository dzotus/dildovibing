import{E as O,u as U,j as e,W as C,B as o,i as V,c as k,S as A,C as n,e as r,f as c,k as l,T as K,a as Y,b as h,d as g,h as x,L as m,I as p,Y as j,N as q}from"./index-CHKNZn98.js";import{T as _}from"./textarea-DXRXS1XW.js";import{P as G}from"./progress-BgkEGxEf.js";const H=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],w=O("container",H);function $({componentId:y}){const{nodes:M,updateNode:P}=U(),a=M.find(s=>s.id===y);if(!a)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const t=a.data.config||{},T=t.image||"nginx:latest",N=t.replicas||1,L=t.memory||"512Mi",S=t.cpu||"500m",D=t.yaml||(a.type==="docker"?`FROM nginx:latest
COPY . /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]`:`apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      app: myapp
  template:
    metadata:
      labels:
        app: myapp
    spec:
      containers:
      - name: myapp
        image: nginx:latest
        ports:
        - containerPort: 80`),f=t.containers||(a.type==="docker"?[{id:"1",name:"web-server",image:"nginx:latest",status:"running",cpu:15,memory:"128Mi"},{id:"2",name:"api-server",image:"node:18",status:"running",cpu:25,memory:"256Mi"}]:[]),v=t.pods||(a.type==="kubernetes"?[{id:"pod-1",name:"app-pod-1",image:"nginx:latest",status:"running",cpu:20,memory:"256Mi"},{id:"pod-2",name:"app-pod-2",image:"nginx:latest",status:"running",cpu:18,memory:"240Mi"},{id:"pod-3",name:"app-pod-3",image:"nginx:latest",status:"running",cpu:22,memory:"260Mi"}]:[]),F=t.totalCpu||(a.type==="docker"?f.reduce((s,d)=>s+(d.cpu||0),0):v.reduce((s,d)=>s+(d.cpu||0),0)),R=t.totalMemory||"1.2Gi",i=s=>{P(y,{data:{...a.data,config:{...t,...s}}})},B=()=>a.type==="docker"?"Docker":"Kubernetes",u=()=>a.type==="docker"?"Dockerfile":"Deployment YAML",E=s=>{switch(s){case"running":return e.jsx(q,{className:"h-4 w-4 text-green-500"});case"stopped":return e.jsx(j,{className:"h-4 w-4 text-red-500"});case"paused":return e.jsx(j,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})}},I=s=>{switch(s){case"running":return e.jsx(o,{variant:"default",className:"bg-green-500",children:"Running"});case"stopped":return e.jsx(o,{variant:"destructive",children:"Stopped"});case"paused":return e.jsx(o,{variant:"secondary",children:"Paused"});default:return e.jsx(o,{variant:"secondary",children:"Unknown"})}},b=a.type==="docker"?f:v,z=a.type==="docker"?"Container":"Pod";return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:a.type==="docker"?e.jsx(w,{className:"h-6 w-6 text-blue-500"}):e.jsx(C,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[B()," Configuration"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.type==="docker"?"Container Management":"Container Orchestration"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Active"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),e.jsx(A,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(n,{children:[e.jsx(r,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:a.type==="docker"?"Containers":"Pods"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.length}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Total ",z.toLowerCase(),"s"]})]})]}),a.type==="kubernetes"&&e.jsxs(n,{children:[e.jsx(r,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Replicas"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desired"})]})]}),e.jsxs(n,{children:[e.jsx(r,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"CPU"})}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[F,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total usage"})]})]}),e.jsxs(n,{children:[e.jsx(r,{className:"pb-3",children:e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Memory"})}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:R}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total usage"})]})]})]}),e.jsxs(K,{defaultValue:a.type==="docker"?"containers":"pods",className:"w-full",children:[e.jsxs(Y,{className:"grid w-full grid-cols-3",children:[e.jsxs(h,{value:a.type==="docker"?"containers":"pods",className:"gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),a.type==="docker"?"Containers":"Pods"]}),e.jsxs(h,{value:"settings",className:"gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),"Settings"]}),e.jsxs(h,{value:"config",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),u()]})]}),e.jsx(g,{value:a.type==="docker"?"containers":"pods",className:"space-y-4 mt-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(c,{children:a.type==="docker"?"Containers":"Pods"}),e.jsx(x,{children:a.type==="docker"?"Running containers":"Deployed pods"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-3",children:b.map((s,d)=>e.jsxs(n,{className:"border-border",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[E(s.status),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{className:"text-lg",children:s.name}),e.jsx(x,{className:"text-xs mt-1",children:s.image})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:I(s.status)})]})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"CPU:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[s.cpu||0,"%"]}),e.jsx(G,{value:s.cpu||0,className:"h-1 mt-1"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Memory:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.memory||"0Mi"})]})]})})]},d))})})]})}),e.jsx(g,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(c,{children:"Container Settings"}),e.jsx(x,{children:"Basic container configuration"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"image",children:"Image"}),e.jsx(p,{id:"image",value:T,onChange:s=>i({image:s.target.value}),placeholder:"nginx:latest"})]}),a.type==="kubernetes"&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"replicas",children:"Replicas"}),e.jsx(p,{id:"replicas",type:"number",min:"1",value:N,onChange:s=>i({replicas:parseInt(s.target.value)||1}),placeholder:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"memory",children:"Memory"}),e.jsx(p,{id:"memory",value:L,onChange:s=>i({memory:s.target.value}),placeholder:"512Mi"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"cpu",children:"CPU"}),e.jsx(p,{id:"cpu",value:S,onChange:s=>i({cpu:s.target.value}),placeholder:"500m"})]})]})]})]})}),e.jsx(g,{value:"config",className:"space-y-4 mt-4",children:e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(c,{children:u()}),e.jsx(x,{children:a.type==="docker"?"Docker configuration file":"Kubernetes manifest"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"yaml",children:"Configuration"}),e.jsx(_,{id:"yaml",value:D,onChange:s=>i({yaml:s.target.value}),className:"font-mono text-sm h-96",placeholder:`Enter ${u()} configuration...`})]})})]})})]})]})})}export{$ as DockerK8sConfigAdvanced};
