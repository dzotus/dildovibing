import{K as ts,u as ls,a as cs,j as e,r as l,B as o,S as ds,C as v,h as f,i as N,k as b,m,L as i,I as u,x as U,T as os,b as ms,c as k,ae as us,f as D,l as c,P as de,aA as xs,o as oe,q as me,s as ue,t as xe,v as he,w as y,a5 as hs,af as ke,O as je,Q as ge,V as pe,W as ve,X as fe,Y as Ne,_ as be,$ as ye}from"./index-UHkh-5io.js";import{d as j,a as P,c as js,s as gs}from"./toast-D9mvpcaB.js";import{P as De}from"./package-NnOn0QgT.js";import{F as ps}from"./folder-CxVtdZCd.js";import{U as vs}from"./users-CnLxVhqj.js";import{S as fs}from"./shield-BuOfjExX.js";const Ns=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bs=ts("tag",Ns);function Us({componentId:M}){const{nodes:Ae,updateNode:_e}=ls(),z=Ae.find(s=>s.id===M),g=cs(s=>s.componentMetrics.get(M));if(!z)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const d=z.data.config||{},$e=d.serverUrl||"https://harbor.example.com",Ve=d.adminUsername||"admin",Ee=d.adminPassword||"",Me=d.enableVulnerabilityScanning??!0,ze=d.enableContentTrust??!1,Le=d.enableImageScanning??!0,x=d.projects||[],L=d.repositories||[],C=d.tags||[],R=d.replicationPolicies||[],p=d.users||[],q=d.selectedProject||"all",[qe,F]=l.useState(!1),[Fe,H]=l.useState(!1),[He,O]=l.useState(!1),[B,Oe]=l.useState(""),[I,Be]=l.useState(""),[G,Q]=l.useState(""),[W,K]=l.useState(""),[X,Y]=l.useState(""),[J,Z]=l.useState(""),[A,ee]=l.useState(""),[_,se]=l.useState(""),[Ce,ae]=l.useState("manual"),[$,ne]=l.useState(null),[V,re]=l.useState(null),[E,ie]=l.useState(null),t=s=>{_e(M,{data:{...z.data,config:{...d,...s}}})},we=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),Ie=s=>s.trim().length>0&&!x.some(a=>a.name===s.trim()),Ge=s=>s.trim().length>0&&!p.some(a=>a.username===s.trim()),te=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Qe=()=>{const s=G.trim();if(!s){j("Project name is required");return}if(!Ie(s)){j("Project name must be unique");return}const a={id:te(),name:s,public:!1,repositories:0,tags:0,accessLevel:"private"};t({projects:[...x,a]}),Q(""),F(!1),P(`Project "${s}" created successfully`)},We=s=>{const a=x.find(n=>n.id===s);if(!a)return;const r=L.filter(n=>n.project===a.name).length;if(r>0){gs(`Cannot delete project "${a.name}" because it contains ${r} repositories`);return}t({projects:x.filter(n=>n.id!==s)}),ne(null),P(`Project "${a.name}" deleted successfully`)},Ke=(s,a,r)=>{const n=x.map(h=>h.id===s?{...h,[a]:r}:h);t({projects:n})},Xe=()=>{const s=J.trim();if(!s){j("Policy name is required");return}if(!A.trim()||!_.trim()){j("Source and destination registries are required");return}const a={id:te(),name:s,sourceRegistry:A.trim(),destinationRegistry:_.trim(),trigger:Ce,enabled:!0};t({replicationPolicies:[...R,a]}),Z(""),ee(""),se(""),ae("manual"),H(!1),P(`Replication policy "${s}" created successfully`)},Ye=s=>{const a=R.find(r=>r.id===s);a&&(t({replicationPolicies:R.filter(r=>r.id!==s)}),ie(null),P(`Replication policy "${a.name}" deleted successfully`))},Je=()=>{const s=W.trim(),a=X.trim();if(!s){j("Username is required");return}if(!a){j("Email is required");return}if(!we(a)){j("Invalid email format");return}if(!Ge(s)){j("Username must be unique");return}const r={id:te(),username:s,email:a,role:"guest",enabled:!0};t({users:[...p,r]}),K(""),Y(""),O(!1),P(`User "${s}" created successfully`)},Ze=s=>{const a=p.find(r=>r.id===s);a&&(t({users:p.filter(r=>r.id!==s)}),re(null),P(`User "${a.username}" deleted successfully`))},le=(s,a,r)=>{if(a==="email"&&typeof r=="string"&&!we(r)){j("Invalid email format");return}const n=p.map(h=>h.id===s?{...h,[a]:r}:h);t({users:n})},es=s=>{const a=C.find(n=>n.id===s);if(!a)return;if(a.vulnerabilityScan?.status==="running"){js("Scan already in progress");return}const r=C.map(n=>n.id===s?{...n,vulnerabilityScan:{status:"pending",severity:"none",scannedAt:new Date().toISOString()}}:n);t({tags:r}),P(`Vulnerability scan queued for ${a.repository}:${a.name}`)},ss=s=>{switch(s){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-green-500"}},Se=L.filter(s=>!(q!=="all"&&s.project!==q||I&&!s.name.toLowerCase().includes(I.toLowerCase()))),w=g?.customMetrics||{},as=w.harbor_push_ops_per_sec||0,ns=w.harbor_pull_ops_per_sec||0,rs=w.harbor_scan_ops_per_sec||0,Pe=w.harbor_storage_used||0,Re=w.harbor_storage_total||100,Te=w.harbor_scans_running||0,is=w.harbor_vulnerabilities_total||0,T=g?g.errorRate>.5?{status:"error",color:"red",label:"Error"}:g.utilization>0||g.throughput>0||Te>0?{status:"running",color:"green",label:"Running"}:{status:"stopped",color:"gray",label:"Stopped"}:{status:"stopped",color:"gray",label:"Stopped"};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(De,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Harbor Registry"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Container image registry & vulnerability scanning"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:"outline",children:"v2.10"}),e.jsxs(o,{variant:T.status==="error"?"destructive":T.status==="running"?"default":"secondary",className:"gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${T.status==="running"?"bg-green-500 animate-pulse":T.status==="error"?"bg-red-500":"bg-gray-500"}`}),T.label]})]})]}),e.jsx(ds,{}),e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(N,{children:"Connection Settings"}),e.jsx(b,{children:"Configure Harbor registry connection"})]}),e.jsxs(m,{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Server URL"}),e.jsx(u,{value:$e,onChange:s=>t({serverUrl:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Admin Username"}),e.jsx(u,{value:Ve,onChange:s=>t({adminUsername:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Admin Password"}),e.jsx(u,{type:"password",value:Ee,onChange:s=>t({adminPassword:s.target.value})})]})]})]}),e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(N,{children:"Metrics"}),e.jsx(b,{children:"Real-time Harbor metrics"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Push Ops/sec"}),e.jsx("div",{className:"text-2xl font-bold",children:as.toFixed(2)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pull Ops/sec"}),e.jsx("div",{className:"text-2xl font-bold",children:ns.toFixed(2)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Scan Ops/sec"}),e.jsx("div",{className:"text-2xl font-bold",children:rs.toFixed(2)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Storage Used"}),e.jsxs("span",{className:"font-medium",children:[Pe.toFixed(2)," GB / ",Re.toFixed(2)," GB"]})]}),e.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${Math.min(100,Pe/Re*100)}%`}})})]}),g&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Average Latency: "}),e.jsxs("span",{className:"font-medium",children:[g.latency.toFixed(0)," ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Throughput: "}),e.jsxs("span",{className:"font-medium",children:[g.throughput.toFixed(2)," ops/sec"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Scans Running: "}),e.jsx("span",{className:"font-medium",children:Te})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Vulnerabilities: "}),e.jsx("span",{className:"font-medium",children:is})]})]})]})]})]}),e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(N,{children:"Security Settings"}),e.jsx(b,{children:"Configure security features"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{children:"Enable Vulnerability Scanning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically scan images for vulnerabilities"})]}),e.jsx(U,{checked:Me,onCheckedChange:s=>t({enableVulnerabilityScanning:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{children:"Enable Content Trust"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Require signed images"})]}),e.jsx(U,{checked:ze,onCheckedChange:s=>t({enableContentTrust:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{children:"Enable Image Scanning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan images on push"})]}),e.jsx(U,{checked:Le,onCheckedChange:s=>t({enableImageScanning:s})})]})]})]}),e.jsxs(os,{defaultValue:"projects",className:"w-full",children:[e.jsxs(ms,{className:"grid w-full grid-cols-5",children:[e.jsxs(k,{value:"projects",className:"gap-2",children:[e.jsx(ps,{className:"h-4 w-4"}),"Projects"]}),e.jsxs(k,{value:"repositories",className:"gap-2",children:[e.jsx(De,{className:"h-4 w-4"}),"Repositories"]}),e.jsxs(k,{value:"tags",className:"gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Tags"]}),e.jsxs(k,{value:"replication",className:"gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Replication"]}),e.jsxs(k,{value:"users",className:"gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),"Users"]})]}),e.jsx(D,{value:"projects",className:"mt-4 space-y-4",children:e.jsxs(v,{children:[e.jsxs(f,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Projects"}),e.jsx(b,{children:"Manage container image projects"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>F(!0),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}),qe&&e.jsx(m,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Project Name"}),e.jsx(u,{placeholder:"new-project",value:G,onChange:s=>Q(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:Qe,disabled:!G.trim(),children:"Create Project"}),e.jsx(c,{variant:"outline",onClick:()=>{F(!1),Q("")},children:"Cancel"})]})]})}),e.jsx(m,{className:"space-y-3",children:x.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No projects yet. Create your first project to get started."}):x.map(s=>{const a=L.filter(S=>S.project===s.name),r=C.filter(S=>a.some(ce=>S.repository===ce.name)),n=a.length,h=r.length,Ue=r.reduce((S,ce)=>S+(ce.vulnerabilityScan?.totalVulnerabilities||0),0);return e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[n," repositories • ",h," tags",s.storageUsed&&` • ${s.storageUsed} GB`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:s.public?"default":"secondary",children:s.accessLevel||(s.public?"Public":"Private")}),Ue>0&&e.jsxs(o,{variant:"destructive",children:[e.jsx(xs,{className:"h-3 w-3 mr-1"}),Ue]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>ne(s.id),children:e.jsx(oe,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(U,{checked:s.public,onCheckedChange:S=>Ke(s.id,"public",S)}),e.jsx(i,{children:"Public Project"})]})]},s.id)})})]})}),e.jsx(D,{value:"repositories",className:"mt-4 space-y-4",children:e.jsxs(v,{children:[e.jsxs(f,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Repositories"}),e.jsx(b,{children:"Container image repositories"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(me,{value:q,onValueChange:s=>{t({selectedProject:s==="all"?void 0:s})},children:[e.jsx(ue,{className:"w-48",children:e.jsx(xe,{placeholder:"All Projects"})}),e.jsxs(he,{children:[e.jsx(y,{value:"all",children:"All Projects"}),x.map(s=>e.jsx(y,{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(u,{className:"pl-8 w-64",placeholder:"Search repositories...",value:I,onChange:s=>Be(s.target.value)})]})]})]}),e.jsx(m,{className:"space-y-3",children:Se.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No repositories yet. Repositories will appear when images are pushed to projects."}):Se.map(s=>{const r=C.filter(n=>n.repository===s.name).length;return e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[r," tags",s.pullCount>0&&` • ${s.pullCount} pulls`,s.size&&` • ${s.size} MB`,s.lastPush&&` • Last push: ${s.lastPush}`]})]}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>Oe(B===s.name?"":s.name),children:B===s.name?"Hide Tags":"View Tags"})]}),B===s.name&&e.jsx("div",{className:"pt-2 border-t space-y-2",children:C.filter(n=>n.repository===s.name).map(n=>e.jsxs("div",{className:"p-2 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-mono text-sm",children:n.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.digest.substring(0,20),"... • ",n.size," MB"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.vulnerabilityScan&&e.jsx(o,{variant:n.vulnerabilityScan.severity==="none"?"default":"destructive",children:n.vulnerabilityScan.severity}),n.signed&&e.jsxs(o,{variant:"outline",children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"Signed"]})]})]},n.id))})]},s.id)})})]})}),e.jsx(D,{value:"tags",className:"mt-4 space-y-4",children:e.jsxs(v,{children:[e.jsxs(f,{children:[e.jsx(N,{children:"Image Tags"}),e.jsx(b,{children:"Manage and scan container image tags"})]}),e.jsx(m,{className:"space-y-3",children:C.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No image tags yet. Tags will appear when images are pushed to repositories."}):C.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"font-semibold font-mono",children:[s.repository,":",s.name]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.digest," • ",s.size," MB",s.created&&` • Created: ${new Date(s.created).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.vulnerabilityScan&&e.jsx(o,{variant:s.vulnerabilityScan.severity==="none"?"default":"destructive",className:ss(s.vulnerabilityScan.severity),children:s.vulnerabilityScan.severity}),s.signed&&e.jsxs(o,{variant:"outline",children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"Signed"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>es(s.id),disabled:s.vulnerabilityScan?.status==="running",children:[e.jsx(fs,{className:"h-4 w-4 mr-2"}),s.vulnerabilityScan?.status==="running"?"Scanning...":"Scan"]})]})]}),s.vulnerabilityScan&&s.vulnerabilityScan.status==="completed"&&e.jsxs("div",{className:"pt-2 border-t space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-red-500",children:s.vulnerabilityScan.critical||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Critical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-orange-500",children:s.vulnerabilityScan.high||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"High"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-500",children:s.vulnerabilityScan.medium||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Medium"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-blue-500",children:s.vulnerabilityScan.low||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:s.vulnerabilityScan.totalVulnerabilities||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),s.vulnerabilityScan.scannedAt&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Scanned: ",new Date(s.vulnerabilityScan.scannedAt).toLocaleString()]})]})]},s.id))})]})}),e.jsx(D,{value:"replication",className:"mt-4 space-y-4",children:e.jsxs(v,{children:[e.jsxs(f,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Replication Policies"}),e.jsx(b,{children:"Configure image replication between registries"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>H(!0),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]}),Fe&&e.jsx(m,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Policy Name"}),e.jsx(u,{placeholder:"replication-policy",value:J,onChange:s=>Z(s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Source Registry"}),e.jsx(u,{placeholder:"source-registry",value:A,onChange:s=>ee(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Destination Registry"}),e.jsx(u,{placeholder:"dest-registry",value:_,onChange:s=>se(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Trigger"}),e.jsxs(me,{value:Ce,onValueChange:s=>ae(s),children:[e.jsx(ue,{children:e.jsx(xe,{})}),e.jsxs(he,{children:[e.jsx(y,{value:"manual",children:"Manual"}),e.jsx(y,{value:"event-based",children:"Event-based"}),e.jsx(y,{value:"scheduled",children:"Scheduled"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:Xe,disabled:!J.trim()||!A.trim()||!_.trim(),children:"Create Policy"}),e.jsx(c,{variant:"outline",onClick:()=>{H(!1),Z(""),ee(""),se(""),ae("manual")},children:"Cancel"})]})]})}),e.jsx(m,{className:"space-y-3",children:R.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No replication policies yet. Create a policy to replicate images between registries."}):R.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.sourceRegistry," → ",s.destinationRegistry]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:s.enabled?"default":"secondary",children:s.enabled?"Enabled":"Disabled"}),e.jsx(o,{variant:"outline",children:s.trigger}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>ie(s.id),children:e.jsx(oe,{className:"h-4 w-4"})})]})]}),s.filters&&s.filters.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-xs",children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.filters.map((a,r)=>e.jsx(o,{variant:"outline",className:"text-xs",children:a},r))})]})]},s.id))})]})}),e.jsx(D,{value:"users",className:"mt-4 space-y-4",children:e.jsxs(v,{children:[e.jsxs(f,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Users"}),e.jsx(b,{children:"Manage Harbor users and permissions"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>O(!0),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),He&&e.jsx(m,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Username"}),e.jsx(u,{placeholder:"new-user",value:W,onChange:s=>K(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Email"}),e.jsx(u,{type:"email",placeholder:"user@example.com",value:X,onChange:s=>Y(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:Je,disabled:!W.trim()||!X.trim(),children:"Add User"}),e.jsx(c,{variant:"outline",onClick:()=>{O(!1),K(""),Y("")},children:"Cancel"})]})]})}),e.jsx(m,{className:"space-y-3",children:p.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users yet. Add users to manage access to Harbor registry."}):p.map(s=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:s.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:s.role==="admin"?"default":"secondary",children:s.role}),e.jsx(U,{checked:s.enabled,onCheckedChange:a=>le(s.id,"enabled",a)}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>re(s.id),children:e.jsx(oe,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Role"}),e.jsxs(me,{value:s.role,onValueChange:a=>le(s.id,"role",a),children:[e.jsx(ue,{children:e.jsx(xe,{})}),e.jsxs(he,{children:[e.jsx(y,{value:"admin",children:"Admin"}),e.jsx(y,{value:"developer",children:"Developer"}),e.jsx(y,{value:"guest",children:"Guest"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Email"}),e.jsx(u,{type:"email",value:s.email,onChange:a=>le(s.id,"email",a.target.value)})]})]})]},s.id))})]})})]}),e.jsx(je,{open:$!==null,onOpenChange:s=>!s&&ne(null),children:e.jsxs(ge,{children:[e.jsxs(pe,{children:[e.jsx(ve,{children:"Delete Project"}),e.jsxs(fe,{children:['Are you sure you want to delete project "',x.find(s=>s.id===$)?.name,'"? This action cannot be undone.']})]}),e.jsxs(Ne,{children:[e.jsx(be,{children:"Cancel"}),e.jsx(ye,{onClick:()=>$&&We($),children:"Delete"})]})]})}),e.jsx(je,{open:V!==null,onOpenChange:s=>!s&&re(null),children:e.jsxs(ge,{children:[e.jsxs(pe,{children:[e.jsx(ve,{children:"Delete User"}),e.jsxs(fe,{children:['Are you sure you want to delete user "',p.find(s=>s.id===V)?.username,'"? This action cannot be undone.']})]}),e.jsxs(Ne,{children:[e.jsx(be,{children:"Cancel"}),e.jsx(ye,{onClick:()=>V&&Ze(V),children:"Delete"})]})]})}),e.jsx(je,{open:E!==null,onOpenChange:s=>!s&&ie(null),children:e.jsxs(ge,{children:[e.jsxs(pe,{children:[e.jsx(ve,{children:"Delete Replication Policy"}),e.jsxs(fe,{children:['Are you sure you want to delete replication policy "',R.find(s=>s.id===E)?.name,'"? This action cannot be undone.']})]}),e.jsxs(Ne,{children:[e.jsx(be,{children:"Cancel"}),e.jsx(ye,{onClick:()=>E&&Ye(E),children:"Delete"})]})]})})]})})}export{Us as HarborConfigAdvanced};
