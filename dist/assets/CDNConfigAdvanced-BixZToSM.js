import{J as Oe,u as os,a as xs,e as hs,j as e,r as m,l as p,S as V,C as v,h as N,i as y,m as C,A as us,T as ms,b as gs,c as le,B as H,d as js,f as de,k as q,O as Be,I as b,_ as Fe,P as $e,X as Ge,o as Ie,L as r,q as F,s as $,t as G,v as I,w as d,x as T,am as ps,D as oe,y as xe,z as he,E as ue,G as me,n as z,H as ge}from"./index-CK7lW0SB.js";import{u as fs}from"./use-toast-CfMGnxqm.js";import{T as Y,a as ee,b as se,c as te}from"./tooltip-C4xa5N9E.js";import{R as bs}from"./refresh-ccw-DMpGPr4r.js";import{G as je}from"./globe-B_I8tWIP.js";import{T as Ts}from"./trending-up-BaN4sM_9.js";const vs=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Ns=Oe("eraser",vs);const ys=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pe=Oe("map-pin",ys);function ks({componentId:Z}){const{nodes:Ae,updateNode:fe}=os(),{getComponentMetrics:Ue,isRunning:be,updateMetrics:_e}=xs(),{toast:P}=fs(),M=Ae.find(s=>s.id===Z),k=hs.getCDNEmulationEngine(Z),re=Ue(Z);if(!M)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=M.data.config||{},[Ve,ae]=m.useState(!1),[Ze,ie]=m.useState(!1),[J,Te]=m.useState(null),[W,ve]=m.useState(null),[O,Ne]=m.useState(""),[A,ye]=m.useState(""),[Je,ne]=m.useState(!1),[Ce,Le]=m.useState(null),[t,f]=m.useState({domain:"",origin:"",status:"deploying",cachePolicy:"cache-first",defaultTTL:3600,maxTTL:86400,enableCompression:!0,compressionType:"gzip",enableHTTP2:!0,enableHTTP3:!1,enableHTTPS:!0,enableGeoRouting:!1,enableDDoSProtection:!0}),[u,U]=m.useState({}),[o,D]=m.useState({}),[c,B]=m.useState({region:"",city:"",status:"active",capacity:1e4,latency:50}),[g,_]=m.useState({}),[x,S]=m.useState({}),j=i.distributions||[],L=i.edgeLocations||[];m.useEffect(()=>{!k||!M||k.initializeConfig(M)},[i.distributions,i.edgeLocations,i.enableCaching,i.cacheTTL,i.enableCompression,i.compressionType,i.enableSSL,i.enableHTTP2,i.enableHTTP3,i.enablePurge,i.enableGeoRouting,i.enableDDoSProtection,i.defaultTTL,i.maxTTL,i.cachePolicy,k,M]),m.useEffect(()=>{if(!k||!re||!be)return;const s=k.getMetrics(),a=re.customMetrics||{},n=k.getRoutingEngine(),ns=n.getDistributions(),rs=n.getEdgeLocations(),Re=n.getStats(),E=j.map(h=>{const w=ns.find(ds=>ds.id===h.id),R=Re.distributions.get(h.id);return{...h,requests:R?.requests||h.requests||0,cacheHitRate:R&&R.requests>0?R.cacheHits/R.requests*100:h.cacheHitRate||0,bandwidth:R?.bandwidth||h.bandwidth||0,edgeLocations:w?.edgeLocations||h.edgeLocations||0}}),ce=L.map(h=>{rs.find(R=>R.id===h.id);const w=Re.edgeLocations.get(h.id);return{...h,requests:w?.requests||h.requests||0,cacheHits:w?.cacheHits||h.cacheHits||0,bandwidth:w?.bandwidth||h.bandwidth||0}}),cs=E.length,ls=ce.length,qe=a.cdn_total_requests||s.totalRequests||E.reduce((h,w)=>h+(w.requests||0),0),ze=a.cdn_total_bandwidth||s.totalBandwidth||E.reduce((h,w)=>h+(w.bandwidth||0),0),Me=a.cdn_average_cache_hit_rate||s.averageCacheHitRate||(E.length>0?E.reduce((h,w)=>h+(w.cacheHitRate||0),0)/E.length:0);(JSON.stringify(E)!==JSON.stringify(j)||JSON.stringify(ce)!==JSON.stringify(L)||i.totalRequests!==qe||i.totalBandwidth!==ze||i.averageCacheHitRate!==Me)&&fe(Z,{data:{...M.data,config:{...i,distributions:E,edgeLocations:ce,totalDistributions:cs,totalEdgeLocations:ls,totalRequests:qe,totalBandwidth:ze,averageCacheHitRate:Me}}})},[re,k,be]);const we=m.useMemo(()=>{if(!O)return j;const s=O.toLowerCase();return j.filter(a=>a.domain.toLowerCase().includes(s)||a.origin.toLowerCase().includes(s)||a.status.toLowerCase().includes(s))},[j,O]),Pe=m.useMemo(()=>{if(!A)return L;const s=A.toLowerCase();return L.filter(a=>a.city.toLowerCase().includes(s)||a.region.toLowerCase().includes(s)||a.status.toLowerCase().includes(s))},[L,A]),We=i.totalDistributions||j.filter(s=>s.status==="deployed").length,Ke=i.totalEdgeLocations||L.filter(s=>s.status==="active").length,K=i.totalRequests||j.reduce((s,a)=>s+(a.requests||0),0);i.totalBandwidth||j.reduce((s,a)=>s+(a.bandwidth||0),0);const Qe=i.averageCacheHitRate!==void 0?i.averageCacheHitRate:j.length>0?j.reduce((s,a)=>s+(a.cacheHitRate||0),0)/j.length:0,l=s=>{fe(Z,{data:{...M.data,config:{...i,...s}}})},Xe=()=>{_e(),P({title:"Metrics refreshed",description:"CDN metrics have been updated."})},De=s=>{s?(Te(s),f({...s})):(Te(null),f({domain:"",origin:"",status:"deploying",cachePolicy:"cache-first",defaultTTL:3600,maxTTL:86400,enableCompression:!0,compressionType:"gzip",enableHTTP2:!0,enableHTTP3:!1,enableHTTPS:!0,enableGeoRouting:!1,enableDDoSProtection:!0})),U({}),D({}),ae(!0)},Q=()=>{const s={};if(!t.domain||t.domain.trim()===""?s.domain="Domain is required":/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/.test(t.domain)||(s.domain="Invalid domain format (e.g., cdn.example.com)"),!t.origin||t.origin.trim()==="")s.origin="Origin URL is required";else try{new URL(t.origin).protocol.startsWith("http")||(s.origin="Origin URL must use http:// or https:// protocol")}catch{s.origin="Invalid URL format (e.g., https://origin.example.com)"}return t.defaultTTL!==void 0&&t.defaultTTL<1&&(s.defaultTTL="Default TTL must be at least 1 second"),t.maxTTL!==void 0&&(t.maxTTL<1&&(s.maxTTL="Max TTL must be at least 1 second"),t.defaultTTL!==void 0&&t.maxTTL<t.defaultTTL&&(s.maxTTL="Max TTL must be greater than or equal to Default TTL")),U(s),Object.keys(s).length===0},Ye=()=>{if(D({domain:!0,origin:!0,defaultTTL:!0,maxTTL:!0}),!Q()){P({title:"Validation error",description:"Please fix the errors in the form.",variant:"destructive"});return}if(J){const s=j.map(a=>a.id===J.id?{...J,...t}:a);l({distributions:s}),P({title:"Distribution updated",description:`Distribution ${t.domain} has been updated.`})}else{const s={id:`dist-${Date.now()}`,domain:t.domain,origin:t.origin,status:t.status||"deploying",cachePolicy:t.cachePolicy||"cache-first",defaultTTL:t.defaultTTL||3600,maxTTL:t.maxTTL||86400,enableCompression:t.enableCompression??!0,compressionType:t.compressionType||"gzip",enableHTTP2:t.enableHTTP2??!0,enableHTTP3:t.enableHTTP3??!1,enableHTTPS:t.enableHTTPS??!0,enableGeoRouting:t.enableGeoRouting??!1,enableDDoSProtection:t.enableDDoSProtection??!0,edgeLocations:0,requests:0,cacheHitRate:0,bandwidth:0};l({distributions:[...j,s]}),P({title:"Distribution created",description:`Distribution ${t.domain} has been created.`})}ae(!1)},es=s=>{const a=j.find(n=>n.id===s);l({distributions:j.filter(n=>n.id!==s)}),P({title:"Distribution deleted",description:`Distribution ${a?.domain||s} has been deleted.`})},Se=s=>{s?(ve(s),B({...s})):(ve(null),B({region:"",city:"",status:"active",capacity:1e4,latency:50})),_({}),S({}),ie(!0)},X=()=>{const s={};return(!c.city||c.city.trim()==="")&&(s.city="City is required"),(!c.region||c.region.trim()==="")&&(s.region="Region is required"),c.capacity!==void 0&&(c.capacity<1&&(s.capacity="Capacity must be at least 1 req/s"),c.capacity>1e6&&(s.capacity="Capacity cannot exceed 1,000,000 req/s")),c.latency!==void 0&&(c.latency<1&&(s.latency="Latency must be at least 1ms"),c.latency>1e4&&(s.latency="Latency cannot exceed 10,000ms")),_(s),Object.keys(s).length===0},ss=()=>{if(S({city:!0,region:!0,capacity:!0,latency:!0}),!X()){P({title:"Validation error",description:"Please fix the errors in the form.",variant:"destructive"});return}if(W){const s=L.map(a=>a.id===W.id?{...W,...c}:a);l({edgeLocations:s}),P({title:"Edge location updated",description:`Edge location ${c.city} has been updated.`})}else{const s={id:`edge-${Date.now()}`,region:c.region,city:c.city,status:c.status||"active",capacity:c.capacity||1e4,latency:c.latency||50,requests:0,cacheHits:0,bandwidth:0};l({edgeLocations:[...L,s]}),P({title:"Edge location created",description:`Edge location ${c.city} has been created.`})}ie(!1)},ts=s=>{const a=L.find(n=>n.id===s);l({edgeLocations:L.filter(n=>n.id!==s)}),P({title:"Edge location deleted",description:`Edge location ${a?.city||s} has been deleted.`})},as=s=>{Le(s),ne(!0)},is=()=>{if(!k||!Ce)return;const s=k.purgeCache(Ce);P({title:"Cache purged",description:`Purged ${s} cache entries for distribution.`}),ne(!1),Le(null)},He=s=>{switch(s){case"deployed":case"active":return"bg-green-500";case"deploying":return"bg-yellow-500";case"failed":case"inactive":return"bg-red-500";default:return"bg-muted"}},ke=s=>{switch(s){case"deployed":case"active":return"bg-green-500 text-white";case"deploying":return"bg-yellow-500 text-white";case"failed":case"inactive":return"bg-red-500 text-white";default:return"bg-muted text-foreground"}},Ee=s=>{if(!s)return"0 B";const a=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(s)/Math.log(1024));return`${(s/Math.pow(1024,n)).toFixed(2)} ${a[n]}`};return e.jsxs("div",{className:"h-full overflow-y-auto bg-background",children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"CDN Edge"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Content Delivery Network"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Global content distribution and caching"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(p,{variant:"outline",size:"sm",onClick:Xe,children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(V,{}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(v,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm font-medium text-muted-foreground",children:"Distributions"}),e.jsx(je,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:We}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(v,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm font-medium text-muted-foreground",children:"Edge Locations"}),e.jsx(pe,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Ke}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"global"})]})})]}),e.jsxs(v,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(us,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(C,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:K>=1e6?`${(K/1e6).toFixed(1)}M`:K>=1e3?`${(K/1e3).toFixed(0)}K`:K.toLocaleString()})})})]}),e.jsxs(v,{className:"border-l-4 border-l-cyan-500 bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm font-medium text-muted-foreground",children:"Cache Hit Rate"}),e.jsx(Ts,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(C,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:[Qe.toFixed(1),"%"]})})})]})]}),e.jsxs(ms,{defaultValue:"distributions",className:"space-y-4",children:[e.jsxs(gs,{className:"flex flex-wrap gap-2",children:[e.jsxs(le,{value:"distributions",className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Distributions"}),e.jsx(H,{variant:"secondary",className:"ml-1",children:j.length})]}),e.jsxs(le,{value:"edge-locations",className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edge Locations"}),e.jsx(H,{variant:"secondary",className:"ml-1",children:L.length})]}),e.jsxs(le,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(js,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),e.jsx(de,{value:"distributions",className:"space-y-4",children:e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:"CDN Distributions"}),e.jsx(q,{children:"Content distribution configurations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-64",children:[e.jsx(Be,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Search distributions...",value:O,onChange:s=>Ne(s.target.value),className:"pl-8"}),O&&e.jsx(p,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-6 w-6",onClick:()=>Ne(""),children:e.jsx(Fe,{className:"h-3 w-3"})})]}),e.jsxs(p,{onClick:()=>De(),size:"sm",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Create"]})]})]})}),e.jsx(C,{children:we.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:O?"No distributions found":"No distributions configured"}):e.jsx("div",{className:"space-y-4",children:we.map(s=>e.jsxs(v,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${He(s.status)}/20`,children:e.jsx(je,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(y,{className:"text-lg font-semibold truncate",children:s.domain}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsx(H,{variant:"outline",className:`${ke(s.status)} border-0`,children:s.status}),e.jsx(H,{variant:"outline",className:"font-mono text-xs truncate max-w-[200px]",children:s.origin}),s.edgeLocations!==void 0&&e.jsxs(H,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20 text-green-700 dark:text-green-300",children:[s.edgeLocations," edges"]}),s.cacheHitRate!==void 0&&e.jsxs(H,{variant:"outline",className:"bg-purple-50 dark:bg-purple-950/20 text-purple-700 dark:text-purple-300",children:[s.cacheHitRate.toFixed(1),"% cache"]})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Y,{children:e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>De(s),className:"hover:bg-blue-50 dark:hover:bg-blue-950/20",children:e.jsx(Ge,{className:"h-4 w-4"})})}),e.jsx(te,{children:"Edit distribution"})]})}),i.enablePurge!==!1&&e.jsx(Y,{children:e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>as(s.id),className:"hover:bg-orange-50 dark:hover:bg-orange-950/20",children:e.jsx(Ns,{className:"h-4 w-4"})})}),e.jsx(te,{children:"Purge cache"})]})}),e.jsx(Y,{children:e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>es(s.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ie,{className:"h-4 w-4"})})}),e.jsx(te,{children:"Delete distribution"})]})})]})]})}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[s.requests!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.requests.toLocaleString()})]}),s.bandwidth!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bandwidth:"}),e.jsx("span",{className:"ml-2 font-semibold",children:Ee(s.bandwidth)})]}),s.cachePolicy&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Policy:"}),e.jsx("span",{className:"ml-2 font-semibold capitalize",children:s.cachePolicy.replace("-"," ")})]})]})})]},s.id))})})]})}),e.jsx(de,{value:"edge-locations",className:"space-y-4",children:e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Edge Locations"}),e.jsx(q,{children:"Global CDN edge servers"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-64",children:[e.jsx(Be,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Search locations...",value:A,onChange:s=>ye(s.target.value),className:"pl-8"}),A&&e.jsx(p,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-6 w-6",onClick:()=>ye(""),children:e.jsx(Fe,{className:"h-3 w-3"})})]}),e.jsxs(p,{onClick:()=>Se(),size:"sm",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Create"]})]})]})}),e.jsx(C,{children:Pe.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:A?"No edge locations found":"No edge locations configured"}):e.jsx("div",{className:"space-y-4",children:Pe.map(s=>e.jsxs(v,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${He(s.status)}/20`,children:e.jsx(pe,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(y,{className:"text-lg font-semibold",children:s.city}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsx(H,{variant:"outline",className:`${ke(s.status)} border-0`,children:s.status}),e.jsx(H,{variant:"outline",children:s.region}),s.capacity&&e.jsxs(H,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",children:[s.capacity.toLocaleString()," req/s"]}),s.latency&&e.jsxs(H,{variant:"outline",className:"bg-purple-50 dark:bg-purple-950/20 text-purple-700 dark:text-purple-300",children:[s.latency,"ms"]})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Y,{children:e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>Se(s),className:"hover:bg-green-50 dark:hover:bg-green-950/20",children:e.jsx(Ge,{className:"h-4 w-4"})})}),e.jsx(te,{children:"Edit edge location"})]})}),e.jsx(Y,{children:e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>ts(s.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ie,{className:"h-4 w-4"})})}),e.jsx(te,{children:"Delete edge location"})]})})]})]})}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[s.requests!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.requests.toLocaleString()})]}),s.cacheHits!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cache Hits:"}),e.jsx("span",{className:"ml-2 font-semibold",children:s.cacheHits.toLocaleString()})]}),s.bandwidth!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bandwidth:"}),e.jsx("span",{className:"ml-2 font-semibold",children:Ee(s.bandwidth)})]})]})})]},s.id))})})]})}),e.jsxs(de,{value:"settings",className:"space-y-4",children:[e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"CDN Provider"}),e.jsx(q,{children:"Select CDN provider"})]}),e.jsx(C,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Provider"}),e.jsxs(F,{value:i.cdnProvider||"cloudflare",onValueChange:s=>l({cdnProvider:s}),children:[e.jsx($,{children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"cloudflare",children:"Cloudflare"}),e.jsx(d,{value:"cloudfront",children:"AWS CloudFront"}),e.jsx(d,{value:"fastly",children:"Fastly"}),e.jsx(d,{value:"akamai",children:"Akamai"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"CDN provider for content delivery"})]})})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Caching"}),e.jsx(q,{children:"Cache configuration"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Caching"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable content caching at edge locations"})]}),e.jsx(T,{checked:i.enableCaching??!0,onCheckedChange:s=>l({enableCaching:s})})]}),e.jsx(V,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Cache TTL (seconds)"}),e.jsx(b,{type:"number",value:i.cacheTTL??3600,onChange:s=>l({cacheTTL:parseInt(s.target.value)||3600}),min:1,max:86400}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Default cache time-to-live"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Default TTL (seconds)"}),e.jsx(b,{type:"number",value:i.defaultTTL??3600,onChange:s=>l({defaultTTL:parseInt(s.target.value)||3600}),min:1}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Default TTL for distributions"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Max TTL (seconds)"}),e.jsx(b,{type:"number",value:i.maxTTL??86400,onChange:s=>l({maxTTL:parseInt(s.target.value)||86400}),min:1}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum TTL for distributions"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Cache Policy"}),e.jsxs(F,{value:i.cachePolicy??"cache-first",onValueChange:s=>l({cachePolicy:s}),children:[e.jsx($,{children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"cache-first",children:"Cache First"}),e.jsx(d,{value:"origin-first",children:"Origin First"}),e.jsx(d,{value:"bypass",children:"Bypass Cache"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Default cache policy for distributions"})]})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Compression"}),e.jsx(q,{children:"Content compression settings"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Compression"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Compress content before delivery"})]}),e.jsx(T,{checked:i.enableCompression??!0,onCheckedChange:s=>l({enableCompression:s})})]}),i.enableCompression!==!1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Compression Type"}),e.jsxs(F,{value:i.compressionType||"gzip",onValueChange:s=>l({compressionType:s}),children:[e.jsx($,{children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"gzip",children:"Gzip"}),e.jsx(d,{value:"brotli",children:"Brotli"}),e.jsx(d,{value:"zstd",children:"Zstandard"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Compression algorithm"})]})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Protocols"}),e.jsx(q,{children:"HTTP/HTTPS protocol settings"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable SSL/TLS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for HTTP/2 and HTTP/3"})]}),e.jsx(T,{checked:i.enableSSL??!0,onCheckedChange:s=>{l({enableSSL:s,enableHTTP2:s?i.enableHTTP2??!0:!1,enableHTTP3:s?i.enableHTTP3??!1:!1})}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable HTTP/2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires SSL/TLS"})]}),e.jsx(T,{checked:i.enableHTTP2??!0,disabled:!i.enableSSL,onCheckedChange:s=>{i.enableSSL&&l({enableHTTP2:s})}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable HTTP/3 (QUIC)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires SSL/TLS, can work alongside HTTP/2"})]}),e.jsx(T,{checked:i.enableHTTP3??!1,disabled:!i.enableSSL,onCheckedChange:s=>{i.enableSSL&&l({enableHTTP3:s})}})]}),i.enableHTTP2&&i.enableHTTP3&&i.enableSSL&&e.jsx("div",{className:"rounded-md bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ps,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"Multiple protocols enabled"}),e.jsx("p",{children:"Both HTTP/2 and HTTP/3 are enabled. The CDN will support both protocols and automatically select the best one for each client connection."})]})]})})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Features"}),e.jsx(q,{children:"Advanced CDN features"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Cache Purge"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow manual cache purging"})]}),e.jsx(T,{checked:i.enablePurge??!0,onCheckedChange:s=>l({enablePurge:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Geo Routing"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests based on geographic location"})]}),e.jsx(T,{checked:i.enableGeoRouting??!1,onCheckedChange:s=>l({enableGeoRouting:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable DDoS Protection"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Protect against DDoS attacks"})]}),e.jsx(T,{checked:i.enableDDoSProtection??!0,onCheckedChange:s=>l({enableDDoSProtection:s})})]})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Metrics Export"}),e.jsx(q,{children:"Prometheus metrics configuration"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Metrics Export"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Export CDN metrics for Prometheus scraping"})]}),e.jsx(T,{checked:i.metrics?.enabled??!0,onCheckedChange:s=>l({metrics:{...i.metrics,enabled:s,port:i.metrics?.port||9101,path:i.metrics?.path||"/metrics"}})})]}),i.metrics?.enabled!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Metrics Port"}),e.jsx(b,{type:"number",value:i.metrics?.port??9101,onChange:s=>l({metrics:{...i.metrics,port:parseInt(s.target.value)||9101,path:i.metrics?.path||"/metrics"}}),min:1024,max:65535}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Port for Prometheus metrics endpoint"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Metrics Path"}),e.jsx(b,{type:"text",value:i.metrics?.path??"/metrics",onChange:s=>l({metrics:{...i.metrics,path:s.target.value||"/metrics",port:i.metrics?.port||9101}}),placeholder:"/metrics"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Path for Prometheus metrics endpoint"})]})]})]})]})]})]})]}),e.jsx(oe,{open:Ve,onOpenChange:ae,children:e.jsxs(xe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(he,{children:[e.jsx(ue,{children:J?"Edit Distribution":"Create Distribution"}),e.jsx(me,{children:J?"Update distribution configuration":"Create a new CDN distribution"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"domain",children:"Domain *"}),e.jsx(b,{id:"domain",value:t.domain,onChange:s=>{if(f({...t,domain:s.target.value}),D({...o,domain:!0}),o.domain){const a={...u};!s.target.value||s.target.value.trim()===""?a.domain="Domain is required":/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/.test(s.target.value)?delete a.domain:a.domain="Invalid domain format (e.g., cdn.example.com)",U(a)}},onBlur:()=>{D({...o,domain:!0}),Q()},placeholder:"cdn.example.com",className:u.domain&&o.domain?"border-red-500 focus-visible:ring-red-500":""}),u.domain&&o.domain&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),u.domain]}),!u.domain&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"CDN distribution domain name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"origin",children:"Origin URL *"}),e.jsx(b,{id:"origin",value:t.origin,onChange:s=>{if(f({...t,origin:s.target.value}),D({...o,origin:!0}),o.origin){const a={...u};if(!s.target.value||s.target.value.trim()==="")a.origin="Origin URL is required";else try{new URL(s.target.value).protocol.startsWith("http")?delete a.origin:a.origin="Origin URL must use http:// or https:// protocol"}catch{a.origin="Invalid URL format (e.g., https://origin.example.com)"}U(a)}},onBlur:()=>{D({...o,origin:!0}),Q()},placeholder:"https://origin.example.com",className:u.origin&&o.origin?"border-red-500 focus-visible:ring-red-500":""}),u.origin&&o.origin&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),u.origin]}),!u.origin&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Origin server URL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"status",children:"Status"}),e.jsxs(F,{value:t.status,onValueChange:s=>f({...t,status:s}),children:[e.jsx($,{id:"status",children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"deployed",children:"Deployed"}),e.jsx(d,{value:"deploying",children:"Deploying"}),e.jsx(d,{value:"failed",children:"Failed"})]})]})]}),e.jsx(V,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"cachePolicy",children:"Cache Policy"}),e.jsxs(F,{value:t.cachePolicy,onValueChange:s=>f({...t,cachePolicy:s}),children:[e.jsx($,{id:"cachePolicy",children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"cache-first",children:"Cache First"}),e.jsx(d,{value:"origin-first",children:"Origin First"}),e.jsx(d,{value:"bypass",children:"Bypass Cache"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"defaultTTL",children:"Default TTL (seconds)"}),e.jsx(b,{id:"defaultTTL",type:"number",value:t.defaultTTL,onChange:s=>{const a=parseInt(s.target.value)||3600;if(f({...t,defaultTTL:a}),D({...o,defaultTTL:!0}),o.defaultTTL){const n={...u};a<1?n.defaultTTL="Default TTL must be at least 1 second":delete n.defaultTTL,t.maxTTL!==void 0&&t.maxTTL<a?n.maxTTL="Max TTL must be greater than or equal to Default TTL":n.maxTTL==="Max TTL must be greater than or equal to Default TTL"&&delete n.maxTTL,U(n)}},onBlur:()=>{D({...o,defaultTTL:!0}),Q()},min:1,className:u.defaultTTL&&o.defaultTTL?"border-red-500 focus-visible:ring-red-500":""}),u.defaultTTL&&o.defaultTTL&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),u.defaultTTL]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"maxTTL",children:"Max TTL (seconds)"}),e.jsx(b,{id:"maxTTL",type:"number",value:t.maxTTL,onChange:s=>{const a=parseInt(s.target.value)||86400;if(f({...t,maxTTL:a}),D({...o,maxTTL:!0}),o.maxTTL){const n={...u};a<1?n.maxTTL="Max TTL must be at least 1 second":t.defaultTTL!==void 0&&a<t.defaultTTL?n.maxTTL="Max TTL must be greater than or equal to Default TTL":delete n.maxTTL,U(n)}},onBlur:()=>{D({...o,maxTTL:!0}),Q()},min:1,className:u.maxTTL&&o.maxTTL?"border-red-500 focus-visible:ring-red-500":""}),u.maxTTL&&o.maxTTL&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),u.maxTTL]})]})]}),e.jsx(V,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Compression"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Compress content before delivery"})]}),e.jsx(T,{checked:t.enableCompression??!0,onCheckedChange:s=>f({...t,enableCompression:s})})]}),t.enableCompression!==!1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"compressionType",children:"Compression Type"}),e.jsxs(F,{value:t.compressionType,onValueChange:s=>f({...t,compressionType:s}),children:[e.jsx($,{id:"compressionType",children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"gzip",children:"Gzip"}),e.jsx(d,{value:"brotli",children:"Brotli"}),e.jsx(d,{value:"zstd",children:"Zstandard"})]})]})]})]}),e.jsx(V,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable HTTPS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for HTTP/2 and HTTP/3"})]}),e.jsx(T,{checked:t.enableHTTPS??!0,onCheckedChange:s=>{f({...t,enableHTTPS:s,enableHTTP2:s?t.enableHTTP2??!0:!1,enableHTTP3:s?t.enableHTTP3??!1:!1})}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable HTTP/2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires HTTPS"})]}),e.jsx(T,{checked:t.enableHTTP2??!0,disabled:!t.enableHTTPS,onCheckedChange:s=>{t.enableHTTPS&&f({...t,enableHTTP2:s})}})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable HTTP/3 (QUIC)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires HTTPS, can work with HTTP/2"})]}),e.jsx(T,{checked:t.enableHTTP3??!1,disabled:!t.enableHTTPS,onCheckedChange:s=>{t.enableHTTPS&&f({...t,enableHTTP3:s})}})]}),e.jsx(V,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable Geo Routing"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests based on geographic location"})]}),e.jsx(T,{checked:t.enableGeoRouting??!1,onCheckedChange:s=>f({...t,enableGeoRouting:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{children:"Enable DDoS Protection"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Protect against DDoS attacks"})]}),e.jsx(T,{checked:t.enableDDoSProtection??!0,onCheckedChange:s=>f({...t,enableDDoSProtection:s})})]})]})]}),e.jsxs(ge,{children:[e.jsx(p,{variant:"outline",onClick:()=>ae(!1),children:"Cancel"}),e.jsx(p,{onClick:Ye,children:"Save"})]})]})}),e.jsx(oe,{open:Ze,onOpenChange:ie,children:e.jsxs(xe,{children:[e.jsxs(he,{children:[e.jsx(ue,{children:W?"Edit Edge Location":"Create Edge Location"}),e.jsx(me,{children:W?"Update edge location configuration":"Create a new edge location"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"city",children:"City *"}),e.jsx(b,{id:"city",value:c.city,onChange:s=>{if(B({...c,city:s.target.value}),S({...x,city:!0}),x.city){const a={...g};!s.target.value||s.target.value.trim()===""?a.city="City is required":delete a.city,_(a)}},onBlur:()=>{S({...x,city:!0}),X()},placeholder:"New York",className:g.city&&x.city?"border-red-500 focus-visible:ring-red-500":""}),g.city&&x.city&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),g.city]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"region",children:"Region *"}),e.jsx(b,{id:"region",value:c.region,onChange:s=>{if(B({...c,region:s.target.value}),S({...x,region:!0}),x.region){const a={...g};!s.target.value||s.target.value.trim()===""?a.region="Region is required":delete a.region,_(a)}},onBlur:()=>{S({...x,region:!0}),X()},placeholder:"us-east-1",className:g.region&&x.region?"border-red-500 focus-visible:ring-red-500":""}),g.region&&x.region&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),g.region]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edgeStatus",children:"Status"}),e.jsxs(F,{value:c.status,onValueChange:s=>B({...c,status:s}),children:[e.jsx($,{id:"edgeStatus",children:e.jsx(G,{})}),e.jsxs(I,{children:[e.jsx(d,{value:"active",children:"Active"}),e.jsx(d,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"capacity",children:"Capacity (req/s)"}),e.jsx(b,{id:"capacity",type:"number",value:c.capacity,onChange:s=>{const a=parseInt(s.target.value)||1e4;if(B({...c,capacity:a}),S({...x,capacity:!0}),x.capacity){const n={...g};a<1?n.capacity="Capacity must be at least 1 req/s":a>1e6?n.capacity="Capacity cannot exceed 1,000,000 req/s":delete n.capacity,_(n)}},onBlur:()=>{S({...x,capacity:!0}),X()},min:1,className:g.capacity&&x.capacity?"border-red-500 focus-visible:ring-red-500":""}),g.capacity&&x.capacity&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),g.capacity]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"latency",children:"Latency (ms)"}),e.jsx(b,{id:"latency",type:"number",value:c.latency,onChange:s=>{const a=parseInt(s.target.value)||50;if(B({...c,latency:a}),S({...x,latency:!0}),x.latency){const n={...g};a<1?n.latency="Latency must be at least 1ms":a>1e4?n.latency="Latency cannot exceed 10,000ms":delete n.latency,_(n)}},onBlur:()=>{S({...x,latency:!0}),X()},min:1,className:g.latency&&x.latency?"border-red-500 focus-visible:ring-red-500":""}),g.latency&&x.latency&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),g.latency]})]})]})]}),e.jsxs(ge,{children:[e.jsx(p,{variant:"outline",onClick:()=>ie(!1),children:"Cancel"}),e.jsx(p,{onClick:ss,children:"Save"})]})]})}),e.jsx(oe,{open:Je,onOpenChange:ne,children:e.jsxs(xe,{children:[e.jsxs(he,{children:[e.jsx(ue,{children:"Purge Cache"}),e.jsx(me,{children:"This will purge all cached content for this distribution. This action cannot be undone."})]}),e.jsxs(ge,{children:[e.jsx(p,{variant:"outline",onClick:()=>ne(!1),children:"Cancel"}),e.jsx(p,{variant:"destructive",onClick:is,children:"Purge Cache"})]})]})})]})}export{ks as CDNConfigAdvanced};
