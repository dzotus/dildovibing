import{E as L,u as O,j as s,B as i,i as u,c as g,S as f,C as t,e as n,f as c,k as r,T as R,a as B,b as N,d as y,h as p,P as H,m as I,L as M,I as U,X as v,aa as _,a9 as E}from"./index-CHKNZn98.js";import{P as G}from"./progress-BgkEGxEf.js";import{C as X}from"./clock-CL3uNMwy.js";const q=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],b=L("rocket",q);function J({componentId:j}){const{nodes:w,updateNode:C}=O(),x=w.find(e=>e.id===j);if(!x)return s.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const l=x.data.config||{},S=l.serverUrl||"https://argocd.example.com",a=l.applications||[{name:"web-app",namespace:"production",status:"synced",health:"healthy",syncPolicy:"auto",lastSync:"2m ago"},{name:"api-service",namespace:"staging",status:"outofsync",health:"healthy",syncPolicy:"manual",lastSync:"15m ago"},{name:"worker",namespace:"production",status:"progressing",health:"progressing",syncPolicy:"auto",lastSync:"1m ago"}],d=l.syncedApps||a.filter(e=>e.status==="synced").length,A=l.outOfSyncApps||a.filter(e=>e.status==="outofsync").length,o=l.totalApps||a.length,m=e=>{C(j,{data:{...x.data,config:{...l,...e}}})},k=()=>{m({applications:[...a,{name:"new-app",namespace:"default",status:"progressing",health:"progressing",syncPolicy:"manual"}]})},P=e=>{m({applications:a.filter((h,D)=>D!==e)})},T=e=>{switch(e){case"synced":return s.jsx(E,{className:"h-4 w-4 text-green-500"});case"outofsync":return s.jsx(v,{className:"h-4 w-4 text-yellow-500"});case"progressing":return s.jsx(_,{className:"h-4 w-4 text-blue-500 animate-spin"});case"degraded":return s.jsx(v,{className:"h-4 w-4 text-red-500"});default:return s.jsx(X,{className:"h-4 w-4 text-muted-foreground"})}},z=e=>{switch(e){case"healthy":return s.jsx(i,{variant:"default",className:"bg-green-500",children:"Healthy"});case"degraded":return s.jsx(i,{variant:"destructive",children:"Degraded"});case"progressing":return s.jsx(i,{variant:"default",className:"bg-blue-500",children:"Progressing"});default:return s.jsx(i,{variant:"secondary",children:e})}};return s.jsx("div",{className:"h-full overflow-y-auto bg-background",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:s.jsx(b,{className:"h-6 w-6 text-red-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Argo CD"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"GitOps Continuous Deployment"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(i,{variant:"outline",className:"gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]}),s.jsxs(u,{size:"sm",variant:"outline",children:[s.jsx(g,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),s.jsx(f,{}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs(t,{children:[s.jsx(n,{className:"pb-3",children:s.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Applications"})}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total apps"})]})]}),s.jsxs(t,{children:[s.jsx(n,{className:"pb-3",children:s.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Synced"})}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-500",children:d}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In sync"})]})]}),s.jsxs(t,{children:[s.jsx(n,{className:"pb-3",children:s.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Out of Sync"})}),s.jsxs(r,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:A}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Needs sync"})]})]}),s.jsxs(t,{children:[s.jsx(n,{className:"pb-3",children:s.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Sync Rate"})}),s.jsxs(r,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(d/o*100),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Synced"})]})]})]}),s.jsxs(R,{defaultValue:"applications",className:"w-full",children:[s.jsxs(B,{className:"grid w-full grid-cols-2",children:[s.jsxs(N,{value:"applications",className:"gap-2",children:[s.jsx(b,{className:"h-4 w-4"}),"Applications"]}),s.jsxs(N,{value:"settings",className:"gap-2",children:[s.jsx(g,{className:"h-4 w-4"}),"Settings"]})]}),s.jsx(y,{value:"applications",className:"space-y-4 mt-4",children:s.jsxs(t,{children:[s.jsx(n,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(c,{children:"Applications"}),s.jsx(p,{children:"GitOps application deployments"})]}),s.jsxs(u,{size:"sm",onClick:k,variant:"outline",children:[s.jsx(H,{className:"h-4 w-4 mr-2"}),"New Application"]})]})}),s.jsx(r,{children:s.jsx("div",{className:"space-y-3",children:a.map((e,h)=>s.jsx(t,{className:"border-border",children:s.jsx(n,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[T(e.status),s.jsxs("div",{children:[s.jsx(c,{className:"text-lg",children:e.name}),s.jsxs(p,{className:"text-xs mt-1",children:["Namespace: ",e.namespace," • ",e.syncPolicy," sync",e.lastSync&&` • Last sync: ${e.lastSync}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[z(e.health),a.length>1&&s.jsx(u,{size:"icon",variant:"ghost",onClick:()=>P(h),children:s.jsx(I,{className:"h-4 w-4"})})]})]})})},h))})})]})}),s.jsx(y,{value:"settings",className:"space-y-4 mt-4",children:s.jsxs(t,{children:[s.jsxs(n,{children:[s.jsx(c,{children:"Argo CD Server"}),s.jsx(p,{children:"Server configuration"})]}),s.jsxs(r,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(M,{htmlFor:"server-url",children:"Server URL"}),s.jsx(U,{id:"server-url",value:S,onChange:e=>m({serverUrl:e.target.value}),placeholder:"https://argocd.example.com"})]}),s.jsx(f,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sync Status"}),s.jsxs("span",{className:"font-semibold",children:[d,"/",o," synced"]})]}),s.jsx(G,{value:d/o*100,className:"h-2"})]})]})]})})]})]})})}export{J as ArgoCDConfigAdvanced};
