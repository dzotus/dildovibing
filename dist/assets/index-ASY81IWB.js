function M4(a,l){for(var r=0;r<l.length;r++){const c=l[r];if(typeof c!="string"&&!Array.isArray(c)){for(const i in c)if(i!=="default"&&!(i in a)){const d=Object.getOwnPropertyDescriptor(c,i);d&&Object.defineProperty(a,i,d.get?d:{enumerable:!0,get:()=>c[i]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(i){if(i.ep)return;i.ep=!0;const d=r(i);fetch(i.href,d)}})();function Wh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var sh={exports:{}},qi={};var Kg;function T4(){if(Kg)return qi;Kg=1;var a=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(c,i,d){var u=null;if(d!==void 0&&(u=""+d),i.key!==void 0&&(u=""+i.key),"key"in i){d={};for(var m in i)m!=="key"&&(d[m]=i[m])}else d=i;return i=d.ref,{$$typeof:a,type:c,key:u,ref:i!==void 0?i:null,props:d}}return qi.Fragment=l,qi.jsx=r,qi.jsxs=r,qi}var Yg;function D4(){return Yg||(Yg=1,sh.exports=T4()),sh.exports}var e=D4(),th={exports:{}},ls={};var Xg;function _4(){if(Xg)return ls;Xg=1;var a=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function N(O,re,H){this.props=O,this.context=re,this.refs=E,this.updater=H||w}N.prototype.isReactComponent={},N.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=N.prototype;function P(O,re,H){this.props=O,this.context=re,this.refs=E,this.updater=H||w}var I=P.prototype=new A;I.constructor=P,k(I,N.prototype),I.isPureReactComponent=!0;var T=Array.isArray;function z(){}var C={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function Q(O,re,H){var oe=H.ref;return{$$typeof:a,type:O,key:re,ref:oe!==void 0?oe:null,props:H}}function Y(O,re){return Q(O.type,re,O.props)}function W(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function q(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(H){return re[H]})}var F=/\/+/g;function me(O,re){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):re.toString(36)}function je(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(z,z):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ce(O,re,H,oe,ee){var se=typeof O;(se==="undefined"||se==="boolean")&&(O=null);var X=!1;if(O===null)X=!0;else switch(se){case"bigint":case"string":case"number":X=!0;break;case"object":switch(O.$$typeof){case a:case l:X=!0;break;case p:return X=O._init,ce(X(O._payload),re,H,oe,ee)}}if(X)return ee=ee(O),X=oe===""?"."+me(O,0):oe,T(ee)?(H="",X!=null&&(H=X.replace(F,"$&/")+"/"),ce(ee,re,H,"",function(xe){return xe})):ee!=null&&(W(ee)&&(ee=Y(ee,H+(ee.key==null||O&&O.key===ee.key?"":(""+ee.key).replace(F,"$&/")+"/")+X)),re.push(ee)),1;X=0;var le=oe===""?".":oe+":";if(T(O))for(var G=0;G<O.length;G++)oe=O[G],se=le+me(oe,G),X+=ce(oe,re,H,se,ee);else if(G=M(O),typeof G=="function")for(O=G.call(O),G=0;!(oe=O.next()).done;)oe=oe.value,se=le+me(oe,G++),X+=ce(oe,re,H,se,ee);else if(se==="object"){if(typeof O.then=="function")return ce(je(O),re,H,oe,ee);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return X}function K(O,re,H){if(O==null)return O;var oe=[],ee=0;return ce(O,oe,"","",function(se){return re.call(H,se,ee++)}),oe}function U(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(H){(O._status===0||O._status===-1)&&(O._status=1,O._result=H)},function(H){(O._status===0||O._status===-1)&&(O._status=2,O._result=H)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ae=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Z={map:K,forEach:function(O,re,H){K(O,function(){re.apply(this,arguments)},H)},count:function(O){var re=0;return K(O,function(){re++}),re},toArray:function(O){return K(O,function(re){return re})||[]},only:function(O){if(!W(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ls.Activity=g,ls.Children=Z,ls.Component=N,ls.Fragment=r,ls.Profiler=i,ls.PureComponent=P,ls.StrictMode=c,ls.Suspense=f,ls.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ls.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},ls.cache=function(O){return function(){return O.apply(null,arguments)}},ls.cacheSignal=function(){return null},ls.cloneElement=function(O,re,H){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=k({},O.props),ee=O.key;if(re!=null)for(se in re.key!==void 0&&(ee=""+re.key),re)!L.call(re,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&re.ref===void 0||(oe[se]=re[se]);var se=arguments.length-2;if(se===1)oe.children=H;else if(1<se){for(var X=Array(se),le=0;le<se;le++)X[le]=arguments[le+2];oe.children=X}return Q(O.type,ee,oe)},ls.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:d,_context:O},O},ls.createElement=function(O,re,H){var oe,ee={},se=null;if(re!=null)for(oe in re.key!==void 0&&(se=""+re.key),re)L.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ee[oe]=re[oe]);var X=arguments.length-2;if(X===1)ee.children=H;else if(1<X){for(var le=Array(X),G=0;G<X;G++)le[G]=arguments[G+2];ee.children=le}if(O&&O.defaultProps)for(oe in X=O.defaultProps,X)ee[oe]===void 0&&(ee[oe]=X[oe]);return Q(O,se,ee)},ls.createRef=function(){return{current:null}},ls.forwardRef=function(O){return{$$typeof:m,render:O}},ls.isValidElement=W,ls.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:U}},ls.memo=function(O,re){return{$$typeof:h,type:O,compare:re===void 0?null:re}},ls.startTransition=function(O){var re=C.T,H={};C.T=H;try{var oe=O(),ee=C.S;ee!==null&&ee(H,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(z,ae)}catch(se){ae(se)}finally{re!==null&&H.types!==null&&(re.types=H.types),C.T=re}},ls.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ls.use=function(O){return C.H.use(O)},ls.useActionState=function(O,re,H){return C.H.useActionState(O,re,H)},ls.useCallback=function(O,re){return C.H.useCallback(O,re)},ls.useContext=function(O){return C.H.useContext(O)},ls.useDebugValue=function(){},ls.useDeferredValue=function(O,re){return C.H.useDeferredValue(O,re)},ls.useEffect=function(O,re){return C.H.useEffect(O,re)},ls.useEffectEvent=function(O){return C.H.useEffectEvent(O)},ls.useId=function(){return C.H.useId()},ls.useImperativeHandle=function(O,re,H){return C.H.useImperativeHandle(O,re,H)},ls.useInsertionEffect=function(O,re){return C.H.useInsertionEffect(O,re)},ls.useLayoutEffect=function(O,re){return C.H.useLayoutEffect(O,re)},ls.useMemo=function(O,re){return C.H.useMemo(O,re)},ls.useOptimistic=function(O,re){return C.H.useOptimistic(O,re)},ls.useReducer=function(O,re,H){return C.H.useReducer(O,re,H)},ls.useRef=function(O){return C.H.useRef(O)},ls.useState=function(O){return C.H.useState(O)},ls.useSyncExternalStore=function(O,re,H){return C.H.useSyncExternalStore(O,re,H)},ls.useTransition=function(){return C.H.useTransition()},ls.version="19.2.0",ls}var Wg;function Zh(){return Wg||(Wg=1,th.exports=_4()),th.exports}var j=Zh();const Gs=Wh(j),Jh=M4({__proto__:null,default:Gs},[j]);var ah={exports:{}},Fi={},nh={exports:{}},lh={};var Zg;function z4(){return Zg||(Zg=1,(function(a){function l(ce,K){var U=ce.length;ce.push(K);e:for(;0<U;){var ae=U-1>>>1,Z=ce[ae];if(0<i(Z,K))ce[ae]=K,ce[U]=Z,U=ae;else break e}}function r(ce){return ce.length===0?null:ce[0]}function c(ce){if(ce.length===0)return null;var K=ce[0],U=ce.pop();if(U!==K){ce[0]=U;e:for(var ae=0,Z=ce.length,O=Z>>>1;ae<O;){var re=2*(ae+1)-1,H=ce[re],oe=re+1,ee=ce[oe];if(0>i(H,U))oe<Z&&0>i(ee,H)?(ce[ae]=ee,ce[oe]=U,ae=oe):(ce[ae]=H,ce[re]=U,ae=re);else if(oe<Z&&0>i(ee,U))ce[ae]=ee,ce[oe]=U,ae=oe;else break e}}return K}function i(ce,K){var U=ce.sortIndex-K.sortIndex;return U!==0?U:ce.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var u=Date,m=u.now();a.unstable_now=function(){return u.now()-m}}var f=[],h=[],p=1,g=null,y=3,M=!1,w=!1,k=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function I(ce){for(var K=r(h);K!==null;){if(K.callback===null)c(h);else if(K.startTime<=ce)c(h),K.sortIndex=K.expirationTime,l(f,K);else break;K=r(h)}}function T(ce){if(k=!1,I(ce),!w)if(r(f)!==null)w=!0,z||(z=!0,q());else{var K=r(h);K!==null&&je(T,K.startTime-ce)}}var z=!1,C=-1,L=5,Q=-1;function Y(){return E?!0:!(a.unstable_now()-Q<L)}function W(){if(E=!1,z){var ce=a.unstable_now();Q=ce;var K=!0;try{e:{w=!1,k&&(k=!1,A(C),C=-1),M=!0;var U=y;try{s:{for(I(ce),g=r(f);g!==null&&!(g.expirationTime>ce&&Y());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,y=g.priorityLevel;var Z=ae(g.expirationTime<=ce);if(ce=a.unstable_now(),typeof Z=="function"){g.callback=Z,I(ce),K=!0;break s}g===r(f)&&c(f),I(ce)}else c(f);g=r(f)}if(g!==null)K=!0;else{var O=r(h);O!==null&&je(T,O.startTime-ce),K=!1}}break e}finally{g=null,y=U,M=!1}K=void 0}}finally{K?q():z=!1}}}var q;if(typeof P=="function")q=function(){P(W)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,me=F.port2;F.port1.onmessage=W,q=function(){me.postMessage(null)}}else q=function(){N(W,0)};function je(ce,K){C=N(function(){ce(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(ce){ce.callback=null},a.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ce?Math.floor(1e3/ce):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_next=function(ce){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var U=y;y=K;try{return ce()}finally{y=U}},a.unstable_requestPaint=function(){E=!0},a.unstable_runWithPriority=function(ce,K){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var U=y;y=ce;try{return K()}finally{y=U}},a.unstable_scheduleCallback=function(ce,K,U){var ae=a.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ae+U:ae):U=ae,ce){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,ce={id:p++,callback:K,priorityLevel:ce,startTime:U,expirationTime:Z,sortIndex:-1},U>ae?(ce.sortIndex=U,l(h,ce),r(f)===null&&ce===r(h)&&(k?(A(C),C=-1):k=!0,je(T,U-ae))):(ce.sortIndex=Z,l(f,ce),w||M||(w=!0,z||(z=!0,q()))),ce},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(ce){var K=y;return function(){var U=y;y=K;try{return ce.apply(this,arguments)}finally{y=U}}}})(lh)),lh}var Jg;function P4(){return Jg||(Jg=1,nh.exports=z4()),nh.exports}var rh={exports:{}},yt={};var ev;function O4(){if(ev)return yt;ev=1;var a=Zh();function l(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function d(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,yt.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(l(299));return d(f,h,null,p)},yt.flushSync=function(f){var h=u.T,p=c.p;try{if(u.T=null,c.p=2,f)return f()}finally{u.T=h,c.p=p,c.d.f()}},yt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,c.d.C(f,h))},yt.prefetchDNS=function(f){typeof f=="string"&&c.d.D(f)},yt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=m(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?c.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:M}):p==="script"&&c.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},yt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=m(h.as,h.crossOrigin);c.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&c.d.M(f)},yt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=m(p,h.crossOrigin);c.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},yt.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=m(h.as,h.crossOrigin);c.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else c.d.m(f)},yt.requestFormReset=function(f){c.d.r(f)},yt.unstable_batchedUpdates=function(f,h){return f(h)},yt.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},yt.useFormStatus=function(){return u.H.useHostTransitionStatus()},yt.version="19.2.0",yt}var sv;function c0(){if(sv)return rh.exports;sv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(l){console.error(l)}}return a(),rh.exports=O4(),rh.exports}var tv;function L4(){if(tv)return Fi;tv=1;var a=P4(),l=Zh(),r=c0();function c(s){var t="https://react.dev/errors/"+s;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function d(s){var t=s,n=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,(t.flags&4098)!==0&&(n=t.return),s=t.return;while(s)}return t.tag===3?n:null}function u(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function m(s){if(s.tag===31){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function f(s){if(d(s)!==s)throw Error(c(188))}function h(s){var t=s.alternate;if(!t){if(t=d(s),t===null)throw Error(c(188));return t!==s?null:s}for(var n=s,o=t;;){var x=n.return;if(x===null)break;var v=x.alternate;if(v===null){if(o=x.return,o!==null){n=o;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===n)return f(x),s;if(v===o)return f(x),t;v=v.sibling}throw Error(c(188))}if(n.return!==o.return)n=x,o=v;else{for(var B=!1,te=x.child;te;){if(te===n){B=!0,n=x,o=v;break}if(te===o){B=!0,o=x,n=v;break}te=te.sibling}if(!B){for(te=v.child;te;){if(te===n){B=!0,n=v,o=x;break}if(te===o){B=!0,o=v,n=x;break}te=te.sibling}if(!B)throw Error(c(189))}}if(n.alternate!==o)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?s:t}function p(s){var t=s.tag;if(t===5||t===26||t===27||t===6)return s;for(s=s.child;s!==null;){if(t=p(s),t!==null)return t;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case z:return"SuspenseList";case Q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case P:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case I:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return t=s.displayName||null,t!==null?t:me(s.type)||"Memo";case L:t=s._payload,s=s._init;try{return me(s(t))}catch{}}return null}var je=Array.isArray,ce=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},ae=[],Z=-1;function O(s){return{current:s}}function re(s){0>Z||(s.current=ae[Z],ae[Z]=null,Z--)}function H(s,t){Z++,ae[Z]=s.current,s.current=t}var oe=O(null),ee=O(null),se=O(null),X=O(null);function le(s,t){switch(H(se,t),H(ee,s),H(oe,null),t.nodeType){case 9:case 11:s=(s=t.documentElement)&&(s=s.namespaceURI)?jg(s):0;break;default:if(s=t.tagName,t=t.namespaceURI)t=jg(t),s=gg(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}re(oe),H(oe,s)}function G(){re(oe),re(ee),re(se)}function xe(s){s.memoizedState!==null&&H(X,s);var t=oe.current,n=gg(t,s.type);t!==n&&(H(ee,s),H(oe,n))}function Te(s){ee.current===s&&(re(oe),re(ee)),X.current===s&&(re(X),Ui._currentValue=U)}var we,Be;function qe(s){if(we===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||"",Be=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+s+Be}var Xe=!1;function Ue(s,t){if(!s||Xe)return"";Xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(Ce){var be=Ce}Reflect.construct(s,[],Ae)}else{try{Ae.call()}catch(Ce){be=Ce}s.call(Ae.prototype)}}else{try{throw Error()}catch(Ce){be=Ce}(Ae=s())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(Ce){if(Ce&&be&&typeof Ce.stack=="string")return[Ce.stack,be.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=o.DetermineComponentFrameRoot(),B=v[0],te=v[1];if(B&&te){var he=B.split(`
`),Ne=te.split(`
`);for(x=o=0;o<he.length&&!he[o].includes("DetermineComponentFrameRoot");)o++;for(;x<Ne.length&&!Ne[x].includes("DetermineComponentFrameRoot");)x++;if(o===he.length||x===Ne.length)for(o=he.length-1,x=Ne.length-1;1<=o&&0<=x&&he[o]!==Ne[x];)x--;for(;1<=o&&0<=x;o--,x--)if(he[o]!==Ne[x]){if(o!==1||x!==1)do if(o--,x--,0>x||he[o]!==Ne[x]){var ke=`
`+he[o].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=o&&0<=x);break}}}finally{Xe=!1,Error.prepareStackTrace=n}return(n=s?s.displayName||s.name:"")?qe(n):""}function bs(s,t){switch(s.tag){case 26:case 27:case 5:return qe(s.type);case 16:return qe("Lazy");case 13:return s.child!==t&&t!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Ue(s.type,!1);case 11:return Ue(s.type.render,!1);case 1:return Ue(s.type,!0);case 31:return qe("Activity");default:return""}}function zs(s){try{var t="",n=null;do t+=bs(s,n),n=s,s=s.return;while(s);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var tt=Object.prototype.hasOwnProperty,mt=a.unstable_scheduleCallback,Ys=a.unstable_cancelCallback,at=a.unstable_shouldYield,_t=a.unstable_requestPaint,Os=a.unstable_now,Ea=a.unstable_getCurrentPriorityLevel,pa=a.unstable_ImmediatePriority,yn=a.unstable_UserBlockingPriority,Ma=a.unstable_NormalPriority,ta=a.unstable_LowPriority,ja=a.unstable_IdlePriority,vc=a.log,Pl=a.unstable_setDisableYieldValue,wn=null,Me=null;function ns(s){if(typeof vc=="function"&&Pl(s),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(wn,s)}catch{}}var as=Math.clz32?Math.clz32:$s,Cs=Math.log,nt=Math.LN2;function $s(s){return s>>>=0,s===0?32:31-(Cs(s)/nt|0)|0}var Rt=256,Ta=262144,bt=4194304;function ht(s){var t=s&42;if(t!==0)return t;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function lt(s,t,n){var o=s.pendingLanes;if(o===0)return 0;var x=0,v=s.suspendedLanes,B=s.pingedLanes;s=s.warmLanes;var te=o&134217727;return te!==0?(o=te&~v,o!==0?x=ht(o):(B&=te,B!==0?x=ht(B):n||(n=te&~s,n!==0&&(x=ht(n))))):(te=o&~v,te!==0?x=ht(te):B!==0?x=ht(B):n||(n=o&~s,n!==0&&(x=ht(n)))),x===0?0:t!==0&&t!==x&&(t&v)===0&&(v=x&-x,n=t&-t,v>=n||v===32&&(n&4194048)!==0)?t:x}function ga(s,t){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&t)===0}function cl(s,t){switch(s){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var s=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),s}function ei(s){for(var t=[],n=0;31>n;n++)t.push(s);return t}function Ol(s,t){s.pendingLanes|=t,t!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function g2(s,t,n,o,x,v){var B=s.pendingLanes;s.pendingLanes=n,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=n,s.entangledLanes&=n,s.errorRecoveryDisabledLanes&=n,s.shellSuspendCounter=0;var te=s.entanglements,he=s.expirationTimes,Ne=s.hiddenUpdates;for(n=B&~n;0<n;){var ke=31-as(n),Ae=1<<ke;te[ke]=0,he[ke]=-1;var be=Ne[ke];if(be!==null)for(Ne[ke]=null,ke=0;ke<be.length;ke++){var Ce=be[ke];Ce!==null&&(Ce.lane&=-536870913)}n&=~Ae}o!==0&&Zx(s,o,0),v!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=v&~(B&~t))}function Zx(s,t,n){s.pendingLanes|=t,s.suspendedLanes&=~t;var o=31-as(t);s.entangledLanes|=t,s.entanglements[o]=s.entanglements[o]|1073741824|n&261930}function Jx(s,t){var n=s.entangledLanes|=t;for(s=s.entanglements;n;){var o=31-as(n),x=1<<o;x&t|s[o]&t&&(s[o]|=t),n&=~x}}function ef(s,t){var n=t&-t;return n=(n&42)!==0?1:qd(n),(n&(s.suspendedLanes|t))!==0?0:n}function qd(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Fd(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sf(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:Hg(s.type))}function tf(s,t){var n=K.p;try{return K.p=s,t()}finally{K.p=n}}var Cn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Cn,zt="__reactProps$"+Cn,Ll="__reactContainer$"+Cn,Gd="__reactEvents$"+Cn,v2="__reactListeners$"+Cn,N2="__reactHandles$"+Cn,af="__reactResources$"+Cn,si="__reactMarker$"+Cn;function Qd(s){delete s[xt],delete s[zt],delete s[Gd],delete s[v2],delete s[N2]}function Il(s){var t=s[xt];if(t)return t;for(var n=s.parentNode;n;){if(t=n[Ll]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(s=Sg(s);s!==null;){if(n=s[xt])return n;s=Sg(s)}return t}s=n,n=s.parentNode}return null}function Bl(s){if(s=s[xt]||s[Ll]){var t=s.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return s}return null}function ti(s){var t=s.tag;if(t===5||t===26||t===27||t===6)return s.stateNode;throw Error(c(33))}function Ul(s){var t=s[af];return t||(t=s[af]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(s){s[si]=!0}var nf=new Set,lf={};function ol(s,t){Hl(s,t),Hl(s+"Capture",t)}function Hl(s,t){for(lf[s]=t,s=0;s<t.length;s++)nf.add(t[s])}var b2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},cf={};function y2(s){return tt.call(cf,s)?!0:tt.call(rf,s)?!1:b2.test(s)?cf[s]=!0:(rf[s]=!0,!1)}function Nc(s,t,n){if(y2(t))if(n===null)s.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":s.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){s.removeAttribute(t);return}}s.setAttribute(t,""+n)}}function bc(s,t,n){if(n===null)s.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(t);return}s.setAttribute(t,""+n)}}function Ka(s,t,n,o){if(o===null)s.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttributeNS(t,n,""+o)}}function aa(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function of(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w2(s,t,n){var o=Object.getOwnPropertyDescriptor(s.constructor.prototype,t);if(!s.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var x=o.get,v=o.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return x.call(this)},set:function(B){n=""+B,v.call(this,B)}}),Object.defineProperty(s,t,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(B){n=""+B},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function Kd(s){if(!s._valueTracker){var t=of(s)?"checked":"value";s._valueTracker=w2(s,t,""+s[t])}}function df(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return s&&(o=of(s)?s.checked?"true":"false":s.value),s=o,s!==n?(t.setValue(s),!0):!1}function yc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var C2=/[\n"\\]/g;function na(s){return s.replace(C2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yd(s,t,n,o,x,v,B,te){s.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.type=B:s.removeAttribute("type"),t!=null?B==="number"?(t===0&&s.value===""||s.value!=t)&&(s.value=""+aa(t)):s.value!==""+aa(t)&&(s.value=""+aa(t)):B!=="submit"&&B!=="reset"||s.removeAttribute("value"),t!=null?Xd(s,B,aa(t)):n!=null?Xd(s,B,aa(n)):o!=null&&s.removeAttribute("value"),x==null&&v!=null&&(s.defaultChecked=!!v),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?s.name=""+aa(te):s.removeAttribute("name")}function uf(s,t,n,o,x,v,B,te){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),t!=null||n!=null){if(!(v!=="submit"&&v!=="reset"||t!=null)){Kd(s);return}n=n!=null?""+aa(n):"",t=t!=null?""+aa(t):n,te||t===s.value||(s.value=t),s.defaultValue=t}o=o??x,o=typeof o!="function"&&typeof o!="symbol"&&!!o,s.checked=te?s.checked:!!o,s.defaultChecked=!!o,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(s.name=B),Kd(s)}function Xd(s,t,n){t==="number"&&yc(s.ownerDocument)===s||s.defaultValue===""+n||(s.defaultValue=""+n)}function Vl(s,t,n,o){if(s=s.options,t){t={};for(var x=0;x<n.length;x++)t["$"+n[x]]=!0;for(n=0;n<s.length;n++)x=t.hasOwnProperty("$"+s[n].value),s[n].selected!==x&&(s[n].selected=x),x&&o&&(s[n].defaultSelected=!0)}else{for(n=""+aa(n),t=null,x=0;x<s.length;x++){if(s[x].value===n){s[x].selected=!0,o&&(s[x].defaultSelected=!0);return}t!==null||s[x].disabled||(t=s[x])}t!==null&&(t.selected=!0)}}function mf(s,t,n){if(t!=null&&(t=""+aa(t),t!==s.value&&(s.value=t),n==null)){s.defaultValue!==t&&(s.defaultValue=t);return}s.defaultValue=n!=null?""+aa(n):""}function hf(s,t,n,o){if(t==null){if(o!=null){if(n!=null)throw Error(c(92));if(je(o)){if(1<o.length)throw Error(c(93));o=o[0]}n=o}n==null&&(n=""),t=n}n=aa(t),s.defaultValue=n,o=s.textContent,o===n&&o!==""&&o!==null&&(s.value=o),Kd(s)}function $l(s,t){if(t){var n=s.firstChild;if(n&&n===s.lastChild&&n.nodeType===3){n.nodeValue=t;return}}s.textContent=t}var S2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xf(s,t,n){var o=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?s.setProperty(t,""):t==="float"?s.cssFloat="":s[t]="":o?s.setProperty(t,n):typeof n!="number"||n===0||S2.has(t)?t==="float"?s.cssFloat=n:s[t]=(""+n).trim():s[t]=n+"px"}function ff(s,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(s=s.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="");for(var x in t)o=t[x],t.hasOwnProperty(x)&&n[x]!==o&&xf(s,x,o)}else for(var v in t)t.hasOwnProperty(v)&&xf(s,v,t[v])}function Wd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wc(s){return R2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ya(){}var Zd=null;function Jd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ql=null,Fl=null;function pf(s){var t=Bl(s);if(t&&(s=t.stateNode)){var n=s[zt]||null;e:switch(s=t.stateNode,t.type){case"input":if(Yd(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=s;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+na(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==s&&o.form===s.form){var x=o[zt]||null;if(!x)throw Error(c(90));Yd(o,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(t=0;t<n.length;t++)o=n[t],o.form===s.form&&df(o)}break e;case"textarea":mf(s,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Vl(s,!!n.multiple,t,!1)}}}var eu=!1;function jf(s,t,n){if(eu)return s(t,n);eu=!0;try{var o=s(t);return o}finally{if(eu=!1,(ql!==null||Fl!==null)&&(uo(),ql&&(t=ql,s=Fl,Fl=ql=null,pf(t),s)))for(t=0;t<s.length;t++)pf(s[t])}}function ai(s,t){var n=s.stateNode;if(n===null)return null;var o=n[zt]||null;if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(s=s.type,o=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!o;break e;default:s=!1}if(s)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(Xa)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){su=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{su=!1}var Sn=null,tu=null,Cc=null;function gf(){if(Cc)return Cc;var s,t=tu,n=t.length,o,x="value"in Sn?Sn.value:Sn.textContent,v=x.length;for(s=0;s<n&&t[s]===x[s];s++);var B=n-s;for(o=1;o<=B&&t[n-o]===x[v-o];o++);return Cc=x.slice(s,1<o?1-o:void 0)}function Sc(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function kc(){return!0}function vf(){return!1}function Pt(s){function t(n,o,x,v,B){this._reactName=n,this._targetInst=x,this.type=o,this.nativeEvent=v,this.target=B,this.currentTarget=null;for(var te in s)s.hasOwnProperty(te)&&(n=s[te],this[te]=n?n(v):v[te]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?kc:vf,this.isPropagationStopped=vf,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=Pt(dl),li=g({},dl,{view:0,detail:0}),A2=Pt(li),au,nu,ri,Ac=g({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ri&&(ri&&s.type==="mousemove"?(au=s.screenX-ri.screenX,nu=s.screenY-ri.screenY):nu=au=0,ri=s),au)},movementY:function(s){return"movementY"in s?s.movementY:nu}}),Nf=Pt(Ac),E2=g({},Ac,{dataTransfer:0}),M2=Pt(E2),T2=g({},li,{relatedTarget:0}),lu=Pt(T2),D2=g({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),_2=Pt(D2),z2=g({},dl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),P2=Pt(z2),O2=g({},dl,{data:0}),bf=Pt(O2),L2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U2(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=B2[s])?!!t[s]:!1}function ru(){return U2}var H2=g({},li,{key:function(s){if(s.key){var t=L2[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=Sc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?I2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(s){return s.type==="keypress"?Sc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),V2=Pt(H2),$2=g({},Ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Pt($2),q2=g({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),F2=Pt(q2),G2=g({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q2=Pt(G2),K2=g({},Ac,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y2=Pt(K2),X2=g({},dl,{newState:0,oldState:0}),W2=Pt(X2),Z2=[9,13,27,32],iu=Xa&&"CompositionEvent"in window,ii=null;Xa&&"documentMode"in document&&(ii=document.documentMode);var J2=Xa&&"TextEvent"in window&&!ii,wf=Xa&&(!iu||ii&&8<ii&&11>=ii),Cf=" ",Sf=!1;function kf(s,t){switch(s){case"keyup":return Z2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gl=!1;function e1(s,t){switch(s){case"compositionend":return Rf(t);case"keypress":return t.which!==32?null:(Sf=!0,Cf);case"textInput":return s=t.data,s===Cf&&Sf?null:s;default:return null}}function s1(s,t){if(Gl)return s==="compositionend"||!iu&&kf(s,t)?(s=gf(),Cc=tu=Sn=null,Gl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Af(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!t1[s.type]:t==="textarea"}function Ef(s,t,n,o){ql?Fl?Fl.push(o):Fl=[o]:ql=o,t=go(t,"onChange"),0<t.length&&(n=new Rc("onChange","change",null,n,o),s.push({event:n,listeners:t}))}var ci=null,oi=null;function a1(s){ug(s,0)}function Ec(s){var t=ti(s);if(df(t))return s}function Mf(s,t){if(s==="change")return t}var Tf=!1;if(Xa){var cu;if(Xa){var ou="oninput"in document;if(!ou){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),ou=typeof Df.oninput=="function"}cu=ou}else cu=!1;Tf=cu&&(!document.documentMode||9<document.documentMode)}function _f(){ci&&(ci.detachEvent("onpropertychange",zf),oi=ci=null)}function zf(s){if(s.propertyName==="value"&&Ec(oi)){var t=[];Ef(t,oi,s,Jd(s)),jf(a1,t)}}function n1(s,t,n){s==="focusin"?(_f(),ci=t,oi=n,ci.attachEvent("onpropertychange",zf)):s==="focusout"&&_f()}function l1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ec(oi)}function r1(s,t){if(s==="click")return Ec(t)}function i1(s,t){if(s==="input"||s==="change")return Ec(t)}function c1(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var qt=typeof Object.is=="function"?Object.is:c1;function di(s,t){if(qt(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var n=Object.keys(s),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var x=n[o];if(!tt.call(t,x)||!qt(s[x],t[x]))return!1}return!0}function Pf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Of(s,t){var n=Pf(s);s=0;for(var o;n;){if(n.nodeType===3){if(o=s+n.textContent.length,s<=t&&o>=t)return{node:n,offset:t-s};s=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pf(n)}}function Lf(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?Lf(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function If(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var t=yc(s.document);t instanceof s.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)s=t.contentWindow;else break;t=yc(s.document)}return t}function du(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}var o1=Xa&&"documentMode"in document&&11>=document.documentMode,Ql=null,uu=null,ui=null,mu=!1;function Bf(s,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mu||Ql==null||Ql!==yc(o)||(o=Ql,"selectionStart"in o&&du(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ui&&di(ui,o)||(ui=o,o=go(uu,"onSelect"),0<o.length&&(t=new Rc("onSelect","select",null,t,n),s.push({event:t,listeners:o}),t.target=Ql)))}function ul(s,t){var n={};return n[s.toLowerCase()]=t.toLowerCase(),n["Webkit"+s]="webkit"+t,n["Moz"+s]="moz"+t,n}var Kl={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionrun:ul("Transition","TransitionRun"),transitionstart:ul("Transition","TransitionStart"),transitioncancel:ul("Transition","TransitionCancel"),transitionend:ul("Transition","TransitionEnd")},hu={},Uf={};Xa&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function ml(s){if(hu[s])return hu[s];if(!Kl[s])return s;var t=Kl[s],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uf)return hu[s]=t[n];return s}var Hf=ml("animationend"),Vf=ml("animationiteration"),$f=ml("animationstart"),d1=ml("transitionrun"),u1=ml("transitionstart"),m1=ml("transitioncancel"),qf=ml("transitionend"),Ff=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function va(s,t){Ff.set(s,t),ol(t,[s])}var Mc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},la=[],Yl=0,fu=0;function Tc(){for(var s=Yl,t=fu=Yl=0;t<s;){var n=la[t];la[t++]=null;var o=la[t];la[t++]=null;var x=la[t];la[t++]=null;var v=la[t];if(la[t++]=null,o!==null&&x!==null){var B=o.pending;B===null?x.next=x:(x.next=B.next,B.next=x),o.pending=x}v!==0&&Gf(n,x,v)}}function Dc(s,t,n,o){la[Yl++]=s,la[Yl++]=t,la[Yl++]=n,la[Yl++]=o,fu|=o,s.lanes|=o,s=s.alternate,s!==null&&(s.lanes|=o)}function pu(s,t,n,o){return Dc(s,t,n,o),_c(s)}function hl(s,t){return Dc(s,null,null,t),_c(s)}function Gf(s,t,n){s.lanes|=n;var o=s.alternate;o!==null&&(o.lanes|=n);for(var x=!1,v=s.return;v!==null;)v.childLanes|=n,o=v.alternate,o!==null&&(o.childLanes|=n),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(x=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,x&&t!==null&&(x=31-as(n),s=v.hiddenUpdates,o=s[x],o===null?s[x]=[t]:o.push(t),t.lane=n|536870912),v):null}function _c(s){if(50<_i)throw _i=0,Sm=null,Error(c(185));for(var t=s.return;t!==null;)s=t,t=s.return;return s.tag===3?s.stateNode:null}var Xl={};function h1(s,t,n,o){this.tag=s,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(s,t,n,o){return new h1(s,t,n,o)}function ju(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Wa(s,t){var n=s.alternate;return n===null?(n=Ft(s.tag,t,s.key,s.mode),n.elementType=s.elementType,n.type=s.type,n.stateNode=s.stateNode,n.alternate=s,s.alternate=n):(n.pendingProps=t,n.type=s.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=s.flags&65011712,n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,t=s.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=s.sibling,n.index=s.index,n.ref=s.ref,n.refCleanup=s.refCleanup,n}function Qf(s,t){s.flags&=65011714;var n=s.alternate;return n===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,s.type=n.type,t=n.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s}function zc(s,t,n,o,x,v){var B=0;if(o=s,typeof s=="function")ju(s)&&(B=1);else if(typeof s=="string")B=g4(s,n,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Q:return s=Ft(31,n,t,x),s.elementType=Q,s.lanes=v,s;case k:return xl(n.children,x,v,t);case E:B=8,x|=24;break;case N:return s=Ft(12,n,t,x|2),s.elementType=N,s.lanes=v,s;case T:return s=Ft(13,n,t,x),s.elementType=T,s.lanes=v,s;case z:return s=Ft(19,n,t,x),s.elementType=z,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:B=10;break e;case A:B=9;break e;case I:B=11;break e;case C:B=14;break e;case L:B=16,o=null;break e}B=29,n=Error(c(130,s===null?"null":typeof s,"")),o=null}return t=Ft(B,n,t,x),t.elementType=s,t.type=o,t.lanes=v,t}function xl(s,t,n,o){return s=Ft(7,s,o,t),s.lanes=n,s}function gu(s,t,n){return s=Ft(6,s,null,t),s.lanes=n,s}function Kf(s){var t=Ft(18,null,null,0);return t.stateNode=s,t}function vu(s,t,n){return t=Ft(4,s.children!==null?s.children:[],s.key,t),t.lanes=n,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}var Yf=new WeakMap;function ra(s,t){if(typeof s=="object"&&s!==null){var n=Yf.get(s);return n!==void 0?n:(t={value:s,source:t,stack:zs(t)},Yf.set(s,t),t)}return{value:s,source:t,stack:zs(t)}}var Wl=[],Zl=0,Pc=null,mi=0,ia=[],ca=0,kn=null,Da=1,_a="";function Za(s,t){Wl[Zl++]=mi,Wl[Zl++]=Pc,Pc=s,mi=t}function Xf(s,t,n){ia[ca++]=Da,ia[ca++]=_a,ia[ca++]=kn,kn=s;var o=Da;s=_a;var x=32-as(o)-1;o&=~(1<<x),n+=1;var v=32-as(t)+x;if(30<v){var B=x-x%5;v=(o&(1<<B)-1).toString(32),o>>=B,x-=B,Da=1<<32-as(t)+x|n<<x|o,_a=v+s}else Da=1<<v|n<<x|o,_a=s}function Nu(s){s.return!==null&&(Za(s,1),Xf(s,1,0))}function bu(s){for(;s===Pc;)Pc=Wl[--Zl],Wl[Zl]=null,mi=Wl[--Zl],Wl[Zl]=null;for(;s===kn;)kn=ia[--ca],ia[ca]=null,_a=ia[--ca],ia[ca]=null,Da=ia[--ca],ia[ca]=null}function Wf(s,t){ia[ca++]=Da,ia[ca++]=_a,ia[ca++]=kn,Da=t.id,_a=t.overflow,kn=s}var ft=null,Ls=null,js=!1,Rn=null,oa=!1,yu=Error(c(519));function An(s){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hi(ra(t,s)),yu}function Zf(s){var t=s.stateNode,n=s.type,o=s.memoizedProps;switch(t[xt]=s,t[zt]=o,n){case"dialog":xs("cancel",t),xs("close",t);break;case"iframe":case"object":case"embed":xs("load",t);break;case"video":case"audio":for(n=0;n<Pi.length;n++)xs(Pi[n],t);break;case"source":xs("error",t);break;case"img":case"image":case"link":xs("error",t),xs("load",t);break;case"details":xs("toggle",t);break;case"input":xs("invalid",t),uf(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xs("invalid",t);break;case"textarea":xs("invalid",t),hf(t,o.value,o.defaultValue,o.children)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||o.suppressHydrationWarning===!0||fg(t.textContent,n)?(o.popover!=null&&(xs("beforetoggle",t),xs("toggle",t)),o.onScroll!=null&&xs("scroll",t),o.onScrollEnd!=null&&xs("scrollend",t),o.onClick!=null&&(t.onclick=Ya),t=!0):t=!1,t||An(s,!0)}function Jf(s){for(ft=s.return;ft;)switch(ft.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:ft=ft.return}}function Jl(s){if(s!==ft)return!1;if(!js)return Jf(s),js=!0,!1;var t=s.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=s.type,n=!(n!=="form"&&n!=="button")||Um(s.type,s.memoizedProps)),n=!n),n&&Ls&&An(s),Jf(s),t===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));Ls=Cg(s)}else if(t===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));Ls=Cg(s)}else t===27?(t=Ls,Vn(s.type)?(s=Fm,Fm=null,Ls=s):Ls=t):Ls=ft?ua(s.stateNode.nextSibling):null;return!0}function fl(){Ls=ft=null,js=!1}function wu(){var s=Rn;return s!==null&&(Bt===null?Bt=s:Bt.push.apply(Bt,s),Rn=null),s}function hi(s){Rn===null?Rn=[s]:Rn.push(s)}var Cu=O(null),pl=null,Ja=null;function En(s,t,n){H(Cu,t._currentValue),t._currentValue=n}function en(s){s._currentValue=Cu.current,re(Cu)}function Su(s,t,n){for(;s!==null;){var o=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),s===n)break;s=s.return}}function ku(s,t,n,o){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var v=x.dependencies;if(v!==null){var B=x.child;v=v.firstContext;e:for(;v!==null;){var te=v;v=x;for(var he=0;he<t.length;he++)if(te.context===t[he]){v.lanes|=n,te=v.alternate,te!==null&&(te.lanes|=n),Su(v.return,n,s),o||(B=null);break e}v=te.next}}else if(x.tag===18){if(B=x.return,B===null)throw Error(c(341));B.lanes|=n,v=B.alternate,v!==null&&(v.lanes|=n),Su(B,n,s),B=null}else B=x.child;if(B!==null)B.return=x;else for(B=x;B!==null;){if(B===s){B=null;break}if(x=B.sibling,x!==null){x.return=B.return,B=x;break}B=B.return}x=B}}function er(s,t,n,o){s=null;for(var x=t,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var B=x.alternate;if(B===null)throw Error(c(387));if(B=B.memoizedProps,B!==null){var te=x.type;qt(x.pendingProps.value,B.value)||(s!==null?s.push(te):s=[te])}}else if(x===X.current){if(B=x.alternate,B===null)throw Error(c(387));B.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(Ui):s=[Ui])}x=x.return}s!==null&&ku(t,s,n,o),t.flags|=262144}function Oc(s){for(s=s.firstContext;s!==null;){if(!qt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jl(s){pl=s,Ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pt(s){return ep(pl,s)}function Lc(s,t){return pl===null&&jl(s),ep(s,t)}function ep(s,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ja===null){if(s===null)throw Error(c(308));Ja=t,s.dependencies={lanes:0,firstContext:t},s.flags|=524288}else Ja=Ja.next=t;return n}var x1=typeof AbortController<"u"?AbortController:function(){var s=[],t=this.signal={aborted:!1,addEventListener:function(n,o){s.push(o)}};this.abort=function(){t.aborted=!0,s.forEach(function(n){return n()})}},f1=a.unstable_scheduleCallback,p1=a.unstable_NormalPriority,Xs={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ru(){return{controller:new x1,data:new Map,refCount:0}}function xi(s){s.refCount--,s.refCount===0&&f1(p1,function(){s.controller.abort()})}var fi=null,Au=0,sr=0,tr=null;function j1(s,t){if(fi===null){var n=fi=[];Au=0,sr=Tm(),tr={status:"pending",value:void 0,then:function(o){n.push(o)}}}return Au++,t.then(sp,sp),t}function sp(){if(--Au===0&&fi!==null){tr!==null&&(tr.status="fulfilled");var s=fi;fi=null,sr=0,tr=null;for(var t=0;t<s.length;t++)(0,s[t])()}}function g1(s,t){var n=[],o={status:"pending",value:null,reason:null,then:function(x){n.push(x)}};return s.then(function(){o.status="fulfilled",o.value=t;for(var x=0;x<n.length;x++)(0,n[x])(t)},function(x){for(o.status="rejected",o.reason=x,x=0;x<n.length;x++)(0,n[x])(void 0)}),o}var tp=ce.S;ce.S=function(s,t){Bj=Os(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&j1(s,t),tp!==null&&tp(s,t)};var gl=O(null);function Eu(){var s=gl.current;return s!==null?s:Ps.pooledCache}function Ic(s,t){t===null?H(gl,gl.current):H(gl,t.pool)}function ap(){var s=Eu();return s===null?null:{parent:Xs._currentValue,pool:s}}var ar=Error(c(460)),Mu=Error(c(474)),Bc=Error(c(542)),Uc={then:function(){}};function np(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lp(s,t,n){switch(n=s[n],n===void 0?s.push(t):n!==t&&(t.then(Ya,Ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw s=t.reason,ip(s),s;default:if(typeof t.status=="string")t.then(Ya,Ya);else{if(s=Ps,s!==null&&100<s.shellSuspendCounter)throw Error(c(482));s=t,s.status="pending",s.then(function(o){if(t.status==="pending"){var x=t;x.status="fulfilled",x.value=o}},function(o){if(t.status==="pending"){var x=t;x.status="rejected",x.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw s=t.reason,ip(s),s}throw Nl=t,ar}}function vl(s){try{var t=s._init;return t(s._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Nl=n,ar):n}}var Nl=null;function rp(){if(Nl===null)throw Error(c(459));var s=Nl;return Nl=null,s}function ip(s){if(s===ar||s===Bc)throw Error(c(483))}var nr=null,pi=0;function Hc(s){var t=pi;return pi+=1,nr===null&&(nr=[]),lp(nr,s,t)}function ji(s,t){t=t.props.ref,s.ref=t!==void 0?t:null}function Vc(s,t){throw t.$$typeof===y?Error(c(525)):(s=Object.prototype.toString.call(t),Error(c(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)))}function cp(s){function t(pe,fe){if(s){var ve=pe.deletions;ve===null?(pe.deletions=[fe],pe.flags|=16):ve.push(fe)}}function n(pe,fe){if(!s)return null;for(;fe!==null;)t(pe,fe),fe=fe.sibling;return null}function o(pe){for(var fe=new Map;pe!==null;)pe.key!==null?fe.set(pe.key,pe):fe.set(pe.index,pe),pe=pe.sibling;return fe}function x(pe,fe){return pe=Wa(pe,fe),pe.index=0,pe.sibling=null,pe}function v(pe,fe,ve){return pe.index=ve,s?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<fe?(pe.flags|=67108866,fe):ve):(pe.flags|=67108866,fe)):(pe.flags|=1048576,fe)}function B(pe){return s&&pe.alternate===null&&(pe.flags|=67108866),pe}function te(pe,fe,ve,Re){return fe===null||fe.tag!==6?(fe=gu(ve,pe.mode,Re),fe.return=pe,fe):(fe=x(fe,ve),fe.return=pe,fe)}function he(pe,fe,ve,Re){var Ze=ve.type;return Ze===k?ke(pe,fe,ve.props.children,Re,ve.key):fe!==null&&(fe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===L&&vl(Ze)===fe.type)?(fe=x(fe,ve.props),ji(fe,ve),fe.return=pe,fe):(fe=zc(ve.type,ve.key,ve.props,null,pe.mode,Re),ji(fe,ve),fe.return=pe,fe)}function Ne(pe,fe,ve,Re){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ve.containerInfo||fe.stateNode.implementation!==ve.implementation?(fe=vu(ve,pe.mode,Re),fe.return=pe,fe):(fe=x(fe,ve.children||[]),fe.return=pe,fe)}function ke(pe,fe,ve,Re,Ze){return fe===null||fe.tag!==7?(fe=xl(ve,pe.mode,Re,Ze),fe.return=pe,fe):(fe=x(fe,ve),fe.return=pe,fe)}function Ae(pe,fe,ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=gu(""+fe,pe.mode,ve),fe.return=pe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return ve=zc(fe.type,fe.key,fe.props,null,pe.mode,ve),ji(ve,fe),ve.return=pe,ve;case w:return fe=vu(fe,pe.mode,ve),fe.return=pe,fe;case L:return fe=vl(fe),Ae(pe,fe,ve)}if(je(fe)||q(fe))return fe=xl(fe,pe.mode,ve,null),fe.return=pe,fe;if(typeof fe.then=="function")return Ae(pe,Hc(fe),ve);if(fe.$$typeof===P)return Ae(pe,Lc(pe,fe),ve);Vc(pe,fe)}return null}function be(pe,fe,ve,Re){var Ze=fe!==null?fe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Ze!==null?null:te(pe,fe,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case M:return ve.key===Ze?he(pe,fe,ve,Re):null;case w:return ve.key===Ze?Ne(pe,fe,ve,Re):null;case L:return ve=vl(ve),be(pe,fe,ve,Re)}if(je(ve)||q(ve))return Ze!==null?null:ke(pe,fe,ve,Re,null);if(typeof ve.then=="function")return be(pe,fe,Hc(ve),Re);if(ve.$$typeof===P)return be(pe,fe,Lc(pe,ve),Re);Vc(pe,ve)}return null}function Ce(pe,fe,ve,Re,Ze){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return pe=pe.get(ve)||null,te(fe,pe,""+Re,Ze);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case M:return pe=pe.get(Re.key===null?ve:Re.key)||null,he(fe,pe,Re,Ze);case w:return pe=pe.get(Re.key===null?ve:Re.key)||null,Ne(fe,pe,Re,Ze);case L:return Re=vl(Re),Ce(pe,fe,ve,Re,Ze)}if(je(Re)||q(Re))return pe=pe.get(ve)||null,ke(fe,pe,Re,Ze,null);if(typeof Re.then=="function")return Ce(pe,fe,ve,Hc(Re),Ze);if(Re.$$typeof===P)return Ce(pe,fe,ve,Lc(fe,Re),Ze);Vc(fe,Re)}return null}function $e(pe,fe,ve,Re){for(var Ze=null,vs=null,Ye=fe,cs=fe=0,ps=null;Ye!==null&&cs<ve.length;cs++){Ye.index>cs?(ps=Ye,Ye=null):ps=Ye.sibling;var Ns=be(pe,Ye,ve[cs],Re);if(Ns===null){Ye===null&&(Ye=ps);break}s&&Ye&&Ns.alternate===null&&t(pe,Ye),fe=v(Ns,fe,cs),vs===null?Ze=Ns:vs.sibling=Ns,vs=Ns,Ye=ps}if(cs===ve.length)return n(pe,Ye),js&&Za(pe,cs),Ze;if(Ye===null){for(;cs<ve.length;cs++)Ye=Ae(pe,ve[cs],Re),Ye!==null&&(fe=v(Ye,fe,cs),vs===null?Ze=Ye:vs.sibling=Ye,vs=Ye);return js&&Za(pe,cs),Ze}for(Ye=o(Ye);cs<ve.length;cs++)ps=Ce(Ye,pe,cs,ve[cs],Re),ps!==null&&(s&&ps.alternate!==null&&Ye.delete(ps.key===null?cs:ps.key),fe=v(ps,fe,cs),vs===null?Ze=ps:vs.sibling=ps,vs=ps);return s&&Ye.forEach(function(Qn){return t(pe,Qn)}),js&&Za(pe,cs),Ze}function es(pe,fe,ve,Re){if(ve==null)throw Error(c(151));for(var Ze=null,vs=null,Ye=fe,cs=fe=0,ps=null,Ns=ve.next();Ye!==null&&!Ns.done;cs++,Ns=ve.next()){Ye.index>cs?(ps=Ye,Ye=null):ps=Ye.sibling;var Qn=be(pe,Ye,Ns.value,Re);if(Qn===null){Ye===null&&(Ye=ps);break}s&&Ye&&Qn.alternate===null&&t(pe,Ye),fe=v(Qn,fe,cs),vs===null?Ze=Qn:vs.sibling=Qn,vs=Qn,Ye=ps}if(Ns.done)return n(pe,Ye),js&&Za(pe,cs),Ze;if(Ye===null){for(;!Ns.done;cs++,Ns=ve.next())Ns=Ae(pe,Ns.value,Re),Ns!==null&&(fe=v(Ns,fe,cs),vs===null?Ze=Ns:vs.sibling=Ns,vs=Ns);return js&&Za(pe,cs),Ze}for(Ye=o(Ye);!Ns.done;cs++,Ns=ve.next())Ns=Ce(Ye,pe,cs,Ns.value,Re),Ns!==null&&(s&&Ns.alternate!==null&&Ye.delete(Ns.key===null?cs:Ns.key),fe=v(Ns,fe,cs),vs===null?Ze=Ns:vs.sibling=Ns,vs=Ns);return s&&Ye.forEach(function(E4){return t(pe,E4)}),js&&Za(pe,cs),Ze}function Ms(pe,fe,ve,Re){if(typeof ve=="object"&&ve!==null&&ve.type===k&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case M:e:{for(var Ze=ve.key;fe!==null;){if(fe.key===Ze){if(Ze=ve.type,Ze===k){if(fe.tag===7){n(pe,fe.sibling),Re=x(fe,ve.props.children),Re.return=pe,pe=Re;break e}}else if(fe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===L&&vl(Ze)===fe.type){n(pe,fe.sibling),Re=x(fe,ve.props),ji(Re,ve),Re.return=pe,pe=Re;break e}n(pe,fe);break}else t(pe,fe);fe=fe.sibling}ve.type===k?(Re=xl(ve.props.children,pe.mode,Re,ve.key),Re.return=pe,pe=Re):(Re=zc(ve.type,ve.key,ve.props,null,pe.mode,Re),ji(Re,ve),Re.return=pe,pe=Re)}return B(pe);case w:e:{for(Ze=ve.key;fe!==null;){if(fe.key===Ze)if(fe.tag===4&&fe.stateNode.containerInfo===ve.containerInfo&&fe.stateNode.implementation===ve.implementation){n(pe,fe.sibling),Re=x(fe,ve.children||[]),Re.return=pe,pe=Re;break e}else{n(pe,fe);break}else t(pe,fe);fe=fe.sibling}Re=vu(ve,pe.mode,Re),Re.return=pe,pe=Re}return B(pe);case L:return ve=vl(ve),Ms(pe,fe,ve,Re)}if(je(ve))return $e(pe,fe,ve,Re);if(q(ve)){if(Ze=q(ve),typeof Ze!="function")throw Error(c(150));return ve=Ze.call(ve),es(pe,fe,ve,Re)}if(typeof ve.then=="function")return Ms(pe,fe,Hc(ve),Re);if(ve.$$typeof===P)return Ms(pe,fe,Lc(pe,ve),Re);Vc(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,fe!==null&&fe.tag===6?(n(pe,fe.sibling),Re=x(fe,ve),Re.return=pe,pe=Re):(n(pe,fe),Re=gu(ve,pe.mode,Re),Re.return=pe,pe=Re),B(pe)):n(pe,fe)}return function(pe,fe,ve,Re){try{pi=0;var Ze=Ms(pe,fe,ve,Re);return nr=null,Ze}catch(Ye){if(Ye===ar||Ye===Bc)throw Ye;var vs=Ft(29,Ye,null,pe.mode);return vs.lanes=Re,vs.return=pe,vs}finally{}}}var bl=cp(!0),op=cp(!1),Mn=!1;function Tu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Du(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Tn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Dn(s,t,n){var o=s.updateQueue;if(o===null)return null;if(o=o.shared,(ys&2)!==0){var x=o.pending;return x===null?t.next=t:(t.next=x.next,x.next=t),o.pending=t,t=_c(s),Gf(s,null,n),t}return Dc(s,o,t,n),_c(s)}function gi(s,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var o=t.lanes;o&=s.pendingLanes,n|=o,t.lanes=n,Jx(s,n)}}function _u(s,t){var n=s.updateQueue,o=s.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var x=null,v=null;if(n=n.firstBaseUpdate,n!==null){do{var B={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};v===null?x=v=B:v=v.next=B,n=n.next}while(n!==null);v===null?x=v=t:v=v.next=t}else x=v=t;n={baseState:o.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:o.shared,callbacks:o.callbacks},s.updateQueue=n;return}s=n.lastBaseUpdate,s===null?n.firstBaseUpdate=t:s.next=t,n.lastBaseUpdate=t}var zu=!1;function vi(){if(zu){var s=tr;if(s!==null)throw s}}function Ni(s,t,n,o){zu=!1;var x=s.updateQueue;Mn=!1;var v=x.firstBaseUpdate,B=x.lastBaseUpdate,te=x.shared.pending;if(te!==null){x.shared.pending=null;var he=te,Ne=he.next;he.next=null,B===null?v=Ne:B.next=Ne,B=he;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,te=ke.lastBaseUpdate,te!==B&&(te===null?ke.firstBaseUpdate=Ne:te.next=Ne,ke.lastBaseUpdate=he))}if(v!==null){var Ae=x.baseState;B=0,ke=Ne=he=null,te=v;do{var be=te.lane&-536870913,Ce=be!==te.lane;if(Ce?(fs&be)===be:(o&be)===be){be!==0&&be===sr&&(zu=!0),ke!==null&&(ke=ke.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var $e=s,es=te;be=t;var Ms=n;switch(es.tag){case 1:if($e=es.payload,typeof $e=="function"){Ae=$e.call(Ms,Ae,be);break e}Ae=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=es.payload,be=typeof $e=="function"?$e.call(Ms,Ae,be):$e,be==null)break e;Ae=g({},Ae,be);break e;case 2:Mn=!0}}be=te.callback,be!==null&&(s.flags|=64,Ce&&(s.flags|=8192),Ce=x.callbacks,Ce===null?x.callbacks=[be]:Ce.push(be))}else Ce={lane:be,tag:te.tag,payload:te.payload,callback:te.callback,next:null},ke===null?(Ne=ke=Ce,he=Ae):ke=ke.next=Ce,B|=be;if(te=te.next,te===null){if(te=x.shared.pending,te===null)break;Ce=te,te=Ce.next,Ce.next=null,x.lastBaseUpdate=Ce,x.shared.pending=null}}while(!0);ke===null&&(he=Ae),x.baseState=he,x.firstBaseUpdate=Ne,x.lastBaseUpdate=ke,v===null&&(x.shared.lanes=0),Ln|=B,s.lanes=B,s.memoizedState=Ae}}function dp(s,t){if(typeof s!="function")throw Error(c(191,s));s.call(t)}function up(s,t){var n=s.callbacks;if(n!==null)for(s.callbacks=null,s=0;s<n.length;s++)dp(n[s],t)}var lr=O(null),$c=O(0);function mp(s,t){s=dn,H($c,s),H(lr,t),dn=s|t.baseLanes}function Pu(){H($c,dn),H(lr,lr.current)}function Ou(){dn=$c.current,re(lr),re($c)}var Gt=O(null),da=null;function _n(s){var t=s.alternate;H(qs,qs.current&1),H(Gt,s),da===null&&(t===null||lr.current!==null||t.memoizedState!==null)&&(da=s)}function Lu(s){H(qs,qs.current),H(Gt,s),da===null&&(da=s)}function hp(s){s.tag===22?(H(qs,qs.current),H(Gt,s),da===null&&(da=s)):zn()}function zn(){H(qs,qs.current),H(Gt,Gt.current)}function Qt(s){re(Gt),da===s&&(da=null),re(qs)}var qs=O(0);function qc(s){for(var t=s;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$m(n)||qm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sn=0,rs=null,As=null,Ws=null,Fc=!1,rr=!1,yl=!1,Gc=0,bi=0,ir=null,v1=0;function Hs(){throw Error(c(321))}function Iu(s,t){if(t===null)return!1;for(var n=0;n<t.length&&n<s.length;n++)if(!qt(s[n],t[n]))return!1;return!0}function Bu(s,t,n,o,x,v){return sn=v,rs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ce.H=s===null||s.memoizedState===null?Xp:em,yl=!1,v=n(o,x),yl=!1,rr&&(v=fp(t,n,o,x)),xp(s),v}function xp(s){ce.H=Ci;var t=As!==null&&As.next!==null;if(sn=0,Ws=As=rs=null,Fc=!1,bi=0,ir=null,t)throw Error(c(300));s===null||Zs||(s=s.dependencies,s!==null&&Oc(s)&&(Zs=!0))}function fp(s,t,n,o){rs=s;var x=0;do{if(rr&&(ir=null),bi=0,rr=!1,25<=x)throw Error(c(301));if(x+=1,Ws=As=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ce.H=Wp,v=t(n,o)}while(rr);return v}function N1(){var s=ce.H,t=s.useState()[0];return t=typeof t.then=="function"?yi(t):t,s=s.useState()[0],(As!==null?As.memoizedState:null)!==s&&(rs.flags|=1024),t}function Uu(){var s=Gc!==0;return Gc=0,s}function Hu(s,t,n){t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~n}function Vu(s){if(Fc){for(s=s.memoizedState;s!==null;){var t=s.queue;t!==null&&(t.pending=null),s=s.next}Fc=!1}sn=0,Ws=As=rs=null,rr=!1,bi=Gc=0,ir=null}function At(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ws===null?rs.memoizedState=Ws=s:Ws=Ws.next=s,Ws}function Fs(){if(As===null){var s=rs.alternate;s=s!==null?s.memoizedState:null}else s=As.next;var t=Ws===null?rs.memoizedState:Ws.next;if(t!==null)Ws=t,As=s;else{if(s===null)throw rs.alternate===null?Error(c(467)):Error(c(310));As=s,s={memoizedState:As.memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},Ws===null?rs.memoizedState=Ws=s:Ws=Ws.next=s}return Ws}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yi(s){var t=bi;return bi+=1,ir===null&&(ir=[]),s=lp(ir,s,t),t=rs,(Ws===null?t.memoizedState:Ws.next)===null&&(t=t.alternate,ce.H=t===null||t.memoizedState===null?Xp:em),s}function Kc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yi(s);if(s.$$typeof===P)return pt(s)}throw Error(c(438,String(s)))}function $u(s){var t=null,n=rs.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var o=rs.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(x){return x.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Qc(),rs.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(s),o=0;o<s;o++)n[o]=Y;return t.index++,n}function tn(s,t){return typeof t=="function"?t(s):t}function Yc(s){var t=Fs();return qu(t,As,s)}function qu(s,t,n){var o=s.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=n;var x=s.baseQueue,v=o.pending;if(v!==null){if(x!==null){var B=x.next;x.next=v.next,v.next=B}t.baseQueue=x=v,o.pending=null}if(v=s.baseState,x===null)s.memoizedState=v;else{t=x.next;var te=B=null,he=null,Ne=t,ke=!1;do{var Ae=Ne.lane&-536870913;if(Ae!==Ne.lane?(fs&Ae)===Ae:(sn&Ae)===Ae){var be=Ne.revertLane;if(be===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Ae===sr&&(ke=!0);else if((sn&be)===be){Ne=Ne.next,be===sr&&(ke=!0);continue}else Ae={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},he===null?(te=he=Ae,B=v):he=he.next=Ae,rs.lanes|=be,Ln|=be;Ae=Ne.action,yl&&n(v,Ae),v=Ne.hasEagerState?Ne.eagerState:n(v,Ae)}else be={lane:Ae,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},he===null?(te=he=be,B=v):he=he.next=be,rs.lanes|=Ae,Ln|=Ae;Ne=Ne.next}while(Ne!==null&&Ne!==t);if(he===null?B=v:he.next=te,!qt(v,s.memoizedState)&&(Zs=!0,ke&&(n=tr,n!==null)))throw n;s.memoizedState=v,s.baseState=B,s.baseQueue=he,o.lastRenderedState=v}return x===null&&(o.lanes=0),[s.memoizedState,o.dispatch]}function Fu(s){var t=Fs(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=s;var o=n.dispatch,x=n.pending,v=t.memoizedState;if(x!==null){n.pending=null;var B=x=x.next;do v=s(v,B.action),B=B.next;while(B!==x);qt(v,t.memoizedState)||(Zs=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),n.lastRenderedState=v}return[v,o]}function pp(s,t,n){var o=rs,x=Fs(),v=js;if(v){if(n===void 0)throw Error(c(407));n=n()}else n=t();var B=!qt((As||x).memoizedState,n);if(B&&(x.memoizedState=n,Zs=!0),x=x.queue,Ku(vp.bind(null,o,x,s),[s]),x.getSnapshot!==t||B||Ws!==null&&Ws.memoizedState.tag&1){if(o.flags|=2048,cr(9,{destroy:void 0},gp.bind(null,o,x,n,t),null),Ps===null)throw Error(c(349));v||(sn&127)!==0||jp(o,t,n)}return n}function jp(s,t,n){s.flags|=16384,s={getSnapshot:t,value:n},t=rs.updateQueue,t===null?(t=Qc(),rs.updateQueue=t,t.stores=[s]):(n=t.stores,n===null?t.stores=[s]:n.push(s))}function gp(s,t,n,o){t.value=n,t.getSnapshot=o,Np(t)&&bp(s)}function vp(s,t,n){return n(function(){Np(t)&&bp(s)})}function Np(s){var t=s.getSnapshot;s=s.value;try{var n=t();return!qt(s,n)}catch{return!0}}function bp(s){var t=hl(s,2);t!==null&&Ut(t,s,2)}function Gu(s){var t=At();if(typeof s=="function"){var n=s;if(s=n(),yl){ns(!0);try{n()}finally{ns(!1)}}}return t.memoizedState=t.baseState=s,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:s},t}function yp(s,t,n,o){return s.baseState=n,qu(s,As,typeof o=="function"?o:tn)}function b1(s,t,n,o,x){if(Zc(s))throw Error(c(485));if(s=t.action,s!==null){var v={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){v.listeners.push(B)}};ce.T!==null?n(!0):v.isTransition=!1,o(v),n=t.pending,n===null?(v.next=t.pending=v,wp(t,v)):(v.next=n.next,t.pending=n.next=v)}}function wp(s,t){var n=t.action,o=t.payload,x=s.state;if(t.isTransition){var v=ce.T,B={};ce.T=B;try{var te=n(x,o),he=ce.S;he!==null&&he(B,te),Cp(s,t,te)}catch(Ne){Qu(s,t,Ne)}finally{v!==null&&B.types!==null&&(v.types=B.types),ce.T=v}}else try{v=n(x,o),Cp(s,t,v)}catch(Ne){Qu(s,t,Ne)}}function Cp(s,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){Sp(s,t,o)},function(o){return Qu(s,t,o)}):Sp(s,t,n)}function Sp(s,t,n){t.status="fulfilled",t.value=n,kp(t),s.state=n,t=s.pending,t!==null&&(n=t.next,n===t?s.pending=null:(n=n.next,t.next=n,wp(s,n)))}function Qu(s,t,n){var o=s.pending;if(s.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=n,kp(t),t=t.next;while(t!==o)}s.action=null}function kp(s){s=s.listeners;for(var t=0;t<s.length;t++)(0,s[t])()}function Rp(s,t){return t}function Ap(s,t){if(js){var n=Ps.formState;if(n!==null){e:{var o=rs;if(js){if(Ls){s:{for(var x=Ls,v=oa;x.nodeType!==8;){if(!v){x=null;break s}if(x=ua(x.nextSibling),x===null){x=null;break s}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Ls=ua(x.nextSibling),o=x.data==="F!";break e}}An(o)}o=!1}o&&(t=n[0])}}return n=At(),n.memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:t},n.queue=o,n=Qp.bind(null,rs,o),o.dispatch=n,o=Gu(!1),v=Ju.bind(null,rs,!1,o.queue),o=At(),x={state:t,dispatch:null,action:s,pending:null},o.queue=x,n=b1.bind(null,rs,x,v,n),x.dispatch=n,o.memoizedState=s,[t,n,!1]}function Ep(s){var t=Fs();return Mp(t,As,s)}function Mp(s,t,n){if(t=qu(s,t,Rp)[0],s=Yc(tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=yi(t)}catch(B){throw B===ar?Bc:B}else o=t;t=Fs();var x=t.queue,v=x.dispatch;return n!==t.memoizedState&&(rs.flags|=2048,cr(9,{destroy:void 0},y1.bind(null,x,n),null)),[o,v,s]}function y1(s,t){s.action=t}function Tp(s){var t=Fs(),n=As;if(n!==null)return Mp(t,n,s);Fs(),t=t.memoizedState,n=Fs();var o=n.queue.dispatch;return n.memoizedState=s,[t,o,!1]}function cr(s,t,n,o){return s={tag:s,create:n,deps:o,inst:t,next:null},t=rs.updateQueue,t===null&&(t=Qc(),rs.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=s.next=s:(o=n.next,n.next=s,s.next=o,t.lastEffect=s),s}function Dp(){return Fs().memoizedState}function Xc(s,t,n,o){var x=At();rs.flags|=s,x.memoizedState=cr(1|t,{destroy:void 0},n,o===void 0?null:o)}function Wc(s,t,n,o){var x=Fs();o=o===void 0?null:o;var v=x.memoizedState.inst;As!==null&&o!==null&&Iu(o,As.memoizedState.deps)?x.memoizedState=cr(t,v,n,o):(rs.flags|=s,x.memoizedState=cr(1|t,v,n,o))}function _p(s,t){Xc(8390656,8,s,t)}function Ku(s,t){Wc(2048,8,s,t)}function w1(s){rs.flags|=4;var t=rs.updateQueue;if(t===null)t=Qc(),rs.updateQueue=t,t.events=[s];else{var n=t.events;n===null?t.events=[s]:n.push(s)}}function zp(s){var t=Fs().memoizedState;return w1({ref:t,nextImpl:s}),function(){if((ys&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Pp(s,t){return Wc(4,2,s,t)}function Op(s,t){return Wc(4,4,s,t)}function Lp(s,t){if(typeof t=="function"){s=s();var n=t(s);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function Ip(s,t,n){n=n!=null?n.concat([s]):null,Wc(4,4,Lp.bind(null,t,s),n)}function Yu(){}function Bp(s,t){var n=Fs();t=t===void 0?null:t;var o=n.memoizedState;return t!==null&&Iu(t,o[1])?o[0]:(n.memoizedState=[s,t],s)}function Up(s,t){var n=Fs();t=t===void 0?null:t;var o=n.memoizedState;if(t!==null&&Iu(t,o[1]))return o[0];if(o=s(),yl){ns(!0);try{s()}finally{ns(!1)}}return n.memoizedState=[o,t],o}function Xu(s,t,n){return n===void 0||(sn&1073741824)!==0&&(fs&261930)===0?s.memoizedState=t:(s.memoizedState=n,s=Hj(),rs.lanes|=s,Ln|=s,n)}function Hp(s,t,n,o){return qt(n,t)?n:lr.current!==null?(s=Xu(s,n,o),qt(s,t)||(Zs=!0),s):(sn&42)===0||(sn&1073741824)!==0&&(fs&261930)===0?(Zs=!0,s.memoizedState=n):(s=Hj(),rs.lanes|=s,Ln|=s,t)}function Vp(s,t,n,o,x){var v=K.p;K.p=v!==0&&8>v?v:8;var B=ce.T,te={};ce.T=te,Ju(s,!1,t,n);try{var he=x(),Ne=ce.S;if(Ne!==null&&Ne(te,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var ke=g1(he,o);wi(s,t,ke,Xt(s))}else wi(s,t,o,Xt(s))}catch(Ae){wi(s,t,{then:function(){},status:"rejected",reason:Ae},Xt())}finally{K.p=v,B!==null&&te.types!==null&&(B.types=te.types),ce.T=B}}function C1(){}function Wu(s,t,n,o){if(s.tag!==5)throw Error(c(476));var x=$p(s).queue;Vp(s,x,t,U,n===null?C1:function(){return qp(s),n(o)})}function $p(s){var t=s.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:U},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:n},next:null},s.memoizedState=t,s=s.alternate,s!==null&&(s.memoizedState=t),t}function qp(s){var t=$p(s);t.next===null&&(t=s.alternate.memoizedState),wi(s,t.next.queue,{},Xt())}function Zu(){return pt(Ui)}function Fp(){return Fs().memoizedState}function Gp(){return Fs().memoizedState}function S1(s){for(var t=s.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xt();s=Tn(n);var o=Dn(t,s,n);o!==null&&(Ut(o,t,n),gi(o,t,n)),t={cache:Ru()},s.payload=t;return}t=t.return}}function k1(s,t,n){var o=Xt();n={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zc(s)?Kp(t,n):(n=pu(s,t,n,o),n!==null&&(Ut(n,s,o),Yp(n,t,o)))}function Qp(s,t,n){var o=Xt();wi(s,t,n,o)}function wi(s,t,n,o){var x={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zc(s))Kp(t,x);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var B=t.lastRenderedState,te=v(B,n);if(x.hasEagerState=!0,x.eagerState=te,qt(te,B))return Dc(s,t,x,0),Ps===null&&Tc(),!1}catch{}finally{}if(n=pu(s,t,x,o),n!==null)return Ut(n,s,o),Yp(n,t,o),!0}return!1}function Ju(s,t,n,o){if(o={lane:2,revertLane:Tm(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zc(s)){if(t)throw Error(c(479))}else t=pu(s,n,o,2),t!==null&&Ut(t,s,2)}function Zc(s){var t=s.alternate;return s===rs||t!==null&&t===rs}function Kp(s,t){rr=Fc=!0;var n=s.pending;n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t}function Yp(s,t,n){if((n&4194048)!==0){var o=t.lanes;o&=s.pendingLanes,n|=o,t.lanes=n,Jx(s,n)}}var Ci={readContext:pt,use:Kc,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useLayoutEffect:Hs,useInsertionEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useSyncExternalStore:Hs,useId:Hs,useHostTransitionStatus:Hs,useFormState:Hs,useActionState:Hs,useOptimistic:Hs,useMemoCache:Hs,useCacheRefresh:Hs};Ci.useEffectEvent=Hs;var Xp={readContext:pt,use:Kc,useCallback:function(s,t){return At().memoizedState=[s,t===void 0?null:t],s},useContext:pt,useEffect:_p,useImperativeHandle:function(s,t,n){n=n!=null?n.concat([s]):null,Xc(4194308,4,Lp.bind(null,t,s),n)},useLayoutEffect:function(s,t){return Xc(4194308,4,s,t)},useInsertionEffect:function(s,t){Xc(4,2,s,t)},useMemo:function(s,t){var n=At();t=t===void 0?null:t;var o=s();if(yl){ns(!0);try{s()}finally{ns(!1)}}return n.memoizedState=[o,t],o},useReducer:function(s,t,n){var o=At();if(n!==void 0){var x=n(t);if(yl){ns(!0);try{n(t)}finally{ns(!1)}}}else x=t;return o.memoizedState=o.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},o.queue=s,s=s.dispatch=k1.bind(null,rs,s),[o.memoizedState,s]},useRef:function(s){var t=At();return s={current:s},t.memoizedState=s},useState:function(s){s=Gu(s);var t=s.queue,n=Qp.bind(null,rs,t);return t.dispatch=n,[s.memoizedState,n]},useDebugValue:Yu,useDeferredValue:function(s,t){var n=At();return Xu(n,s,t)},useTransition:function(){var s=Gu(!1);return s=Vp.bind(null,rs,s.queue,!0,!1),At().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,t,n){var o=rs,x=At();if(js){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Ps===null)throw Error(c(349));(fs&127)!==0||jp(o,t,n)}x.memoizedState=n;var v={value:n,getSnapshot:t};return x.queue=v,_p(vp.bind(null,o,v,s),[s]),o.flags|=2048,cr(9,{destroy:void 0},gp.bind(null,o,v,n,t),null),n},useId:function(){var s=At(),t=Ps.identifierPrefix;if(js){var n=_a,o=Da;n=(o&~(1<<32-as(o)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=v1++,t="_"+t+"r_"+n.toString(32)+"_";return s.memoizedState=t},useHostTransitionStatus:Zu,useFormState:Ap,useActionState:Ap,useOptimistic:function(s){var t=At();t.memoizedState=t.baseState=s;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ju.bind(null,rs,!0,n),n.dispatch=t,[s,t]},useMemoCache:$u,useCacheRefresh:function(){return At().memoizedState=S1.bind(null,rs)},useEffectEvent:function(s){var t=At(),n={impl:s};return t.memoizedState=n,function(){if((ys&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},em={readContext:pt,use:Kc,useCallback:Bp,useContext:pt,useEffect:Ku,useImperativeHandle:Ip,useInsertionEffect:Pp,useLayoutEffect:Op,useMemo:Up,useReducer:Yc,useRef:Dp,useState:function(){return Yc(tn)},useDebugValue:Yu,useDeferredValue:function(s,t){var n=Fs();return Hp(n,As.memoizedState,s,t)},useTransition:function(){var s=Yc(tn)[0],t=Fs().memoizedState;return[typeof s=="boolean"?s:yi(s),t]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Zu,useFormState:Ep,useActionState:Ep,useOptimistic:function(s,t){var n=Fs();return yp(n,As,s,t)},useMemoCache:$u,useCacheRefresh:Gp};em.useEffectEvent=zp;var Wp={readContext:pt,use:Kc,useCallback:Bp,useContext:pt,useEffect:Ku,useImperativeHandle:Ip,useInsertionEffect:Pp,useLayoutEffect:Op,useMemo:Up,useReducer:Fu,useRef:Dp,useState:function(){return Fu(tn)},useDebugValue:Yu,useDeferredValue:function(s,t){var n=Fs();return As===null?Xu(n,s,t):Hp(n,As.memoizedState,s,t)},useTransition:function(){var s=Fu(tn)[0],t=Fs().memoizedState;return[typeof s=="boolean"?s:yi(s),t]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Zu,useFormState:Tp,useActionState:Tp,useOptimistic:function(s,t){var n=Fs();return As!==null?yp(n,As,s,t):(n.baseState=s,[s,n.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Gp};Wp.useEffectEvent=zp;function sm(s,t,n,o){t=s.memoizedState,n=n(o,t),n=n==null?t:g({},t,n),s.memoizedState=n,s.lanes===0&&(s.updateQueue.baseState=n)}var tm={enqueueSetState:function(s,t,n){s=s._reactInternals;var o=Xt(),x=Tn(o);x.payload=t,n!=null&&(x.callback=n),t=Dn(s,x,o),t!==null&&(Ut(t,s,o),gi(t,s,o))},enqueueReplaceState:function(s,t,n){s=s._reactInternals;var o=Xt(),x=Tn(o);x.tag=1,x.payload=t,n!=null&&(x.callback=n),t=Dn(s,x,o),t!==null&&(Ut(t,s,o),gi(t,s,o))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var n=Xt(),o=Tn(n);o.tag=2,t!=null&&(o.callback=t),t=Dn(s,o,n),t!==null&&(Ut(t,s,n),gi(t,s,n))}};function Zp(s,t,n,o,x,v,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(o,v,B):t.prototype&&t.prototype.isPureReactComponent?!di(n,o)||!di(x,v):!0}function Jp(s,t,n,o){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==s&&tm.enqueueReplaceState(t,t.state,null)}function wl(s,t){var n=t;if("ref"in t){n={};for(var o in t)o!=="ref"&&(n[o]=t[o])}if(s=s.defaultProps){n===t&&(n=g({},n));for(var x in s)n[x]===void 0&&(n[x]=s[x])}return n}function ej(s){Mc(s)}function sj(s){console.error(s)}function tj(s){Mc(s)}function Jc(s,t){try{var n=s.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function aj(s,t,n){try{var o=s.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function am(s,t,n){return n=Tn(n),n.tag=3,n.payload={element:null},n.callback=function(){Jc(s,t)},n}function nj(s){return s=Tn(s),s.tag=3,s}function lj(s,t,n,o){var x=n.type.getDerivedStateFromError;if(typeof x=="function"){var v=o.value;s.payload=function(){return x(v)},s.callback=function(){aj(t,n,o)}}var B=n.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(s.callback=function(){aj(t,n,o),typeof x!="function"&&(In===null?In=new Set([this]):In.add(this));var te=o.stack;this.componentDidCatch(o.value,{componentStack:te!==null?te:""})})}function R1(s,t,n,o,x){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=n.alternate,t!==null&&er(t,n,x,!0),n=Gt.current,n!==null){switch(n.tag){case 31:case 13:return da===null?mo():n.alternate===null&&Vs===0&&(Vs=3),n.flags&=-257,n.flags|=65536,n.lanes=x,o===Uc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([o]):t.add(o),Am(s,o,x)),!1;case 22:return n.flags|=65536,o===Uc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([o]):n.add(o)),Am(s,o,x)),!1}throw Error(c(435,n.tag))}return Am(s,o,x),mo(),!1}if(js)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=x,o!==yu&&(s=Error(c(422),{cause:o}),hi(ra(s,n)))):(o!==yu&&(t=Error(c(423),{cause:o}),hi(ra(t,n))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,o=ra(o,n),x=am(s.stateNode,o,x),_u(s,x),Vs!==4&&(Vs=2)),!1;var v=Error(c(520),{cause:o});if(v=ra(v,n),Di===null?Di=[v]:Di.push(v),Vs!==4&&(Vs=2),t===null)return!0;o=ra(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,s=x&-x,n.lanes|=s,s=am(n.stateNode,o,s),_u(n,s),!1;case 1:if(t=n.type,v=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(In===null||!In.has(v))))return n.flags|=65536,x&=-x,n.lanes|=x,x=nj(x),lj(x,s,n,o),_u(n,x),!1}n=n.return}while(n!==null);return!1}var nm=Error(c(461)),Zs=!1;function jt(s,t,n,o){t.child=s===null?op(t,null,n,o):bl(t,s.child,n,o)}function rj(s,t,n,o,x){n=n.render;var v=t.ref;if("ref"in o){var B={};for(var te in o)te!=="ref"&&(B[te]=o[te])}else B=o;return jl(t),o=Bu(s,t,n,B,v,x),te=Uu(),s!==null&&!Zs?(Hu(s,t,x),an(s,t,x)):(js&&te&&Nu(t),t.flags|=1,jt(s,t,o,x),t.child)}function ij(s,t,n,o,x){if(s===null){var v=n.type;return typeof v=="function"&&!ju(v)&&v.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=v,cj(s,t,v,o,x)):(s=zc(n.type,null,o,t,t.mode,x),s.ref=t.ref,s.return=t,t.child=s)}if(v=s.child,!mm(s,x)){var B=v.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(B,o)&&s.ref===t.ref)return an(s,t,x)}return t.flags|=1,s=Wa(v,o),s.ref=t.ref,s.return=t,t.child=s}function cj(s,t,n,o,x){if(s!==null){var v=s.memoizedProps;if(di(v,o)&&s.ref===t.ref)if(Zs=!1,t.pendingProps=o=v,mm(s,x))(s.flags&131072)!==0&&(Zs=!0);else return t.lanes=s.lanes,an(s,t,x)}return lm(s,t,n,o,x)}function oj(s,t,n,o){var x=o.children,v=s!==null?s.memoizedState:null;if(s===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(v=v!==null?v.baseLanes|n:n,s!==null){for(o=t.child=s.child,x=0;o!==null;)x=x|o.lanes|o.childLanes,o=o.sibling;o=x&~v}else o=0,t.child=null;return dj(s,t,v,n,o)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ic(t,v!==null?v.cachePool:null),v!==null?mp(t,v):Pu(),hp(t);else return o=t.lanes=536870912,dj(s,t,v!==null?v.baseLanes|n:n,n,o)}else v!==null?(Ic(t,v.cachePool),mp(t,v),zn(),t.memoizedState=null):(s!==null&&Ic(t,null),Pu(),zn());return jt(s,t,x,n),t.child}function Si(s,t){return s!==null&&s.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dj(s,t,n,o,x){var v=Eu();return v=v===null?null:{parent:Xs._currentValue,pool:v},t.memoizedState={baseLanes:n,cachePool:v},s!==null&&Ic(t,null),Pu(),hp(t),s!==null&&er(s,t,o,!0),t.childLanes=x,null}function eo(s,t){return t=to({mode:t.mode,children:t.children},s.mode),t.ref=s.ref,s.child=t,t.return=s,t}function uj(s,t,n){return bl(t,s.child,null,n),s=eo(t,t.pendingProps),s.flags|=2,Qt(t),t.memoizedState=null,s}function A1(s,t,n){var o=t.pendingProps,x=(t.flags&128)!==0;if(t.flags&=-129,s===null){if(js){if(o.mode==="hidden")return s=eo(t,o),t.lanes=536870912,Si(null,s);if(Lu(t),(s=Ls)?(s=wg(s,oa),s=s!==null&&s.data==="&"?s:null,s!==null&&(t.memoizedState={dehydrated:s,treeContext:kn!==null?{id:Da,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=Kf(s),n.return=t,t.child=n,ft=t,Ls=null)):s=null,s===null)throw An(t);return t.lanes=536870912,null}return eo(t,o)}var v=s.memoizedState;if(v!==null){var B=v.dehydrated;if(Lu(t),x)if(t.flags&256)t.flags&=-257,t=uj(s,t,n);else if(t.memoizedState!==null)t.child=s.child,t.flags|=128,t=null;else throw Error(c(558));else if(Zs||er(s,t,n,!1),x=(n&s.childLanes)!==0,Zs||x){if(o=Ps,o!==null&&(B=ef(o,n),B!==0&&B!==v.retryLane))throw v.retryLane=B,hl(s,B),Ut(o,s,B),nm;mo(),t=uj(s,t,n)}else s=v.treeContext,Ls=ua(B.nextSibling),ft=t,js=!0,Rn=null,oa=!1,s!==null&&Wf(t,s),t=eo(t,o),t.flags|=4096;return t}return s=Wa(s.child,{mode:o.mode,children:o.children}),s.ref=t.ref,t.child=s,s.return=t,s}function so(s,t){var n=t.ref;if(n===null)s!==null&&s.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(s===null||s.ref!==n)&&(t.flags|=4194816)}}function lm(s,t,n,o,x){return jl(t),n=Bu(s,t,n,o,void 0,x),o=Uu(),s!==null&&!Zs?(Hu(s,t,x),an(s,t,x)):(js&&o&&Nu(t),t.flags|=1,jt(s,t,n,x),t.child)}function mj(s,t,n,o,x,v){return jl(t),t.updateQueue=null,n=fp(t,o,n,x),xp(s),o=Uu(),s!==null&&!Zs?(Hu(s,t,v),an(s,t,v)):(js&&o&&Nu(t),t.flags|=1,jt(s,t,n,v),t.child)}function hj(s,t,n,o,x){if(jl(t),t.stateNode===null){var v=Xl,B=n.contextType;typeof B=="object"&&B!==null&&(v=pt(B)),v=new n(o,v),t.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=tm,t.stateNode=v,v._reactInternals=t,v=t.stateNode,v.props=o,v.state=t.memoizedState,v.refs={},Tu(t),B=n.contextType,v.context=typeof B=="object"&&B!==null?pt(B):Xl,v.state=t.memoizedState,B=n.getDerivedStateFromProps,typeof B=="function"&&(sm(t,n,B,o),v.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(B=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),B!==v.state&&tm.enqueueReplaceState(v,v.state,null),Ni(t,o,v,x),vi(),v.state=t.memoizedState),typeof v.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(s===null){v=t.stateNode;var te=t.memoizedProps,he=wl(n,te);v.props=he;var Ne=v.context,ke=n.contextType;B=Xl,typeof ke=="object"&&ke!==null&&(B=pt(ke));var Ae=n.getDerivedStateFromProps;ke=typeof Ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",te=t.pendingProps!==te,ke||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(te||Ne!==B)&&Jp(t,v,o,B),Mn=!1;var be=t.memoizedState;v.state=be,Ni(t,o,v,x),vi(),Ne=t.memoizedState,te||be!==Ne||Mn?(typeof Ae=="function"&&(sm(t,n,Ae,o),Ne=t.memoizedState),(he=Mn||Zp(t,n,he,o,be,Ne,B))?(ke||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=Ne),v.props=o,v.state=Ne,v.context=B,o=he):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{v=t.stateNode,Du(s,t),B=t.memoizedProps,ke=wl(n,B),v.props=ke,Ae=t.pendingProps,be=v.context,Ne=n.contextType,he=Xl,typeof Ne=="object"&&Ne!==null&&(he=pt(Ne)),te=n.getDerivedStateFromProps,(Ne=typeof te=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(B!==Ae||be!==he)&&Jp(t,v,o,he),Mn=!1,be=t.memoizedState,v.state=be,Ni(t,o,v,x),vi();var Ce=t.memoizedState;B!==Ae||be!==Ce||Mn||s!==null&&s.dependencies!==null&&Oc(s.dependencies)?(typeof te=="function"&&(sm(t,n,te,o),Ce=t.memoizedState),(ke=Mn||Zp(t,n,ke,o,be,Ce,he)||s!==null&&s.dependencies!==null&&Oc(s.dependencies))?(Ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(o,Ce,he),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(o,Ce,he)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||B===s.memoizedProps&&be===s.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&be===s.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Ce),v.props=o,v.state=Ce,v.context=he,o=ke):(typeof v.componentDidUpdate!="function"||B===s.memoizedProps&&be===s.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&be===s.memoizedState||(t.flags|=1024),o=!1)}return v=o,so(s,t),o=(t.flags&128)!==0,v||o?(v=t.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:v.render(),t.flags|=1,s!==null&&o?(t.child=bl(t,s.child,null,x),t.child=bl(t,null,n,x)):jt(s,t,n,x),t.memoizedState=v.state,s=t.child):s=an(s,t,x),s}function xj(s,t,n,o){return fl(),t.flags|=256,jt(s,t,n,o),t.child}var rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(s){return{baseLanes:s,cachePool:ap()}}function cm(s,t,n){return s=s!==null?s.childLanes&~n:0,t&&(s|=Yt),s}function fj(s,t,n){var o=t.pendingProps,x=!1,v=(t.flags&128)!==0,B;if((B=v)||(B=s!==null&&s.memoizedState===null?!1:(qs.current&2)!==0),B&&(x=!0,t.flags&=-129),B=(t.flags&32)!==0,t.flags&=-33,s===null){if(js){if(x?_n(t):zn(),(s=Ls)?(s=wg(s,oa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(t.memoizedState={dehydrated:s,treeContext:kn!==null?{id:Da,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=Kf(s),n.return=t,t.child=n,ft=t,Ls=null)):s=null,s===null)throw An(t);return qm(s)?t.lanes=32:t.lanes=536870912,null}var te=o.children;return o=o.fallback,x?(zn(),x=t.mode,te=to({mode:"hidden",children:te},x),o=xl(o,x,n,null),te.return=t,o.return=t,te.sibling=o,t.child=te,o=t.child,o.memoizedState=im(n),o.childLanes=cm(s,B,n),t.memoizedState=rm,Si(null,o)):(_n(t),om(t,te))}var he=s.memoizedState;if(he!==null&&(te=he.dehydrated,te!==null)){if(v)t.flags&256?(_n(t),t.flags&=-257,t=dm(s,t,n)):t.memoizedState!==null?(zn(),t.child=s.child,t.flags|=128,t=null):(zn(),te=o.fallback,x=t.mode,o=to({mode:"visible",children:o.children},x),te=xl(te,x,n,null),te.flags|=2,o.return=t,te.return=t,o.sibling=te,t.child=o,bl(t,s.child,null,n),o=t.child,o.memoizedState=im(n),o.childLanes=cm(s,B,n),t.memoizedState=rm,t=Si(null,o));else if(_n(t),qm(te)){if(B=te.nextSibling&&te.nextSibling.dataset,B)var Ne=B.dgst;B=Ne,o=Error(c(419)),o.stack="",o.digest=B,hi({value:o,source:null,stack:null}),t=dm(s,t,n)}else if(Zs||er(s,t,n,!1),B=(n&s.childLanes)!==0,Zs||B){if(B=Ps,B!==null&&(o=ef(B,n),o!==0&&o!==he.retryLane))throw he.retryLane=o,hl(s,o),Ut(B,s,o),nm;$m(te)||mo(),t=dm(s,t,n)}else $m(te)?(t.flags|=192,t.child=s.child,t=null):(s=he.treeContext,Ls=ua(te.nextSibling),ft=t,js=!0,Rn=null,oa=!1,s!==null&&Wf(t,s),t=om(t,o.children),t.flags|=4096);return t}return x?(zn(),te=o.fallback,x=t.mode,he=s.child,Ne=he.sibling,o=Wa(he,{mode:"hidden",children:o.children}),o.subtreeFlags=he.subtreeFlags&65011712,Ne!==null?te=Wa(Ne,te):(te=xl(te,x,n,null),te.flags|=2),te.return=t,o.return=t,o.sibling=te,t.child=o,Si(null,o),o=t.child,te=s.child.memoizedState,te===null?te=im(n):(x=te.cachePool,x!==null?(he=Xs._currentValue,x=x.parent!==he?{parent:he,pool:he}:x):x=ap(),te={baseLanes:te.baseLanes|n,cachePool:x}),o.memoizedState=te,o.childLanes=cm(s,B,n),t.memoizedState=rm,Si(s.child,o)):(_n(t),n=s.child,s=n.sibling,n=Wa(n,{mode:"visible",children:o.children}),n.return=t,n.sibling=null,s!==null&&(B=t.deletions,B===null?(t.deletions=[s],t.flags|=16):B.push(s)),t.child=n,t.memoizedState=null,n)}function om(s,t){return t=to({mode:"visible",children:t},s.mode),t.return=s,s.child=t}function to(s,t){return s=Ft(22,s,null,t),s.lanes=0,s}function dm(s,t,n){return bl(t,s.child,null,n),s=om(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function pj(s,t,n){s.lanes|=t;var o=s.alternate;o!==null&&(o.lanes|=t),Su(s.return,t,n)}function um(s,t,n,o,x,v){var B=s.memoizedState;B===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:x,treeForkCount:v}:(B.isBackwards=t,B.rendering=null,B.renderingStartTime=0,B.last=o,B.tail=n,B.tailMode=x,B.treeForkCount=v)}function jj(s,t,n){var o=t.pendingProps,x=o.revealOrder,v=o.tail;o=o.children;var B=qs.current,te=(B&2)!==0;if(te?(B=B&1|2,t.flags|=128):B&=1,H(qs,B),jt(s,t,o,n),o=js?mi:0,!te&&s!==null&&(s.flags&128)!==0)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&pj(s,n,t);else if(s.tag===19)pj(s,n,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(n=t.child,x=null;n!==null;)s=n.alternate,s!==null&&qc(s)===null&&(x=n),n=n.sibling;n=x,n===null?(x=t.child,t.child=null):(x=n.sibling,n.sibling=null),um(t,!1,x,n,v,o);break;case"backwards":case"unstable_legacy-backwards":for(n=null,x=t.child,t.child=null;x!==null;){if(s=x.alternate,s!==null&&qc(s)===null){t.child=x;break}s=x.sibling,x.sibling=n,n=x,x=s}um(t,!0,n,null,v,o);break;case"together":um(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function an(s,t,n){if(s!==null&&(t.dependencies=s.dependencies),Ln|=t.lanes,(n&t.childLanes)===0)if(s!==null){if(er(s,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(s!==null&&t.child!==s.child)throw Error(c(153));if(t.child!==null){for(s=t.child,n=Wa(s,s.pendingProps),t.child=n,n.return=t;s.sibling!==null;)s=s.sibling,n=n.sibling=Wa(s,s.pendingProps),n.return=t;n.sibling=null}return t.child}function mm(s,t){return(s.lanes&t)!==0?!0:(s=s.dependencies,!!(s!==null&&Oc(s)))}function E1(s,t,n){switch(t.tag){case 3:le(t,t.stateNode.containerInfo),En(t,Xs,s.memoizedState.cache),fl();break;case 27:case 5:xe(t);break;case 4:le(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Lu(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(_n(t),t.flags|=128,null):(n&t.child.childLanes)!==0?fj(s,t,n):(_n(t),s=an(s,t,n),s!==null?s.sibling:null);_n(t);break;case 19:var x=(s.flags&128)!==0;if(o=(n&t.childLanes)!==0,o||(er(s,t,n,!1),o=(n&t.childLanes)!==0),x){if(o)return jj(s,t,n);t.flags|=128}if(x=t.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),H(qs,qs.current),o)break;return null;case 22:return t.lanes=0,oj(s,t,n,t.pendingProps);case 24:En(t,Xs,s.memoizedState.cache)}return an(s,t,n)}function gj(s,t,n){if(s!==null)if(s.memoizedProps!==t.pendingProps)Zs=!0;else{if(!mm(s,n)&&(t.flags&128)===0)return Zs=!1,E1(s,t,n);Zs=(s.flags&131072)!==0}else Zs=!1,js&&(t.flags&1048576)!==0&&Xf(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(s=vl(t.elementType),t.type=s,typeof s=="function")ju(s)?(o=wl(s,o),t.tag=1,t=hj(null,t,s,o,n)):(t.tag=0,t=lm(null,t,s,o,n));else{if(s!=null){var x=s.$$typeof;if(x===I){t.tag=11,t=rj(null,t,s,o,n);break e}else if(x===C){t.tag=14,t=ij(null,t,s,o,n);break e}}throw t=me(s)||s,Error(c(306,t,""))}}return t;case 0:return lm(s,t,t.type,t.pendingProps,n);case 1:return o=t.type,x=wl(o,t.pendingProps),hj(s,t,o,x,n);case 3:e:{if(le(t,t.stateNode.containerInfo),s===null)throw Error(c(387));o=t.pendingProps;var v=t.memoizedState;x=v.element,Du(s,t),Ni(t,o,null,n);var B=t.memoizedState;if(o=B.cache,En(t,Xs,o),o!==v.cache&&ku(t,[Xs],n,!0),vi(),o=B.element,v.isDehydrated)if(v={element:o,isDehydrated:!1,cache:B.cache},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){t=xj(s,t,o,n);break e}else if(o!==x){x=ra(Error(c(424)),t),hi(x),t=xj(s,t,o,n);break e}else{switch(s=t.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ls=ua(s.firstChild),ft=t,js=!0,Rn=null,oa=!0,n=op(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fl(),o===x){t=an(s,t,n);break e}jt(s,t,o,n)}t=t.child}return t;case 26:return so(s,t),s===null?(n=Eg(t.type,null,t.pendingProps,null))?t.memoizedState=n:js||(n=t.type,s=t.pendingProps,o=vo(se.current).createElement(n),o[xt]=t,o[zt]=s,gt(o,n,s),ot(o),t.stateNode=o):t.memoizedState=Eg(t.type,s.memoizedProps,t.pendingProps,s.memoizedState),null;case 27:return xe(t),s===null&&js&&(o=t.stateNode=kg(t.type,t.pendingProps,se.current),ft=t,oa=!0,x=Ls,Vn(t.type)?(Fm=x,Ls=ua(o.firstChild)):Ls=x),jt(s,t,t.pendingProps.children,n),so(s,t),s===null&&(t.flags|=4194304),t.child;case 5:return s===null&&js&&((x=o=Ls)&&(o=l4(o,t.type,t.pendingProps,oa),o!==null?(t.stateNode=o,ft=t,Ls=ua(o.firstChild),oa=!1,x=!0):x=!1),x||An(t)),xe(t),x=t.type,v=t.pendingProps,B=s!==null?s.memoizedProps:null,o=v.children,Um(x,v)?o=null:B!==null&&Um(x,B)&&(t.flags|=32),t.memoizedState!==null&&(x=Bu(s,t,N1,null,null,n),Ui._currentValue=x),so(s,t),jt(s,t,o,n),t.child;case 6:return s===null&&js&&((s=n=Ls)&&(n=r4(n,t.pendingProps,oa),n!==null?(t.stateNode=n,ft=t,Ls=null,s=!0):s=!1),s||An(t)),null;case 13:return fj(s,t,n);case 4:return le(t,t.stateNode.containerInfo),o=t.pendingProps,s===null?t.child=bl(t,null,o,n):jt(s,t,o,n),t.child;case 11:return rj(s,t,t.type,t.pendingProps,n);case 7:return jt(s,t,t.pendingProps,n),t.child;case 8:return jt(s,t,t.pendingProps.children,n),t.child;case 12:return jt(s,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,En(t,t.type,o.value),jt(s,t,o.children,n),t.child;case 9:return x=t.type._context,o=t.pendingProps.children,jl(t),x=pt(x),o=o(x),t.flags|=1,jt(s,t,o,n),t.child;case 14:return ij(s,t,t.type,t.pendingProps,n);case 15:return cj(s,t,t.type,t.pendingProps,n);case 19:return jj(s,t,n);case 31:return A1(s,t,n);case 22:return oj(s,t,n,t.pendingProps);case 24:return jl(t),o=pt(Xs),s===null?(x=Eu(),x===null&&(x=Ps,v=Ru(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=n),x=v),t.memoizedState={parent:o,cache:x},Tu(t),En(t,Xs,x)):((s.lanes&n)!==0&&(Du(s,t),Ni(t,null,null,n),vi()),x=s.memoizedState,v=t.memoizedState,x.parent!==o?(x={parent:o,cache:o},t.memoizedState=x,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=x),En(t,Xs,o)):(o=v.cache,En(t,Xs,o),o!==x.cache&&ku(t,[Xs],n,!0))),jt(s,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function nn(s){s.flags|=4}function hm(s,t,n,o,x){if((t=(s.mode&32)!==0)&&(t=!1),t){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(Fj())s.flags|=8192;else throw Nl=Uc,Mu}else s.flags&=-16777217}function vj(s,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!zg(t))if(Fj())s.flags|=8192;else throw Nl=Uc,Mu}function ao(s,t){t!==null&&(s.flags|=4),s.flags&16384&&(t=s.tag!==22?$t():536870912,s.lanes|=t,mr|=t)}function ki(s,t){if(!js)switch(s.tailMode){case"hidden":t=s.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?s.tail=null:n.sibling=null;break;case"collapsed":n=s.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:o.sibling=null}}function Is(s){var t=s.alternate!==null&&s.alternate.child===s.child,n=0,o=0;if(t)for(var x=s.child;x!==null;)n|=x.lanes|x.childLanes,o|=x.subtreeFlags&65011712,o|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)n|=x.lanes|x.childLanes,o|=x.subtreeFlags,o|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=o,s.childLanes=n,t}function M1(s,t,n){var o=t.pendingProps;switch(bu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Is(t),null;case 1:return Is(t),null;case 3:return n=t.stateNode,o=null,s!==null&&(o=s.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),en(Xs),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(s===null||s.child===null)&&(Jl(t)?nn(t):s===null||s.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wu())),Is(t),null;case 26:var x=t.type,v=t.memoizedState;return s===null?(nn(t),v!==null?(Is(t),vj(t,v)):(Is(t),hm(t,x,null,o,n))):v?v!==s.memoizedState?(nn(t),Is(t),vj(t,v)):(Is(t),t.flags&=-16777217):(s=s.memoizedProps,s!==o&&nn(t),Is(t),hm(t,x,s,o,n)),null;case 27:if(Te(t),n=se.current,x=t.type,s!==null&&t.stateNode!=null)s.memoizedProps!==o&&nn(t);else{if(!o){if(t.stateNode===null)throw Error(c(166));return Is(t),null}s=oe.current,Jl(t)?Zf(t):(s=kg(x,o,n),t.stateNode=s,nn(t))}return Is(t),null;case 5:if(Te(t),x=t.type,s!==null&&t.stateNode!=null)s.memoizedProps!==o&&nn(t);else{if(!o){if(t.stateNode===null)throw Error(c(166));return Is(t),null}if(v=oe.current,Jl(t))Zf(t);else{var B=vo(se.current);switch(v){case 1:v=B.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:v=B.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":v=B.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":v=B.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":v=B.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof o.is=="string"?B.createElement("select",{is:o.is}):B.createElement("select"),o.multiple?v.multiple=!0:o.size&&(v.size=o.size);break;default:v=typeof o.is=="string"?B.createElement(x,{is:o.is}):B.createElement(x)}}v[xt]=t,v[zt]=o;e:for(B=t.child;B!==null;){if(B.tag===5||B.tag===6)v.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===t)break e;for(;B.sibling===null;){if(B.return===null||B.return===t)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}t.stateNode=v;e:switch(gt(v,x,o),x){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&nn(t)}}return Is(t),hm(t,t.type,s===null?null:s.memoizedProps,t.pendingProps,n),null;case 6:if(s&&t.stateNode!=null)s.memoizedProps!==o&&nn(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(c(166));if(s=se.current,Jl(t)){if(s=t.stateNode,n=t.memoizedProps,o=null,x=ft,x!==null)switch(x.tag){case 27:case 5:o=x.memoizedProps}s[xt]=t,s=!!(s.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||fg(s.nodeValue,n)),s||An(t,!0)}else s=vo(s).createTextNode(o),s[xt]=t,t.stateNode=s}return Is(t),null;case 31:if(n=t.memoizedState,s===null||s.memoizedState!==null){if(o=Jl(t),n!==null){if(s===null){if(!o)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(557));s[xt]=t}else fl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Is(t),s=!1}else n=wu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=n),s=!0;if(!s)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Is(t),null;case 13:if(o=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=Jl(t),o!==null&&o.dehydrated!==null){if(s===null){if(!x)throw Error(c(318));if(x=t.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(c(317));x[xt]=t}else fl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Is(t),x=!1}else x=wu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=o!==null,s=s!==null&&s.memoizedState!==null,n&&(o=t.child,x=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(x=o.alternate.memoizedState.cachePool.pool),v=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),v!==x&&(o.flags|=2048)),n!==s&&n&&(t.child.flags|=8192),ao(t,t.updateQueue),Is(t),null);case 4:return G(),s===null&&Pm(t.stateNode.containerInfo),Is(t),null;case 10:return en(t.type),Is(t),null;case 19:if(re(qs),o=t.memoizedState,o===null)return Is(t),null;if(x=(t.flags&128)!==0,v=o.rendering,v===null)if(x)ki(o,!1);else{if(Vs!==0||s!==null&&(s.flags&128)!==0)for(s=t.child;s!==null;){if(v=qc(s),v!==null){for(t.flags|=128,ki(o,!1),s=v.updateQueue,t.updateQueue=s,ao(t,s),t.subtreeFlags=0,s=n,n=t.child;n!==null;)Qf(n,s),n=n.sibling;return H(qs,qs.current&1|2),js&&Za(t,o.treeForkCount),t.child}s=s.sibling}o.tail!==null&&Os()>co&&(t.flags|=128,x=!0,ki(o,!1),t.lanes=4194304)}else{if(!x)if(s=qc(v),s!==null){if(t.flags|=128,x=!0,s=s.updateQueue,t.updateQueue=s,ao(t,s),ki(o,!0),o.tail===null&&o.tailMode==="hidden"&&!v.alternate&&!js)return Is(t),null}else 2*Os()-o.renderingStartTime>co&&n!==536870912&&(t.flags|=128,x=!0,ki(o,!1),t.lanes=4194304);o.isBackwards?(v.sibling=t.child,t.child=v):(s=o.last,s!==null?s.sibling=v:t.child=v,o.last=v)}return o.tail!==null?(s=o.tail,o.rendering=s,o.tail=s.sibling,o.renderingStartTime=Os(),s.sibling=null,n=qs.current,H(qs,x?n&1|2:n&1),js&&Za(t,o.treeForkCount),s):(Is(t),null);case 22:case 23:return Qt(t),Ou(),o=t.memoizedState!==null,s!==null?s.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(n&536870912)!==0&&(t.flags&128)===0&&(Is(t),t.subtreeFlags&6&&(t.flags|=8192)):Is(t),n=t.updateQueue,n!==null&&ao(t,n.retryQueue),n=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),s!==null&&re(gl),null;case 24:return n=null,s!==null&&(n=s.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),en(Xs),Is(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function T1(s,t){switch(bu(t),t.tag){case 1:return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return en(Xs),G(),s=t.flags,(s&65536)!==0&&(s&128)===0?(t.flags=s&-65537|128,t):null;case 26:case 27:case 5:return Te(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(c(340));fl()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 13:if(Qt(t),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(c(340));fl()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return re(qs),null;case 4:return G(),null;case 10:return en(t.type),null;case 22:case 23:return Qt(t),Ou(),s!==null&&re(gl),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 24:return en(Xs),null;case 25:return null;default:return null}}function Nj(s,t){switch(bu(t),t.tag){case 3:en(Xs),G();break;case 26:case 27:case 5:Te(t);break;case 4:G();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:re(qs);break;case 10:en(t.type);break;case 22:case 23:Qt(t),Ou(),s!==null&&re(gl);break;case 24:en(Xs)}}function Ri(s,t){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var x=o.next;n=x;do{if((n.tag&s)===s){o=void 0;var v=n.create,B=n.inst;o=v(),B.destroy=o}n=n.next}while(n!==x)}}catch(te){ks(t,t.return,te)}}function Pn(s,t,n){try{var o=t.updateQueue,x=o!==null?o.lastEffect:null;if(x!==null){var v=x.next;o=v;do{if((o.tag&s)===s){var B=o.inst,te=B.destroy;if(te!==void 0){B.destroy=void 0,x=t;var he=n,Ne=te;try{Ne()}catch(ke){ks(x,he,ke)}}}o=o.next}while(o!==v)}}catch(ke){ks(t,t.return,ke)}}function bj(s){var t=s.updateQueue;if(t!==null){var n=s.stateNode;try{up(t,n)}catch(o){ks(s,s.return,o)}}}function yj(s,t,n){n.props=wl(s.type,s.memoizedProps),n.state=s.memoizedState;try{n.componentWillUnmount()}catch(o){ks(s,t,o)}}function Ai(s,t){try{var n=s.ref;if(n!==null){switch(s.tag){case 26:case 27:case 5:var o=s.stateNode;break;case 30:o=s.stateNode;break;default:o=s.stateNode}typeof n=="function"?s.refCleanup=n(o):n.current=o}}catch(x){ks(s,t,x)}}function za(s,t){var n=s.ref,o=s.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(x){ks(s,t,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(x){ks(s,t,x)}else n.current=null}function wj(s){var t=s.type,n=s.memoizedProps,o=s.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(x){ks(s,s.return,x)}}function xm(s,t,n){try{var o=s.stateNode;J1(o,s.type,n,t),o[zt]=t}catch(x){ks(s,s.return,x)}}function Cj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vn(s.type)||s.tag===4}function fm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vn(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pm(s,t,n){var o=s.tag;if(o===5||o===6)s=s.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(s,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(s),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ya));else if(o!==4&&(o===27&&Vn(s.type)&&(n=s.stateNode,t=null),s=s.child,s!==null))for(pm(s,t,n),s=s.sibling;s!==null;)pm(s,t,n),s=s.sibling}function no(s,t,n){var o=s.tag;if(o===5||o===6)s=s.stateNode,t?n.insertBefore(s,t):n.appendChild(s);else if(o!==4&&(o===27&&Vn(s.type)&&(n=s.stateNode),s=s.child,s!==null))for(no(s,t,n),s=s.sibling;s!==null;)no(s,t,n),s=s.sibling}function Sj(s){var t=s.stateNode,n=s.memoizedProps;try{for(var o=s.type,x=t.attributes;x.length;)t.removeAttributeNode(x[0]);gt(t,o,n),t[xt]=s,t[zt]=n}catch(v){ks(s,s.return,v)}}var ln=!1,Js=!1,jm=!1,kj=typeof WeakSet=="function"?WeakSet:Set,dt=null;function D1(s,t){if(s=s.containerInfo,Im=ko,s=If(s),du(s)){if("selectionStart"in s)var n={start:s.selectionStart,end:s.selectionEnd};else e:{n=(n=s.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var x=o.anchorOffset,v=o.focusNode;o=o.focusOffset;try{n.nodeType,v.nodeType}catch{n=null;break e}var B=0,te=-1,he=-1,Ne=0,ke=0,Ae=s,be=null;s:for(;;){for(var Ce;Ae!==n||x!==0&&Ae.nodeType!==3||(te=B+x),Ae!==v||o!==0&&Ae.nodeType!==3||(he=B+o),Ae.nodeType===3&&(B+=Ae.nodeValue.length),(Ce=Ae.firstChild)!==null;)be=Ae,Ae=Ce;for(;;){if(Ae===s)break s;if(be===n&&++Ne===x&&(te=B),be===v&&++ke===o&&(he=B),(Ce=Ae.nextSibling)!==null)break;Ae=be,be=Ae.parentNode}Ae=Ce}n=te===-1||he===-1?null:{start:te,end:he}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bm={focusedElem:s,selectionRange:n},ko=!1,dt=t;dt!==null;)if(t=dt,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,dt=s;else for(;dt!==null;){switch(t=dt,v=t.alternate,s=t.flags,t.tag){case 0:if((s&4)!==0&&(s=t.updateQueue,s=s!==null?s.events:null,s!==null))for(n=0;n<s.length;n++)x=s[n],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,n=t,x=v.memoizedProps,v=v.memoizedState,o=n.stateNode;try{var $e=wl(n.type,x);s=o.getSnapshotBeforeUpdate($e,v),o.__reactInternalSnapshotBeforeUpdate=s}catch(es){ks(n,n.return,es)}}break;case 3:if((s&1024)!==0){if(s=t.stateNode.containerInfo,n=s.nodeType,n===9)Vm(s);else if(n===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Vm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(c(163))}if(s=t.sibling,s!==null){s.return=t.return,dt=s;break}dt=t.return}}function Rj(s,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:cn(s,n),o&4&&Ri(5,n);break;case 1:if(cn(s,n),o&4)if(s=n.stateNode,t===null)try{s.componentDidMount()}catch(B){ks(n,n.return,B)}else{var x=wl(n.type,t.memoizedProps);t=t.memoizedState;try{s.componentDidUpdate(x,t,s.__reactInternalSnapshotBeforeUpdate)}catch(B){ks(n,n.return,B)}}o&64&&bj(n),o&512&&Ai(n,n.return);break;case 3:if(cn(s,n),o&64&&(s=n.updateQueue,s!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{up(s,t)}catch(B){ks(n,n.return,B)}}break;case 27:t===null&&o&4&&Sj(n);case 26:case 5:cn(s,n),t===null&&o&4&&wj(n),o&512&&Ai(n,n.return);break;case 12:cn(s,n);break;case 31:cn(s,n),o&4&&Mj(s,n);break;case 13:cn(s,n),o&4&&Tj(s,n),o&64&&(s=n.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(n=H1.bind(null,n),i4(s,n))));break;case 22:if(o=n.memoizedState!==null||ln,!o){t=t!==null&&t.memoizedState!==null||Js,x=ln;var v=Js;ln=o,(Js=t)&&!v?on(s,n,(n.subtreeFlags&8772)!==0):cn(s,n),ln=x,Js=v}break;case 30:break;default:cn(s,n)}}function Aj(s){var t=s.alternate;t!==null&&(s.alternate=null,Aj(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&Qd(t)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Bs=null,Ot=!1;function rn(s,t,n){for(n=n.child;n!==null;)Ej(s,t,n),n=n.sibling}function Ej(s,t,n){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(wn,n)}catch{}switch(n.tag){case 26:Js||za(n,t),rn(s,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Js||za(n,t);var o=Bs,x=Ot;Vn(n.type)&&(Bs=n.stateNode,Ot=!1),rn(s,t,n),Li(n.stateNode),Bs=o,Ot=x;break;case 5:Js||za(n,t);case 6:if(o=Bs,x=Ot,Bs=null,rn(s,t,n),Bs=o,Ot=x,Bs!==null)if(Ot)try{(Bs.nodeType===9?Bs.body:Bs.nodeName==="HTML"?Bs.ownerDocument.body:Bs).removeChild(n.stateNode)}catch(v){ks(n,t,v)}else try{Bs.removeChild(n.stateNode)}catch(v){ks(n,t,v)}break;case 18:Bs!==null&&(Ot?(s=Bs,bg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.stateNode),Nr(s)):bg(Bs,n.stateNode));break;case 4:o=Bs,x=Ot,Bs=n.stateNode.containerInfo,Ot=!0,rn(s,t,n),Bs=o,Ot=x;break;case 0:case 11:case 14:case 15:Pn(2,n,t),Js||Pn(4,n,t),rn(s,t,n);break;case 1:Js||(za(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"&&yj(n,t,o)),rn(s,t,n);break;case 21:rn(s,t,n);break;case 22:Js=(o=Js)||n.memoizedState!==null,rn(s,t,n),Js=o;break;default:rn(s,t,n)}}function Mj(s,t){if(t.memoizedState===null&&(s=t.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Nr(s)}catch(n){ks(t,t.return,n)}}}function Tj(s,t){if(t.memoizedState===null&&(s=t.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Nr(s)}catch(n){ks(t,t.return,n)}}function _1(s){switch(s.tag){case 31:case 13:case 19:var t=s.stateNode;return t===null&&(t=s.stateNode=new kj),t;case 22:return s=s.stateNode,t=s._retryCache,t===null&&(t=s._retryCache=new kj),t;default:throw Error(c(435,s.tag))}}function lo(s,t){var n=_1(s);t.forEach(function(o){if(!n.has(o)){n.add(o);var x=V1.bind(null,s,o);o.then(x,x)}})}function Lt(s,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var x=n[o],v=s,B=t,te=B;e:for(;te!==null;){switch(te.tag){case 27:if(Vn(te.type)){Bs=te.stateNode,Ot=!1;break e}break;case 5:Bs=te.stateNode,Ot=!1;break e;case 3:case 4:Bs=te.stateNode.containerInfo,Ot=!0;break e}te=te.return}if(Bs===null)throw Error(c(160));Ej(v,B,x),Bs=null,Ot=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dj(t,s),t=t.sibling}var Na=null;function Dj(s,t){var n=s.alternate,o=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Lt(t,s),It(s),o&4&&(Pn(3,s,s.return),Ri(3,s),Pn(5,s,s.return));break;case 1:Lt(t,s),It(s),o&512&&(Js||n===null||za(n,n.return)),o&64&&ln&&(s=s.updateQueue,s!==null&&(o=s.callbacks,o!==null&&(n=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var x=Na;if(Lt(t,s),It(s),o&512&&(Js||n===null||za(n,n.return)),o&4){var v=n!==null?n.memoizedState:null;if(o=s.memoizedState,n===null)if(o===null)if(s.stateNode===null){e:{o=s.type,n=s.memoizedProps,x=x.ownerDocument||x;s:switch(o){case"title":v=x.getElementsByTagName("title")[0],(!v||v[si]||v[xt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(o),x.head.insertBefore(v,x.querySelector("head > title"))),gt(v,o,n),v[xt]=s,ot(v),o=v;break e;case"link":var B=Dg("link","href",x).get(o+(n.href||""));if(B){for(var te=0;te<B.length;te++)if(v=B[te],v.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&v.getAttribute("rel")===(n.rel==null?null:n.rel)&&v.getAttribute("title")===(n.title==null?null:n.title)&&v.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){B.splice(te,1);break s}}v=x.createElement(o),gt(v,o,n),x.head.appendChild(v);break;case"meta":if(B=Dg("meta","content",x).get(o+(n.content||""))){for(te=0;te<B.length;te++)if(v=B[te],v.getAttribute("content")===(n.content==null?null:""+n.content)&&v.getAttribute("name")===(n.name==null?null:n.name)&&v.getAttribute("property")===(n.property==null?null:n.property)&&v.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&v.getAttribute("charset")===(n.charSet==null?null:n.charSet)){B.splice(te,1);break s}}v=x.createElement(o),gt(v,o,n),x.head.appendChild(v);break;default:throw Error(c(468,o))}v[xt]=s,ot(v),o=v}s.stateNode=o}else _g(x,s.type,s.stateNode);else s.stateNode=Tg(x,o,s.memoizedProps);else v!==o?(v===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):v.count--,o===null?_g(x,s.type,s.stateNode):Tg(x,o,s.memoizedProps)):o===null&&s.stateNode!==null&&xm(s,s.memoizedProps,n.memoizedProps)}break;case 27:Lt(t,s),It(s),o&512&&(Js||n===null||za(n,n.return)),n!==null&&o&4&&xm(s,s.memoizedProps,n.memoizedProps);break;case 5:if(Lt(t,s),It(s),o&512&&(Js||n===null||za(n,n.return)),s.flags&32){x=s.stateNode;try{$l(x,"")}catch($e){ks(s,s.return,$e)}}o&4&&s.stateNode!=null&&(x=s.memoizedProps,xm(s,x,n!==null?n.memoizedProps:x)),o&1024&&(jm=!0);break;case 6:if(Lt(t,s),It(s),o&4){if(s.stateNode===null)throw Error(c(162));o=s.memoizedProps,n=s.stateNode;try{n.nodeValue=o}catch($e){ks(s,s.return,$e)}}break;case 3:if(yo=null,x=Na,Na=No(t.containerInfo),Lt(t,s),Na=x,It(s),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Nr(t.containerInfo)}catch($e){ks(s,s.return,$e)}jm&&(jm=!1,_j(s));break;case 4:o=Na,Na=No(s.stateNode.containerInfo),Lt(t,s),It(s),Na=o;break;case 12:Lt(t,s),It(s);break;case 31:Lt(t,s),It(s),o&4&&(o=s.updateQueue,o!==null&&(s.updateQueue=null,lo(s,o)));break;case 13:Lt(t,s),It(s),s.child.flags&8192&&s.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(io=Os()),o&4&&(o=s.updateQueue,o!==null&&(s.updateQueue=null,lo(s,o)));break;case 22:x=s.memoizedState!==null;var he=n!==null&&n.memoizedState!==null,Ne=ln,ke=Js;if(ln=Ne||x,Js=ke||he,Lt(t,s),Js=ke,ln=Ne,It(s),o&8192)e:for(t=s.stateNode,t._visibility=x?t._visibility&-2:t._visibility|1,x&&(n===null||he||ln||Js||Cl(s)),n=null,t=s;;){if(t.tag===5||t.tag===26){if(n===null){he=n=t;try{if(v=he.stateNode,x)B=v.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{te=he.stateNode;var Ae=he.memoizedProps.style,be=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;te.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch($e){ks(he,he.return,$e)}}}else if(t.tag===6){if(n===null){he=t;try{he.stateNode.nodeValue=x?"":he.memoizedProps}catch($e){ks(he,he.return,$e)}}}else if(t.tag===18){if(n===null){he=t;try{var Ce=he.stateNode;x?yg(Ce,!0):yg(he.stateNode,!1)}catch($e){ks(he,he.return,$e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===s)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=s.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,lo(s,n))));break;case 19:Lt(t,s),It(s),o&4&&(o=s.updateQueue,o!==null&&(s.updateQueue=null,lo(s,o)));break;case 30:break;case 21:break;default:Lt(t,s),It(s)}}function It(s){var t=s.flags;if(t&2){try{for(var n,o=s.return;o!==null;){if(Cj(o)){n=o;break}o=o.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var x=n.stateNode,v=fm(s);no(s,v,x);break;case 5:var B=n.stateNode;n.flags&32&&($l(B,""),n.flags&=-33);var te=fm(s);no(s,te,B);break;case 3:case 4:var he=n.stateNode.containerInfo,Ne=fm(s);pm(s,Ne,he);break;default:throw Error(c(161))}}catch(ke){ks(s,s.return,ke)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function _j(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var t=s;_j(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),s=s.sibling}}function cn(s,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rj(s,t.alternate,t),t=t.sibling}function Cl(s){for(s=s.child;s!==null;){var t=s;switch(t.tag){case 0:case 11:case 14:case 15:Pn(4,t,t.return),Cl(t);break;case 1:za(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&yj(t,t.return,n),Cl(t);break;case 27:Li(t.stateNode);case 26:case 5:za(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}s=s.sibling}}function on(s,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,x=s,v=t,B=v.flags;switch(v.tag){case 0:case 11:case 15:on(x,v,n),Ri(4,v);break;case 1:if(on(x,v,n),o=v,x=o.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Ne){ks(o,o.return,Ne)}if(o=v,x=o.updateQueue,x!==null){var te=o.stateNode;try{var he=x.shared.hiddenCallbacks;if(he!==null)for(x.shared.hiddenCallbacks=null,x=0;x<he.length;x++)dp(he[x],te)}catch(Ne){ks(o,o.return,Ne)}}n&&B&64&&bj(v),Ai(v,v.return);break;case 27:Sj(v);case 26:case 5:on(x,v,n),n&&o===null&&B&4&&wj(v),Ai(v,v.return);break;case 12:on(x,v,n);break;case 31:on(x,v,n),n&&B&4&&Mj(x,v);break;case 13:on(x,v,n),n&&B&4&&Tj(x,v);break;case 22:v.memoizedState===null&&on(x,v,n),Ai(v,v.return);break;case 30:break;default:on(x,v,n)}t=t.sibling}}function gm(s,t){var n=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(s!=null&&s.refCount++,n!=null&&xi(n))}function vm(s,t){s=null,t.alternate!==null&&(s=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==s&&(t.refCount++,s!=null&&xi(s))}function ba(s,t,n,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zj(s,t,n,o),t=t.sibling}function zj(s,t,n,o){var x=t.flags;switch(t.tag){case 0:case 11:case 15:ba(s,t,n,o),x&2048&&Ri(9,t);break;case 1:ba(s,t,n,o);break;case 3:ba(s,t,n,o),x&2048&&(s=null,t.alternate!==null&&(s=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==s&&(t.refCount++,s!=null&&xi(s)));break;case 12:if(x&2048){ba(s,t,n,o),s=t.stateNode;try{var v=t.memoizedProps,B=v.id,te=v.onPostCommit;typeof te=="function"&&te(B,t.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(he){ks(t,t.return,he)}}else ba(s,t,n,o);break;case 31:ba(s,t,n,o);break;case 13:ba(s,t,n,o);break;case 23:break;case 22:v=t.stateNode,B=t.alternate,t.memoizedState!==null?v._visibility&2?ba(s,t,n,o):Ei(s,t):v._visibility&2?ba(s,t,n,o):(v._visibility|=2,or(s,t,n,o,(t.subtreeFlags&10256)!==0||!1)),x&2048&&gm(B,t);break;case 24:ba(s,t,n,o),x&2048&&vm(t.alternate,t);break;default:ba(s,t,n,o)}}function or(s,t,n,o,x){for(x=x&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var v=s,B=t,te=n,he=o,Ne=B.flags;switch(B.tag){case 0:case 11:case 15:or(v,B,te,he,x),Ri(8,B);break;case 23:break;case 22:var ke=B.stateNode;B.memoizedState!==null?ke._visibility&2?or(v,B,te,he,x):Ei(v,B):(ke._visibility|=2,or(v,B,te,he,x)),x&&Ne&2048&&gm(B.alternate,B);break;case 24:or(v,B,te,he,x),x&&Ne&2048&&vm(B.alternate,B);break;default:or(v,B,te,he,x)}t=t.sibling}}function Ei(s,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=s,o=t,x=o.flags;switch(o.tag){case 22:Ei(n,o),x&2048&&gm(o.alternate,o);break;case 24:Ei(n,o),x&2048&&vm(o.alternate,o);break;default:Ei(n,o)}t=t.sibling}}var Mi=8192;function dr(s,t,n){if(s.subtreeFlags&Mi)for(s=s.child;s!==null;)Pj(s,t,n),s=s.sibling}function Pj(s,t,n){switch(s.tag){case 26:dr(s,t,n),s.flags&Mi&&s.memoizedState!==null&&v4(n,Na,s.memoizedState,s.memoizedProps);break;case 5:dr(s,t,n);break;case 3:case 4:var o=Na;Na=No(s.stateNode.containerInfo),dr(s,t,n),Na=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Mi,Mi=16777216,dr(s,t,n),Mi=o):dr(s,t,n));break;default:dr(s,t,n)}}function Oj(s){var t=s.alternate;if(t!==null&&(s=t.child,s!==null)){t.child=null;do t=s.sibling,s.sibling=null,s=t;while(s!==null)}}function Ti(s){var t=s.deletions;if((s.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];dt=o,Ij(o,s)}Oj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lj(s),s=s.sibling}function Lj(s){switch(s.tag){case 0:case 11:case 15:Ti(s),s.flags&2048&&Pn(9,s,s.return);break;case 3:Ti(s);break;case 12:Ti(s);break;case 22:var t=s.stateNode;s.memoizedState!==null&&t._visibility&2&&(s.return===null||s.return.tag!==13)?(t._visibility&=-3,ro(s)):Ti(s);break;default:Ti(s)}}function ro(s){var t=s.deletions;if((s.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];dt=o,Ij(o,s)}Oj(s)}for(s=s.child;s!==null;){switch(t=s,t.tag){case 0:case 11:case 15:Pn(8,t,t.return),ro(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ro(t));break;default:ro(t)}s=s.sibling}}function Ij(s,t){for(;dt!==null;){var n=dt;switch(n.tag){case 0:case 11:case 15:Pn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xi(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,dt=o;else e:for(n=s;dt!==null;){o=dt;var x=o.sibling,v=o.return;if(Aj(o),o===n){dt=null;break e}if(x!==null){x.return=v,dt=x;break e}dt=v}}}var z1={getCacheForType:function(s){var t=pt(Xs),n=t.data.get(s);return n===void 0&&(n=s(),t.data.set(s,n)),n},cacheSignal:function(){return pt(Xs).controller.signal}},P1=typeof WeakMap=="function"?WeakMap:Map,ys=0,Ps=null,hs=null,fs=0,Ss=0,Kt=null,On=!1,ur=!1,Nm=!1,dn=0,Vs=0,Ln=0,Sl=0,bm=0,Yt=0,mr=0,Di=null,Bt=null,ym=!1,io=0,Bj=0,co=1/0,oo=null,In=null,rt=0,Bn=null,hr=null,un=0,wm=0,Cm=null,Uj=null,_i=0,Sm=null;function Xt(){return(ys&2)!==0&&fs!==0?fs&-fs:ce.T!==null?Tm():sf()}function Hj(){if(Yt===0)if((fs&536870912)===0||js){var s=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),Yt=s}else Yt=536870912;return s=Gt.current,s!==null&&(s.flags|=32),Yt}function Ut(s,t,n){(s===Ps&&(Ss===2||Ss===9)||s.cancelPendingCommit!==null)&&(xr(s,0),Un(s,fs,Yt,!1)),Ol(s,n),((ys&2)===0||s!==Ps)&&(s===Ps&&((ys&2)===0&&(Sl|=n),Vs===4&&Un(s,fs,Yt,!1)),Pa(s))}function Vj(s,t,n){if((ys&6)!==0)throw Error(c(327));var o=!n&&(t&127)===0&&(t&s.expiredLanes)===0||ga(s,t),x=o?I1(s,t):Rm(s,t,!0),v=o;do{if(x===0){ur&&!o&&Un(s,t,0,!1);break}else{if(n=s.current.alternate,v&&!O1(n)){x=Rm(s,t,!1),v=!1;continue}if(x===2){if(v=t,s.errorRecoveryDisabledLanes&v)var B=0;else B=s.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){t=B;e:{var te=s;x=Di;var he=te.current.memoizedState.isDehydrated;if(he&&(xr(te,B).flags|=256),B=Rm(te,B,!1),B!==2){if(Nm&&!he){te.errorRecoveryDisabledLanes|=v,Sl|=v,x=4;break e}v=Bt,Bt=x,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}x=B}if(v=!1,x!==2)continue}}if(x===1){xr(s,0),Un(s,t,0,!0);break}e:{switch(o=s,v=x,v){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Un(o,t,Yt,!On);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(x=io+300-Os(),10<x)){if(Un(o,t,Yt,!On),lt(o,0,!0)!==0)break e;un=t,o.timeoutHandle=vg($j.bind(null,o,n,Bt,oo,ym,t,Yt,Sl,mr,On,v,"Throttled",-0,0),x);break e}$j(o,n,Bt,oo,ym,t,Yt,Sl,mr,On,v,null,-0,0)}}break}while(!0);Pa(s)}function $j(s,t,n,o,x,v,B,te,he,Ne,ke,Ae,be,Ce){if(s.timeoutHandle=-1,Ae=t.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},Pj(t,v,Ae);var $e=(v&62914560)===v?io-Os():(v&4194048)===v?Bj-Os():0;if($e=N4(Ae,$e),$e!==null){un=v,s.cancelPendingCommit=$e(Wj.bind(null,s,t,v,n,o,x,B,te,he,ke,Ae,null,be,Ce)),Un(s,v,B,!Ne);return}}Wj(s,t,v,n,o,x,B,te,he)}function O1(s){for(var t=s;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var x=n[o],v=x.getSnapshot;x=x.value;try{if(!qt(v(),x))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(s,t,n,o){t&=~bm,t&=~Sl,s.suspendedLanes|=t,s.pingedLanes&=~t,o&&(s.warmLanes|=t),o=s.expirationTimes;for(var x=t;0<x;){var v=31-as(x),B=1<<v;o[v]=-1,x&=~B}n!==0&&Zx(s,n,t)}function uo(){return(ys&6)===0?(zi(0),!1):!0}function km(){if(hs!==null){if(Ss===0)var s=hs.return;else s=hs,Ja=pl=null,Vu(s),nr=null,pi=0,s=hs;for(;s!==null;)Nj(s.alternate,s),s=s.return;hs=null}}function xr(s,t){var n=s.timeoutHandle;n!==-1&&(s.timeoutHandle=-1,t4(n)),n=s.cancelPendingCommit,n!==null&&(s.cancelPendingCommit=null,n()),un=0,km(),Ps=s,hs=n=Wa(s.current,null),fs=t,Ss=0,Kt=null,On=!1,ur=ga(s,t),Nm=!1,mr=Yt=bm=Sl=Ln=Vs=0,Bt=Di=null,ym=!1,(t&8)!==0&&(t|=t&32);var o=s.entangledLanes;if(o!==0)for(s=s.entanglements,o&=t;0<o;){var x=31-as(o),v=1<<x;t|=s[x],o&=~v}return dn=t,Tc(),n}function qj(s,t){rs=null,ce.H=Ci,t===ar||t===Bc?(t=rp(),Ss=3):t===Mu?(t=rp(),Ss=4):Ss=t===nm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,hs===null&&(Vs=1,Jc(s,ra(t,s.current)))}function Fj(){var s=Gt.current;return s===null?!0:(fs&4194048)===fs?da===null:(fs&62914560)===fs||(fs&536870912)!==0?s===da:!1}function Gj(){var s=ce.H;return ce.H=Ci,s===null?Ci:s}function Qj(){var s=ce.A;return ce.A=z1,s}function mo(){Vs=4,On||(fs&4194048)!==fs&&Gt.current!==null||(ur=!0),(Ln&134217727)===0&&(Sl&134217727)===0||Ps===null||Un(Ps,fs,Yt,!1)}function Rm(s,t,n){var o=ys;ys|=2;var x=Gj(),v=Qj();(Ps!==s||fs!==t)&&(oo=null,xr(s,t)),t=!1;var B=Vs;e:do try{if(Ss!==0&&hs!==null){var te=hs,he=Kt;switch(Ss){case 8:km(),B=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var Ne=Ss;if(Ss=0,Kt=null,fr(s,te,he,Ne),n&&ur){B=0;break e}break;default:Ne=Ss,Ss=0,Kt=null,fr(s,te,he,Ne)}}L1(),B=Vs;break}catch(ke){qj(s,ke)}while(!0);return t&&s.shellSuspendCounter++,Ja=pl=null,ys=o,ce.H=x,ce.A=v,hs===null&&(Ps=null,fs=0,Tc()),B}function L1(){for(;hs!==null;)Kj(hs)}function I1(s,t){var n=ys;ys|=2;var o=Gj(),x=Qj();Ps!==s||fs!==t?(oo=null,co=Os()+500,xr(s,t)):ur=ga(s,t);e:do try{if(Ss!==0&&hs!==null){t=hs;var v=Kt;s:switch(Ss){case 1:Ss=0,Kt=null,fr(s,t,v,1);break;case 2:case 9:if(np(v)){Ss=0,Kt=null,Yj(t);break}t=function(){Ss!==2&&Ss!==9||Ps!==s||(Ss=7),Pa(s)},v.then(t,t);break e;case 3:Ss=7;break e;case 4:Ss=5;break e;case 7:np(v)?(Ss=0,Kt=null,Yj(t)):(Ss=0,Kt=null,fr(s,t,v,7));break;case 5:var B=null;switch(hs.tag){case 26:B=hs.memoizedState;case 5:case 27:var te=hs;if(B?zg(B):te.stateNode.complete){Ss=0,Kt=null;var he=te.sibling;if(he!==null)hs=he;else{var Ne=te.return;Ne!==null?(hs=Ne,ho(Ne)):hs=null}break s}}Ss=0,Kt=null,fr(s,t,v,5);break;case 6:Ss=0,Kt=null,fr(s,t,v,6);break;case 8:km(),Vs=6;break e;default:throw Error(c(462))}}B1();break}catch(ke){qj(s,ke)}while(!0);return Ja=pl=null,ce.H=o,ce.A=x,ys=n,hs!==null?0:(Ps=null,fs=0,Tc(),Vs)}function B1(){for(;hs!==null&&!at();)Kj(hs)}function Kj(s){var t=gj(s.alternate,s,dn);s.memoizedProps=s.pendingProps,t===null?ho(s):hs=t}function Yj(s){var t=s,n=t.alternate;switch(t.tag){case 15:case 0:t=mj(n,t,t.pendingProps,t.type,void 0,fs);break;case 11:t=mj(n,t,t.pendingProps,t.type.render,t.ref,fs);break;case 5:Vu(t);default:Nj(n,t),t=hs=Qf(t,dn),t=gj(n,t,dn)}s.memoizedProps=s.pendingProps,t===null?ho(s):hs=t}function fr(s,t,n,o){Ja=pl=null,Vu(t),nr=null,pi=0;var x=t.return;try{if(R1(s,x,t,n,fs)){Vs=1,Jc(s,ra(n,s.current)),hs=null;return}}catch(v){if(x!==null)throw hs=x,v;Vs=1,Jc(s,ra(n,s.current)),hs=null;return}t.flags&32768?(js||o===1?s=!0:ur||(fs&536870912)!==0?s=!1:(On=s=!0,(o===2||o===9||o===3||o===6)&&(o=Gt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xj(t,s)):ho(t)}function ho(s){var t=s;do{if((t.flags&32768)!==0){Xj(t,On);return}s=t.return;var n=M1(t.alternate,t,dn);if(n!==null){hs=n;return}if(t=t.sibling,t!==null){hs=t;return}hs=t=s}while(t!==null);Vs===0&&(Vs=5)}function Xj(s,t){do{var n=T1(s.alternate,s);if(n!==null){n.flags&=32767,hs=n;return}if(n=s.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(s=s.sibling,s!==null)){hs=s;return}hs=s=n}while(s!==null);Vs=6,hs=null}function Wj(s,t,n,o,x,v,B,te,he){s.cancelPendingCommit=null;do xo();while(rt!==0);if((ys&6)!==0)throw Error(c(327));if(t!==null){if(t===s.current)throw Error(c(177));if(v=t.lanes|t.childLanes,v|=fu,g2(s,n,v,B,te,he),s===Ps&&(hs=Ps=null,fs=0),hr=t,Bn=s,un=n,wm=v,Cm=x,Uj=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,$1(Ma,function(){return tg(),null})):(s.callbackNode=null,s.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=ce.T,ce.T=null,x=K.p,K.p=2,B=ys,ys|=4;try{D1(s,t,n)}finally{ys=B,K.p=x,ce.T=o}}rt=1,Zj(),Jj(),eg()}}function Zj(){if(rt===1){rt=0;var s=Bn,t=hr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=ce.T,ce.T=null;var o=K.p;K.p=2;var x=ys;ys|=4;try{Dj(t,s);var v=Bm,B=If(s.containerInfo),te=v.focusedElem,he=v.selectionRange;if(B!==te&&te&&te.ownerDocument&&Lf(te.ownerDocument.documentElement,te)){if(he!==null&&du(te)){var Ne=he.start,ke=he.end;if(ke===void 0&&(ke=Ne),"selectionStart"in te)te.selectionStart=Ne,te.selectionEnd=Math.min(ke,te.value.length);else{var Ae=te.ownerDocument||document,be=Ae&&Ae.defaultView||window;if(be.getSelection){var Ce=be.getSelection(),$e=te.textContent.length,es=Math.min(he.start,$e),Ms=he.end===void 0?es:Math.min(he.end,$e);!Ce.extend&&es>Ms&&(B=Ms,Ms=es,es=B);var pe=Of(te,es),fe=Of(te,Ms);if(pe&&fe&&(Ce.rangeCount!==1||Ce.anchorNode!==pe.node||Ce.anchorOffset!==pe.offset||Ce.focusNode!==fe.node||Ce.focusOffset!==fe.offset)){var ve=Ae.createRange();ve.setStart(pe.node,pe.offset),Ce.removeAllRanges(),es>Ms?(Ce.addRange(ve),Ce.extend(fe.node,fe.offset)):(ve.setEnd(fe.node,fe.offset),Ce.addRange(ve))}}}}for(Ae=[],Ce=te;Ce=Ce.parentNode;)Ce.nodeType===1&&Ae.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Ae.length;te++){var Re=Ae[te];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}ko=!!Im,Bm=Im=null}finally{ys=x,K.p=o,ce.T=n}}s.current=t,rt=2}}function Jj(){if(rt===2){rt=0;var s=Bn,t=hr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=ce.T,ce.T=null;var o=K.p;K.p=2;var x=ys;ys|=4;try{Rj(s,t.alternate,t)}finally{ys=x,K.p=o,ce.T=n}}rt=3}}function eg(){if(rt===4||rt===3){rt=0,_t();var s=Bn,t=hr,n=un,o=Uj;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,hr=Bn=null,sg(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(In=null),Fd(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(wn,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=ce.T,x=K.p,K.p=2,ce.T=null;try{for(var v=s.onRecoverableError,B=0;B<o.length;B++){var te=o[B];v(te.value,{componentStack:te.stack})}}finally{ce.T=t,K.p=x}}(un&3)!==0&&xo(),Pa(s),x=s.pendingLanes,(n&261930)!==0&&(x&42)!==0?s===Sm?_i++:(_i=0,Sm=s):_i=0,zi(0)}}function sg(s,t){(s.pooledCacheLanes&=t)===0&&(t=s.pooledCache,t!=null&&(s.pooledCache=null,xi(t)))}function xo(){return Zj(),Jj(),eg(),tg()}function tg(){if(rt!==5)return!1;var s=Bn,t=wm;wm=0;var n=Fd(un),o=ce.T,x=K.p;try{K.p=32>n?32:n,ce.T=null,n=Cm,Cm=null;var v=Bn,B=un;if(rt=0,hr=Bn=null,un=0,(ys&6)!==0)throw Error(c(331));var te=ys;if(ys|=4,Lj(v.current),zj(v,v.current,B,n),ys=te,zi(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(wn,v)}catch{}return!0}finally{K.p=x,ce.T=o,sg(s,t)}}function ag(s,t,n){t=ra(n,t),t=am(s.stateNode,t,2),s=Dn(s,t,2),s!==null&&(Ol(s,2),Pa(s))}function ks(s,t,n){if(s.tag===3)ag(s,s,n);else for(;t!==null;){if(t.tag===3){ag(t,s,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(In===null||!In.has(o))){s=ra(n,s),n=nj(2),o=Dn(t,n,2),o!==null&&(lj(n,o,t,s),Ol(o,2),Pa(o));break}}t=t.return}}function Am(s,t,n){var o=s.pingCache;if(o===null){o=s.pingCache=new P1;var x=new Set;o.set(t,x)}else x=o.get(t),x===void 0&&(x=new Set,o.set(t,x));x.has(n)||(Nm=!0,x.add(n),s=U1.bind(null,s,t,n),t.then(s,s))}function U1(s,t,n){var o=s.pingCache;o!==null&&o.delete(t),s.pingedLanes|=s.suspendedLanes&n,s.warmLanes&=~n,Ps===s&&(fs&n)===n&&(Vs===4||Vs===3&&(fs&62914560)===fs&&300>Os()-io?(ys&2)===0&&xr(s,0):bm|=n,mr===fs&&(mr=0)),Pa(s)}function ng(s,t){t===0&&(t=$t()),s=hl(s,t),s!==null&&(Ol(s,t),Pa(s))}function H1(s){var t=s.memoizedState,n=0;t!==null&&(n=t.retryLane),ng(s,n)}function V1(s,t){var n=0;switch(s.tag){case 31:case 13:var o=s.stateNode,x=s.memoizedState;x!==null&&(n=x.retryLane);break;case 19:o=s.stateNode;break;case 22:o=s.stateNode._retryCache;break;default:throw Error(c(314))}o!==null&&o.delete(t),ng(s,n)}function $1(s,t){return mt(s,t)}var fo=null,pr=null,Em=!1,po=!1,Mm=!1,Hn=0;function Pa(s){s!==pr&&s.next===null&&(pr===null?fo=pr=s:pr=pr.next=s),po=!0,Em||(Em=!0,F1())}function zi(s,t){if(!Mm&&po){Mm=!0;do for(var n=!1,o=fo;o!==null;){if(s!==0){var x=o.pendingLanes;if(x===0)var v=0;else{var B=o.suspendedLanes,te=o.pingedLanes;v=(1<<31-as(42|s)+1)-1,v&=x&~(B&~te),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(n=!0,cg(o,v))}else v=fs,v=lt(o,o===Ps?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(v&3)===0||ga(o,v)||(n=!0,cg(o,v));o=o.next}while(n);Mm=!1}}function q1(){lg()}function lg(){po=Em=!1;var s=0;Hn!==0&&s4()&&(s=Hn);for(var t=Os(),n=null,o=fo;o!==null;){var x=o.next,v=rg(o,t);v===0?(o.next=null,n===null?fo=x:n.next=x,x===null&&(pr=n)):(n=o,(s!==0||(v&3)!==0)&&(po=!0)),o=x}rt!==0&&rt!==5||zi(s),Hn!==0&&(Hn=0)}function rg(s,t){for(var n=s.suspendedLanes,o=s.pingedLanes,x=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var B=31-as(v),te=1<<B,he=x[B];he===-1?((te&n)===0||(te&o)!==0)&&(x[B]=cl(te,t)):he<=t&&(s.expiredLanes|=te),v&=~te}if(t=Ps,n=fs,n=lt(s,s===t?n:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),o=s.callbackNode,n===0||s===t&&(Ss===2||Ss===9)||s.cancelPendingCommit!==null)return o!==null&&o!==null&&Ys(o),s.callbackNode=null,s.callbackPriority=0;if((n&3)===0||ga(s,n)){if(t=n&-n,t===s.callbackPriority)return t;switch(o!==null&&Ys(o),Fd(n)){case 2:case 8:n=yn;break;case 32:n=Ma;break;case 268435456:n=ja;break;default:n=Ma}return o=ig.bind(null,s),n=mt(n,o),s.callbackPriority=t,s.callbackNode=n,t}return o!==null&&o!==null&&Ys(o),s.callbackPriority=2,s.callbackNode=null,2}function ig(s,t){if(rt!==0&&rt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var n=s.callbackNode;if(xo()&&s.callbackNode!==n)return null;var o=fs;return o=lt(s,s===Ps?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),o===0?null:(Vj(s,o,t),rg(s,Os()),s.callbackNode!=null&&s.callbackNode===n?ig.bind(null,s):null)}function cg(s,t){if(xo())return null;Vj(s,t,!0)}function F1(){a4(function(){(ys&6)!==0?mt(pa,q1):lg()})}function Tm(){if(Hn===0){var s=sr;s===0&&(s=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),Hn=s}return Hn}function og(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:wc(""+s)}function dg(s,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,s.id&&n.setAttribute("form",s.id),t.parentNode.insertBefore(n,t),s=new FormData(s),n.parentNode.removeChild(n),s}function G1(s,t,n,o,x){if(t==="submit"&&n&&n.stateNode===x){var v=og((x[zt]||null).action),B=o.submitter;B&&(t=(t=B[zt]||null)?og(t.formAction):B.getAttribute("formAction"),t!==null&&(v=t,B=null));var te=new Rc("action","action",null,o,x);s.push({event:te,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hn!==0){var he=B?dg(x,B):new FormData(x);Wu(n,{pending:!0,data:he,method:x.method,action:v},null,he)}}else typeof v=="function"&&(te.preventDefault(),he=B?dg(x,B):new FormData(x),Wu(n,{pending:!0,data:he,method:x.method,action:v},v,he))},currentTarget:x}]})}}for(var Dm=0;Dm<xu.length;Dm++){var _m=xu[Dm],Q1=_m.toLowerCase(),K1=_m[0].toUpperCase()+_m.slice(1);va(Q1,"on"+K1)}va(Hf,"onAnimationEnd"),va(Vf,"onAnimationIteration"),va($f,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(d1,"onTransitionRun"),va(u1,"onTransitionStart"),va(m1,"onTransitionCancel"),va(qf,"onTransitionEnd"),Hl("onMouseEnter",["mouseout","mouseover"]),Hl("onMouseLeave",["mouseout","mouseover"]),Hl("onPointerEnter",["pointerout","pointerover"]),Hl("onPointerLeave",["pointerout","pointerover"]),ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ol("onBeforeInput",["compositionend","keypress","textInput","paste"]),ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function ug(s,t){t=(t&4)!==0;for(var n=0;n<s.length;n++){var o=s[n],x=o.event;o=o.listeners;e:{var v=void 0;if(t)for(var B=o.length-1;0<=B;B--){var te=o[B],he=te.instance,Ne=te.currentTarget;if(te=te.listener,he!==v&&x.isPropagationStopped())break e;v=te,x.currentTarget=Ne;try{v(x)}catch(ke){Mc(ke)}x.currentTarget=null,v=he}else for(B=0;B<o.length;B++){if(te=o[B],he=te.instance,Ne=te.currentTarget,te=te.listener,he!==v&&x.isPropagationStopped())break e;v=te,x.currentTarget=Ne;try{v(x)}catch(ke){Mc(ke)}x.currentTarget=null,v=he}}}}function xs(s,t){var n=t[Gd];n===void 0&&(n=t[Gd]=new Set);var o=s+"__bubble";n.has(o)||(mg(t,s,2,!1),n.add(o))}function zm(s,t,n){var o=0;t&&(o|=4),mg(n,s,o,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Pm(s){if(!s[jo]){s[jo]=!0,nf.forEach(function(n){n!=="selectionchange"&&(Y1.has(n)||zm(n,!1,s),zm(n,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[jo]||(t[jo]=!0,zm("selectionchange",!1,t))}}function mg(s,t,n,o){switch(Hg(t)){case 2:var x=w4;break;case 8:x=C4;break;default:x=Xm}n=x.bind(null,t,n,s),x=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(x=!0),o?x!==void 0?s.addEventListener(t,n,{capture:!0,passive:x}):s.addEventListener(t,n,!0):x!==void 0?s.addEventListener(t,n,{passive:x}):s.addEventListener(t,n,!1)}function Om(s,t,n,o,x){var v=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var B=o.tag;if(B===3||B===4){var te=o.stateNode.containerInfo;if(te===x)break;if(B===4)for(B=o.return;B!==null;){var he=B.tag;if((he===3||he===4)&&B.stateNode.containerInfo===x)return;B=B.return}for(;te!==null;){if(B=Il(te),B===null)return;if(he=B.tag,he===5||he===6||he===26||he===27){o=v=B;continue e}te=te.parentNode}}o=o.return}jf(function(){var Ne=v,ke=Jd(n),Ae=[];e:{var be=Ff.get(s);if(be!==void 0){var Ce=Rc,$e=s;switch(s){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":Ce=V2;break;case"focusin":$e="focus",Ce=lu;break;case"focusout":$e="blur",Ce=lu;break;case"beforeblur":case"afterblur":Ce=lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=M2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=F2;break;case Hf:case Vf:case $f:Ce=_2;break;case qf:Ce=Q2;break;case"scroll":case"scrollend":Ce=A2;break;case"wheel":Ce=Y2;break;case"copy":case"cut":case"paste":Ce=P2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=yf;break;case"toggle":case"beforetoggle":Ce=W2}var es=(t&4)!==0,Ms=!es&&(s==="scroll"||s==="scrollend"),pe=es?be!==null?be+"Capture":null:be;es=[];for(var fe=Ne,ve;fe!==null;){var Re=fe;if(ve=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ve===null||pe===null||(Re=ai(fe,pe),Re!=null&&es.push(Oi(fe,Re,ve))),Ms)break;fe=fe.return}0<es.length&&(be=new Ce(be,$e,null,n,ke),Ae.push({event:be,listeners:es}))}}if((t&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",be&&n!==Zd&&($e=n.relatedTarget||n.fromElement)&&(Il($e)||$e[Ll]))break e;if((Ce||be)&&(be=ke.window===ke?ke:(be=ke.ownerDocument)?be.defaultView||be.parentWindow:window,Ce?($e=n.relatedTarget||n.toElement,Ce=Ne,$e=$e?Il($e):null,$e!==null&&(Ms=d($e),es=$e.tag,$e!==Ms||es!==5&&es!==27&&es!==6)&&($e=null)):(Ce=null,$e=Ne),Ce!==$e)){if(es=Nf,Re="onMouseLeave",pe="onMouseEnter",fe="mouse",(s==="pointerout"||s==="pointerover")&&(es=yf,Re="onPointerLeave",pe="onPointerEnter",fe="pointer"),Ms=Ce==null?be:ti(Ce),ve=$e==null?be:ti($e),be=new es(Re,fe+"leave",Ce,n,ke),be.target=Ms,be.relatedTarget=ve,Re=null,Il(ke)===Ne&&(es=new es(pe,fe+"enter",$e,n,ke),es.target=ve,es.relatedTarget=Ms,Re=es),Ms=Re,Ce&&$e)s:{for(es=X1,pe=Ce,fe=$e,ve=0,Re=pe;Re;Re=es(Re))ve++;Re=0;for(var Ze=fe;Ze;Ze=es(Ze))Re++;for(;0<ve-Re;)pe=es(pe),ve--;for(;0<Re-ve;)fe=es(fe),Re--;for(;ve--;){if(pe===fe||fe!==null&&pe===fe.alternate){es=pe;break s}pe=es(pe),fe=es(fe)}es=null}else es=null;Ce!==null&&hg(Ae,be,Ce,es,!1),$e!==null&&Ms!==null&&hg(Ae,Ms,$e,es,!0)}}e:{if(be=Ne?ti(Ne):window,Ce=be.nodeName&&be.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&be.type==="file")var vs=Mf;else if(Af(be))if(Tf)vs=i1;else{vs=l1;var Ye=n1}else Ce=be.nodeName,!Ce||Ce.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?Ne&&Wd(Ne.elementType)&&(vs=Mf):vs=r1;if(vs&&(vs=vs(s,Ne))){Ef(Ae,vs,n,ke);break e}Ye&&Ye(s,be,Ne),s==="focusout"&&Ne&&be.type==="number"&&Ne.memoizedProps.value!=null&&Xd(be,"number",be.value)}switch(Ye=Ne?ti(Ne):window,s){case"focusin":(Af(Ye)||Ye.contentEditable==="true")&&(Ql=Ye,uu=Ne,ui=null);break;case"focusout":ui=uu=Ql=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,Bf(Ae,n,ke);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Bf(Ae,n,ke)}var cs;if(iu)e:{switch(s){case"compositionstart":var ps="onCompositionStart";break e;case"compositionend":ps="onCompositionEnd";break e;case"compositionupdate":ps="onCompositionUpdate";break e}ps=void 0}else Gl?kf(s,n)&&(ps="onCompositionEnd"):s==="keydown"&&n.keyCode===229&&(ps="onCompositionStart");ps&&(wf&&n.locale!=="ko"&&(Gl||ps!=="onCompositionStart"?ps==="onCompositionEnd"&&Gl&&(cs=gf()):(Sn=ke,tu="value"in Sn?Sn.value:Sn.textContent,Gl=!0)),Ye=go(Ne,ps),0<Ye.length&&(ps=new bf(ps,s,null,n,ke),Ae.push({event:ps,listeners:Ye}),cs?ps.data=cs:(cs=Rf(n),cs!==null&&(ps.data=cs)))),(cs=J2?e1(s,n):s1(s,n))&&(ps=go(Ne,"onBeforeInput"),0<ps.length&&(Ye=new bf("onBeforeInput","beforeinput",null,n,ke),Ae.push({event:Ye,listeners:ps}),Ye.data=cs)),G1(Ae,s,Ne,n,ke)}ug(Ae,t)})}function Oi(s,t,n){return{instance:s,listener:t,currentTarget:n}}function go(s,t){for(var n=t+"Capture",o=[];s!==null;){var x=s,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=ai(s,n),x!=null&&o.unshift(Oi(s,x,v)),x=ai(s,t),x!=null&&o.push(Oi(s,x,v))),s.tag===3)return o;s=s.return}return[]}function X1(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function hg(s,t,n,o,x){for(var v=t._reactName,B=[];n!==null&&n!==o;){var te=n,he=te.alternate,Ne=te.stateNode;if(te=te.tag,he!==null&&he===o)break;te!==5&&te!==26&&te!==27||Ne===null||(he=Ne,x?(Ne=ai(n,v),Ne!=null&&B.unshift(Oi(n,Ne,he))):x||(Ne=ai(n,v),Ne!=null&&B.push(Oi(n,Ne,he)))),n=n.return}B.length!==0&&s.push({event:t,listeners:B})}var W1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function xg(s){return(typeof s=="string"?s:""+s).replace(W1,`
`).replace(Z1,"")}function fg(s,t){return t=xg(t),xg(s)===t}function Es(s,t,n,o,x,v){switch(n){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||$l(s,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&$l(s,""+o);break;case"className":bc(s,"class",o);break;case"tabIndex":bc(s,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bc(s,n,o);break;case"style":ff(s,o,v);break;case"data":if(t!=="object"){bc(s,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||n!=="href")){s.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){s.removeAttribute(n);break}o=wc(""+o),s.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){s.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(n==="formAction"?(t!=="input"&&Es(s,t,"name",x.name,x,null),Es(s,t,"formEncType",x.formEncType,x,null),Es(s,t,"formMethod",x.formMethod,x,null),Es(s,t,"formTarget",x.formTarget,x,null)):(Es(s,t,"encType",x.encType,x,null),Es(s,t,"method",x.method,x,null),Es(s,t,"target",x.target,x,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){s.removeAttribute(n);break}o=wc(""+o),s.setAttribute(n,o);break;case"onClick":o!=null&&(s.onclick=Ya);break;case"onScroll":o!=null&&xs("scroll",s);break;case"onScrollEnd":o!=null&&xs("scrollend",s);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(n=o.__html,n!=null){if(x.children!=null)throw Error(c(60));s.innerHTML=n}}break;case"multiple":s.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":s.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){s.removeAttribute("xlink:href");break}n=wc(""+o),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?s.setAttribute(n,""+o):s.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?s.setAttribute(n,""):s.removeAttribute(n);break;case"capture":case"download":o===!0?s.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?s.setAttribute(n,o):s.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?s.setAttribute(n,o):s.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?s.removeAttribute(n):s.setAttribute(n,o);break;case"popover":xs("beforetoggle",s),xs("toggle",s),Nc(s,"popover",o);break;case"xlinkActuate":Ka(s,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ka(s,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ka(s,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ka(s,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ka(s,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ka(s,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ka(s,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ka(s,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ka(s,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Nc(s,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=k2.get(n)||n,Nc(s,n,o))}}function Lm(s,t,n,o,x,v){switch(n){case"style":ff(s,o,v);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(c(61));if(n=o.__html,n!=null){if(x.children!=null)throw Error(c(60));s.innerHTML=n}}break;case"children":typeof o=="string"?$l(s,o):(typeof o=="number"||typeof o=="bigint")&&$l(s,""+o);break;case"onScroll":o!=null&&xs("scroll",s);break;case"onScrollEnd":o!=null&&xs("scrollend",s);break;case"onClick":o!=null&&(s.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(x=n.endsWith("Capture"),t=n.slice(2,x?n.length-7:void 0),v=s[zt]||null,v=v!=null?v[n]:null,typeof v=="function"&&s.removeEventListener(t,v,x),typeof o=="function")){typeof v!="function"&&v!==null&&(n in s?s[n]=null:s.hasAttribute(n)&&s.removeAttribute(n)),s.addEventListener(t,o,x);break e}n in s?s[n]=o:o===!0?s.setAttribute(n,""):Nc(s,n,o)}}}function gt(s,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xs("error",s),xs("load",s);var o=!1,x=!1,v;for(v in n)if(n.hasOwnProperty(v)){var B=n[v];if(B!=null)switch(v){case"src":o=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Es(s,t,v,B,n,null)}}x&&Es(s,t,"srcSet",n.srcSet,n,null),o&&Es(s,t,"src",n.src,n,null);return;case"input":xs("invalid",s);var te=v=B=x=null,he=null,Ne=null;for(o in n)if(n.hasOwnProperty(o)){var ke=n[o];if(ke!=null)switch(o){case"name":x=ke;break;case"type":B=ke;break;case"checked":he=ke;break;case"defaultChecked":Ne=ke;break;case"value":v=ke;break;case"defaultValue":te=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(c(137,t));break;default:Es(s,t,o,ke,n,null)}}uf(s,v,te,he,Ne,B,x,!1);return;case"select":xs("invalid",s),o=B=v=null;for(x in n)if(n.hasOwnProperty(x)&&(te=n[x],te!=null))switch(x){case"value":v=te;break;case"defaultValue":B=te;break;case"multiple":o=te;default:Es(s,t,x,te,n,null)}t=v,n=B,s.multiple=!!o,t!=null?Vl(s,!!o,t,!1):n!=null&&Vl(s,!!o,n,!0);return;case"textarea":xs("invalid",s),v=x=o=null;for(B in n)if(n.hasOwnProperty(B)&&(te=n[B],te!=null))switch(B){case"value":o=te;break;case"defaultValue":x=te;break;case"children":v=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(c(91));break;default:Es(s,t,B,te,n,null)}hf(s,o,x,v);return;case"option":for(he in n)if(n.hasOwnProperty(he)&&(o=n[he],o!=null))switch(he){case"selected":s.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Es(s,t,he,o,n,null)}return;case"dialog":xs("beforetoggle",s),xs("toggle",s),xs("cancel",s),xs("close",s);break;case"iframe":case"object":xs("load",s);break;case"video":case"audio":for(o=0;o<Pi.length;o++)xs(Pi[o],s);break;case"image":xs("error",s),xs("load",s);break;case"details":xs("toggle",s);break;case"embed":case"source":case"link":xs("error",s),xs("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in n)if(n.hasOwnProperty(Ne)&&(o=n[Ne],o!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Es(s,t,Ne,o,n,null)}return;default:if(Wd(t)){for(ke in n)n.hasOwnProperty(ke)&&(o=n[ke],o!==void 0&&Lm(s,t,ke,o,n,void 0));return}}for(te in n)n.hasOwnProperty(te)&&(o=n[te],o!=null&&Es(s,t,te,o,n,null))}function J1(s,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,B=null,te=null,he=null,Ne=null,ke=null;for(Ce in n){var Ae=n[Ce];if(n.hasOwnProperty(Ce)&&Ae!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":he=Ae;default:o.hasOwnProperty(Ce)||Es(s,t,Ce,null,o,Ae)}}for(var be in o){var Ce=o[be];if(Ae=n[be],o.hasOwnProperty(be)&&(Ce!=null||Ae!=null))switch(be){case"type":v=Ce;break;case"name":x=Ce;break;case"checked":Ne=Ce;break;case"defaultChecked":ke=Ce;break;case"value":B=Ce;break;case"defaultValue":te=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(c(137,t));break;default:Ce!==Ae&&Es(s,t,be,Ce,o,Ae)}}Yd(s,B,te,he,Ne,ke,v,x);return;case"select":Ce=B=te=be=null;for(v in n)if(he=n[v],n.hasOwnProperty(v)&&he!=null)switch(v){case"value":break;case"multiple":Ce=he;default:o.hasOwnProperty(v)||Es(s,t,v,null,o,he)}for(x in o)if(v=o[x],he=n[x],o.hasOwnProperty(x)&&(v!=null||he!=null))switch(x){case"value":be=v;break;case"defaultValue":te=v;break;case"multiple":B=v;default:v!==he&&Es(s,t,x,v,o,he)}t=te,n=B,o=Ce,be!=null?Vl(s,!!n,be,!1):!!o!=!!n&&(t!=null?Vl(s,!!n,t,!0):Vl(s,!!n,n?[]:"",!1));return;case"textarea":Ce=be=null;for(te in n)if(x=n[te],n.hasOwnProperty(te)&&x!=null&&!o.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Es(s,t,te,null,o,x)}for(B in o)if(x=o[B],v=n[B],o.hasOwnProperty(B)&&(x!=null||v!=null))switch(B){case"value":be=x;break;case"defaultValue":Ce=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(c(91));break;default:x!==v&&Es(s,t,B,x,o,v)}mf(s,be,Ce);return;case"option":for(var $e in n)if(be=n[$e],n.hasOwnProperty($e)&&be!=null&&!o.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:Es(s,t,$e,null,o,be)}for(he in o)if(be=o[he],Ce=n[he],o.hasOwnProperty(he)&&be!==Ce&&(be!=null||Ce!=null))switch(he){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Es(s,t,he,be,o,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var es in n)be=n[es],n.hasOwnProperty(es)&&be!=null&&!o.hasOwnProperty(es)&&Es(s,t,es,null,o,be);for(Ne in o)if(be=o[Ne],Ce=n[Ne],o.hasOwnProperty(Ne)&&be!==Ce&&(be!=null||Ce!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(c(137,t));break;default:Es(s,t,Ne,be,o,Ce)}return;default:if(Wd(t)){for(var Ms in n)be=n[Ms],n.hasOwnProperty(Ms)&&be!==void 0&&!o.hasOwnProperty(Ms)&&Lm(s,t,Ms,void 0,o,be);for(ke in o)be=o[ke],Ce=n[ke],!o.hasOwnProperty(ke)||be===Ce||be===void 0&&Ce===void 0||Lm(s,t,ke,be,o,Ce);return}}for(var pe in n)be=n[pe],n.hasOwnProperty(pe)&&be!=null&&!o.hasOwnProperty(pe)&&Es(s,t,pe,null,o,be);for(Ae in o)be=o[Ae],Ce=n[Ae],!o.hasOwnProperty(Ae)||be===Ce||be==null&&Ce==null||Es(s,t,Ae,be,o,Ce)}function pg(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e4(){if(typeof performance.getEntriesByType=="function"){for(var s=0,t=0,n=performance.getEntriesByType("resource"),o=0;o<n.length;o++){var x=n[o],v=x.transferSize,B=x.initiatorType,te=x.duration;if(v&&te&&pg(B)){for(B=0,te=x.responseEnd,o+=1;o<n.length;o++){var he=n[o],Ne=he.startTime;if(Ne>te)break;var ke=he.transferSize,Ae=he.initiatorType;ke&&pg(Ae)&&(he=he.responseEnd,B+=ke*(he<te?1:(te-Ne)/(he-Ne)))}if(--o,t+=8*(v+B)/(x.duration/1e3),s++,10<s)break}}if(0<s)return t/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Im=null,Bm=null;function vo(s){return s.nodeType===9?s:s.ownerDocument}function jg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gg(s,t){if(s===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&t==="foreignObject"?0:s}function Um(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hm=null;function s4(){var s=window.event;return s&&s.type==="popstate"?s===Hm?!1:(Hm=s,!0):(Hm=null,!1)}var vg=typeof setTimeout=="function"?setTimeout:void 0,t4=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,a4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(s){return Ng.resolve(null).then(s).catch(n4)}:vg;function n4(s){setTimeout(function(){throw s})}function Vn(s){return s==="head"}function bg(s,t){var n=t,o=0;do{var x=n.nextSibling;if(s.removeChild(n),x&&x.nodeType===8)if(n=x.data,n==="/$"||n==="/&"){if(o===0){s.removeChild(x),Nr(t);return}o--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")o++;else if(n==="html")Li(s.ownerDocument.documentElement);else if(n==="head"){n=s.ownerDocument.head,Li(n);for(var v=n.firstChild;v;){var B=v.nextSibling,te=v.nodeName;v[si]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&v.rel.toLowerCase()==="stylesheet"||n.removeChild(v),v=B}}else n==="body"&&Li(s.ownerDocument.body);n=x}while(n);Nr(t)}function yg(s,t){var n=s;s=0;do{var o=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0)break;s--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||s++;n=o}while(n)}function Vm(s){var t=s.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vm(n),Qd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}s.removeChild(n)}}function l4(s,t,n,o){for(;s.nodeType===1;){var x=n;if(s.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(o){if(!s[si])switch(t){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(t==="input"&&s.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=ua(s.nextSibling),s===null)break}return null}function r4(s,t,n){if(t==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!n||(s=ua(s.nextSibling),s===null))return null;return s}function wg(s,t){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!t||(s=ua(s.nextSibling),s===null))return null;return s}function $m(s){return s.data==="$?"||s.data==="$~"}function qm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function i4(s,t){var n=s.ownerDocument;if(s.data==="$~")s._reactRetry=t;else if(s.data!=="$?"||n.readyState!=="loading")t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),s._reactRetry=o}}function ua(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return s}var Fm=null;function Cg(s){s=s.nextSibling;for(var t=0;s;){if(s.nodeType===8){var n=s.data;if(n==="/$"||n==="/&"){if(t===0)return ua(s.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}s=s.nextSibling}return null}function Sg(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var n=s.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return s;t--}else n!=="/$"&&n!=="/&"||t++}s=s.previousSibling}return null}function kg(s,t,n){switch(t=vo(n),s){case"html":if(s=t.documentElement,!s)throw Error(c(452));return s;case"head":if(s=t.head,!s)throw Error(c(453));return s;case"body":if(s=t.body,!s)throw Error(c(454));return s;default:throw Error(c(451))}}function Li(s){for(var t=s.attributes;t.length;)s.removeAttributeNode(t[0]);Qd(s)}var ma=new Map,Rg=new Set;function No(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var mn=K.d;K.d={f:c4,r:o4,D:d4,C:u4,L:m4,m:h4,X:f4,S:x4,M:p4};function c4(){var s=mn.f(),t=uo();return s||t}function o4(s){var t=Bl(s);t!==null&&t.tag===5&&t.type==="form"?qp(t):mn.r(s)}var jr=typeof document>"u"?null:document;function Ag(s,t,n){var o=jr;if(o&&typeof t=="string"&&t){var x=na(t);x='link[rel="'+s+'"][href="'+x+'"]',typeof n=="string"&&(x+='[crossorigin="'+n+'"]'),Rg.has(x)||(Rg.add(x),s={rel:s,crossOrigin:n,href:t},o.querySelector(x)===null&&(t=o.createElement("link"),gt(t,"link",s),ot(t),o.head.appendChild(t)))}}function d4(s){mn.D(s),Ag("dns-prefetch",s,null)}function u4(s,t){mn.C(s,t),Ag("preconnect",s,t)}function m4(s,t,n){mn.L(s,t,n);var o=jr;if(o&&s&&t){var x='link[rel="preload"][as="'+na(t)+'"]';t==="image"&&n&&n.imageSrcSet?(x+='[imagesrcset="'+na(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(x+='[imagesizes="'+na(n.imageSizes)+'"]')):x+='[href="'+na(s)+'"]';var v=x;switch(t){case"style":v=gr(s);break;case"script":v=vr(s)}ma.has(v)||(s=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:s,as:t},n),ma.set(v,s),o.querySelector(x)!==null||t==="style"&&o.querySelector(Ii(v))||t==="script"&&o.querySelector(Bi(v))||(t=o.createElement("link"),gt(t,"link",s),ot(t),o.head.appendChild(t)))}}function h4(s,t){mn.m(s,t);var n=jr;if(n&&s){var o=t&&typeof t.as=="string"?t.as:"script",x='link[rel="modulepreload"][as="'+na(o)+'"][href="'+na(s)+'"]',v=x;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=vr(s)}if(!ma.has(v)&&(s=g({rel:"modulepreload",href:s},t),ma.set(v,s),n.querySelector(x)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bi(v)))return}o=n.createElement("link"),gt(o,"link",s),ot(o),n.head.appendChild(o)}}}function x4(s,t,n){mn.S(s,t,n);var o=jr;if(o&&s){var x=Ul(o).hoistableStyles,v=gr(s);t=t||"default";var B=x.get(v);if(!B){var te={loading:0,preload:null};if(B=o.querySelector(Ii(v)))te.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":t},n),(n=ma.get(v))&&Gm(s,n);var he=B=o.createElement("link");ot(he),gt(he,"link",s),he._p=new Promise(function(Ne,ke){he.onload=Ne,he.onerror=ke}),he.addEventListener("load",function(){te.loading|=1}),he.addEventListener("error",function(){te.loading|=2}),te.loading|=4,bo(B,t,o)}B={type:"stylesheet",instance:B,count:1,state:te},x.set(v,B)}}}function f4(s,t){mn.X(s,t);var n=jr;if(n&&s){var o=Ul(n).hoistableScripts,x=vr(s),v=o.get(x);v||(v=n.querySelector(Bi(x)),v||(s=g({src:s,async:!0},t),(t=ma.get(x))&&Qm(s,t),v=n.createElement("script"),ot(v),gt(v,"link",s),n.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},o.set(x,v))}}function p4(s,t){mn.M(s,t);var n=jr;if(n&&s){var o=Ul(n).hoistableScripts,x=vr(s),v=o.get(x);v||(v=n.querySelector(Bi(x)),v||(s=g({src:s,async:!0,type:"module"},t),(t=ma.get(x))&&Qm(s,t),v=n.createElement("script"),ot(v),gt(v,"link",s),n.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},o.set(x,v))}}function Eg(s,t,n,o){var x=(x=se.current)?No(x):null;if(!x)throw Error(c(446));switch(s){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=gr(n.href),n=Ul(x).hoistableStyles,o=n.get(t),o||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){s=gr(n.href);var v=Ul(x).hoistableStyles,B=v.get(s);if(B||(x=x.ownerDocument||x,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,B),(v=x.querySelector(Ii(s)))&&!v._p&&(B.instance=v,B.state.loading=5),ma.has(s)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ma.set(s,n),v||j4(x,s,n,B.state))),t&&o===null)throw Error(c(528,""));return B}if(t&&o!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vr(n),n=Ul(x).hoistableScripts,o=n.get(t),o||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,s))}}function gr(s){return'href="'+na(s)+'"'}function Ii(s){return'link[rel="stylesheet"]['+s+"]"}function Mg(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function j4(s,t,n,o){s.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=s.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),gt(t,"link",n),ot(t),s.head.appendChild(t))}function vr(s){return'[src="'+na(s)+'"]'}function Bi(s){return"script[async]"+s}function Tg(s,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var o=s.querySelector('style[data-href~="'+na(n.href)+'"]');if(o)return t.instance=o,ot(o),o;var x=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(s.ownerDocument||s).createElement("style"),ot(o),gt(o,"style",x),bo(o,n.precedence,s),t.instance=o;case"stylesheet":x=gr(n.href);var v=s.querySelector(Ii(x));if(v)return t.state.loading|=4,t.instance=v,ot(v),v;o=Mg(n),(x=ma.get(x))&&Gm(o,x),v=(s.ownerDocument||s).createElement("link"),ot(v);var B=v;return B._p=new Promise(function(te,he){B.onload=te,B.onerror=he}),gt(v,"link",o),t.state.loading|=4,bo(v,n.precedence,s),t.instance=v;case"script":return v=vr(n.src),(x=s.querySelector(Bi(v)))?(t.instance=x,ot(x),x):(o=n,(x=ma.get(v))&&(o=g({},n),Qm(o,x)),s=s.ownerDocument||s,x=s.createElement("script"),ot(x),gt(x,"link",o),s.head.appendChild(x),t.instance=x);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,bo(o,n.precedence,s));return t.instance}function bo(s,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=o.length?o[o.length-1]:null,v=x,B=0;B<o.length;B++){var te=o[B];if(te.dataset.precedence===t)v=te;else if(v!==x)break}v?v.parentNode.insertBefore(s,v.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(s,t.firstChild))}function Gm(s,t){s.crossOrigin==null&&(s.crossOrigin=t.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=t.referrerPolicy),s.title==null&&(s.title=t.title)}function Qm(s,t){s.crossOrigin==null&&(s.crossOrigin=t.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=t.referrerPolicy),s.integrity==null&&(s.integrity=t.integrity)}var yo=null;function Dg(s,t,n){if(yo===null){var o=new Map,x=yo=new Map;x.set(n,o)}else x=yo,o=x.get(n),o||(o=new Map,x.set(n,o));if(o.has(s))return o;for(o.set(s,null),n=n.getElementsByTagName(s),x=0;x<n.length;x++){var v=n[x];if(!(v[si]||v[xt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var B=v.getAttribute(t)||"";B=s+B;var te=o.get(B);te?te.push(v):o.set(B,[v])}}return o}function _g(s,t,n){s=s.ownerDocument||s,s.head.insertBefore(n,t==="title"?s.querySelector("head > title"):null)}function g4(s,t,n){if(n===1||t.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return s=t.disabled,typeof t.precedence=="string"&&s==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zg(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function v4(s,t,n,o){if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var x=gr(o.href),v=t.querySelector(Ii(x));if(v){t=v._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=wo.bind(s),t.then(s,s)),n.state.loading|=4,n.instance=v,ot(v);return}v=t.ownerDocument||t,o=Mg(o),(x=ma.get(x))&&Gm(o,x),v=v.createElement("link"),ot(v);var B=v;B._p=new Promise(function(te,he){B.onload=te,B.onerror=he}),gt(v,"link",o),n.instance=v}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(s.count++,n=wo.bind(s),t.addEventListener("load",n),t.addEventListener("error",n))}}var Km=0;function N4(s,t){return s.stylesheets&&s.count===0&&So(s,s.stylesheets),0<s.count||0<s.imgCount?function(n){var o=setTimeout(function(){if(s.stylesheets&&So(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4+t);0<s.imgBytes&&Km===0&&(Km=62500*e4());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&So(s,s.stylesheets),s.unsuspend)){var v=s.unsuspend;s.unsuspend=null,v()}},(s.imgBytes>Km?50:800)+t);return s.unsuspend=n,function(){s.unsuspend=null,clearTimeout(o),clearTimeout(x)}}:null}function wo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Co=null;function So(s,t){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Co=new Map,t.forEach(b4,s),Co=null,wo.call(s))}function b4(s,t){if(!(t.state.loading&4)){var n=Co.get(s);if(n)var o=n.get(null);else{n=new Map,Co.set(s,n);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var B=x[v];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(n.set(B.dataset.precedence,B),o=B)}o&&n.set(null,o)}x=t.instance,B=x.getAttribute("data-precedence"),v=n.get(B)||o,v===o&&n.set(null,x),n.set(B,x),this.count++,o=wo.bind(this),x.addEventListener("load",o),x.addEventListener("error",o),v?v.parentNode.insertBefore(x,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),t.state.loading|=4}}var Ui={$$typeof:P,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function y4(s,t,n,o,x,v,B,te,he){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function Pg(s,t,n,o,x,v,B,te,he,Ne,ke,Ae){return s=new y4(s,t,n,B,he,Ne,ke,Ae,te),t=1,v===!0&&(t|=24),v=Ft(3,null,null,t),s.current=v,v.stateNode=s,t=Ru(),t.refCount++,s.pooledCache=t,t.refCount++,v.memoizedState={element:o,isDehydrated:n,cache:t},Tu(v),s}function Og(s){return s?(s=Xl,s):Xl}function Lg(s,t,n,o,x,v){x=Og(x),o.context===null?o.context=x:o.pendingContext=x,o=Tn(t),o.payload={element:n},v=v===void 0?null:v,v!==null&&(o.callback=v),n=Dn(s,o,t),n!==null&&(Ut(n,s,t),gi(n,s,t))}function Ig(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var n=s.retryLane;s.retryLane=n!==0&&n<t?n:t}}function Ym(s,t){Ig(s,t),(s=s.alternate)&&Ig(s,t)}function Bg(s){if(s.tag===13||s.tag===31){var t=hl(s,67108864);t!==null&&Ut(t,s,67108864),Ym(s,67108864)}}function Ug(s){if(s.tag===13||s.tag===31){var t=Xt();t=qd(t);var n=hl(s,t);n!==null&&Ut(n,s,t),Ym(s,t)}}var ko=!0;function w4(s,t,n,o){var x=ce.T;ce.T=null;var v=K.p;try{K.p=2,Xm(s,t,n,o)}finally{K.p=v,ce.T=x}}function C4(s,t,n,o){var x=ce.T;ce.T=null;var v=K.p;try{K.p=8,Xm(s,t,n,o)}finally{K.p=v,ce.T=x}}function Xm(s,t,n,o){if(ko){var x=Wm(o);if(x===null)Om(s,t,o,Ro,n),Vg(s,o);else if(k4(x,s,t,n,o))o.stopPropagation();else if(Vg(s,o),t&4&&-1<S4.indexOf(s)){for(;x!==null;){var v=Bl(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var B=ht(v.pendingLanes);if(B!==0){var te=v;for(te.pendingLanes|=2,te.entangledLanes|=2;B;){var he=1<<31-as(B);te.entanglements[1]|=he,B&=~he}Pa(v),(ys&6)===0&&(co=Os()+500,zi(0))}}break;case 31:case 13:te=hl(v,2),te!==null&&Ut(te,v,2),uo(),Ym(v,2)}if(v=Wm(o),v===null&&Om(s,t,o,Ro,n),v===x)break;x=v}x!==null&&o.stopPropagation()}else Om(s,t,o,null,n)}}function Wm(s){return s=Jd(s),Zm(s)}var Ro=null;function Zm(s){if(Ro=null,s=Il(s),s!==null){var t=d(s);if(t===null)s=null;else{var n=t.tag;if(n===13){if(s=u(t),s!==null)return s;s=null}else if(n===31){if(s=m(t),s!==null)return s;s=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null)}}return Ro=s,null}function Hg(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ea()){case pa:return 2;case yn:return 8;case Ma:case ta:return 32;case ja:return 268435456;default:return 32}default:return 32}}var Jm=!1,$n=null,qn=null,Fn=null,Hi=new Map,Vi=new Map,Gn=[],S4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vg(s,t){switch(s){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function $i(s,t,n,o,x,v){return s===null||s.nativeEvent!==v?(s={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:v,targetContainers:[x]},t!==null&&(t=Bl(t),t!==null&&Bg(t)),s):(s.eventSystemFlags|=o,t=s.targetContainers,x!==null&&t.indexOf(x)===-1&&t.push(x),s)}function k4(s,t,n,o,x){switch(t){case"focusin":return $n=$i($n,s,t,n,o,x),!0;case"dragenter":return qn=$i(qn,s,t,n,o,x),!0;case"mouseover":return Fn=$i(Fn,s,t,n,o,x),!0;case"pointerover":var v=x.pointerId;return Hi.set(v,$i(Hi.get(v)||null,s,t,n,o,x)),!0;case"gotpointercapture":return v=x.pointerId,Vi.set(v,$i(Vi.get(v)||null,s,t,n,o,x)),!0}return!1}function $g(s){var t=Il(s.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=u(n),t!==null){s.blockedOn=t,tf(s.priority,function(){Ug(n)});return}}else if(t===31){if(t=m(n),t!==null){s.blockedOn=t,tf(s.priority,function(){Ug(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){s.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ao(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var n=Wm(s.nativeEvent);if(n===null){n=s.nativeEvent;var o=new n.constructor(n.type,n);Zd=o,n.target.dispatchEvent(o),Zd=null}else return t=Bl(n),t!==null&&Bg(t),s.blockedOn=n,!1;t.shift()}return!0}function qg(s,t,n){Ao(s)&&n.delete(t)}function R4(){Jm=!1,$n!==null&&Ao($n)&&($n=null),qn!==null&&Ao(qn)&&(qn=null),Fn!==null&&Ao(Fn)&&(Fn=null),Hi.forEach(qg),Vi.forEach(qg)}function Eo(s,t){s.blockedOn===t&&(s.blockedOn=null,Jm||(Jm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,R4)))}var Mo=null;function Fg(s){Mo!==s&&(Mo=s,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mo===s&&(Mo=null);for(var t=0;t<s.length;t+=3){var n=s[t],o=s[t+1],x=s[t+2];if(typeof o!="function"){if(Zm(o||n)===null)continue;break}var v=Bl(n);v!==null&&(s.splice(t,3),t-=3,Wu(v,{pending:!0,data:x,method:n.method,action:o},o,x))}}))}function Nr(s){function t(he){return Eo(he,s)}$n!==null&&Eo($n,s),qn!==null&&Eo(qn,s),Fn!==null&&Eo(Fn,s),Hi.forEach(t),Vi.forEach(t);for(var n=0;n<Gn.length;n++){var o=Gn[n];o.blockedOn===s&&(o.blockedOn=null)}for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)$g(n),n.blockedOn===null&&Gn.shift();if(n=(s.ownerDocument||s).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var x=n[o],v=n[o+1],B=x[zt]||null;if(typeof v=="function")B||Fg(n);else if(B){var te=null;if(v&&v.hasAttribute("formAction")){if(x=v,B=v[zt]||null)te=B.formAction;else if(Zm(x)!==null)continue}else te=B.action;typeof te=="function"?n[o+1]=te:(n.splice(o,3),o-=3),Fg(n)}}}function Gg(){function s(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(B){return x=B})},focusReset:"manual",scroll:"manual"})}function t(){x!==null&&(x(),x=null),o||setTimeout(n,20)}function n(){if(!o&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){o=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),x!==null&&(x(),x=null)}}}function eh(s){this._internalRoot=s}To.prototype.render=eh.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,o=Xt();Lg(n,o,s,t,null,null)},To.prototype.unmount=eh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;Lg(s.current,2,null,s,null,null),uo(),t[Ll]=null}};function To(s){this._internalRoot=s}To.prototype.unstable_scheduleHydration=function(s){if(s){var t=sf();s={blockedOn:null,target:s,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,s),n===0&&$g(s)}};var Qg=l.version;if(Qg!=="19.2.0")throw Error(c(527,Qg,"19.2.0"));K.findDOMNode=function(s){var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(c(188)):(s=Object.keys(s).join(","),Error(c(268,s)));return s=h(t),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var A4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{wn=Do.inject(A4),Me=Do}catch{}}return Fi.createRoot=function(s,t){if(!i(s))throw Error(c(299));var n=!1,o="",x=ej,v=sj,B=tj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(x=t.onUncaughtError),t.onCaughtError!==void 0&&(v=t.onCaughtError),t.onRecoverableError!==void 0&&(B=t.onRecoverableError)),t=Pg(s,1,!1,null,null,n,o,null,x,v,B,Gg),s[Ll]=t.current,Pm(s),new eh(t)},Fi.hydrateRoot=function(s,t,n){if(!i(s))throw Error(c(299));var o=!1,x="",v=ej,B=sj,te=tj,he=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(x=n.identifierPrefix),n.onUncaughtError!==void 0&&(v=n.onUncaughtError),n.onCaughtError!==void 0&&(B=n.onCaughtError),n.onRecoverableError!==void 0&&(te=n.onRecoverableError),n.formState!==void 0&&(he=n.formState)),t=Pg(s,1,!0,t,n??null,o,x,he,v,B,te,Gg),t.context=Og(null),n=t.current,o=Xt(),o=qd(o),x=Tn(o),x.callback=null,Dn(n,x,o),n=o,t.current.lanes=n,Ol(t,n),Pa(t),s[Ll]=t.current,Pm(s),new To(t)},Fi.version="19.2.0",Fi}var av;function I4(){if(av)return ah.exports;av=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(l){console.error(l)}}return a(),ah.exports=L4(),ah.exports}var B4=I4();const U4=Wh(B4);let H4={data:""},V4=a=>{if(typeof window=="object"){let l=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(a||document.head).appendChild(l),l.firstChild}return a||H4},$4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,q4=/\/\*[^]*?\*\/|  +/g,nv=/\n+/g,Wn=(a,l)=>{let r="",c="",i="";for(let d in a){let u=a[d];d[0]=="@"?d[1]=="i"?r=d+" "+u+";":c+=d[1]=="f"?Wn(u,d):d+"{"+Wn(u,d[1]=="k"?"":l)+"}":typeof u=="object"?c+=Wn(u,l?l.replace(/([^,])+/g,m=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,m):m?m+" "+f:f)):d):u!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Wn.p?Wn.p(d,u):d+":"+u+";")}return r+(l&&i?l+"{"+i+"}":i)+c},hn={},o0=a=>{if(typeof a=="object"){let l="";for(let r in a)l+=r+o0(a[r]);return l}return a},F4=(a,l,r,c,i)=>{let d=o0(a),u=hn[d]||(hn[d]=(f=>{let h=0,p=11;for(;h<f.length;)p=101*p+f.charCodeAt(h++)>>>0;return"go"+p})(d));if(!hn[u]){let f=d!==a?a:(h=>{let p,g,y=[{}];for(;p=$4.exec(h.replace(q4,""));)p[4]?y.shift():p[3]?(g=p[3].replace(nv," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(nv," ").trim();return y[0]})(a);hn[u]=Wn(i?{["@keyframes "+u]:f}:f,r?"":"."+u)}let m=r&&hn.g?hn.g:null;return r&&(hn.g=hn[u]),((f,h,p,g)=>{g?h.data=h.data.replace(g,f):h.data.indexOf(f)===-1&&(h.data=p?f+h.data:h.data+f)})(hn[u],l,c,m),u},G4=(a,l,r)=>a.reduce((c,i,d)=>{let u=l[d];if(u&&u.call){let m=u(r),f=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=f?"."+f:m&&typeof m=="object"?m.props?"":Wn(m,""):m===!1?"":m}return c+i+(u??"")},"");function md(a){let l=this||{},r=a.call?a(l.p):a;return F4(r.unshift?r.raw?G4(r,[].slice.call(arguments,1),l.p):r.reduce((c,i)=>Object.assign(c,i&&i.call?i(l.p):i),{}):r,V4(l.target),l.g,l.o,l.k)}let d0,Eh,Mh;md.bind({g:1});let jn=md.bind({k:1});function Q4(a,l,r,c){Wn.p=l,d0=a,Eh=r,Mh=c}function nl(a,l){let r=this||{};return function(){let c=arguments;function i(d,u){let m=Object.assign({},d),f=m.className||i.className;r.p=Object.assign({theme:Eh&&Eh()},m),r.o=/ *go\d+/.test(f),m.className=md.apply(r,c)+(f?" "+f:"");let h=a;return a[0]&&(h=m.as||a,delete m.as),Mh&&h[0]&&Mh(m),d0(h,m)}return i}}var K4=a=>typeof a=="function",Wo=(a,l)=>K4(a)?a(l):a,Y4=(()=>{let a=0;return()=>(++a).toString()})(),u0=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");a=!l||l.matches}return a}})(),X4=20,ex="default",m0=(a,l)=>{let{toastLimit:r}=a.settings;switch(l.type){case 0:return{...a,toasts:[l.toast,...a.toasts].slice(0,r)};case 1:return{...a,toasts:a.toasts.map(u=>u.id===l.toast.id?{...u,...l.toast}:u)};case 2:let{toast:c}=l;return m0(a,{type:a.toasts.find(u=>u.id===c.id)?1:0,toast:c});case 3:let{toastId:i}=l;return{...a,toasts:a.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return l.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(u=>u.id!==l.toastId)};case 5:return{...a,pausedAt:l.time};case 6:let d=l.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+d}))}}},$o=[],h0={toasts:[],pausedAt:void 0,settings:{toastLimit:X4}},La={},x0=(a,l=ex)=>{La[l]=m0(La[l]||h0,a),$o.forEach(([r,c])=>{r===l&&c(La[l])})},f0=a=>Object.keys(La).forEach(l=>x0(a,l)),W4=a=>Object.keys(La).find(l=>La[l].toasts.some(r=>r.id===a)),hd=(a=ex)=>l=>{x0(l,a)},Z4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},J4=(a={},l=ex)=>{let[r,c]=j.useState(La[l]||h0),i=j.useRef(La[l]);j.useEffect(()=>(i.current!==La[l]&&c(La[l]),$o.push([l,c]),()=>{let u=$o.findIndex(([m])=>m===l);u>-1&&$o.splice(u,1)}),[l]);let d=r.toasts.map(u=>{var m,f,h;return{...a,...a[u.type],...u,removeDelay:u.removeDelay||((m=a[u.type])==null?void 0:m.removeDelay)||a?.removeDelay,duration:u.duration||((f=a[u.type])==null?void 0:f.duration)||a?.duration||Z4[u.type],style:{...a.style,...(h=a[u.type])==null?void 0:h.style,...u.style}}});return{...r,toasts:d}},eC=(a,l="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...r,id:r?.id||Y4()}),rc=a=>(l,r)=>{let c=eC(l,a,r);return hd(c.toasterId||W4(c.id))({type:2,toast:c}),c.id},ut=(a,l)=>rc("blank")(a,l);ut.error=rc("error");ut.success=rc("success");ut.loading=rc("loading");ut.custom=rc("custom");ut.dismiss=(a,l)=>{let r={type:3,toastId:a};l?hd(l)(r):f0(r)};ut.dismissAll=a=>ut.dismiss(void 0,a);ut.remove=(a,l)=>{let r={type:4,toastId:a};l?hd(l)(r):f0(r)};ut.removeAll=a=>ut.remove(void 0,a);ut.promise=(a,l,r)=>{let c=ut.loading(l.loading,{...r,...r?.loading});return typeof a=="function"&&(a=a()),a.then(i=>{let d=l.success?Wo(l.success,i):void 0;return d?ut.success(d,{id:c,...r,...r?.success}):ut.dismiss(c),i}).catch(i=>{let d=l.error?Wo(l.error,i):void 0;d?ut.error(d,{id:c,...r,...r?.error}):ut.dismiss(c)}),a};var sC=1e3,tC=(a,l="default")=>{let{toasts:r,pausedAt:c}=J4(a,l),i=j.useRef(new Map).current,d=j.useCallback((g,y=sC)=>{if(i.has(g))return;let M=setTimeout(()=>{i.delete(g),u({type:4,toastId:g})},y);i.set(g,M)},[]);j.useEffect(()=>{if(c)return;let g=Date.now(),y=r.map(M=>{if(M.duration===1/0)return;let w=(M.duration||0)+M.pauseDuration-(g-M.createdAt);if(w<0){M.visible&&ut.dismiss(M.id);return}return setTimeout(()=>ut.dismiss(M.id,l),w)});return()=>{y.forEach(M=>M&&clearTimeout(M))}},[r,c,l]);let u=j.useCallback(hd(l),[l]),m=j.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=j.useCallback((g,y)=>{u({type:1,toast:{id:g,height:y}})},[u]),h=j.useCallback(()=>{c&&u({type:6,time:Date.now()})},[c,u]),p=j.useCallback((g,y)=>{let{reverseOrder:M=!1,gutter:w=8,defaultPosition:k}=y||{},E=r.filter(P=>(P.position||k)===(g.position||k)&&P.height),N=E.findIndex(P=>P.id===g.id),A=E.filter((P,I)=>I<N&&P.visible).length;return E.filter(P=>P.visible).slice(...M?[A+1]:[0,A]).reduce((P,I)=>P+(I.height||0)+w,0)},[r]);return j.useEffect(()=>{r.forEach(g=>{if(g.dismissed)d(g.id,g.removeDelay);else{let y=i.get(g.id);y&&(clearTimeout(y),i.delete(g.id))}})},[r,d]),{toasts:r,handlers:{updateHeight:f,startPause:m,endPause:h,calculateOffset:p}}},aC=jn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nC=jn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lC=jn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rC=nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iC=jn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cC=nl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${iC} 1s linear infinite;
`,oC=jn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dC=jn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uC=nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mC=nl("div")`
  position: absolute;
`,hC=nl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xC=jn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fC=nl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pC=({toast:a})=>{let{icon:l,type:r,iconTheme:c}=a;return l!==void 0?typeof l=="string"?j.createElement(fC,null,l):l:r==="blank"?null:j.createElement(hC,null,j.createElement(cC,{...c}),r!=="loading"&&j.createElement(mC,null,r==="error"?j.createElement(rC,{...c}):j.createElement(uC,{...c})))},jC=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gC=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,vC="0%{opacity:0;} 100%{opacity:1;}",NC="0%{opacity:1;} 100%{opacity:0;}",bC=nl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yC=nl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wC=(a,l)=>{let r=a.includes("top")?1:-1,[c,i]=u0()?[vC,NC]:[jC(r),gC(r)];return{animation:l?`${jn(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${jn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},CC=j.memo(({toast:a,position:l,style:r,children:c})=>{let i=a.height?wC(a.position||l||"top-center",a.visible):{opacity:0},d=j.createElement(pC,{toast:a}),u=j.createElement(yC,{...a.ariaProps},Wo(a.message,a));return j.createElement(bC,{className:a.className,style:{...i,...r,...a.style}},typeof c=="function"?c({icon:d,message:u}):j.createElement(j.Fragment,null,d,u))});Q4(j.createElement);var SC=({id:a,className:l,style:r,onHeightUpdate:c,children:i})=>{let d=j.useCallback(u=>{if(u){let m=()=>{let f=u.getBoundingClientRect().height;c(a,f)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[a,c]);return j.createElement("div",{ref:d,className:l,style:r},i)},kC=(a,l)=>{let r=a.includes("top"),c=r?{top:0}:{bottom:0},i=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:u0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(r?1:-1)}px)`,...c,...i}},RC=md`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_o=16,AC=({reverseOrder:a,position:l="top-center",toastOptions:r,gutter:c,children:i,toasterId:d,containerStyle:u,containerClassName:m})=>{let{toasts:f,handlers:h}=tC(r,d);return j.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:_o,left:_o,right:_o,bottom:_o,pointerEvents:"none",...u},className:m,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(p=>{let g=p.position||l,y=h.calculateOffset(p,{reverseOrder:a,gutter:c,defaultPosition:l}),M=kC(g,y);return j.createElement(SC,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?RC:"",style:M},p.type==="custom"?Wo(p.message,p):i?i(p):j.createElement(CC,{toast:p,position:g}))}))};function lv(a,l){if(typeof a=="function")return a(l);a!=null&&(a.current=l)}function qa(...a){return l=>{let r=!1;const c=a.map(i=>{const d=lv(i,l);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let i=0;i<c.length;i++){const d=c[i];typeof d=="function"?d():lv(a[i],null)}}}}function ts(...a){return j.useCallback(qa(...a),a)}var EC=Symbol.for("react.lazy"),Zo=Jh[" use ".trim().toString()];function MC(a){return typeof a=="object"&&a!==null&&"then"in a}function p0(a){return a!=null&&typeof a=="object"&&"$$typeof"in a&&a.$$typeof===EC&&"_payload"in a&&MC(a._payload)}function xd(a){const l=DC(a),r=j.forwardRef((c,i)=>{let{children:d,...u}=c;p0(d)&&typeof Zo=="function"&&(d=Zo(d._payload));const m=j.Children.toArray(d),f=m.find(zC);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}var TC=xd("Slot");function DC(a){const l=j.forwardRef((r,c)=>{let{children:i,...d}=r;if(p0(i)&&typeof Zo=="function"&&(i=Zo(i._payload)),j.isValidElement(i)){const u=OC(i),m=PC(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var _C=Symbol("radix.slottable");function zC(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===_C}function PC(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function OC(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}function j0(a){var l,r,c="";if(typeof a=="string"||typeof a=="number")c+=a;else if(typeof a=="object")if(Array.isArray(a)){var i=a.length;for(l=0;l<i;l++)a[l]&&(r=j0(a[l]))&&(c&&(c+=" "),c+=r)}else for(r in a)a[r]&&(c&&(c+=" "),c+=r);return c}function g0(){for(var a,l,r=0,c="",i=arguments.length;r<i;r++)(a=arguments[r])&&(l=j0(a))&&(c&&(c+=" "),c+=l);return c}const rv=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,iv=g0,sx=(a,l)=>r=>{var c;if(l?.variants==null)return iv(a,r?.class,r?.className);const{variants:i,defaultVariants:d}=l,u=Object.keys(i).map(h=>{const p=r?.[h],g=d?.[h];if(p===null)return null;const y=rv(p)||rv(g);return i[h][y]}),m=r&&Object.entries(r).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),f=l==null||(c=l.compoundVariants)===null||c===void 0?void 0:c.reduce((h,p)=>{let{class:g,className:y,...M}=p;return Object.entries(M).every(w=>{let[k,E]=w;return Array.isArray(E)?E.includes({...d,...m}[k]):{...d,...m}[k]===E})?[...h,g,y]:h},[]);return iv(a,u,f,r?.class,r?.className)},LC=(a,l)=>{const r=new Array(a.length+l.length);for(let c=0;c<a.length;c++)r[c]=a[c];for(let c=0;c<l.length;c++)r[a.length+c]=l[c];return r},IC=(a,l)=>({classGroupId:a,validator:l}),v0=(a=new Map,l=null,r)=>({nextPart:a,validators:l,classGroupId:r}),Jo="-",cv=[],BC="arbitrary..",UC=a=>{const l=VC(a),{conflictingClassGroups:r,conflictingClassGroupModifiers:c}=a;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return HC(u);const m=u.split(Jo),f=m[0]===""&&m.length>1?1:0;return N0(m,f,l)},getConflictingClassGroupIds:(u,m)=>{if(m){const f=c[u],h=r[u];return f?h?LC(h,f):f:h||cv}return r[u]||cv}}},N0=(a,l,r)=>{if(a.length-l===0)return r.classGroupId;const i=a[l],d=r.nextPart.get(i);if(d){const h=N0(a,l+1,d);if(h)return h}const u=r.validators;if(u===null)return;const m=l===0?a.join(Jo):a.slice(l).join(Jo),f=u.length;for(let h=0;h<f;h++){const p=u[h];if(p.validator(m))return p.classGroupId}},HC=a=>a.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const l=a.slice(1,-1),r=l.indexOf(":"),c=l.slice(0,r);return c?BC+c:void 0})(),VC=a=>{const{theme:l,classGroups:r}=a;return $C(r,l)},$C=(a,l)=>{const r=v0();for(const c in a){const i=a[c];tx(i,r,c,l)}return r},tx=(a,l,r,c)=>{const i=a.length;for(let d=0;d<i;d++){const u=a[d];qC(u,l,r,c)}},qC=(a,l,r,c)=>{if(typeof a=="string"){FC(a,l,r);return}if(typeof a=="function"){GC(a,l,r,c);return}QC(a,l,r,c)},FC=(a,l,r)=>{const c=a===""?l:b0(l,a);c.classGroupId=r},GC=(a,l,r,c)=>{if(KC(a)){tx(a(c),l,r,c);return}l.validators===null&&(l.validators=[]),l.validators.push(IC(r,a))},QC=(a,l,r,c)=>{const i=Object.entries(a),d=i.length;for(let u=0;u<d;u++){const[m,f]=i[u];tx(f,b0(l,m),r,c)}},b0=(a,l)=>{let r=a;const c=l.split(Jo),i=c.length;for(let d=0;d<i;d++){const u=c[d];let m=r.nextPart.get(u);m||(m=v0(),r.nextPart.set(u,m)),r=m}return r},KC=a=>"isThemeGetter"in a&&a.isThemeGetter===!0,YC=a=>{if(a<1)return{get:()=>{},set:()=>{}};let l=0,r=Object.create(null),c=Object.create(null);const i=(d,u)=>{r[d]=u,l++,l>a&&(l=0,c=r,r=Object.create(null))};return{get(d){let u=r[d];if(u!==void 0)return u;if((u=c[d])!==void 0)return i(d,u),u},set(d,u){d in r?r[d]=u:i(d,u)}}},Th="!",ov=":",XC=[],dv=(a,l,r,c,i)=>({modifiers:a,hasImportantModifier:l,baseClassName:r,maybePostfixModifierPosition:c,isExternal:i}),WC=a=>{const{prefix:l,experimentalParseClassName:r}=a;let c=i=>{const d=[];let u=0,m=0,f=0,h;const p=i.length;for(let k=0;k<p;k++){const E=i[k];if(u===0&&m===0){if(E===ov){d.push(i.slice(f,k)),f=k+1;continue}if(E==="/"){h=k;continue}}E==="["?u++:E==="]"?u--:E==="("?m++:E===")"&&m--}const g=d.length===0?i:i.slice(f);let y=g,M=!1;g.endsWith(Th)?(y=g.slice(0,-1),M=!0):g.startsWith(Th)&&(y=g.slice(1),M=!0);const w=h&&h>f?h-f:void 0;return dv(d,M,y,w)};if(l){const i=l+ov,d=c;c=u=>u.startsWith(i)?d(u.slice(i.length)):dv(XC,!1,u,void 0,!0)}if(r){const i=c;c=d=>r({className:d,parseClassName:i})}return c},ZC=a=>{const l=new Map;return a.orderSensitiveModifiers.forEach((r,c)=>{l.set(r,1e6+c)}),r=>{const c=[];let i=[];for(let d=0;d<r.length;d++){const u=r[d],m=u[0]==="[",f=l.has(u);m||f?(i.length>0&&(i.sort(),c.push(...i),i=[]),c.push(u)):i.push(u)}return i.length>0&&(i.sort(),c.push(...i)),c}},JC=a=>({cache:YC(a.cacheSize),parseClassName:WC(a),sortModifiers:ZC(a),...UC(a)}),eS=/\s+/,sS=(a,l)=>{const{parseClassName:r,getClassGroupId:c,getConflictingClassGroupIds:i,sortModifiers:d}=l,u=[],m=a.trim().split(eS);let f="";for(let h=m.length-1;h>=0;h-=1){const p=m[h],{isExternal:g,modifiers:y,hasImportantModifier:M,baseClassName:w,maybePostfixModifierPosition:k}=r(p);if(g){f=p+(f.length>0?" "+f:f);continue}let E=!!k,N=c(E?w.substring(0,k):w);if(!N){if(!E){f=p+(f.length>0?" "+f:f);continue}if(N=c(w),!N){f=p+(f.length>0?" "+f:f);continue}E=!1}const A=y.length===0?"":y.length===1?y[0]:d(y).join(":"),P=M?A+Th:A,I=P+N;if(u.indexOf(I)>-1)continue;u.push(I);const T=i(N,E);for(let z=0;z<T.length;++z){const C=T[z];u.push(P+C)}f=p+(f.length>0?" "+f:f)}return f},tS=(...a)=>{let l=0,r,c,i="";for(;l<a.length;)(r=a[l++])&&(c=y0(r))&&(i&&(i+=" "),i+=c);return i},y0=a=>{if(typeof a=="string")return a;let l,r="";for(let c=0;c<a.length;c++)a[c]&&(l=y0(a[c]))&&(r&&(r+=" "),r+=l);return r},aS=(a,...l)=>{let r,c,i,d;const u=f=>{const h=l.reduce((p,g)=>g(p),a());return r=JC(h),c=r.cache.get,i=r.cache.set,d=m,m(f)},m=f=>{const h=c(f);if(h)return h;const p=sS(f,r);return i(f,p),p};return d=u,(...f)=>d(tS(...f))},nS=[],it=a=>{const l=r=>r[a]||nS;return l.isThemeGetter=!0,l},w0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,C0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lS=/^\d+\/\d+$/,rS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=a=>lS.test(a),ds=a=>!!a&&!Number.isNaN(Number(a)),Kn=a=>!!a&&Number.isInteger(Number(a)),ih=a=>a.endsWith("%")&&ds(a.slice(0,-1)),xn=a=>rS.test(a),uS=()=>!0,mS=a=>iS.test(a)&&!cS.test(a),S0=()=>!1,hS=a=>oS.test(a),xS=a=>dS.test(a),fS=a=>!Fe(a)&&!Ge(a),pS=a=>Gr(a,A0,S0),Fe=a=>w0.test(a),kl=a=>Gr(a,E0,mS),ch=a=>Gr(a,bS,ds),uv=a=>Gr(a,k0,S0),jS=a=>Gr(a,R0,xS),zo=a=>Gr(a,M0,hS),Ge=a=>C0.test(a),Gi=a=>Qr(a,E0),gS=a=>Qr(a,yS),mv=a=>Qr(a,k0),vS=a=>Qr(a,A0),NS=a=>Qr(a,R0),Po=a=>Qr(a,M0,!0),Gr=(a,l,r)=>{const c=w0.exec(a);return c?c[1]?l(c[1]):r(c[2]):!1},Qr=(a,l,r=!1)=>{const c=C0.exec(a);return c?c[1]?l(c[1]):r:!1},k0=a=>a==="position"||a==="percentage",R0=a=>a==="image"||a==="url",A0=a=>a==="length"||a==="size"||a==="bg-size",E0=a=>a==="length",bS=a=>a==="number",yS=a=>a==="family-name",M0=a=>a==="shadow",wS=()=>{const a=it("color"),l=it("font"),r=it("text"),c=it("font-weight"),i=it("tracking"),d=it("leading"),u=it("breakpoint"),m=it("container"),f=it("spacing"),h=it("radius"),p=it("shadow"),g=it("inset-shadow"),y=it("text-shadow"),M=it("drop-shadow"),w=it("blur"),k=it("perspective"),E=it("aspect"),N=it("ease"),A=it("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...I(),Ge,Fe],z=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],L=()=>[Ge,Fe,f],Q=()=>[br,"full","auto",...L()],Y=()=>[Kn,"none","subgrid",Ge,Fe],W=()=>["auto",{span:["full",Kn,Ge,Fe]},Kn,Ge,Fe],q=()=>[Kn,"auto",Ge,Fe],F=()=>["auto","min","max","fr",Ge,Fe],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...L()],K=()=>[br,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],U=()=>[a,Ge,Fe],ae=()=>[...I(),mv,uv,{position:[Ge,Fe]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",vS,pS,{size:[Ge,Fe]}],re=()=>[ih,Gi,kl],H=()=>["","none","full",h,Ge,Fe],oe=()=>["",ds,Gi,kl],ee=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[ds,ih,mv,uv],le=()=>["","none",w,Ge,Fe],G=()=>["none",ds,Ge,Fe],xe=()=>["none",ds,Ge,Fe],Te=()=>[ds,Ge,Fe],we=()=>[br,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xn],breakpoint:[xn],color:[uS],container:[xn],"drop-shadow":[xn],ease:["in","out","in-out"],font:[fS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xn],shadow:[xn],spacing:["px",ds],text:[xn],"text-shadow":[xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",br,Fe,Ge,E]}],container:["container"],columns:[{columns:[ds,Fe,Ge,m]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Kn,"auto",Ge,Fe]}],basis:[{basis:[br,"full","auto",m,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ds,br,"auto","initial","none",Fe]}],grow:[{grow:["",ds,Ge,Fe]}],shrink:[{shrink:["",ds,Ge,Fe]}],order:[{order:[Kn,"first","last","none",Ge,Fe]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[m,"screen",...K()]}],"min-w":[{"min-w":[m,"screen","none",...K()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[u]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Gi,kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[c,Ge,ch]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ih,Fe]}],"font-family":[{font:[gS,Fe,l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ge,Fe]}],"line-clamp":[{"line-clamp":[ds,"none",Ge,ch]}],leading:[{leading:[d,...L()]}],"list-image":[{"list-image":["none",Ge,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[ds,"from-font","auto",Ge,kl]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[ds,"auto",Ge,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kn,Ge,Fe],radial:["",Ge,Fe],conic:[Kn,Ge,Fe]},NS,jS]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ds,Ge,Fe]}],"outline-w":[{outline:["",ds,Gi,kl]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",p,Po,zo]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",g,Po,zo]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[ds,kl]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",y,Po,zo]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[ds,Ge,Fe]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ds]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ge,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[ds]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Fe]}],filter:[{filter:["","none",Ge,Fe]}],blur:[{blur:le()}],brightness:[{brightness:[ds,Ge,Fe]}],contrast:[{contrast:[ds,Ge,Fe]}],"drop-shadow":[{"drop-shadow":["","none",M,Po,zo]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",ds,Ge,Fe]}],"hue-rotate":[{"hue-rotate":[ds,Ge,Fe]}],invert:[{invert:["",ds,Ge,Fe]}],saturate:[{saturate:[ds,Ge,Fe]}],sepia:[{sepia:["",ds,Ge,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Fe]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[ds,Ge,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ds,Ge,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ds,Ge,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ds,Ge,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ds,Ge,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ds,Ge,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ds,Ge,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ds,Ge,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ds,"initial",Ge,Fe]}],ease:[{ease:["linear","initial",N,Ge,Fe]}],delay:[{delay:[ds,Ge,Fe]}],animate:[{animate:["none",A,Ge,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Ge,Fe]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[Ge,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Fe]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[ds,Gi,kl,ch]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CS=aS(wS);function We(...a){return CS(g0(a))}const ax=sx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),V=j.forwardRef(({className:a,variant:l,size:r,asChild:c=!1,...i},d)=>{const u=c?TC:"button";return e.jsx(u,{className:We(ax({variant:l,size:r,className:a})),ref:d,...i})});V.displayName="Button";var ic=c0();const SS=Wh(ic);var kS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RS=kS.reduce((a,l)=>{const r=xd(`Primitive.${l}`),c=j.forwardRef((i,d)=>{const{asChild:u,...m}=i,f=u?r:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...m,ref:d})});return c.displayName=`Primitive.${l}`,{...a,[l]:c}},{}),AS="Separator",hv="horizontal",ES=["horizontal","vertical"],T0=j.forwardRef((a,l)=>{const{decorative:r,orientation:c=hv,...i}=a,d=MS(c)?c:hv,m=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return e.jsx(RS.div,{"data-orientation":d,...m,...i,ref:l})});T0.displayName=AS;function MS(a){return ES.includes(a)}var D0=T0;const ye=j.forwardRef(({className:a,orientation:l="horizontal",decorative:r=!0,...c},i)=>e.jsx(D0,{ref:i,decorative:r,orientation:l,className:We("shrink-0 bg-border",l==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...c}));ye.displayName=D0.displayName;const xv=a=>{let l;const r=new Set,c=(h,p)=>{const g=typeof h=="function"?h(l):h;if(!Object.is(g,l)){const y=l;l=p??(typeof g!="object"||g===null)?g:Object.assign({},l,g),r.forEach(M=>M(l,y))}},i=()=>l,m={setState:c,getState:i,getInitialState:()=>f,subscribe:h=>(r.add(h),()=>r.delete(h))},f=l=a(c,i,m);return m},TS=(a=>a?xv(a):xv),DS=a=>a;function _S(a,l=DS){const r=Gs.useSyncExternalStore(a.subscribe,Gs.useCallback(()=>l(a.getState()),[a,l]),Gs.useCallback(()=>l(a.getInitialState()),[a,l]));return Gs.useDebugValue(r),r}const fv=a=>{const l=TS(a),r=c=>_S(l,c);return Object.assign(r,l),r},Fa=(a=>a?fv(a):fv);class zS{nodes=[];connections=[];handlers=new Map;messageQueue=new Map;messageHistory=[];isRunning=!1;updateInterval=200;intervalId=null;messageIdCounter=0;MAX_HISTORY=1e3;constructor(){this.registerDefaultHandlers()}registerDefaultHandlers(){this.registerHandler("crm",this.createBusinessDataHandler("crm")),this.registerHandler("erp",this.createBusinessDataHandler("erp")),this.registerHandler("payment-gateway",this.createBusinessDataHandler("payment")),this.registerHandler("postgres",this.createDatabaseHandler("postgres")),this.registerHandler("mongodb",this.createDatabaseHandler("mongodb")),this.registerHandler("redis",this.createDatabaseHandler("redis")),this.registerHandler("kafka",this.createMessageBrokerHandler("kafka")),this.registerHandler("rabbitmq",this.createMessageBrokerHandler("rabbitmq")),this.registerHandler("rest",this.createAPIHandler("rest")),this.registerHandler("grpc",this.createAPIHandler("grpc")),this.registerHandler("graphql",this.createAPIHandler("graphql")),this.registerHandler("websocket",this.createAPIHandler("websocket")),this.registerHandler("kong",this.createIntegrationHandler("kong")),this.registerHandler("mulesoft",this.createIntegrationHandler("mulesoft"))}registerHandler(l,r){this.handlers.set(l,r)}initialize(l,r){this.nodes=l,this.connections=r,this.messageQueue.clear(),this.messageHistory=[];for(const c of r)this.messageQueue.set(c.id,[])}updateNodesAndConnections(l,r){this.nodes=l,this.connections=r;const c=new Set(r.map(i=>i.id));for(const[i]of this.messageQueue.entries())c.has(i)||this.messageQueue.delete(i);for(const i of r)this.messageQueue.has(i.id)||this.messageQueue.set(i.id,[])}start(){this.isRunning||(this.isRunning=!0,this.intervalId=setInterval(()=>{this.processDataFlow()},this.updateInterval))}stop(){this.isRunning=!1,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}processDataFlow(){this.generateSourceData(),this.processInTransitMessages(),this.deliverMessages()}generateSourceData(){for(const l of this.connections){const r=this.nodes.find(u=>u.id===l.source);if(!r)continue;const c=this.handlers.get(r.type);if(!c?.generateData)continue;const i=r.data.config||{},d=c.generateData(r,i);if(d&&d.length>0){const u=this.messageQueue.get(l.id)||[];for(const m of d)m.connectionId=l.id,m.target=l.target,m.status="pending",m.id=`msg-${++this.messageIdCounter}`,m.timestamp=Date.now(),u.push(m);this.messageQueue.set(l.id,u)}}}processInTransitMessages(){for(const[l,r]of this.messageQueue.entries()){const c=this.connections.find(u=>u.id===l);if(!c)continue;const i=this.nodes.find(u=>u.id===c.source),d=this.nodes.find(u=>u.id===c.target);if(!(!i||!d)){for(const u of r)if(u.status==="pending")this.transformMessageIfNeeded(u,i,d,c)&&(u.status="in-transit",u.latency=this.calculateTransitTime(c));else if(u.status==="in-transit"){const m=Date.now()-u.timestamp;u.latency&&m>=u.latency&&(u.status="delivered")}}}}deliverMessages(){for(const[l,r]of this.messageQueue.entries()){const c=this.connections.find(f=>f.id===l);if(!c)continue;const i=this.nodes.find(f=>f.id===c.target);if(!i)continue;const d=this.handlers.get(i.type);if(!d?.processData)continue;const u=i.data.config||{},m=r.filter(f=>f.status==="delivered");for(const f of m)try{d.processData(i,f,u)&&(this.addToHistory(f),r.splice(r.indexOf(f),1))}catch(h){f.status="failed",f.error=h instanceof Error?h.message:"Unknown error",this.addToHistory(f),r.splice(r.indexOf(f),1)}this.messageQueue.set(l,r)}}transformMessageIfNeeded(l,r,c,i){const d=this.handlers.get(r.type),u=this.handlers.get(c.type),m=d?.getSupportedFormats?.(r)||[l.format],f=u?.getSupportedFormats?.(c)||[l.format];if(f.includes(l.format))return l;const h=f.find(g=>m.includes(g));if(h)return l.format=h,l.status="transformed",l;const p=this.findIntegrationHandler(i);if(p?.transformData){const g=p.transformData(r,l,c.type,r.data.config||{});if(g)return g}if(d?.transformData){const g=d.transformData(r,l,c.type,r.data.config||{});if(g)return g}return l.status="failed",l.error=`Format ${l.format} not supported by target ${c.type}`,null}findIntegrationHandler(l){const r=this.nodes.find(c=>c.id===l.source);return r&&["kong","mulesoft","apigee","bff-service"].includes(r.type)&&this.handlers.get(r.type)||null}calculateTransitTime(l){const r=l.data||{},c=r.latencyMs||10,i=(r.jitterMs||0)*(Math.random()-.5);return Math.max(1,c+i)}addToHistory(l){this.messageHistory.push(l),this.messageHistory.length>this.MAX_HISTORY&&this.messageHistory.shift()}getConnectionMessages(l){return this.messageQueue.get(l)||[]}getMessageHistory(l){const r=[...this.messageHistory].reverse();return l?r.slice(0,l):r}getComponentMessages(l){const r=[];for(const c of this.messageQueue.values())for(const i of c)(i.source===l||i.target===l)&&r.push(i);return r}createBusinessDataHandler(l){return{generateData:(r,c)=>{const i=[],d=c.generateInterval||2e3,u=r._lastGenerate||0,m=Date.now();if(m-u<d)return null;switch(r._lastGenerate=m,l){case"crm":i.push(this.createCRMDataMessage(r));break;case"erp":i.push(this.createERPDataMessage(r));break;case"payment":i.push(this.createPaymentDataMessage(r));break}return i},getSupportedFormats:()=>["json","xml"]}}createDatabaseHandler(l){return{processData:(r,c,i)=>{const d=c.payload?.operation||"insert";switch(d){case"insert":case"update":case"delete":const u=i.queryLatency||10;return c.latency=u,c.status="delivered",c;case"query":return c.payload={...c.payload,results:this.generateQueryResults(l,c.payload?.query)},c.status="delivered",c;default:return c.status="failed",c.error=`Unknown operation: ${d}`,c}},getSupportedFormats:()=>["json","binary"]}}createMessageBrokerHandler(l){return{processData:(r,c,i)=>(c.status="delivered",c),getSupportedFormats:()=>["json","binary","text"]}}createAPIHandler(l){return{processData:(r,c,i)=>{const d={status:"success",data:c.payload,timestamp:Date.now()};return c.payload=d,c.status="delivered",c},transformData:(r,c,i,d)=>(l==="rest"&&c.format!=="json"?(c.format="json",c.status="transformed"):l==="grpc"&&c.format!=="protobuf"&&(c.format="protobuf",c.status="transformed"),c),getSupportedFormats:()=>{switch(l){case"rest":return["json","xml"];case"grpc":return["protobuf","binary"];case"graphql":return["json"];case"websocket":return["json","text","binary"];default:return["json"]}}}}createIntegrationHandler(l){return{transformData:(r,c,i,d)=>{const u=this.getTargetFormats(i);return u.length>0&&!u.includes(c.format)&&(c.format=u[0],c.status="transformed"),c},getSupportedFormats:()=>["json","xml","binary"]}}getTargetFormats(l){return this.handlers.get(l)?.getSupportedFormats?.({type:l})||["json"]}createCRMDataMessage(l){const r=l.data.config||{},c=r.contacts||[],i=r.deals||[],d=Math.random()>.5?"contact":"deal";let u;if(d==="contact"&&c.length>0){const f=c[Math.floor(Math.random()*c.length)];u={operation:"create",type:"contact",data:{name:f.name,email:f.email,company:f.company,status:f.status}}}else if(i.length>0){const f=i[Math.floor(Math.random()*i.length)];u={operation:"update",type:"deal",data:{id:f.id,name:f.name,value:f.value,stage:f.stage}}}else u={operation:"create",type:"contact",data:{name:`Contact ${Date.now()}`,email:`contact${Date.now()}@example.com`}};const m=JSON.stringify(u);return{id:"",timestamp:Date.now(),source:l.id,target:"",connectionId:"",format:"json",payload:u,size:new Blob([m]).size,metadata:{contentType:"application/json",operation:u.operation},status:"pending"}}createERPDataMessage(l){const r=l.data.config||{},c=r.orders||[],i=r.inventory||[],d=Math.random()>.5?"order":"inventory";let u;if(d==="order"&&c.length>0){const f=c[Math.floor(Math.random()*c.length)];u={operation:"create",type:"order",data:{orderNumber:f.orderNumber,customer:f.customer,total:f.total,items:f.items}}}else if(i.length>0){const f=i[Math.floor(Math.random()*i.length)];u={operation:"update",type:"inventory",data:{sku:f.sku,quantity:f.quantity,status:f.status}}}else u={operation:"create",type:"order",data:{orderNumber:`ORD-${Date.now()}`,total:Math.random()*1e3}};const m=JSON.stringify(u);return{id:"",timestamp:Date.now(),source:l.id,target:"",connectionId:"",format:"json",payload:u,size:new Blob([m]).size,metadata:{contentType:"application/json",operation:u.operation},status:"pending"}}createPaymentDataMessage(l){const c=(l.data.config||{}).transactions||[];let i;if(c.length>0){const u=c[Math.floor(Math.random()*c.length)];i={operation:"process",type:"transaction",data:{id:u.id,amount:u.amount,currency:u.currency,status:u.status}}}else i={operation:"process",type:"transaction",data:{amount:Math.random()*1e3,currency:"USD"}};const d=JSON.stringify(i);return{id:"",timestamp:Date.now(),source:l.id,target:"",connectionId:"",format:"json",payload:i,size:new Blob([d]).size,metadata:{contentType:"application/json",operation:i.operation},status:"pending"}}generateQueryResults(l,r){const c=Math.floor(Math.random()*10)+1,i=[];for(let d=0;d<c;d++)i.push({id:d+1,name:`Record ${d+1}`,value:Math.random()*100,timestamp:new Date().toISOString()});return i}}const Et=new zS;class PS{componentStates=new Map;setComponentState(l,r,c){const i={nodeId:l,state:r,degradedLevel:c?.degradedLevel||.5,failureRate:c?.failureRate||.1,latencyMultiplier:c?.latencyMultiplier||2,throughputMultiplier:c?.throughputMultiplier||.5};this.componentStates.set(l,i)}getComponentState(l){return this.componentStates.get(l)}isEnabled(l){const r=this.componentStates.get(l);return!r||r.state==="enabled"}applyStateEffects(l,r){const c=this.componentStates.get(l);if(!c||c.state==="enabled")return{...r};if(c.state==="disabled"||c.state==="failed")return{throughput:0,latency:1/0,errorRate:1,utilization:0};if(c.state==="degraded"){const i=c.degradedLevel||.5;return{throughput:r.throughput*(c.throughputMultiplier||.5)*(1-i*.5),latency:r.latency*(c.latencyMultiplier||2)*(1+i),errorRate:Math.min(1,r.errorRate+(c.failureRate||.1)*i),utilization:Math.min(1,r.utilization*(1+i*.3))}}return{...r}}reset(){this.componentStates.clear()}resetComponent(l){this.componentStates.delete(l)}getAllStates(){return Array.from(this.componentStates.values())}}const Rr=new PS;class OS{nodes=[];connections=[];metrics=new Map;connectionMetrics=new Map;isRunning=!1;simulationTime=0;baseTime=Date.now();pausedTime=0;updateInterval=100;intervalId=null;latencyHistory=new Map;connectionLatencyHistory=new Map;HISTORY_SIZE=500;constructor(){this.initializeMetrics()}calculatePercentile(l,r){if(l.length===0)return 0;const c=r/100*(l.length-1),i=Math.floor(c),d=Math.ceil(c),u=c-i;return i===d?l[i]:l[i]*(1-u)+l[d]*u}updateLatencyPercentiles(l,r,c){let i=this.latencyHistory.get(l);if(i||(i=[],this.latencyHistory.set(l,i)),i.push(r),i.length>this.HISTORY_SIZE&&i.shift(),i.length>0){const d=[...i].sort((u,m)=>u-m);c.latencyP50=this.calculatePercentile(d,50),c.latencyP99=this.calculatePercentile(d,99)}}updateConnectionLatencyPercentiles(l,r,c){let i=this.connectionLatencyHistory.get(l);if(i||(i=[],this.connectionLatencyHistory.set(l,i)),i.push(r),i.length>this.HISTORY_SIZE&&i.shift(),i.length>0){const d=[...i].sort((u,m)=>u-m);c.latencyP50=this.calculatePercentile(d,50),c.latencyP99=this.calculatePercentile(d,99)}}initialize(l,r){this.nodes=l,this.connections=r,this.initializeMetrics(),Et.initialize(l,r)}updateNodesAndConnections(l,r){this.nodes=l,this.connections=r;for(const d of l)this.metrics.has(d.id)||this.metrics.set(d.id,this.createDefaultMetrics(d.id,d.type));const c=new Set(l.map(d=>d.id));for(const[d]of this.metrics.entries())c.has(d)||this.metrics.delete(d);for(const d of r)this.connectionMetrics.has(d.id)||this.connectionMetrics.set(d.id,this.createDefaultConnectionMetrics(d));const i=new Set(r.map(d=>d.id));for(const[d]of this.connectionMetrics.entries())i.has(d)||this.connectionMetrics.delete(d);Et.updateNodesAndConnections(l,r)}start(){this.isRunning||(this.isRunning=!0,this.baseTime=Date.now()-this.pausedTime,Et.start(),this.intervalId=setInterval(()=>{this.simulate()},this.updateInterval))}stop(){this.isRunning&&(this.isRunning=!1,this.pausedTime=this.simulationTime,this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),Et.stop())}resetSimulation(){this.stop(),this.simulationTime=0,this.pausedTime=0,this.baseTime=Date.now(),this.initializeMetrics()}simulate(){this.simulationTime=Date.now()-this.baseTime;for(const l of this.nodes)this.updateComponentMetrics(l);for(const l of this.connections)this.updateConnectionMetrics(l)}updateComponentMetrics(l){const r=l.data.config||{},c=this.metrics.get(l.id)||this.createDefaultMetrics(l.id,l.type),i=this.connections.some(f=>f.target===l.id),d=this.connections.some(f=>f.source===l.id);if(!(i||d))c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0,c.customMetrics={};else switch(l.type){case"kafka":this.simulateKafka(l,r,c,i);break;case"rabbitmq":this.simulateRabbitMQ(l,r,c,i);break;case"postgres":case"mongodb":case"redis":this.simulateDatabase(l,r,c,i);break;case"nginx":this.simulateNginx(l,r,c,i);break;case"docker":case"kubernetes":this.simulateInfrastructure(l,r,c,i);break;case"rest":case"grpc":case"websocket":this.simulateAPI(l,r,c,i);break}this.applyCascadeEffects(l,c);const m=Rr.applyStateEffects(l.id,{throughput:c.throughput,latency:c.latency,errorRate:c.errorRate,utilization:c.utilization});c.throughput=m.throughput,c.latency=m.latency,c.errorRate=m.errorRate,c.utilization=m.utilization,this.updateLatencyPercentiles(l.id,c.latency,c),c.timestamp=Date.now(),this.metrics.set(l.id,c)}applyCascadeEffects(l,r){const c=this.connections.filter(p=>p.target===l.id);if(c.length===0)return;let i=0,d=0,u=0;const m=r.latency;for(const p of c){const g=this.metrics.get(p.source),y=this.connectionMetrics.get(p.id);if(!g||!y)continue;const M=y.throughputDependency||.5;u+=M;const w=g.errorRate*M*.3;i+=w*M;const E=Math.min(g.latency,500)*M*.2;d+=E*M,(g.errorRate>.5||g.utilization>.95)&&(i+=.1*M,d+=100*M)}u>0&&(i/=u,d/=u),d=Math.min(d,500),r.errorRate=Math.min(1,r.errorRate+i),r.latency=m+d;const h=1e4;r.latency=Math.min(r.latency,h),d>50&&(r.utilization=Math.min(1,r.utilization+.1)),i>.1&&(r.throughput=r.throughput*(1-i*.5))}updateConnectionMetrics(l){const r=this.metrics.get(l.source),c=this.metrics.get(l.target);if(!r||!c)return;const i=this.connectionMetrics.get(l.id)||{id:l.id,source:l.source,target:l.target,traffic:0,latency:0,errorRate:0,utilization:0,timestamp:Date.now(),throughputDependency:0,backpressure:0,bottleneck:!1,effectiveThroughput:0,congestion:0},d=this.nodes.find(f=>f.id===l.source),u=this.nodes.find(f=>f.id===l.target),m=d?.data.config?.avgPayloadSize||1024;i.traffic=r.throughput*m/1024,i.latency=this.calculateConnectionLatency(l,r,c),i.errorRate=r.errorRate*.1,this.calculateInteractionMetrics(l,i,r,c,d,u),this.updateConnectionLatencyPercentiles(l.id,i.latency,i),i.timestamp=Date.now(),this.connectionMetrics.set(l.id,i)}calculateInteractionMetrics(l,r,c,i,d,u){const m=l.data||{},h=(m.bandwidthMbps||1e3)*1024*1024/8;this.getComponentCapacity(d);const p=this.getComponentCapacity(u),g=c.throughput,y=d?.data.config?.avgPayloadSize||1024,M=g*y,w=Math.min(M,h),k=p*y,E=Math.min(w,k);r.effectiveThroughput=E/y;const A=this.connections.filter(q=>q.target===l.target).reduce((q,F)=>{const me=this.metrics.get(F.source);return q+(me?.throughput||0)},0);r.throughputDependency=A>0?g/A:0;const P=i.utilization,I=M/h,T=g/p,z=(m.packetLossPercent||0)/100;r.backpressure=Math.min(1,P*.4+I*.3+T*.2+z*.1);const C=M>h*.8,L=g>p*.8,Q=r.backpressure>.7;r.bottleneck=C||L||Q;const Y=this.getBaseLatency(l.type),W=Math.max(0,r.latency-Y)/Y;r.congestion=Math.min(1,I*.4+W*.3+z*.3),r.utilization=Math.min(1,r.effectiveThroughput/p)}getComponentCapacity(l){if(!l)return 1e3;const r=l.data.config||{};switch(l.type){case"kafka":case"rabbitmq":return r.throughputMsgs||1e3;case"postgres":case"mongodb":case"redis":return r.maxConnections?r.maxConnections*10:1e3;case"nginx":case"rest":case"grpc":case"websocket":return r.requestsPerSecond||1e3;case"docker":case"kubernetes":return(r.workerThreads||1)*500;default:return 1e3}}getBaseLatency(l){return{sync:5,async:2,http:10,grpc:5,websocket:3}[l]||10}simulateKafka(l,r,c,i){if(!i){c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0;return}const d=r.topicCount||5,u=r.partitions||3,m=r.throughputMsgs||1e3,f=r.replicationFactor||1,h=.2*Math.sin(this.simulationTime/1e3);c.throughput=m*(1+h),c.latency=5+u*2+f*3,c.errorRate=Math.max(0,.001*f),c.utilization=Math.min(1,d*u/100),c.customMetrics={topics:d,partitions:u,replication:f,lag:Math.random()*100}}simulateRabbitMQ(l,r,c,i){if(!i){c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0;return}const d=r.throughputMsgs||1e3,u=r.replicationFactor||1,m=(Math.random()-.5)*.1;c.throughput=d*(1+m),c.latency=2+u*5+Math.random()*10,c.errorRate=5e-4;const f=Math.random()*1e4;c.utilization=Math.min(1,f/1e5),c.customMetrics={queue_depth:Math.round(f),connections:Math.floor(Math.random()*50)+10,replication:u}}simulateDatabase(l,r,c,i){if(!i){c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0,c.customMetrics={};return}const d=r.maxConnections||100,u=r.queryLatency||10,m=r.indexCount||5,h=this.connections.filter(g=>g.target===l.id).reduce((g,y)=>{const M=this.metrics.get(y.source);return g+(M?.throughput||0)},0),p=Math.min(d,Math.floor(h/10)||Math.floor(d*.3));c.throughput=p*(1e3/(u+Math.random()*20)),c.latency=u+p/d*50,c.errorRate=.001,c.utilization=p/d,c.customMetrics={active_connections:p,max_connections:d,indexes:m,cache_hit_ratio:Math.random()*.8+.2}}simulateNginx(l,r,c,i){if(!i){c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0;return}const d=r.workerThreads||4,u=r.requestsPerSecond||1e4,m=.5*Math.sin(this.simulationTime/2e3)+.5;c.throughput=u*m,c.latency=1+(1-m)*4,c.errorRate=1e-5,c.utilization=Math.min(1,c.throughput/u*(d/4)),c.customMetrics={worker_threads:d,active_connections:Math.floor(c.throughput*.1),cache_hits:Math.floor(Math.random()*1e4),cache_misses:Math.floor(Math.random()*1e3)}}simulateInfrastructure(l,r,c,i){if(!i){c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0;return}const d=r.workerThreads||1;c.throughput=100*d+Math.random()*50,c.latency=50+Math.random()*100,c.errorRate=1e-4,c.utilization=Math.random()*.8,c.customMetrics={replicas:d,cpu_percent:Math.random()*80,memory_percent:Math.random()*70}}simulateAPI(l,r,c,i){if(!i){c.throughput=0,c.latency=0,c.errorRate=0,c.utilization=0;return}const d=r.requestsPerSecond||100,u=r.responseLatency||50,m=Math.sin(this.simulationTime/1500)*.1+1;c.throughput=d*m,c.latency=u+Math.random()*30,c.errorRate=.005,c.utilization=c.throughput/d*Math.random(),c.customMetrics={rps:d,p50_latency:Math.round(u*.5),p99_latency:Math.round(u*2),errors:Math.round(c.throughput*c.errorRate)}}calculateConnectionLatency(l,r,c){const d={sync:5,async:2,http:10,grpc:5,websocket:3}[l.type]||10,u=r.latency||0,m=c.latency||0,f=l.data||{},h=f.latencyMs||0,p=(f.jitterMs||0)*(Math.random()-.5),g=2+Math.random()*8+h+p;return d+(u+m)/2+g}createDefaultMetrics(l,r){return{id:l,type:r,throughput:0,latency:0,errorRate:0,utilization:0,timestamp:Date.now()}}createDefaultConnectionMetrics(l){return{id:l.id,source:l.source,target:l.target,traffic:0,latency:0,errorRate:0,utilization:0,timestamp:Date.now(),throughputDependency:0,backpressure:0,bottleneck:!1,effectiveThroughput:0,congestion:0}}initializeMetrics(){this.metrics.clear(),this.connectionMetrics.clear(),this.latencyHistory.clear(),this.connectionLatencyHistory.clear();for(const l of this.nodes)this.metrics.set(l.id,this.createDefaultMetrics(l.id,l.type))}getComponentMetrics(l){return this.metrics.get(l)}getConnectionMetrics(l){return this.connectionMetrics.get(l)}getAllComponentMetrics(){return Array.from(this.metrics.values())}getAllConnectionMetrics(){return Array.from(this.connectionMetrics.values())}getIsRunning(){return this.isRunning}getSimulationTime(){return this.simulationTime}}const Wt=new OS,qo="archiphoenix_diagram",nx=1,LS=()=>{try{const a=localStorage.getItem(qo);if(!a)return null;const l=JSON.parse(a);return l.version!==nx?(console.warn("Diagram version mismatch, using defaults"),null):l}catch(a){return console.error("Failed to load diagram from storage:",a),null}},Us=(a,l="My Diagram")=>{try{const r={...a,version:nx,name:l,createdAt:localStorage.getItem(`${qo}_createdAt`)||new Date().toISOString(),updatedAt:new Date().toISOString()};localStorage.setItem(qo,JSON.stringify(r)),localStorage.setItem(`${qo}_createdAt`,r.createdAt)}catch(r){console.error("Failed to save diagram to storage:",r)}},IS=(a,l="diagram.json")=>{try{const r={...a,version:nx,name:l.replace(".json",""),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=JSON.stringify(r,null,2),i=new Blob([c],{type:"application/json"}),d=URL.createObjectURL(i),u=document.createElement("a");u.href=d,u.download=l,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d)}catch(r){console.error("Failed to export diagram:",r)}},BS=a=>new Promise(l=>{try{const r=new FileReader;r.onload=c=>{try{const i=c.target?.result,d=JSON.parse(i);if(!d.nodes||!d.connections||typeof d.zoom!="number"||!d.pan)throw new Error("Invalid diagram format");d.groups||(d.groups=[]),l(d)}catch(i){console.error("Failed to parse diagram file:",i),l(null)}},r.readAsText(a)}catch(r){console.error("Failed to import diagram:",r),l(null)}}),US=50,Xi=Fa((a,l)=>({past:[],future:[],canUndo:!1,canRedo:!1,pushState:r=>{a(c=>{const i=[...c.past,r];return i.length>US&&i.shift(),{past:i,future:[],canUndo:!0,canRedo:!1}})},undo:()=>{const{past:r,future:c}=l();if(r.length===0)return null;const i=r[r.length-1],d=r.slice(0,-1);return a({past:d,future:[i,...c],canUndo:d.length>0,canRedo:!0}),i},redo:()=>{const{past:r,future:c}=l();if(c.length===0)return null;const i=c[0],d=c.slice(1);return a({past:[...r,i],future:d,canUndo:!0,canRedo:d.length>0}),i},clearHistory:()=>{a({past:[],future:[],canUndo:!1,canRedo:!1})}})),Xn=2e3,oh={nodes:[],connections:[],groups:[],zoom:1,pan:{x:0,y:0}},pv=140,jv=200,gv=(a,l)=>({x:Math.floor(a/Xn),y:Math.floor(l/Xn)}),fn=a=>{if(a.length===0)return[{x:0,y:0}];const l=new Set;return a.forEach(r=>{const c=gv(r.position.x,r.position.y),i=gv(r.position.x+pv+jv,r.position.y+pv+jv);for(let d=c.x;d<=i.x;d++)for(let u=c.y;u<=i.y;u++)l.add(`${d},${u}`)}),Array.from(l).map(r=>{const[c,i]=r.split(",").map(Number);return{x:c,y:i}})},pn=a=>{if(a.length===0)return{minX:0,minY:0,maxX:Xn,maxY:Xn};const l=a.map(m=>m.x),r=a.map(m=>m.y),c=Math.min(...l),i=Math.min(...r),d=Math.max(...l),u=Math.max(...r);return{minX:c*Xn,minY:i*Xn,maxX:(d+1)*Xn,maxY:(u+1)*Xn}},Le=Fa((a,l)=>{const r=LS(),c=r?{...oh,...r,groups:r.groups||[]}:oh;let i=!1;const d=()=>{const h=l();return{nodes:h.nodes,connections:h.connections,groups:h.groups||[],zoom:h.zoom,pan:h.pan}},u=()=>{Xi.getState().pushState(d())},m=fn(c.nodes),f=pn(m);return{...c,selectedNodeId:null,selectedConnectionId:null,diagramName:r?.name||"Untitled Diagram",viewportWidth:0,viewportHeight:0,canvasBounds:f,canvasChunks:m,getDiagramState:d,updateCanvasBounds:()=>a(h=>{const p=fn(h.nodes);return{canvasChunks:p,canvasBounds:pn(p)}}),addNode:h=>a(p=>{u();const g=[...p.nodes,h],y=fn(g),M={nodes:g,canvasChunks:y,canvasBounds:pn(y)};return Us({...p,...M},p.diagramName),M}),updateNode:(h,p,g=!1)=>a(y=>{!g&&!i&&u();const M=y.nodes.map(E=>E.id===h?{...E,...p}:E),w=fn(M),k={nodes:M,canvasChunks:w,canvasBounds:pn(w)};return Us({...y,...k},y.diagramName),k}),deleteNode:h=>a(p=>{u();const g=p.nodes.filter(w=>w.id!==h),y=fn(g),M={nodes:g,connections:p.connections.filter(w=>w.source!==h&&w.target!==h),selectedNodeId:p.selectedNodeId===h?null:p.selectedNodeId,canvasChunks:y,canvasBounds:pn(y)};return Us({...p,...M},p.diagramName),M}),selectNode:(h,p=!1)=>a(g=>p&&h&&g.nodes.find(M=>M.id===h)?{selectedNodeId:h,nodes:g.nodes.map(M=>({...M,selected:M.id===h?!M.selected:M.selected||!1}))}:{selectedNodeId:h,nodes:g.nodes.map(y=>({...y,selected:y.id===h}))}),selectNodesByIds:h=>a(p=>({selectedNodeId:h.length>0?h[0]:null,nodes:p.nodes.map(g=>({...g,selected:h.includes(g.id)}))})),addConnection:h=>a(p=>{u();const g={...h,type:h.type||"async"},y={connections:[...p.connections,g]};return Us({...p,...y},p.diagramName),y}),updateConnection:(h,p)=>a(g=>{u();const y={connections:g.connections.map(M=>M.id===h?{...M,...p}:M)};return Us({...g,...y},g.diagramName),y}),deleteConnection:h=>a(p=>{u();const g={connections:p.connections.filter(y=>y.id!==h),selectedConnectionId:p.selectedConnectionId===h?null:p.selectedConnectionId};return Us({...p,...g},p.diagramName),g}),selectConnection:h=>a(p=>({selectedConnectionId:h,selectedNodeId:null,selectedGroupId:null,connections:p.connections.map(g=>({...g,selected:g.id===h}))})),addGroup:h=>a(p=>{u();const g={groups:[...p.groups,h]};return Us({...p,...g},p.diagramName),g}),updateGroup:(h,p)=>a(g=>{u();const y={groups:g.groups.map(M=>M.id===h?{...M,...p}:M)};return Us({...g,...y},g.diagramName),y}),deleteGroup:h=>a(p=>{u();const g={groups:p.groups.filter(y=>y.id!==h)};return Us({...p,...g},p.diagramName),g}),addNodeToGroup:(h,p)=>a(g=>{u();const y={groups:g.groups.map(M=>M.id===h&&!M.nodeIds.includes(p)?{...M,nodeIds:[...M.nodeIds,p]}:M)};return Us({...g,...y},g.diagramName),y}),removeNodeFromGroup:(h,p)=>a(g=>{u();const y={groups:g.groups.map(M=>M.id===h?{...M,nodeIds:M.nodeIds.filter(w=>w!==p)}:M)};return Us({...g,...y},g.diagramName),y}),selectGroup:h=>a(p=>({selectedGroupId:h,selectedNodeId:null,selectedConnectionId:null})),createGroupFromSelection:h=>a(p=>{u();const g=p.nodes.filter(w=>w.selected||w.id===p.selectedNodeId).map(w=>w.id);if(g.length===0)return p;const y={id:`group-${Date.now()}`,name:h,nodeIds:g,color:`hsl(${Math.random()*360}, 70%, 50%)`},M={groups:[...p.groups,y],nodes:p.nodes.map(w=>({...w,selected:!1})),selectedNodeId:null};return Us({...p,...M},p.diagramName),M}),autoGroupByConnections:()=>a(h=>{u();const p=new Set;h.groups.forEach(A=>{A.nodeIds.forEach(P=>p.add(P))});const g=new Map,y=A=>(g.has(A)||g.set(A,A),g.get(A)!==A&&g.set(A,y(g.get(A))),g.get(A)),M=(A,P)=>{const I=y(A),T=y(P);I!==T&&g.set(I,T)};h.connections.forEach(A=>{!p.has(A.source)&&!p.has(A.target)&&M(A.source,A.target)});const w=new Map;h.nodes.forEach(A=>{if(!p.has(A.id)){const P=y(A.id);w.has(P)||w.set(P,[]),w.get(P).push(A.id)}});const k=[];let E=h.groups.length+1;w.forEach((A,P)=>{A.length>=2&&k.push({id:`group-${Date.now()}-${k.length}`,name:`Group ${E++}`,nodeIds:A,color:`hsl(${Math.random()*360}, 70%, 50%)`})});const N={groups:[...h.groups,...k]};return Us({...h,...N},h.diagramName),N}),setZoom:h=>a(p=>(Us({...p,zoom:h},p.diagramName),{zoom:h})),setPan:h=>a(p=>(Us({...p,pan:h},p.diagramName),{pan:h})),setViewportSize:h=>a(()=>({viewportWidth:h.width,viewportHeight:h.height})),setDiagramName:h=>a(p=>(Us(p,h),{diagramName:h})),loadDiagramState:(h,p=!1)=>a(()=>{p||u();const g=fn(h.nodes||[]),y={...h,canvasChunks:g,canvasBounds:pn(g)};return Us(y,l().diagramName),y}),saveDiagram:()=>{const h=l();Us(h,h.diagramName)},resetCanvas:()=>{u();const h=fn([]);a({...oh,canvasChunks:h,canvasBounds:pn(h)})},undo:()=>{const h=Xi.getState().undo();h&&a(()=>{const p=fn(h.nodes||[]),g={...h,canvasChunks:p,canvasBounds:pn(p)};return Us(g,l().diagramName),g})},redo:()=>{const h=Xi.getState().redo();h&&a(()=>{const p=fn(h.nodes||[]),g={...h,canvasChunks:p,canvasBounds:pn(p)};return Us(g,l().diagramName),g})},startDragOperation:h=>{const p=l();i=!0,p.nodes.find(g=>g.id===h),u()},endDragOperation:()=>{i=!1},bringToFront:h=>a(p=>{u();const g=p.nodes.findIndex(k=>k.id===h);if(g===-1)return p;const y=[...p.nodes],[M]=y.splice(g,1);y.push(M);const w={nodes:y};return Us({...p,...w},p.diagramName),w}),sendToBack:h=>a(p=>{u();const g=p.nodes.findIndex(k=>k.id===h);if(g===-1)return p;const y=[...p.nodes],[M]=y.splice(g,1);y.unshift(M);const w={nodes:y};return Us({...p,...w},p.diagramName),w}),bringForward:h=>a(p=>{u();const g=p.nodes.findIndex(w=>w.id===h);if(g===-1||g===p.nodes.length-1)return p;const y=[...p.nodes];[y[g],y[g+1]]=[y[g+1],y[g]];const M={nodes:y};return Us({...p,...M},p.diagramName),M}),sendBackward:h=>a(p=>{u();const g=p.nodes.findIndex(w=>w.id===h);if(g===-1||g===0)return p;const y=[...p.nodes];[y[g],y[g-1]]=[y[g-1],y[g]];const M={nodes:y};return Us({...p,...M},p.diagramName),M})}}),Zn=Fa((a,l)=>({isRunning:!1,messages:new Map,messageHistory:[],initialize:(r,c)=>{Et.initialize(r,c),l().updateMessages(r,c)},start:()=>{Et.start(),a({isRunning:!0});const r=setInterval(()=>{const{nodes:c,connections:i}=Le.getState();l().updateMessages(c,i)},200);Et._pollInterval=r},stop:()=>{Et.stop();const r=Et._pollInterval;r&&clearInterval(r),a({isRunning:!1})},updateMessages:(r,c)=>{Et.updateNodesAndConnections(r,c);const i=new Map;for(const u of c)i.set(u.id,Et.getConnectionMessages(u.id));const d=Et.getMessageHistory(100);a({messages:i,messageHistory:d})},getConnectionMessages:r=>Et.getConnectionMessages(r),getComponentMessages:r=>Et.getComponentMessages(r),getMessageHistory:r=>Et.getMessageHistory(r)}));class HS{alerts=new Map;alertCallbacks=[];onAlert(l){this.alertCallbacks.push(l)}analyze(l,r,c,i){const d=[];for(const u of l){const m=r.get(u.id),f=i.find(h=>h.nodeId===u.id);if(!(!m||!f)){if(f.health==="down"){const h=`down-${u.id}`;if(!this.alerts.has(h)){const p={id:h,type:"critical",title:"Component Down",message:`${u.data.label} is down and not responding`,nodeId:u.id,nodeLabel:u.data.label,timestamp:Date.now(),acknowledged:!1,severity:1};this.addAlert(p),d.push(p)}}if(m.errorRate>.1){const h=`error-${u.id}`,p=this.alerts.get(h);if(!p||p.acknowledged){const g={id:h,type:"critical",title:"High Error Rate",message:`${u.data.label} has ${(m.errorRate*100).toFixed(1)}% error rate`,nodeId:u.id,nodeLabel:u.data.label,timestamp:Date.now(),acknowledged:!1,severity:.9};this.addAlert(g),d.push(g)}}if(m.latency>2e3){const h=`latency-${u.id}`,p=this.alerts.get(h);if(!p||p.acknowledged){const g={id:h,type:"warning",title:"High Latency",message:`${u.data.label} has latency of ${m.latency.toFixed(0)}ms`,nodeId:u.id,nodeLabel:u.data.label,timestamp:Date.now(),acknowledged:!1,severity:.7};this.addAlert(g),d.push(g)}}if(m.utilization>.9){const h=`utilization-${u.id}`,p=this.alerts.get(h);if(!p||p.acknowledged){const g={id:h,type:"warning",title:"High Utilization",message:`${u.data.label} is at ${(m.utilization*100).toFixed(0)}% capacity`,nodeId:u.id,nodeLabel:u.data.label,timestamp:Date.now(),acknowledged:!1,severity:.6};this.addAlert(g),d.push(g)}}}}for(const[u,m]of c.entries())if(m.bottleneck){const f=`bottleneck-${u}`,h=this.alerts.get(f);if(!h||h.acknowledged){const p={id:f,type:"critical",title:"Connection Bottleneck",message:"Bottleneck detected in connection",timestamp:Date.now(),acknowledged:!1,severity:.85};this.addAlert(p),d.push(p)}}return this.cleanupResolvedAlerts(l,r,c,i),d}addAlert(l){this.alerts.set(l.id,l),this.alertCallbacks.forEach(r=>r(l))}cleanupResolvedAlerts(l,r,c,i){new Set(l.map(d=>d.id)),new Set(c.keys());for(const[d,u]of this.alerts.entries()){if(u.acknowledged)continue;let m=!1;if(u.nodeId)if(!l.find(h=>h.id===u.nodeId))m=!0;else{const h=r.get(u.nodeId),p=i.find(g=>g.nodeId===u.nodeId);(d.startsWith("down-")&&p&&p.health!=="down"||d.startsWith("error-")&&h&&h.errorRate<=.1||d.startsWith("latency-")&&h&&h.latency<=2e3||d.startsWith("utilization-")&&h&&h.utilization<=.9)&&(m=!0)}else if(d.startsWith("bottleneck-")){const f=d.replace("bottleneck-",""),h=c.get(f);(!h||!h.bottleneck)&&(m=!0)}m&&this.alerts.delete(d)}}acknowledge(l){const r=this.alerts.get(l);r&&(r.acknowledged=!0,this.alerts.set(l,r))}getAlerts(){return Array.from(this.alerts.values()).filter(l=>!l.acknowledged).sort((l,r)=>r.severity-l.severity)}getAlertsByType(l){return this.getAlerts().filter(r=>r.type===l)}clear(){this.alerts.clear()}}const yr=new HS;class VS{nodes=[];connections=[];componentMetrics=new Map;connectionMetrics=new Map;dependencyGraph=new Map;componentStatuses=new Map;update(l,r,c,i){this.nodes=l,this.connections=r,this.componentMetrics=c,this.connectionMetrics=i,this.buildDependencyGraph(),this.analyzeComponentHealth(),this.identifyCriticalPaths(),this.calculateImpactScores()}buildDependencyGraph(){this.dependencyGraph.clear();for(const l of this.nodes){const r=[],c=this.connections.filter(i=>i.target===l.id);for(const i of c){const d=this.connectionMetrics.get(i.id),u=this.componentMetrics.get(i.source);if(!d||!u)continue;const m=Math.max(d.throughputDependency,d.utilization,d.backpressure);let f="direct";d.bottleneck?f="critical":m>.7&&(f="indirect"),r.push({sourceId:i.source,targetId:l.id,connectionId:i.id,type:f,strength:m,impact:this.calculateDependencyImpact(i,u)})}this.dependencyGraph.set(l.id,r)}}calculateDependencyImpact(l,r){const c=this.connectionMetrics.get(l.id);if(!c)return 0;const i=r.errorRate,d=Math.min(1,c.latency/1e3),u=c.backpressure,m=r.utilization>.8?.5:0;return Math.min(1,i*.4+d*.2+u*.3+m*.1)}analyzeComponentHealth(){this.componentStatuses.clear();for(const l of this.nodes){const r=this.componentMetrics.get(l.id),c=this.dependencyGraph.get(l.id)||[];if(!r){this.componentStatuses.set(l.id,{nodeId:l.id,health:"down",dependencies:c,dependents:[],criticalPath:!1,impactScore:0,failureRisk:1});continue}let i="healthy",d=0;r.errorRate>.1?(i="critical",d+=.4):r.errorRate>.05&&(i="degraded",d+=.2),r.utilization>.9?(i==="healthy"&&(i="degraded"),d+=.3):r.utilization>.8&&(d+=.15),r.latency>1e3?(i==="healthy"&&(i="degraded"),d+=.2):r.latency>500&&(d+=.1);for(const m of c){const f=this.componentStatuses.get(m.sourceId);f&&(f.health==="critical"||f.health==="down"?(i==="healthy"&&(i="degraded"),d+=m.impact*.3):f.health==="degraded"&&(d+=m.impact*.15))}d=Math.min(1,d);const u=[];for(const m of this.connections)if(m.source===l.id){const f=this.connectionMetrics.get(m.id);f&&u.push({sourceId:l.id,targetId:m.target,connectionId:m.id,type:f.bottleneck?"critical":"direct",strength:f.throughputDependency,impact:this.calculateDependencyImpact(m,r)})}this.componentStatuses.set(l.id,{nodeId:l.id,health:i,dependencies:c,dependents:u,criticalPath:!1,impactScore:0,failureRisk:d})}}identifyCriticalPaths(){const l=this.nodes.filter(c=>!this.connections.some(i=>i.target===c.id)),r=this.nodes.filter(c=>!this.connections.some(i=>i.source===c.id));for(const c of l)for(const i of r){const d=this.findPath(c.id,i.id);d&&d.length>1&&d.some(m=>{const f=this.componentStatuses.get(m),h=this.connections.find(p=>d.includes(p.source)&&d.includes(p.target)&&d.indexOf(p.source)<d.indexOf(p.target));if(h){const p=this.connectionMetrics.get(h.id);return p?.bottleneck||(p?.backpressure||0)>.7}return f?.health==="critical"||f?.health==="down"})&&d.forEach(m=>{const f=this.componentStatuses.get(m);f&&(f.criticalPath=!0)})}}findPath(l,r){if(l===r)return[l];const c=[{nodeId:l,path:[l]}],i=new Set([l]);for(;c.length>0;){const{nodeId:d,path:u}=c.shift(),m=this.connections.filter(f=>f.source===d);for(const f of m){if(f.target===r)return[...u,r];i.has(f.target)||(i.add(f.target),c.push({nodeId:f.target,path:[...u,f.target]}))}}return null}calculateImpactScores(){for(const[l,r]of this.componentStatuses.entries()){let c=0;c+=Math.min(1,r.dependents.length/5)*.3,r.health==="critical"||r.health==="down"?c+=.4:r.health==="degraded"&&(c+=.2),r.criticalPath&&(c+=.2),c+=r.failureRisk*.1,r.impactScore=Math.min(1,c),this.componentStatuses.set(l,r)}}analyzeSystem(){const l=[],r=[],c=[],i=[];for(const[f,h]of this.componentStatuses.entries())if(h.criticalPath){const p=this.findPathToSink(f);p&&!l.some(g=>JSON.stringify(g)===JSON.stringify(p))&&l.push(p)}for(const[f,h]of this.connectionMetrics.entries())if(h.bottleneck){const p=this.connections.find(g=>g.id===f);p&&(r.includes(p.source)||r.push(p.source),r.includes(p.target)||r.push(p.target))}for(const[f,h]of this.componentStatuses.entries())(h.failureRisk>.6||h.health==="critical"||h.health==="down")&&c.push(f);this.generateRecommendations(i);const d=Array.from(this.componentStatuses.values()).map(f=>{switch(f.health){case"down":return 0;case"critical":return .25;case"degraded":return .5;case"healthy":return 1}}),u=d.length>0?d.reduce((f,h)=>f+h,0)/d.length:1;let m="healthy";return u<.25?m="down":u<.5?m="critical":u<.75&&(m="degraded"),{criticalPaths:l,bottlenecks:r,riskComponents:c,recommendations:i,overallHealth:m}}findPathToSink(l){const r=this.nodes.filter(c=>!this.connections.some(i=>i.source===c.id));for(const c of r){const i=this.findPath(l,c.id);if(i)return i}return null}generateRecommendations(l){for(const[c,i]of this.componentStatuses.entries()){const d=this.nodes.find(m=>m.id===c),u=this.componentMetrics.get(c);!d||!u||(u.utilization>.85&&l.push({type:"scaling",priority:u.utilization>.95?"critical":"high",componentId:c,message:`${d.data.label} is highly utilized (${(u.utilization*100).toFixed(0)}%)`,impact:"May cause performance degradation and increased latency",suggestion:`Consider scaling ${d.data.label} horizontally or vertically`}),u.errorRate>.05&&l.push({type:"monitoring",priority:u.errorRate>.1?"critical":"high",componentId:c,message:`${d.data.label} has high error rate (${(u.errorRate*100).toFixed(1)}%)`,impact:"Affects system reliability and user experience",suggestion:`Investigate error logs and implement error handling for ${d.data.label}`}),u.latency>500&&l.push({type:"optimization",priority:u.latency>1e3?"high":"medium",componentId:c,message:`${d.data.label} has high latency (${u.latency.toFixed(0)}ms)`,impact:"Affects end-to-end response time",suggestion:`Optimize ${d.data.label} performance or add caching`}),i.criticalPath&&i.failureRisk>.5&&l.push({type:"redundancy",priority:"high",componentId:c,message:`${d.data.label} is on a critical path and at risk`,impact:"Failure would significantly impact system",suggestion:`Add redundancy or failover for ${d.data.label}`}))}for(const[c,i]of this.connectionMetrics.entries()){const d=this.connections.find(f=>f.id===c);if(!d)continue;const u=this.nodes.find(f=>f.id===d.source),m=this.nodes.find(f=>f.id===d.target);i.bottleneck&&l.push({type:"optimization",priority:"critical",connectionId:c,message:`Connection between ${u?.data.label||"source"} and ${m?.data.label||"target"} is a bottleneck`,impact:"Limiting overall system throughput",suggestion:"Increase bandwidth or optimize data transfer between these components"}),i.backpressure>.7&&l.push({type:"optimization",priority:"high",connectionId:c,message:`High backpressure (${(i.backpressure*100).toFixed(0)}%) on connection`,impact:"Target component cannot process data fast enough",suggestion:"Scale target component or implement buffering/queuing"})}const r={critical:0,high:1,medium:2,low:3};l.sort((c,i)=>r[c.priority]-r[i.priority])}getComponentStatus(l){return this.componentStatuses.get(l)}getAllComponentStatuses(){return Array.from(this.componentStatuses.values())}getDependencies(l){return this.dependencyGraph.get(l)||[]}}const dh=new VS,Al=Fa((a,l)=>({componentStatuses:new Map,systemAnalysis:null,updateAnalysis:()=>{const{nodes:r,connections:c}=Le.getState(),{componentMetrics:i,connectionMetrics:d}=st.getState();dh.update(r,c,i,d);const u=dh.analyzeSystem(),m=new Map(dh.getAllComponentStatuses().map(f=>[f.nodeId,f]));a({componentStatuses:m,systemAnalysis:u})},getComponentStatus:r=>l().componentStatuses.get(r),getAllComponentStatuses:()=>Array.from(l().componentStatuses.values()),getSystemAnalysis:()=>l().systemAnalysis})),lx=Fa((a,l)=>(yr.onAlert(r=>{l().updateAlerts()}),{alerts:[],updateAlerts:()=>{const{nodes:r,connections:c}=Le.getState(),{componentMetrics:i,connectionMetrics:d}=st.getState(),u=Al.getState().getAllComponentStatuses();yr.analyze(r,i,d,u);const m=yr.getAlerts();a({alerts:m})},acknowledgeAlert:r=>{yr.acknowledge(r);const c=yr.getAlerts();a({alerts:c})},clearAlerts:()=>{yr.clear(),a({alerts:[]})},getCriticalAlerts:()=>l().alerts.filter(r=>r.type==="critical"),getWarningAlerts:()=>l().alerts.filter(r=>r.type==="warning")})),st=Fa((a,l)=>({isRunning:!1,simulationTime:0,updateInterval:100,componentMetrics:new Map,connectionMetrics:new Map,initialize:(r,c)=>{Wt.initialize(r,c),a({componentMetrics:new Map(Wt.getAllComponentMetrics().map(i=>[i.id,i])),connectionMetrics:new Map(Wt.getAllConnectionMetrics().map(i=>[i.id,i]))}),Zn.getState().initialize(r,c)},start:()=>{Wt.start(),a({isRunning:!0}),Zn.getState().start();const r=setInterval(()=>{l().updateMetrics()},l().updateInterval);Wt._pollInterval=r},stop:()=>{Wt.stop();const r=Wt._pollInterval;r&&clearInterval(r),Zn.getState().stop(),a({isRunning:!1})},reset:()=>{Wt.resetSimulation();const r=Wt._pollInterval;r&&clearInterval(r),Zn.getState().stop(),a({isRunning:!1,simulationTime:0,componentMetrics:new Map,connectionMetrics:new Map})},setUpdateInterval:r=>{a({updateInterval:r})},updateMetrics:()=>{const{nodes:r,connections:c}=Le.getState();Wt.updateNodesAndConnections(r,c),a(i=>({simulationTime:Wt.getSimulationTime(),componentMetrics:new Map(Wt.getAllComponentMetrics().map(d=>[d.id,d])),connectionMetrics:new Map(Wt.getAllConnectionMetrics().map(d=>[d.id,d]))})),Zn.getState().updateMessages(r,c),Al.getState().updateAnalysis(),lx.getState().updateAlerts()},getComponentMetrics:r=>l().componentMetrics.get(r),getConnectionMetrics:r=>l().connectionMetrics.get(r)}));const $S=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qS=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,c)=>c?c.toUpperCase():r.toLowerCase()),vv=a=>{const l=qS(a);return l.charAt(0).toUpperCase()+l.slice(1)},_0=(...a)=>a.filter((l,r,c)=>!!l&&l.trim()!==""&&c.indexOf(l)===r).join(" ").trim(),FS=a=>{for(const l in a)if(l.startsWith("aria-")||l==="role"||l==="title")return!0};var GS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QS=j.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:c,className:i="",children:d,iconNode:u,...m},f)=>j.createElement("svg",{ref:f,...GS,width:l,height:l,stroke:a,strokeWidth:c?Number(r)*24/Number(l):r,className:_0("lucide",i),...!d&&!FS(m)&&{"aria-hidden":"true"},...m},[...u.map(([h,p])=>j.createElement(h,p)),...Array.isArray(d)?d:[d]]));const ze=(a,l)=>{const r=j.forwardRef(({className:c,...i},d)=>j.createElement(QS,{ref:d,iconNode:l,className:_0(`lucide-${$S(vv(a))}`,`lucide-${a}`,c),...i}));return r.displayName=vv(a),r};const KS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ke=ze("activity",KS);const YS=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Nv=ze("archive",YS);const XS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],WS=ze("arrow-down",XS);const ZS=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Er=ze("arrow-right-left",ZS);const JS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ek=ze("arrow-right",JS);const sk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tk=ze("arrow-up",sk);const ak=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fo=ze("ban",ak);const nk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lk=ze("bell",nk);const rk=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],uh=ze("bot",rk);const ik=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],mh=ze("brain",ik);const ck=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],z0=ze("building",ck);const ok=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qi=ze("chart-column",ok);const dk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],uk=ze("chart-line",dk);const mk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rx=ze("check",mk);const hk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fd=ze("chevron-down",hk);const xk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ix=ze("chevron-right",xk);const fk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P0=ze("chevron-up",fk);const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Or=ze("circle-alert",pk);const jk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],os=ze("circle-check-big",jk);const gk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ha=ze("circle-check",gk);const vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nk=ze("circle-question-mark",vk);const bk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],us=ze("circle-x",bk);const yk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wk=ze("circle",yk);const Ck=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tt=ze("clock",Ck);const Sk=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],kk=ze("cloud-upload",Sk);const Rk=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Nn=ze("cloud",Rk);const Ak=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Lr=ze("code",Ak);const Ek=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],bv=ze("container",Ek);const Mk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cc=ze("copy",Mk);const Tk=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],hh=ze("cpu",Tk);const Dk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_k=ze("credit-card",Dk);const zk=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],gs=ze("database",zk);const Pk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ed=ze("dollar-sign",Pk);const Ok=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Lk=ze("download",Ok);const Ik=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bk=ze("eye-off",Ik);const Uk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wi=ze("eye",Uk);const Hk=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],yv=ze("file-code",Hk);const Vk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ds=ze("file-text",Vk);const $k=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],xh=ze("flame",$k);const qk=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],wv=ze("flask-conical",qk);const Fk=[["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Gk=ze("folder-minus",Fk);const Qk=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Dh=ze("folder-plus",Qk);const Kk=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Cv=ze("folder-tree",Kk);const Yk=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],O0=ze("folder",Yk);const Xk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L0=ze("funnel",Xk);const Wk=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Zk=ze("gauge",Wk);const Jk=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Mr=ze("git-branch",Jk);const e5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],et=ze("globe",e5);const s5=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],t5=ze("grip-vertical",s5);const a5=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],n5=ze("hard-drive",a5);const l5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],r5=ze("hash",l5);const i5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c5=ze("info",i5);const o5=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ct=ze("key",o5);const d5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Mt=ze("layers",d5);const u5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],m5=ze("link",u5);const h5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],x5=ze("list",h5);const f5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],p5=ze("loader-circle",f5);const j5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],I0=ze("lock",j5);const g5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v5=ze("mail",g5);const N5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fh=ze("map-pin",N5);const b5=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],y5=ze("map",b5);const w5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],C5=ze("maximize-2",w5);const S5=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ht=ze("message-square",S5);const k5=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],ms=ze("network",k5);const R5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Jt=ze("package",R5);const A5=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Jn=ze("pause",A5);const E5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],M5=ze("phone",E5);const T5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_s=ze("play",T5);const D5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Se=ze("plus",D5);const _5=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Go=ze("power-off",_5);const z5=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],ph=ze("power",z5);const P5=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],O5=ze("rabbit",P5);const L5=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],I5=ze("redo-2",L5);const B5=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],is=ze("refresh-ccw",B5);const U5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B0=ze("refresh-cw",U5);const H5=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Sv=ze("rocket",H5);const V5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],U0=ze("rotate-ccw",V5);const $5=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],el=ze("route",$5);const q5=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],F5=ze("ruler",q5);const G5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q5=ze("save",G5);const K5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ra=ze("search",K5);const Y5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Rl=ze("send",Y5);const X5=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Qs=ze("server",X5);const W5=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],jh=ze("settings-2",W5);const Z5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qe=ze("settings",Z5);const J5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rs=ze("shield",J5);const e3=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],kv=ze("snowflake",e3);const s3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],t3=ze("sparkles",s3);const a3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tr=ze("square-pen",a3);const n3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],l3=ze("star",n3);const r3=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Ar=ze("table",r3);const i3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],c3=ze("tag",i3);const o3=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Rv=ze("terminal",o3);const d3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ee=ze("trash-2",d3);const u3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],H0=ze("trending-down",u3);const m3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ea=ze("trending-up",m3);const h3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ct=ze("triangle-alert",h3);const x3=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],f3=ze("undo-2",x3);const p3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j3=ze("upload",p3);const g3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ks=ze("users",g3);const v3=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],Dr=ze("webhook",v3);const N3=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],gh=ze("workflow",N3);const b3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ba=ze("x",b3);const y3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],St=ze("zap",y3);const w3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],C3=ze("zoom-in",w3);const S3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],k3=ze("zoom-out",S3);function R3(){const{isRunning:a,simulationTime:l,initialize:r,start:c,stop:i,reset:d}=st(),{nodes:u,connections:m}=Le(),f=()=>{l===0&&r(u,m),c()},h=()=>{i()},p=()=>{d()},g=y=>{const M=Math.floor(y/1e3),w=Math.floor(M/60),k=M%60;return`${w}:${k.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground w-12",children:g(l)}),e.jsx(V,{size:"sm",variant:a?"default":"outline",onClick:f,disabled:a,title:"Start emulation",children:e.jsx(_s,{className:"w-4 h-4"})}),e.jsx(V,{size:"sm",variant:a?"default":"outline",onClick:h,disabled:!a,title:"Stop emulation",children:e.jsx(Jn,{className:"w-4 h-4"})}),e.jsx(V,{size:"sm",variant:"outline",onClick:p,title:"Reset simulation",children:e.jsx(U0,{className:"w-4 h-4"})})]})}const J=j.forwardRef(({className:a,type:l,...r},c)=>e.jsx("input",{type:l,className:We("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:c,...r}));J.displayName="Input";function A3(a){const l=E3(a),r=j.forwardRef((c,i)=>{const{children:d,...u}=c,m=j.Children.toArray(d),f=m.find(T3);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}function E3(a){const l=j.forwardRef((r,c)=>{const{children:i,...d}=r;if(j.isValidElement(i)){const u=_3(i),m=D3(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var M3=Symbol("radix.slottable");function T3(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===M3}function D3(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function _3(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}var z3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=z3.reduce((a,l)=>{const r=A3(`Primitive.${l}`),c=j.forwardRef((i,d)=>{const{asChild:u,...m}=i,f=u?r:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...m,ref:d})});return c.displayName=`Primitive.${l}`,{...a,[l]:c}},{});function V0(a,l){a&&ic.flushSync(()=>a.dispatchEvent(l))}var Nt=globalThis?.document?j.useLayoutEffect:()=>{};function P3(a,l){return j.useReducer((r,c)=>l[r][c]??r,a)}var kt=a=>{const{present:l,children:r}=a,c=O3(l),i=typeof r=="function"?r({present:c.isPresent}):j.Children.only(r),d=ts(c.ref,L3(i));return typeof r=="function"||c.isPresent?j.cloneElement(i,{ref:d}):null};kt.displayName="Presence";function O3(a){const[l,r]=j.useState(),c=j.useRef(null),i=j.useRef(a),d=j.useRef("none"),u=a?"mounted":"unmounted",[m,f]=P3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Oo(c.current);d.current=m==="mounted"?h:"none"},[m]),Nt(()=>{const h=c.current,p=i.current;if(p!==a){const y=d.current,M=Oo(h);a?f("MOUNT"):M==="none"||h?.display==="none"?f("UNMOUNT"):f(p&&y!==M?"ANIMATION_OUT":"UNMOUNT"),i.current=a}},[a,f]),Nt(()=>{if(l){let h;const p=l.ownerDocument.defaultView??window,g=M=>{const k=Oo(c.current).includes(CSS.escape(M.animationName));if(M.target===l&&k&&(f("ANIMATION_END"),!i.current)){const E=l.style.animationFillMode;l.style.animationFillMode="forwards",h=p.setTimeout(()=>{l.style.animationFillMode==="forwards"&&(l.style.animationFillMode=E)})}},y=M=>{M.target===l&&(d.current=Oo(c.current))};return l.addEventListener("animationstart",y),l.addEventListener("animationcancel",g),l.addEventListener("animationend",g),()=>{p.clearTimeout(h),l.removeEventListener("animationstart",y),l.removeEventListener("animationcancel",g),l.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[l,f]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:j.useCallback(h=>{c.current=h?getComputedStyle(h):null,r(h)},[])}}function Oo(a){return a?.animationName||"none"}function L3(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}function I3(a,l){const r=j.createContext(l),c=d=>{const{children:u,...m}=d,f=j.useMemo(()=>m,Object.values(m));return e.jsx(r.Provider,{value:f,children:u})};c.displayName=a+"Provider";function i(d){const u=j.useContext(r);if(u)return u;if(l!==void 0)return l;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[c,i]}function Vt(a,l=[]){let r=[];function c(d,u){const m=j.createContext(u),f=r.length;r=[...r,u];const h=g=>{const{scope:y,children:M,...w}=g,k=y?.[a]?.[f]||m,E=j.useMemo(()=>w,Object.values(w));return e.jsx(k.Provider,{value:E,children:M})};h.displayName=d+"Provider";function p(g,y){const M=y?.[a]?.[f]||m,w=j.useContext(M);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${d}\``)}return[h,p]}const i=()=>{const d=r.map(u=>j.createContext(u));return function(m){const f=m?.[a]||d;return j.useMemo(()=>({[`__scope${a}`]:{...m,[a]:f}}),[m,f])}};return i.scopeName=a,[c,B3(i,...l)]}function B3(...a){const l=a[0];if(a.length===1)return l;const r=()=>{const c=a.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(d){const u=c.reduce((m,{useScope:f,scopeName:h})=>{const g=f(d)[`__scope${h}`];return{...m,...g}},{});return j.useMemo(()=>({[`__scope${l.scopeName}`]:u}),[u])}};return r.scopeName=l.scopeName,r}function vt(a){const l=j.useRef(a);return j.useEffect(()=>{l.current=a}),j.useMemo(()=>(...r)=>l.current?.(...r),[])}var U3=j.createContext(void 0);function Kr(a){const l=j.useContext(U3);return a||l||"ltr"}function Zi(a,[l,r]){return Math.min(r,Math.max(l,a))}function Ie(a,l,{checkForDefaultPrevented:r=!0}={}){return function(i){if(a?.(i),r===!1||!i.defaultPrevented)return l?.(i)}}function H3(a,l){return j.useReducer((r,c)=>l[r][c]??r,a)}var cx="ScrollArea",[$0]=Vt(cx),[V3,fa]=$0(cx),q0=j.forwardRef((a,l)=>{const{__scopeScrollArea:r,type:c="hover",dir:i,scrollHideDelay:d=600,...u}=a,[m,f]=j.useState(null),[h,p]=j.useState(null),[g,y]=j.useState(null),[M,w]=j.useState(null),[k,E]=j.useState(null),[N,A]=j.useState(0),[P,I]=j.useState(0),[T,z]=j.useState(!1),[C,L]=j.useState(!1),Q=ts(l,W=>f(W)),Y=Kr(i);return e.jsx(V3,{scope:r,type:c,dir:Y,scrollHideDelay:d,scrollArea:m,viewport:h,onViewportChange:p,content:g,onContentChange:y,scrollbarX:M,onScrollbarXChange:w,scrollbarXEnabled:T,onScrollbarXEnabledChange:z,scrollbarY:k,onScrollbarYChange:E,scrollbarYEnabled:C,onScrollbarYEnabledChange:L,onCornerWidthChange:A,onCornerHeightChange:I,children:e.jsx(Je.div,{dir:Y,...u,ref:Q,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":P+"px",...a.style}})})});q0.displayName=cx;var F0="ScrollAreaViewport",G0=j.forwardRef((a,l)=>{const{__scopeScrollArea:r,children:c,nonce:i,...d}=a,u=fa(F0,r),m=j.useRef(null),f=ts(l,m,u.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...d,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...a.style},children:e.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});G0.displayName=F0;var Ga="ScrollAreaScrollbar",ox=j.forwardRef((a,l)=>{const{forceMount:r,...c}=a,i=fa(Ga,a.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:u}=i,m=a.orientation==="horizontal";return j.useEffect(()=>(m?d(!0):u(!0),()=>{m?d(!1):u(!1)}),[m,d,u]),i.type==="hover"?e.jsx($3,{...c,ref:l,forceMount:r}):i.type==="scroll"?e.jsx(q3,{...c,ref:l,forceMount:r}):i.type==="auto"?e.jsx(Q0,{...c,ref:l,forceMount:r}):i.type==="always"?e.jsx(dx,{...c,ref:l}):null});ox.displayName=Ga;var $3=j.forwardRef((a,l)=>{const{forceMount:r,...c}=a,i=fa(Ga,a.__scopeScrollArea),[d,u]=j.useState(!1);return j.useEffect(()=>{const m=i.scrollArea;let f=0;if(m){const h=()=>{window.clearTimeout(f),u(!0)},p=()=>{f=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return m.addEventListener("pointerenter",h),m.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),m.removeEventListener("pointerenter",h),m.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(kt,{present:r||d,children:e.jsx(Q0,{"data-state":d?"visible":"hidden",...c,ref:l})})}),q3=j.forwardRef((a,l)=>{const{forceMount:r,...c}=a,i=fa(Ga,a.__scopeScrollArea),d=a.orientation==="horizontal",u=jd(()=>f("SCROLL_END"),100),[m,f]=H3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(m==="idle"){const h=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[m,i.scrollHideDelay,f]),j.useEffect(()=>{const h=i.viewport,p=d?"scrollLeft":"scrollTop";if(h){let g=h[p];const y=()=>{const M=h[p];g!==M&&(f("SCROLL"),u()),g=M};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[i.viewport,d,f,u]),e.jsx(kt,{present:r||m!=="hidden",children:e.jsx(dx,{"data-state":m==="hidden"?"hidden":"visible",...c,ref:l,onPointerEnter:Ie(a.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ie(a.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),Q0=j.forwardRef((a,l)=>{const r=fa(Ga,a.__scopeScrollArea),{forceMount:c,...i}=a,[d,u]=j.useState(!1),m=a.orientation==="horizontal",f=jd(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;u(m?h:p)}},10);return Ir(r.viewport,f),Ir(r.content,f),e.jsx(kt,{present:c||d,children:e.jsx(dx,{"data-state":d?"visible":"hidden",...i,ref:l})})}),dx=j.forwardRef((a,l)=>{const{orientation:r="vertical",...c}=a,i=fa(Ga,a.__scopeScrollArea),d=j.useRef(null),u=j.useRef(0),[m,f]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Z0(m.viewport,m.content),p={...c,sizes:m,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:y=>d.current=y,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:y=>u.current=y};function g(y,M){return X3(y,u.current,m,M)}return r==="horizontal"?e.jsx(F3,{...p,ref:l,onThumbPositionChange:()=>{if(i.viewport&&d.current){const y=i.viewport.scrollLeft,M=Av(y,m,i.dir);d.current.style.transform=`translate3d(${M}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=g(y,i.dir))}}):r==="vertical"?e.jsx(G3,{...p,ref:l,onThumbPositionChange:()=>{if(i.viewport&&d.current){const y=i.viewport.scrollTop,M=Av(y,m);d.current.style.transform=`translate3d(0, ${M}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=g(y))}}):null}),F3=j.forwardRef((a,l)=>{const{sizes:r,onSizesChange:c,...i}=a,d=fa(Ga,a.__scopeScrollArea),[u,m]=j.useState(),f=j.useRef(null),h=ts(l,f,d.onScrollbarXChange);return j.useEffect(()=>{f.current&&m(getComputedStyle(f.current))},[f]),e.jsx(Y0,{"data-orientation":"horizontal",...i,ref:h,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pd(r)+"px",...a.style},onThumbPointerDown:p=>a.onThumbPointerDown(p.x),onDragScroll:p=>a.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(d.viewport){const y=d.viewport.scrollLeft+p.deltaX;a.onWheelScroll(y),eN(y,g)&&p.preventDefault()}},onResize:()=>{f.current&&d.viewport&&u&&c({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:td(u.paddingLeft),paddingEnd:td(u.paddingRight)}})}})}),G3=j.forwardRef((a,l)=>{const{sizes:r,onSizesChange:c,...i}=a,d=fa(Ga,a.__scopeScrollArea),[u,m]=j.useState(),f=j.useRef(null),h=ts(l,f,d.onScrollbarYChange);return j.useEffect(()=>{f.current&&m(getComputedStyle(f.current))},[f]),e.jsx(Y0,{"data-orientation":"vertical",...i,ref:h,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pd(r)+"px",...a.style},onThumbPointerDown:p=>a.onThumbPointerDown(p.y),onDragScroll:p=>a.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(d.viewport){const y=d.viewport.scrollTop+p.deltaY;a.onWheelScroll(y),eN(y,g)&&p.preventDefault()}},onResize:()=>{f.current&&d.viewport&&u&&c({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:td(u.paddingTop),paddingEnd:td(u.paddingBottom)}})}})}),[Q3,K0]=$0(Ga),Y0=j.forwardRef((a,l)=>{const{__scopeScrollArea:r,sizes:c,hasThumb:i,onThumbChange:d,onThumbPointerUp:u,onThumbPointerDown:m,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:p,onResize:g,...y}=a,M=fa(Ga,r),[w,k]=j.useState(null),E=ts(l,Q=>k(Q)),N=j.useRef(null),A=j.useRef(""),P=M.viewport,I=c.content-c.viewport,T=vt(p),z=vt(f),C=jd(g,10);function L(Q){if(N.current){const Y=Q.clientX-N.current.left,W=Q.clientY-N.current.top;h({x:Y,y:W})}}return j.useEffect(()=>{const Q=Y=>{const W=Y.target;w?.contains(W)&&T(Y,I)};return document.addEventListener("wheel",Q,{passive:!1}),()=>document.removeEventListener("wheel",Q,{passive:!1})},[P,w,I,T]),j.useEffect(z,[c,z]),Ir(w,C),Ir(M.content,C),e.jsx(Q3,{scope:r,scrollbar:w,hasThumb:i,onThumbChange:vt(d),onThumbPointerUp:vt(u),onThumbPositionChange:z,onThumbPointerDown:vt(m),children:e.jsx(Je.div,{...y,ref:E,style:{position:"absolute",...y.style},onPointerDown:Ie(a.onPointerDown,Q=>{Q.button===0&&(Q.target.setPointerCapture(Q.pointerId),N.current=w.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",M.viewport&&(M.viewport.style.scrollBehavior="auto"),L(Q))}),onPointerMove:Ie(a.onPointerMove,L),onPointerUp:Ie(a.onPointerUp,Q=>{const Y=Q.target;Y.hasPointerCapture(Q.pointerId)&&Y.releasePointerCapture(Q.pointerId),document.body.style.webkitUserSelect=A.current,M.viewport&&(M.viewport.style.scrollBehavior=""),N.current=null})})})}),sd="ScrollAreaThumb",X0=j.forwardRef((a,l)=>{const{forceMount:r,...c}=a,i=K0(sd,a.__scopeScrollArea);return e.jsx(kt,{present:r||i.hasThumb,children:e.jsx(K3,{ref:l,...c})})}),K3=j.forwardRef((a,l)=>{const{__scopeScrollArea:r,style:c,...i}=a,d=fa(sd,r),u=K0(sd,r),{onThumbPositionChange:m}=u,f=ts(l,g=>u.onThumbChange(g)),h=j.useRef(void 0),p=jd(()=>{h.current&&(h.current(),h.current=void 0)},100);return j.useEffect(()=>{const g=d.viewport;if(g){const y=()=>{if(p(),!h.current){const M=W3(g,m);h.current=M,m()}};return m(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[d.viewport,p,m]),e.jsx(Je.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:Ie(a.onPointerDownCapture,g=>{const M=g.target.getBoundingClientRect(),w=g.clientX-M.left,k=g.clientY-M.top;u.onThumbPointerDown({x:w,y:k})}),onPointerUp:Ie(a.onPointerUp,u.onThumbPointerUp)})});X0.displayName=sd;var ux="ScrollAreaCorner",W0=j.forwardRef((a,l)=>{const r=fa(ux,a.__scopeScrollArea),c=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&c?e.jsx(Y3,{...a,ref:l}):null});W0.displayName=ux;var Y3=j.forwardRef((a,l)=>{const{__scopeScrollArea:r,...c}=a,i=fa(ux,r),[d,u]=j.useState(0),[m,f]=j.useState(0),h=!!(d&&m);return Ir(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),f(p)}),Ir(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),u(p)}),h?e.jsx(Je.div,{...c,ref:l,style:{width:d,height:m,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...a.style}}):null});function td(a){return a?parseInt(a,10):0}function Z0(a,l){const r=a/l;return isNaN(r)?0:r}function pd(a){const l=Z0(a.viewport,a.content),r=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,c=(a.scrollbar.size-r)*l;return Math.max(c,18)}function X3(a,l,r,c="ltr"){const i=pd(r),d=i/2,u=l||d,m=i-u,f=r.scrollbar.paddingStart+u,h=r.scrollbar.size-r.scrollbar.paddingEnd-m,p=r.content-r.viewport,g=c==="ltr"?[0,p]:[p*-1,0];return J0([f,h],g)(a)}function Av(a,l,r="ltr"){const c=pd(l),i=l.scrollbar.paddingStart+l.scrollbar.paddingEnd,d=l.scrollbar.size-i,u=l.content-l.viewport,m=d-c,f=r==="ltr"?[0,u]:[u*-1,0],h=Zi(a,f);return J0([0,u],[0,m])(h)}function J0(a,l){return r=>{if(a[0]===a[1]||l[0]===l[1])return l[0];const c=(l[1]-l[0])/(a[1]-a[0]);return l[0]+c*(r-a[0])}}function eN(a,l){return a>0&&a<l}var W3=(a,l=()=>{})=>{let r={left:a.scrollLeft,top:a.scrollTop},c=0;return(function i(){const d={left:a.scrollLeft,top:a.scrollTop},u=r.left!==d.left,m=r.top!==d.top;(u||m)&&l(),r=d,c=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(c)};function jd(a,l){const r=vt(a),c=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(c.current),[]),j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(r,l)},[r,l])}function Ir(a,l){const r=vt(l);Nt(()=>{let c=0;if(a){const i=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(r)});return i.observe(a),()=>{window.cancelAnimationFrame(c),i.unobserve(a)}}},[a,r])}var sN=q0,Z3=G0,J3=W0;const wt=j.forwardRef(({className:a,children:l,...r},c)=>e.jsxs(sN,{ref:c,className:We("relative overflow-hidden",a),scrollHideDelay:0,...r,children:[e.jsx(Z3,{className:"h-full w-full rounded-[inherit]",children:l}),e.jsx(gd,{}),e.jsx(J3,{})]}));wt.displayName=sN.displayName;const gd=j.forwardRef(({className:a,orientation:l="vertical",...r},c)=>e.jsx(ox,{ref:c,orientation:l,className:We("flex touch-none select-none",l==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",l==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]","data-[state=visible]:bg-accent/20 data-[state=visible]:hover:bg-accent/30","[&[data-state=hidden]]:opacity-0 [&[data-state=visible]]:opacity-100",a),style:{transition:"none !important",transitionDelay:"0ms !important",transitionDuration:"0ms !important"},...r,children:e.jsx(X0,{className:"relative flex-1 rounded-full bg-accent/80 hover:bg-accent",style:{transition:"none !important"}})}));gd.displayName=ox.displayName;const oc=Fa(a=>({showMinimap:!0,setShowMinimap:l=>a({showMinimap:l}),toggleMinimap:()=>a(l=>({showMinimap:!l.showMinimap})),showHeatMapLegend:!0,setShowHeatMapLegend:l=>a({showHeatMapLegend:l}),toggleHeatMapLegend:()=>a(l=>({showHeatMapLegend:!l.showHeatMapLegend})),showRuler:!1,setShowRuler:l=>a({showRuler:l}),toggleRuler:()=>a(l=>({showRuler:!l.showRuler})),autoCenterOnSelect:!0,setAutoCenterOnSelect:l=>a({autoCenterOnSelect:l}),searchQuery:"",setSearchQuery:l=>a({searchQuery:l}),highlightedNodeId:null,setHighlightedNodeId:l=>a({highlightedNodeId:l})})),Ji=[{id:"kafka",type:"kafka",label:"Apache Kafka",icon:"",color:"#000000",category:"messaging"},{id:"rabbitmq",type:"rabbitmq",label:"RabbitMQ",icon:"",color:"#FF6600",category:"messaging"},{id:"activemq",type:"activemq",label:"ActiveMQ",icon:"",color:"#A1005A",category:"messaging"},{id:"aws-sqs",type:"aws-sqs",label:"AWS SQS",icon:"",color:"#FF9900",category:"messaging"},{id:"azure-service-bus",type:"azure-service-bus",label:"Azure Service Bus",icon:"",color:"#0078D7",category:"messaging"},{id:"gcp-pubsub",type:"gcp-pubsub",label:"Google Pub/Sub",icon:"",color:"#4285F4",category:"messaging"},{id:"kong",type:"kong",label:"Kong Gateway",icon:"",color:"#003459",category:"integration"},{id:"apigee",type:"apigee",label:"Apigee",icon:"",color:"#F26522",category:"integration"},{id:"mulesoft",type:"mulesoft",label:"MuleSoft",icon:"",color:"#00A0DF",category:"integration"},{id:"graphql-gateway",type:"graphql-gateway",label:"GraphQL Gateway",icon:"",color:"#E10098",category:"integration"},{id:"bff-service",type:"bff-service",label:"BFF Service",icon:"",color:"#6C5CE7",category:"integration"},{id:"webhook-relay",type:"webhook-relay",label:"Webhook Relay",icon:"",color:"#1ABC9C",category:"integration"},{id:"postgres",type:"postgres",label:"PostgreSQL",icon:"",color:"#336791",category:"data"},{id:"mongodb",type:"mongodb",label:"MongoDB",icon:"",color:"#47A248",category:"data"},{id:"redis",type:"redis",label:"Redis",icon:"",color:"#DC382D",category:"data"},{id:"cassandra",type:"cassandra",label:"Apache Cassandra",icon:"",color:"#1287B1",category:"data"},{id:"clickhouse",type:"clickhouse",label:"ClickHouse",icon:"",color:"#FFCC00",category:"data"},{id:"snowflake",type:"snowflake",label:"Snowflake",icon:"",color:"#29B5E8",category:"data"},{id:"elasticsearch",type:"elasticsearch",label:"Elasticsearch",icon:"",color:"#00A79D",category:"data"},{id:"s3-datalake",type:"s3-datalake",label:"S3 Data Lake",icon:"",color:"#FF9900",category:"data"},{id:"prometheus",type:"prometheus",label:"Prometheus",icon:"",color:"#E6522C",category:"observability"},{id:"grafana",type:"grafana",label:"Grafana",icon:"",color:"#F56815",category:"observability"},{id:"loki",type:"loki",label:"Loki",icon:"",color:"#7CBA3C",category:"observability"},{id:"jaeger",type:"jaeger",label:"Jaeger",icon:"",color:"#65D6AD",category:"observability"},{id:"otel-collector",type:"otel-collector",label:"OpenTelemetry Collector",icon:"",color:"#6E56CF",category:"observability"},{id:"pagerduty",type:"pagerduty",label:"PagerDuty",icon:"",color:"#06AC38",category:"observability"},{id:"keycloak",type:"keycloak",label:"Keycloak",icon:"",color:"#5C6BC0",category:"security"},{id:"waf",type:"waf",label:"WAF / API Shield",icon:"",color:"#F44336",category:"security"},{id:"firewall",type:"firewall",label:"Firewall",icon:"",color:"#FF7043",category:"security"},{id:"secrets-vault",type:"secrets-vault",label:"Secrets Vault",icon:"",color:"#009688",category:"security"},{id:"ids-ips",type:"ids-ips",label:"IDS / IPS",icon:"",color:"#512DA8",category:"security"},{id:"jenkins",type:"jenkins",label:"Jenkins",icon:"",color:"#D24939",category:"devops"},{id:"gitlab-ci",type:"gitlab-ci",label:"GitLab CI",icon:"",color:"#FC6D26",category:"devops"},{id:"argo-cd",type:"argo-cd",label:"Argo CD",icon:"",color:"#EF7B45",category:"devops"},{id:"terraform",type:"terraform",label:"Terraform",icon:"",color:"#7B42BC",category:"devops"},{id:"ansible",type:"ansible",label:"Ansible",icon:"",color:"#000000",category:"devops"},{id:"harbor",type:"harbor",label:"Harbor Registry",icon:"",color:"#3BC1C4",category:"devops"},{id:"nginx",type:"nginx",label:"NGINX",icon:"",color:"#009639",category:"infrastructure"},{id:"docker",type:"docker",label:"Docker",icon:"",color:"#2496ED",category:"infrastructure"},{id:"kubernetes",type:"kubernetes",label:"Kubernetes",icon:"",color:"#326CE5",category:"infrastructure"},{id:"haproxy",type:"haproxy",label:"HAProxy",icon:"",color:"#009FDF",category:"infrastructure"},{id:"envoy",type:"envoy",label:"Envoy Proxy",icon:"",color:"#D63384",category:"infrastructure"},{id:"traefik",type:"traefik",label:"Traefik",icon:"",color:"#24A1DE",category:"infrastructure"},{id:"istio",type:"istio",label:"Istio Mesh",icon:"",color:"#466BB0",category:"edge"},{id:"service-mesh",type:"service-mesh",label:"Service Mesh",icon:"",color:"#5E81AC",category:"edge"},{id:"api-gateway",type:"api-gateway",label:"Cloud API Gateway",icon:"",color:"#FFB300",category:"edge"},{id:"vpn",type:"vpn",label:"VPN Concentrator",icon:"",color:"#2D9CDB",category:"edge"},{id:"cdn",type:"cdn",label:"CDN Edge",icon:"",color:"#FF5A5F",category:"edge"},{id:"rest",type:"rest",label:"REST API",icon:"",color:"#61DAFB",category:"api"},{id:"grpc",type:"grpc",label:"gRPC",icon:"",color:"#244C5A",category:"api"},{id:"graphql",type:"graphql",label:"GraphQL",icon:"",color:"#DE33A6",category:"api"},{id:"soap",type:"soap",label:"SOAP",icon:"",color:"#2196F3",category:"api"},{id:"websocket",type:"websocket",label:"WebSocket",icon:"",color:"#010101",category:"api"},{id:"webhook",type:"webhook",label:"Webhook Endpoint",icon:"",color:"#0FA3B1",category:"api"},{id:"spark",type:"spark",label:"Apache Spark",icon:"",color:"#E25A1C",category:"ml"},{id:"tensorflow-serving",type:"tensorflow-serving",label:"TensorFlow Serving",icon:"",color:"#FF6F00",category:"ml"},{id:"pytorch-serve",type:"pytorch-serve",label:"PyTorch Serve",icon:"",color:"#EE4C2C",category:"ml"},{id:"mlflow",type:"mlflow",label:"MLflow",icon:"",color:"#4285F4",category:"ml"},{id:"feature-store",type:"feature-store",label:"Feature Store",icon:"",color:"#8E44AD",category:"ml"},{id:"crm",type:"crm",label:"CRM System",icon:"",color:"#F39C12",category:"business"},{id:"erp",type:"erp",label:"ERP / SAP",icon:"",color:"#1B75BC",category:"business"},{id:"payment-gateway",type:"payment-gateway",label:"Payment Gateway",icon:"",color:"#4CAF50",category:"business"},{id:"bpmn-engine",type:"bpmn-engine",label:"BPMN Engine",icon:"",color:"#34495E",category:"business"},{id:"rpa-bot",type:"rpa-bot",label:"RPA Bot",icon:"",color:"#9B59B6",category:"business"}],Lo=[{id:"messaging",label:"Messaging & Event Bus",icon:""},{id:"integration",label:"Integration & API",icon:""},{id:"data",label:"Data & Storage",icon:""},{id:"observability",label:"Observability",icon:""},{id:"security",label:"Security & IAM",icon:""},{id:"devops",label:"DevOps & Platform",icon:""},{id:"infrastructure",label:"Runtime & Infra",icon:""},{id:"edge",label:"Edge & Networking",icon:""},{id:"api",label:"Protocols & APIs",icon:""},{id:"ml",label:"ML & Analytics",icon:""},{id:"business",label:"Business Systems",icon:""}];function eR(){const{nodes:a,selectNode:l,zoom:r,pan:c,setPan:i,setZoom:d}=Le(),{searchQuery:u,setSearchQuery:m,highlightedNodeId:f,setHighlightedNodeId:h}=oc(),[p,g]=j.useState(!1),y=j.useRef(null);j.useEffect(()=>{const k=E=>{y.current&&!y.current.contains(E.target)&&g(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const M=j.useMemo(()=>{if(!u.trim())return[];const k=u.toLowerCase();return a.filter(E=>{const N=Ji.find(T=>T.type===E.type),A=E.data?.label||"",P=E.type||"",I=N?.category||"";return A.toLowerCase().includes(k)||P.toLowerCase().includes(k)||I.toLowerCase().includes(k)})},[a,u]),w=k=>{l(k),h(k);const E=a.find(N=>N.id===k);if(E&&p){const N=window.innerWidth/2,A=window.innerHeight/2,P=E.position.x+70,I=E.position.y+70,T=N-P*r,z=A-I*r;i({x:T,y:z}),r<.8&&d(1)}setTimeout(()=>h(null),2e3)};return e.jsxs("div",{className:"relative",ref:y,children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ra,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(J,{type:"text",placeholder:"Search components...",value:u,onChange:k=>{m(k.target.value),g(!0)},onFocus:()=>g(!0),className:"pl-8 pr-8 w-64"}),u&&e.jsx(V,{variant:"ghost",size:"icon",className:"absolute right-0 top-1/2 transform -translate-y-1/2 h-6 w-6",onClick:()=>{m(""),g(!1),h(null)},children:e.jsx(Ba,{className:"h-3 w-3"})})]}),p&&u&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-card border border-border rounded-md shadow-lg z-50 max-h-80 overflow-hidden",children:M.length>0?e.jsx(wt,{className:"max-h-80",children:e.jsx("div",{className:"p-1",children:M.map(k=>{const E=Ji.find(A=>A.type===k.type),N=f===k.id;return e.jsxs("button",{onClick:()=>w(k.id),className:We("w-full text-left px-3 py-2 rounded-sm hover:bg-accent transition-colors flex items-center justify-between",N&&"bg-accent"),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:k.data?.label||k.type}),e.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:[E?.category||"Unknown","  ",k.type]})]}),e.jsx(ix,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 ml-2"})]},k.id)})})}):e.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No components found"})})]})}function sR(a){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",l.appendChild(r),r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a))}Array(12).fill(0);let _h=1;class tR{constructor(){this.subscribe=l=>(this.subscribers.push(l),()=>{const r=this.subscribers.indexOf(l);this.subscribers.splice(r,1)}),this.publish=l=>{this.subscribers.forEach(r=>r(l))},this.addToast=l=>{this.publish(l),this.toasts=[...this.toasts,l]},this.create=l=>{var r;const{message:c,...i}=l,d=typeof l?.id=="number"||((r=l.id)==null?void 0:r.length)>0?l.id:_h++,u=this.toasts.find(f=>f.id===d),m=l.dismissible===void 0?!0:l.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),u?this.toasts=this.toasts.map(f=>f.id===d?(this.publish({...f,...l,id:d,title:c}),{...f,...l,id:d,dismissible:m,title:c}):f):this.addToast({title:c,...i,dismissible:m,id:d}),d},this.dismiss=l=>(l?(this.dismissedToasts.add(l),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:l,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(c=>c({id:r.id,dismiss:!0}))}),l),this.message=(l,r)=>this.create({...r,message:l}),this.error=(l,r)=>this.create({...r,message:l,type:"error"}),this.success=(l,r)=>this.create({...r,type:"success",message:l}),this.info=(l,r)=>this.create({...r,type:"info",message:l}),this.warning=(l,r)=>this.create({...r,type:"warning",message:l}),this.loading=(l,r)=>this.create({...r,type:"loading",message:l}),this.promise=(l,r)=>{if(!r)return;let c;r.loading!==void 0&&(c=this.create({...r,promise:l,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(l instanceof Function?l():l);let d=c!==void 0,u;const m=i.then(async h=>{if(u=["resolve",h],Gs.isValidElement(h))d=!1,this.create({id:c,type:"default",message:h});else if(nR(h)&&!h.ok){d=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,w=typeof g=="object"&&!Gs.isValidElement(g)?g:{message:g};this.create({id:c,type:"error",description:y,...w})}else if(h instanceof Error){d=!1;const g=typeof r.error=="function"?await r.error(h):r.error,y=typeof r.description=="function"?await r.description(h):r.description,w=typeof g=="object"&&!Gs.isValidElement(g)?g:{message:g};this.create({id:c,type:"error",description:y,...w})}else if(r.success!==void 0){d=!1;const g=typeof r.success=="function"?await r.success(h):r.success,y=typeof r.description=="function"?await r.description(h):r.description,w=typeof g=="object"&&!Gs.isValidElement(g)?g:{message:g};this.create({id:c,type:"success",description:y,...w})}}).catch(async h=>{if(u=["reject",h],r.error!==void 0){d=!1;const p=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,M=typeof p=="object"&&!Gs.isValidElement(p)?p:{message:p};this.create({id:c,type:"error",description:g,...M})}}).finally(()=>{d&&(this.dismiss(c),c=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((h,p)=>m.then(()=>u[0]==="reject"?p(u[1]):h(u[1])).catch(p));return typeof c!="string"&&typeof c!="number"?{unwrap:f}:Object.assign(c,{unwrap:f})},this.custom=(l,r)=>{const c=r?.id||_h++;return this.create({jsx:l(c),id:c,...r}),c},this.getActiveToasts=()=>this.toasts.filter(l=>!this.dismissedToasts.has(l.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ha=new tR,aR=(a,l)=>{const r=l?.id||_h++;return ha.addToast({title:a,...l,id:r}),r},nR=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",lR=aR,rR=()=>ha.toasts,iR=()=>ha.getActiveToasts(),Ts=Object.assign(lR,{success:ha.success,info:ha.info,warning:ha.warning,error:ha.error,custom:ha.custom,message:ha.message,promise:ha.promise,dismiss:ha.dismiss,loading:ha.loading},{getHistory:rR,getToasts:iR});sR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var cR=Jh[" useId ".trim().toString()]||(()=>{}),oR=0;function Ca(a){const[l,r]=j.useState(cR());return Nt(()=>{r(c=>c??String(oR++))},[a]),l?`radix-${l}`:""}var dR=Jh[" useInsertionEffect ".trim().toString()]||Nt;function Va({prop:a,defaultProp:l,onChange:r=()=>{},caller:c}){const[i,d,u]=uR({defaultProp:l,onChange:r}),m=a!==void 0,f=m?a:i;{const p=j.useRef(a!==void 0);j.useEffect(()=>{const g=p.current;g!==m&&console.warn(`${c} is changing from ${g?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=m},[m,c])}const h=j.useCallback(p=>{if(m){const g=mR(p)?p(a):p;g!==a&&u.current?.(g)}else d(p)},[m,a,d,u]);return[f,h]}function uR({defaultProp:a,onChange:l}){const[r,c]=j.useState(a),i=j.useRef(r),d=j.useRef(l);return dR(()=>{d.current=l},[l]),j.useEffect(()=>{i.current!==r&&(d.current?.(r),i.current=r)},[r,i]),[r,c,d]}function mR(a){return typeof a=="function"}function hR(a,l=globalThis?.document){const r=vt(a);j.useEffect(()=>{const c=i=>{i.key==="Escape"&&r(i)};return l.addEventListener("keydown",c,{capture:!0}),()=>l.removeEventListener("keydown",c,{capture:!0})},[r,l])}var xR="DismissableLayer",zh="dismissableLayer.update",fR="dismissableLayer.pointerDownOutside",pR="dismissableLayer.focusOutside",Ev,tN=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dc=j.forwardRef((a,l)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:c,onPointerDownOutside:i,onFocusOutside:d,onInteractOutside:u,onDismiss:m,...f}=a,h=j.useContext(tN),[p,g]=j.useState(null),y=p?.ownerDocument??globalThis?.document,[,M]=j.useState({}),w=ts(l,C=>g(C)),k=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=k.indexOf(E),A=p?k.indexOf(p):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,I=A>=N,T=vR(C=>{const L=C.target,Q=[...h.branches].some(Y=>Y.contains(L));!I||Q||(i?.(C),u?.(C),C.defaultPrevented||m?.())},y),z=NR(C=>{const L=C.target;[...h.branches].some(Y=>Y.contains(L))||(d?.(C),u?.(C),C.defaultPrevented||m?.())},y);return hR(C=>{A===h.layers.size-1&&(c?.(C),!C.defaultPrevented&&m&&(C.preventDefault(),m()))},y),j.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ev=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Mv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Ev)}},[p,y,r,h]),j.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Mv())},[p,h]),j.useEffect(()=>{const C=()=>M({});return document.addEventListener(zh,C),()=>document.removeEventListener(zh,C)},[]),e.jsx(Je.div,{...f,ref:w,style:{pointerEvents:P?I?"auto":"none":void 0,...a.style},onFocusCapture:Ie(a.onFocusCapture,z.onFocusCapture),onBlurCapture:Ie(a.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Ie(a.onPointerDownCapture,T.onPointerDownCapture)})});dc.displayName=xR;var jR="DismissableLayerBranch",gR=j.forwardRef((a,l)=>{const r=j.useContext(tN),c=j.useRef(null),i=ts(l,c);return j.useEffect(()=>{const d=c.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),e.jsx(Je.div,{...a,ref:i})});gR.displayName=jR;function vR(a,l=globalThis?.document){const r=vt(a),c=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const d=m=>{if(m.target&&!c.current){let f=function(){aN(fR,r,h,{discrete:!0})};const h={originalEvent:m};m.pointerType==="touch"?(l.removeEventListener("click",i.current),i.current=f,l.addEventListener("click",i.current,{once:!0})):f()}else l.removeEventListener("click",i.current);c.current=!1},u=window.setTimeout(()=>{l.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(u),l.removeEventListener("pointerdown",d),l.removeEventListener("click",i.current)}},[l,r]),{onPointerDownCapture:()=>c.current=!0}}function NR(a,l=globalThis?.document){const r=vt(a),c=j.useRef(!1);return j.useEffect(()=>{const i=d=>{d.target&&!c.current&&aN(pR,r,{originalEvent:d},{discrete:!1})};return l.addEventListener("focusin",i),()=>l.removeEventListener("focusin",i)},[l,r]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function Mv(){const a=new CustomEvent(zh);document.dispatchEvent(a)}function aN(a,l,r,{discrete:c}){const i=r.originalEvent.target,d=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:r});l&&i.addEventListener(a,l,{once:!0}),c?V0(i,d):i.dispatchEvent(d)}var vh="focusScope.autoFocusOnMount",Nh="focusScope.autoFocusOnUnmount",Tv={bubbles:!1,cancelable:!0},bR="FocusScope",uc=j.forwardRef((a,l)=>{const{loop:r=!1,trapped:c=!1,onMountAutoFocus:i,onUnmountAutoFocus:d,...u}=a,[m,f]=j.useState(null),h=vt(i),p=vt(d),g=j.useRef(null),y=ts(l,k=>f(k)),M=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(c){let k=function(P){if(M.paused||!m)return;const I=P.target;m.contains(I)?g.current=I:Yn(g.current,{select:!0})},E=function(P){if(M.paused||!m)return;const I=P.relatedTarget;I!==null&&(m.contains(I)||Yn(g.current,{select:!0}))},N=function(P){if(document.activeElement===document.body)for(const T of P)T.removedNodes.length>0&&Yn(m)};document.addEventListener("focusin",k),document.addEventListener("focusout",E);const A=new MutationObserver(N);return m&&A.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",E),A.disconnect()}}},[c,m,M.paused]),j.useEffect(()=>{if(m){_v.add(M);const k=document.activeElement;if(!m.contains(k)){const N=new CustomEvent(vh,Tv);m.addEventListener(vh,h),m.dispatchEvent(N),N.defaultPrevented||(yR(RR(nN(m)),{select:!0}),document.activeElement===k&&Yn(m))}return()=>{m.removeEventListener(vh,h),setTimeout(()=>{const N=new CustomEvent(Nh,Tv);m.addEventListener(Nh,p),m.dispatchEvent(N),N.defaultPrevented||Yn(k??document.body,{select:!0}),m.removeEventListener(Nh,p),_v.remove(M)},0)}}},[m,h,p,M]);const w=j.useCallback(k=>{if(!r&&!c||M.paused)return;const E=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,N=document.activeElement;if(E&&N){const A=k.currentTarget,[P,I]=wR(A);P&&I?!k.shiftKey&&N===I?(k.preventDefault(),r&&Yn(P,{select:!0})):k.shiftKey&&N===P&&(k.preventDefault(),r&&Yn(I,{select:!0})):N===A&&k.preventDefault()}},[r,c,M.paused]);return e.jsx(Je.div,{tabIndex:-1,...u,ref:y,onKeyDown:w})});uc.displayName=bR;function yR(a,{select:l=!1}={}){const r=document.activeElement;for(const c of a)if(Yn(c,{select:l}),document.activeElement!==r)return}function wR(a){const l=nN(a),r=Dv(l,a),c=Dv(l.reverse(),a);return[r,c]}function nN(a){const l=[],r=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const i=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||i?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)l.push(r.currentNode);return l}function Dv(a,l){for(const r of a)if(!CR(r,{upTo:l}))return r}function CR(a,{upTo:l}){if(getComputedStyle(a).visibility==="hidden")return!0;for(;a;){if(l!==void 0&&a===l)return!1;if(getComputedStyle(a).display==="none")return!0;a=a.parentElement}return!1}function SR(a){return a instanceof HTMLInputElement&&"select"in a}function Yn(a,{select:l=!1}={}){if(a&&a.focus){const r=document.activeElement;a.focus({preventScroll:!0}),a!==r&&SR(a)&&l&&a.select()}}var _v=kR();function kR(){let a=[];return{add(l){const r=a[0];l!==r&&r?.pause(),a=zv(a,l),a.unshift(l)},remove(l){a=zv(a,l),a[0]?.resume()}}}function zv(a,l){const r=[...a],c=r.indexOf(l);return c!==-1&&r.splice(c,1),r}function RR(a){return a.filter(l=>l.tagName!=="A")}var AR="Portal",mc=j.forwardRef((a,l)=>{const{container:r,...c}=a,[i,d]=j.useState(!1);Nt(()=>d(!0),[]);const u=r||i&&globalThis?.document?.body;return u?SS.createPortal(e.jsx(Je.div,{...c,ref:l}),u):null});mc.displayName=AR;var bh=0;function vd(){j.useEffect(()=>{const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??Pv()),document.body.insertAdjacentElement("beforeend",a[1]??Pv()),bh++,()=>{bh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(l=>l.remove()),bh--}},[])}function Pv(){const a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var Oa=function(){return Oa=Object.assign||function(l){for(var r,c=1,i=arguments.length;c<i;c++){r=arguments[c];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(l[d]=r[d])}return l},Oa.apply(this,arguments)};function lN(a,l){var r={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.indexOf(c)<0&&(r[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,c=Object.getOwnPropertySymbols(a);i<c.length;i++)l.indexOf(c[i])<0&&Object.prototype.propertyIsEnumerable.call(a,c[i])&&(r[c[i]]=a[c[i]]);return r}function ER(a,l,r){if(r||arguments.length===2)for(var c=0,i=l.length,d;c<i;c++)(d||!(c in l))&&(d||(d=Array.prototype.slice.call(l,0,c)),d[c]=l[c]);return a.concat(d||Array.prototype.slice.call(l))}var Qo="right-scroll-bar-position",Ko="width-before-scroll-bar",MR="with-scroll-bars-hidden",TR="--removed-body-scroll-bar-size";function yh(a,l){return typeof a=="function"?a(l):a&&(a.current=l),a}function DR(a,l){var r=j.useState(function(){return{value:a,callback:l,facade:{get current(){return r.value},set current(c){var i=r.value;i!==c&&(r.value=c,r.callback(c,i))}}}})[0];return r.callback=l,r.facade}var _R=typeof window<"u"?j.useLayoutEffect:j.useEffect,Ov=new WeakMap;function zR(a,l){var r=DR(null,function(c){return a.forEach(function(i){return yh(i,c)})});return _R(function(){var c=Ov.get(r);if(c){var i=new Set(c),d=new Set(a),u=r.current;i.forEach(function(m){d.has(m)||yh(m,null)}),d.forEach(function(m){i.has(m)||yh(m,u)})}Ov.set(r,a)},[a]),r}function PR(a){return a}function OR(a,l){l===void 0&&(l=PR);var r=[],c=!1,i={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:a},useMedium:function(d){var u=l(d,c);return r.push(u),function(){r=r.filter(function(m){return m!==u})}},assignSyncMedium:function(d){for(c=!0;r.length;){var u=r;r=[],u.forEach(d)}r={push:function(m){return d(m)},filter:function(){return r}}},assignMedium:function(d){c=!0;var u=[];if(r.length){var m=r;r=[],m.forEach(d),u=r}var f=function(){var p=u;u=[],p.forEach(d)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(p){u.push(p),h()},filter:function(p){return u=u.filter(p),r}}}};return i}function LR(a){a===void 0&&(a={});var l=OR(null);return l.options=Oa({async:!0,ssr:!1},a),l}var rN=function(a){var l=a.sideCar,r=lN(a,["sideCar"]);if(!l)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=l.read();if(!c)throw new Error("Sidecar medium not found");return j.createElement(c,Oa({},r))};rN.isSideCarExport=!0;function IR(a,l){return a.useMedium(l),rN}var iN=LR(),wh=function(){},Nd=j.forwardRef(function(a,l){var r=j.useRef(null),c=j.useState({onScrollCapture:wh,onWheelCapture:wh,onTouchMoveCapture:wh}),i=c[0],d=c[1],u=a.forwardProps,m=a.children,f=a.className,h=a.removeScrollBar,p=a.enabled,g=a.shards,y=a.sideCar,M=a.noRelative,w=a.noIsolation,k=a.inert,E=a.allowPinchZoom,N=a.as,A=N===void 0?"div":N,P=a.gapMode,I=lN(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,z=zR([r,l]),C=Oa(Oa({},I),i);return j.createElement(j.Fragment,null,p&&j.createElement(T,{sideCar:iN,removeScrollBar:h,shards:g,noRelative:M,noIsolation:w,inert:k,setCallbacks:d,allowPinchZoom:!!E,lockRef:r,gapMode:P}),u?j.cloneElement(j.Children.only(m),Oa(Oa({},C),{ref:z})):j.createElement(A,Oa({},C,{className:f,ref:z}),m))});Nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nd.classNames={fullWidth:Ko,zeroRight:Qo};var BR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UR(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var l=BR();return l&&a.setAttribute("nonce",l),a}function HR(a,l){a.styleSheet?a.styleSheet.cssText=l:a.appendChild(document.createTextNode(l))}function VR(a){var l=document.head||document.getElementsByTagName("head")[0];l.appendChild(a)}var $R=function(){var a=0,l=null;return{add:function(r){a==0&&(l=UR())&&(HR(l,r),VR(l)),a++},remove:function(){a--,!a&&l&&(l.parentNode&&l.parentNode.removeChild(l),l=null)}}},qR=function(){var a=$R();return function(l,r){j.useEffect(function(){return a.add(l),function(){a.remove()}},[l&&r])}},cN=function(){var a=qR(),l=function(r){var c=r.styles,i=r.dynamic;return a(c,i),null};return l},FR={left:0,top:0,right:0,gap:0},Ch=function(a){return parseInt(a||"",10)||0},GR=function(a){var l=window.getComputedStyle(document.body),r=l[a==="padding"?"paddingLeft":"marginLeft"],c=l[a==="padding"?"paddingTop":"marginTop"],i=l[a==="padding"?"paddingRight":"marginRight"];return[Ch(r),Ch(c),Ch(i)]},QR=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return FR;var l=GR(a),r=document.documentElement.clientWidth,c=window.innerWidth;return{left:l[0],top:l[1],right:l[2],gap:Math.max(0,c-r+l[2]-l[0])}},KR=cN(),_r="data-scroll-locked",YR=function(a,l,r,c){var i=a.left,d=a.top,u=a.right,m=a.gap;return r===void 0&&(r="margin"),`
  .`.concat(MR,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(m,"px ").concat(c,`;
  }
  body[`).concat(_r,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([l&&"position: relative ".concat(c,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(c,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qo,` {
    right: `).concat(m,"px ").concat(c,`;
  }
  
  .`).concat(Ko,` {
    margin-right: `).concat(m,"px ").concat(c,`;
  }
  
  .`).concat(Qo," .").concat(Qo,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(Ko," .").concat(Ko,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(_r,`] {
    `).concat(TR,": ").concat(m,`px;
  }
`)},Lv=function(){var a=parseInt(document.body.getAttribute(_r)||"0",10);return isFinite(a)?a:0},XR=function(){j.useEffect(function(){return document.body.setAttribute(_r,(Lv()+1).toString()),function(){var a=Lv()-1;a<=0?document.body.removeAttribute(_r):document.body.setAttribute(_r,a.toString())}},[])},WR=function(a){var l=a.noRelative,r=a.noImportant,c=a.gapMode,i=c===void 0?"margin":c;XR();var d=j.useMemo(function(){return QR(i)},[i]);return j.createElement(KR,{styles:YR(d,!l,i,r?"":"!important")})},Ph=!1;if(typeof window<"u")try{var Io=Object.defineProperty({},"passive",{get:function(){return Ph=!0,!0}});window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Ph=!1}var wr=Ph?{passive:!1}:!1,ZR=function(a){return a.tagName==="TEXTAREA"},oN=function(a,l){if(!(a instanceof Element))return!1;var r=window.getComputedStyle(a);return r[l]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZR(a)&&r[l]==="visible")},JR=function(a){return oN(a,"overflowY")},eA=function(a){return oN(a,"overflowX")},Iv=function(a,l){var r=l.ownerDocument,c=l;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var i=dN(a,c);if(i){var d=uN(a,c),u=d[1],m=d[2];if(u>m)return!0}c=c.parentNode}while(c&&c!==r.body);return!1},sA=function(a){var l=a.scrollTop,r=a.scrollHeight,c=a.clientHeight;return[l,r,c]},tA=function(a){var l=a.scrollLeft,r=a.scrollWidth,c=a.clientWidth;return[l,r,c]},dN=function(a,l){return a==="v"?JR(l):eA(l)},uN=function(a,l){return a==="v"?sA(l):tA(l)},aA=function(a,l){return a==="h"&&l==="rtl"?-1:1},nA=function(a,l,r,c,i){var d=aA(a,window.getComputedStyle(l).direction),u=d*c,m=r.target,f=l.contains(m),h=!1,p=u>0,g=0,y=0;do{if(!m)break;var M=uN(a,m),w=M[0],k=M[1],E=M[2],N=k-E-d*w;(w||N)&&dN(a,m)&&(g+=N,y+=w);var A=m.parentNode;m=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&m!==document.body||f&&(l.contains(m)||l===m));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Bo=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},Bv=function(a){return[a.deltaX,a.deltaY]},Uv=function(a){return a&&"current"in a?a.current:a},lA=function(a,l){return a[0]===l[0]&&a[1]===l[1]},rA=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},iA=0,Cr=[];function cA(a){var l=j.useRef([]),r=j.useRef([0,0]),c=j.useRef(),i=j.useState(iA++)[0],d=j.useState(cN)[0],u=j.useRef(a);j.useEffect(function(){u.current=a},[a]),j.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(i));var k=ER([a.lockRef.current],(a.shards||[]).map(Uv),!0).filter(Boolean);return k.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[a.inert,a.lockRef.current,a.shards]);var m=j.useCallback(function(k,E){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var N=Bo(k),A=r.current,P="deltaX"in k?k.deltaX:A[0]-N[0],I="deltaY"in k?k.deltaY:A[1]-N[1],T,z=k.target,C=Math.abs(P)>Math.abs(I)?"h":"v";if("touches"in k&&C==="h"&&z.type==="range")return!1;var L=Iv(C,z);if(!L)return!0;if(L?T=C:(T=C==="v"?"h":"v",L=Iv(C,z)),!L)return!1;if(!c.current&&"changedTouches"in k&&(P||I)&&(c.current=T),!T)return!0;var Q=c.current||T;return nA(Q,E,k,Q==="h"?P:I)},[]),f=j.useCallback(function(k){var E=k;if(!(!Cr.length||Cr[Cr.length-1]!==d)){var N="deltaY"in E?Bv(E):Bo(E),A=l.current.filter(function(T){return T.name===E.type&&(T.target===E.target||E.target===T.shadowParent)&&lA(T.delta,N)})[0];if(A&&A.should){E.cancelable&&E.preventDefault();return}if(!A){var P=(u.current.shards||[]).map(Uv).filter(Boolean).filter(function(T){return T.contains(E.target)}),I=P.length>0?m(E,P[0]):!u.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),h=j.useCallback(function(k,E,N,A){var P={name:k,delta:E,target:N,should:A,shadowParent:oA(N)};l.current.push(P),setTimeout(function(){l.current=l.current.filter(function(I){return I!==P})},1)},[]),p=j.useCallback(function(k){r.current=Bo(k),c.current=void 0},[]),g=j.useCallback(function(k){h(k.type,Bv(k),k.target,m(k,a.lockRef.current))},[]),y=j.useCallback(function(k){h(k.type,Bo(k),k.target,m(k,a.lockRef.current))},[]);j.useEffect(function(){return Cr.push(d),a.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,wr),document.addEventListener("touchmove",f,wr),document.addEventListener("touchstart",p,wr),function(){Cr=Cr.filter(function(k){return k!==d}),document.removeEventListener("wheel",f,wr),document.removeEventListener("touchmove",f,wr),document.removeEventListener("touchstart",p,wr)}},[]);var M=a.removeScrollBar,w=a.inert;return j.createElement(j.Fragment,null,w?j.createElement(d,{styles:rA(i)}):null,M?j.createElement(WR,{noRelative:a.noRelative,gapMode:a.gapMode}):null)}function oA(a){for(var l=null;a!==null;)a instanceof ShadowRoot&&(l=a.host,a=a.host),a=a.parentNode;return l}const dA=IR(iN,cA);var hc=j.forwardRef(function(a,l){return j.createElement(Nd,Oa({},a,{ref:l,sideCar:dA}))});hc.classNames=Nd.classNames;var uA=function(a){if(typeof document>"u")return null;var l=Array.isArray(a)?a[0]:a;return l.ownerDocument.body},Sr=new WeakMap,Uo=new WeakMap,Ho={},Sh=0,mN=function(a){return a&&(a.host||mN(a.parentNode))},mA=function(a,l){return l.map(function(r){if(a.contains(r))return r;var c=mN(r);return c&&a.contains(c)?c:(console.error("aria-hidden",r,"in not contained inside",a,". Doing nothing"),null)}).filter(function(r){return!!r})},hA=function(a,l,r,c){var i=mA(l,Array.isArray(a)?a:[a]);Ho[r]||(Ho[r]=new WeakMap);var d=Ho[r],u=[],m=new Set,f=new Set(i),h=function(g){!g||m.has(g)||(m.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(m.has(y))p(y);else try{var M=y.getAttribute(c),w=M!==null&&M!=="false",k=(Sr.get(y)||0)+1,E=(d.get(y)||0)+1;Sr.set(y,k),d.set(y,E),u.push(y),k===1&&w&&Uo.set(y,!0),E===1&&y.setAttribute(r,"true"),w||y.setAttribute(c,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return p(l),m.clear(),Sh++,function(){u.forEach(function(g){var y=Sr.get(g)-1,M=d.get(g)-1;Sr.set(g,y),d.set(g,M),y||(Uo.has(g)||g.removeAttribute(c),Uo.delete(g)),M||g.removeAttribute(r)}),Sh--,Sh||(Sr=new WeakMap,Sr=new WeakMap,Uo=new WeakMap,Ho={})}},bd=function(a,l,r){r===void 0&&(r="data-aria-hidden");var c=Array.from(Array.isArray(a)?a:[a]),i=uA(a);return i?(c.push.apply(c,Array.from(i.querySelectorAll("[aria-live], script"))),hA(c,i,r,"aria-hidden")):function(){return null}};function xA(a){const l=fA(a),r=j.forwardRef((c,i)=>{const{children:d,...u}=c,m=j.Children.toArray(d),f=m.find(jA);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}function fA(a){const l=j.forwardRef((r,c)=>{const{children:i,...d}=r;if(j.isValidElement(i)){const u=vA(i),m=gA(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var pA=Symbol("radix.slottable");function jA(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===pA}function gA(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function vA(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}var yd="Dialog",[hN,xN]=Vt(yd),[NA,Aa]=hN(yd),fN=a=>{const{__scopeDialog:l,children:r,open:c,defaultOpen:i,onOpenChange:d,modal:u=!0}=a,m=j.useRef(null),f=j.useRef(null),[h,p]=Va({prop:c,defaultProp:i??!1,onChange:d,caller:yd});return e.jsx(NA,{scope:l,triggerRef:m,contentRef:f,contentId:Ca(),titleId:Ca(),descriptionId:Ca(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:u,children:r})};fN.displayName=yd;var pN="DialogTrigger",jN=j.forwardRef((a,l)=>{const{__scopeDialog:r,...c}=a,i=Aa(pN,r),d=ts(l,i.triggerRef);return e.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xx(i.open),...c,ref:d,onClick:Ie(a.onClick,i.onOpenToggle)})});jN.displayName=pN;var mx="DialogPortal",[bA,gN]=hN(mx,{forceMount:void 0}),vN=a=>{const{__scopeDialog:l,forceMount:r,children:c,container:i}=a,d=Aa(mx,l);return e.jsx(bA,{scope:l,forceMount:r,children:j.Children.map(c,u=>e.jsx(kt,{present:r||d.open,children:e.jsx(mc,{asChild:!0,container:i,children:u})}))})};vN.displayName=mx;var ad="DialogOverlay",NN=j.forwardRef((a,l)=>{const r=gN(ad,a.__scopeDialog),{forceMount:c=r.forceMount,...i}=a,d=Aa(ad,a.__scopeDialog);return d.modal?e.jsx(kt,{present:c||d.open,children:e.jsx(wA,{...i,ref:l})}):null});NN.displayName=ad;var yA=xA("DialogOverlay.RemoveScroll"),wA=j.forwardRef((a,l)=>{const{__scopeDialog:r,...c}=a,i=Aa(ad,r);return e.jsx(hc,{as:yA,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Je.div,{"data-state":xx(i.open),...c,ref:l,style:{pointerEvents:"auto",...c.style}})})}),El="DialogContent",bN=j.forwardRef((a,l)=>{const r=gN(El,a.__scopeDialog),{forceMount:c=r.forceMount,...i}=a,d=Aa(El,a.__scopeDialog);return e.jsx(kt,{present:c||d.open,children:d.modal?e.jsx(CA,{...i,ref:l}):e.jsx(SA,{...i,ref:l})})});bN.displayName=El;var CA=j.forwardRef((a,l)=>{const r=Aa(El,a.__scopeDialog),c=j.useRef(null),i=ts(l,r.contentRef,c);return j.useEffect(()=>{const d=c.current;if(d)return bd(d)},[]),e.jsx(yN,{...a,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(a.onCloseAutoFocus,d=>{d.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ie(a.onPointerDownOutside,d=>{const u=d.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&d.preventDefault()}),onFocusOutside:Ie(a.onFocusOutside,d=>d.preventDefault())})}),SA=j.forwardRef((a,l)=>{const r=Aa(El,a.__scopeDialog),c=j.useRef(!1),i=j.useRef(!1);return e.jsx(yN,{...a,ref:l,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{a.onCloseAutoFocus?.(d),d.defaultPrevented||(c.current||r.triggerRef.current?.focus(),d.preventDefault()),c.current=!1,i.current=!1},onInteractOutside:d=>{a.onInteractOutside?.(d),d.defaultPrevented||(c.current=!0,d.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=d.target;r.triggerRef.current?.contains(u)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&i.current&&d.preventDefault()}})}),yN=j.forwardRef((a,l)=>{const{__scopeDialog:r,trapFocus:c,onOpenAutoFocus:i,onCloseAutoFocus:d,...u}=a,m=Aa(El,r),f=j.useRef(null),h=ts(l,f);return vd(),e.jsxs(e.Fragment,{children:[e.jsx(uc,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:i,onUnmountAutoFocus:d,children:e.jsx(dc,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":xx(m.open),...u,ref:h,onDismiss:()=>m.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(RA,{titleId:m.titleId}),e.jsx(EA,{contentRef:f,descriptionId:m.descriptionId})]})]})}),hx="DialogTitle",wN=j.forwardRef((a,l)=>{const{__scopeDialog:r,...c}=a,i=Aa(hx,r);return e.jsx(Je.h2,{id:i.titleId,...c,ref:l})});wN.displayName=hx;var CN="DialogDescription",SN=j.forwardRef((a,l)=>{const{__scopeDialog:r,...c}=a,i=Aa(CN,r);return e.jsx(Je.p,{id:i.descriptionId,...c,ref:l})});SN.displayName=CN;var kN="DialogClose",RN=j.forwardRef((a,l)=>{const{__scopeDialog:r,...c}=a,i=Aa(kN,r);return e.jsx(Je.button,{type:"button",...c,ref:l,onClick:Ie(a.onClick,()=>i.onOpenChange(!1))})});RN.displayName=kN;function xx(a){return a?"open":"closed"}var AN="DialogTitleWarning",[kA,EN]=I3(AN,{contentName:El,titleName:hx,docsSlug:"dialog"}),RA=({titleId:a})=>{const l=EN(AN),r=`\`${l.contentName}\` requires a \`${l.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${l.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${l.docsSlug}`;return j.useEffect(()=>{a&&(document.getElementById(a)||console.error(r))},[r,a]),null},AA="DialogDescriptionWarning",EA=({contentRef:a,descriptionId:l})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EN(AA).contentName}}.`;return j.useEffect(()=>{const i=a.current?.getAttribute("aria-describedby");l&&i&&(document.getElementById(l)||console.warn(c))},[c,a,l]),null},MN=fN,MA=jN,TN=vN,fx=NN,px=bN,jx=wN,gx=SN,vx=RN,TA=Symbol("radix.slottable");function DA(a){const l=({children:r})=>e.jsx(e.Fragment,{children:r});return l.displayName=`${a}.Slottable`,l.__radixId=TA,l}var DN="AlertDialog",[_A]=Vt(DN,[xN]),bn=xN(),_N=a=>{const{__scopeAlertDialog:l,...r}=a,c=bn(l);return e.jsx(MN,{...c,...r,modal:!0})};_N.displayName=DN;var zA="AlertDialogTrigger",PA=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,...c}=a,i=bn(r);return e.jsx(MA,{...i,...c,ref:l})});PA.displayName=zA;var OA="AlertDialogPortal",zN=a=>{const{__scopeAlertDialog:l,...r}=a,c=bn(l);return e.jsx(TN,{...c,...r})};zN.displayName=OA;var LA="AlertDialogOverlay",PN=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,...c}=a,i=bn(r);return e.jsx(fx,{...i,...c,ref:l})});PN.displayName=LA;var zr="AlertDialogContent",[IA,BA]=_A(zr),UA=DA("AlertDialogContent"),ON=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,children:c,...i}=a,d=bn(r),u=j.useRef(null),m=ts(l,u),f=j.useRef(null);return e.jsx(kA,{contentName:zr,titleName:LN,docsSlug:"alert-dialog",children:e.jsx(IA,{scope:r,cancelRef:f,children:e.jsxs(px,{role:"alertdialog",...d,...i,ref:m,onOpenAutoFocus:Ie(i.onOpenAutoFocus,h=>{h.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[e.jsx(UA,{children:c}),e.jsx(VA,{contentRef:u})]})})})});ON.displayName=zr;var LN="AlertDialogTitle",IN=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,...c}=a,i=bn(r);return e.jsx(jx,{...i,...c,ref:l})});IN.displayName=LN;var BN="AlertDialogDescription",UN=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,...c}=a,i=bn(r);return e.jsx(gx,{...i,...c,ref:l})});UN.displayName=BN;var HA="AlertDialogAction",HN=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,...c}=a,i=bn(r);return e.jsx(vx,{...i,...c,ref:l})});HN.displayName=HA;var VN="AlertDialogCancel",$N=j.forwardRef((a,l)=>{const{__scopeAlertDialog:r,...c}=a,{cancelRef:i}=BA(VN,r),d=bn(r),u=ts(l,i);return e.jsx(vx,{...d,...c,ref:u})});$N.displayName=VN;var VA=({contentRef:a})=>{const l=`\`${zr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zr}\` by passing a \`${BN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(l)},[l,a]),null},$A=_N,qA=zN,qN=PN,FN=ON,GN=HN,QN=$N,KN=IN,YN=UN;const XN=$A,FA=qA,WN=j.forwardRef(({className:a,...l},r)=>e.jsx(qN,{className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:r}));WN.displayName=qN.displayName;const Nx=j.forwardRef(({className:a,...l},r)=>e.jsxs(FA,{children:[e.jsx(WN,{}),e.jsx(FN,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]}));Nx.displayName=FN.displayName;const ZN=({className:a,...l})=>e.jsx("div",{className:We("flex flex-col space-y-2 text-center sm:text-left",a),...l});ZN.displayName="AlertDialogHeader";const JN=({className:a,...l})=>e.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...l});JN.displayName="AlertDialogFooter";const bx=j.forwardRef(({className:a,...l},r)=>e.jsx(KN,{ref:r,className:We("text-lg font-semibold",a),...l}));bx.displayName=KN.displayName;const yx=j.forwardRef(({className:a,...l},r)=>e.jsx(YN,{ref:r,className:We("text-sm text-muted-foreground",a),...l}));yx.displayName=YN.displayName;const wx=j.forwardRef(({className:a,...l},r)=>e.jsx(GN,{ref:r,className:We(ax(),a),...l}));wx.displayName=GN.displayName;const Cx=j.forwardRef(({className:a,...l},r)=>e.jsx(QN,{ref:r,className:We(ax({variant:"outline"}),"mt-2 sm:mt-0",a),...l}));Cx.displayName=QN.displayName;const ec=MN,GA=TN,eb=j.forwardRef(({className:a,...l},r)=>e.jsx(fx,{ref:r,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l}));eb.displayName=fx.displayName;const Br=j.forwardRef(({className:a,children:l,...r},c)=>e.jsxs(GA,{children:[e.jsx(eb,{}),e.jsxs(px,{ref:c,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[l,e.jsxs(vx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ba,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Br.displayName=px.displayName;const Ur=({className:a,...l})=>e.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",a),...l});Ur.displayName="DialogHeader";const Hr=({className:a,...l})=>e.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...l});Hr.displayName="DialogFooter";const Vr=j.forwardRef(({className:a,...l},r)=>e.jsx(jx,{ref:r,className:We("text-lg font-semibold leading-none tracking-tight",a),...l}));Vr.displayName=jx.displayName;const $r=j.forwardRef(({className:a,...l},r)=>e.jsx(gx,{ref:r,className:We("text-sm text-muted-foreground",a),...l}));$r.displayName=gx.displayName;var QA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KA=QA.reduce((a,l)=>{const r=xd(`Primitive.${l}`),c=j.forwardRef((i,d)=>{const{asChild:u,...m}=i,f=u?r:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...m,ref:d})});return c.displayName=`Primitive.${l}`,{...a,[l]:c}},{}),YA="Label",sb=j.forwardRef((a,l)=>e.jsx(KA.label,{...a,ref:l,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(a.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sb.displayName=YA;var tb=sb;const XA=sx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=j.forwardRef(({className:a,...l},r)=>e.jsx(tb,{ref:r,className:We(XA(),a),...l}));b.displayName=tb.displayName;function Sx({open:a,initialName:l="",onConfirm:r,onCancel:c}){const[i,d]=j.useState(l);j.useEffect(()=>{a&&d(l)},[a,l]);const u=()=>{i.trim()&&r(i.trim())};return e.jsx(ec,{open:a,onOpenChange:m=>!m&&c(),children:e.jsxs(Br,{children:[e.jsxs(Ur,{children:[e.jsx(Vr,{children:l?"Rename Group":"Create Group"}),e.jsx($r,{children:l?"Enter a new name for the group":"Enter a name for the new group"})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(b,{htmlFor:"group-name",children:"Group Name"}),e.jsx(J,{id:"group-name",value:i,onChange:m=>d(m.target.value),onKeyDown:m=>{m.key==="Enter"&&u()},className:"mt-2",autoFocus:!0})]}),e.jsxs(Hr,{children:[e.jsx(V,{variant:"outline",onClick:c,children:"Cancel"}),e.jsx(V,{onClick:u,disabled:!i.trim(),children:l?"Save":"Create"})]})]})})}function WA(){const{zoom:a,setZoom:l,diagramName:r,setDiagramName:c,saveDiagram:i,loadDiagramState:d,undo:u,redo:m,selectedNodeId:f,createGroupFromSelection:h,autoGroupByConnections:p,nodes:g,pan:y,setPan:M,viewportWidth:w,viewportHeight:k}=Le(),{canUndo:E,canRedo:N}=Xi(),A=j.useRef(null),[P,I]=j.useState(!1),[T,z]=j.useState(r),[C,L]=j.useState(!1),{showMinimap:Q,toggleMinimap:Y,showHeatMapLegend:W,toggleHeatMapLegend:q,showRuler:F,toggleRuler:me}=oc(),je=()=>l(Math.min(a+.1,2)),ce=()=>l(a-.1),K=()=>{const se=g;if(!se.length){l(1),M({x:0,y:0});return}const X=100,le=se.map(ta=>ta.position.x),G=se.map(ta=>ta.position.y),xe=se.map(ta=>ta.position.x+140),Te=se.map(ta=>ta.position.y+140),we=Math.min(...le)-X,Be=Math.min(...G)-X,qe=Math.max(...xe)+X,Xe=Math.max(...Te)+X,Ue=qe-we,bs=Xe-Be,zs=w||window.innerWidth,tt=k||window.innerHeight-56,mt=zs/Ue,Ys=tt/bs;let at=Math.min(mt,Ys);at=Math.min(Math.max(at,.2),2.5);const _t=we+Ue/2,Os=Be+bs/2,Ea=zs/2,pa=tt/2,yn=Ea-_t*at,Ma=pa-Os*at;l(at),M({x:yn,y:Ma})},U=()=>{i(),Ts.success("Diagram saved to browser storage")},ae=()=>{const se=`${r.replace(/\s+/g,"_")}_${Date.now()}.json`;IS(Le.getState(),se),Ts.success("Diagram exported as JSON")},Z=()=>{A.current?.click()},O=async se=>{const X=se.target.files?.[0];if(X){try{const le=await BS(X);if(!le){Ts.error("Failed to import diagram: Invalid file format");return}d({nodes:le.nodes||[],connections:le.connections||[],groups:le.groups||[],zoom:le.zoom||1,pan:le.pan||{x:0,y:0}}),c(le.name),Ts.success(`Diagram "${le.name}" imported successfully`)}catch(le){Ts.error("Failed to import diagram"),console.error(le)}A.current&&(A.current.value="")}},re=()=>{T.trim()&&(c(T.trim()),Ts.success("Diagram renamed")),I(!1)},H=()=>{const{nodes:se}=Le.getState();if(se.filter(le=>le.selected||le.id===f).length===0){Ts.error("Select at least one component to create a group");return}L(!0)},oe=se=>{h(se),Ts.success(`Group "${se}" created`),L(!1)},ee=()=>{p(),Ts.success("Groups created automatically from connections")};return e.jsxs(e.Fragment,{children:[e.jsx(Sx,{open:C,onConfirm:oe,onCancel:()=>L(!1)}),e.jsxs("div",{className:"h-14 bg-toolbar-bg border-b border-border flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>I(!0),className:"text-lg font-semibold text-foreground hover:text-primary transition-colors cursor-pointer",title:"Click to rename diagram",children:[e.jsx("span",{className:"text-primary",children:"Archi"}),"Phoenix",e.jsxs("span",{className:"text-xs text-secondary-foreground ml-2",children:[" ",r]})]}),e.jsx(ye,{orientation:"vertical",className:"h-6 mx-2"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:u,disabled:!E,title:"Undo (Ctrl/Cmd+Z)",children:e.jsx(f3,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:m,disabled:!N,title:"Redo (Ctrl/Cmd+Shift+Z or Ctrl/Cmd+Y)",children:e.jsx(I5,{className:"h-4 w-4"})})]}),e.jsx(ye,{orientation:"vertical",className:"h-6 mx-2"}),e.jsx(eR,{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 rounded-md p-1",children:[e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:je,title:"Zoom In",children:e.jsx(C3,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-mono px-2 min-w-[60px] text-center",children:[Math.round(a*100),"%"]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:ce,title:"Zoom Out",children:e.jsx(k3,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:K,title:"Fit to View",children:e.jsx(C5,{className:"h-4 w-4"})})]}),e.jsx(ye,{orientation:"vertical",className:"h-6"}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:U,title:"Save diagram to browser storage (auto-saves on changes)",children:e.jsx(Q5,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:ae,title:"Export diagram as JSON file",children:e.jsx(Lk,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:Z,title:"Import diagram from JSON file",children:e.jsx(j3,{className:"h-4 w-4"})}),e.jsx(ye,{orientation:"vertical",className:"h-6"}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",title:"Create group from selection",onClick:H,disabled:!f,children:e.jsx(Mt,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",title:"Auto-group by connections",onClick:ee,children:e.jsx(t3,{className:"h-4 w-4"})}),e.jsx(ye,{orientation:"vertical",className:"h-6"}),e.jsx(R3,{}),e.jsx(V,{variant:Q?"default":"ghost",size:"icon",className:"h-9 w-9",title:Q?"Hide minimap":"Show minimap",onClick:Y,children:e.jsx(y5,{className:"h-4 w-4"})}),e.jsx(V,{variant:W?"default":"ghost",size:"icon",className:"h-9 w-9",title:W?"Hide heat map legend":"Show heat map legend",onClick:q,children:e.jsx(Ke,{className:"h-4 w-4"})}),e.jsx(V,{variant:F?"default":"ghost",size:"icon",className:"h-9 w-9",title:F?"Hide ruler":"Show ruler",onClick:me,children:e.jsx(F5,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",title:"Settings",children:e.jsx(Qe,{className:"h-4 w-4"})})]})]}),e.jsx("input",{ref:A,type:"file",accept:".json",onChange:O,className:"hidden","aria-label":"Import diagram from file"}),e.jsx(XN,{open:P,onOpenChange:I,children:e.jsxs(Nx,{children:[e.jsx(bx,{children:"Rename Diagram"}),e.jsx(yx,{children:"Enter a new name for your diagram"}),e.jsx("div",{className:"py-4",children:e.jsx(J,{value:T,onChange:se=>z(se.target.value),placeholder:"Diagram name",onKeyDown:se=>{se.key==="Enter"&&re()},autoFocus:!0})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(Cx,{children:"Cancel"}),e.jsx(wx,{onClick:re,children:"Save"})]})]})})]})}function Hv(a){const l=ZA(a),r=j.forwardRef((c,i)=>{const{children:d,...u}=c,m=j.Children.toArray(d),f=m.find(eE);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}function ZA(a){const l=j.forwardRef((r,c)=>{const{children:i,...d}=r;if(j.isValidElement(i)){const u=tE(i),m=sE(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var JA=Symbol("radix.slottable");function eE(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===JA}function sE(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function tE(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}function wd(a){const l=a+"CollectionProvider",[r,c]=Vt(l),[i,d]=r(l,{collectionRef:{current:null},itemMap:new Map}),u=k=>{const{scope:E,children:N}=k,A=Gs.useRef(null),P=Gs.useRef(new Map).current;return e.jsx(i,{scope:E,itemMap:P,collectionRef:A,children:N})};u.displayName=l;const m=a+"CollectionSlot",f=Hv(m),h=Gs.forwardRef((k,E)=>{const{scope:N,children:A}=k,P=d(m,N),I=ts(E,P.collectionRef);return e.jsx(f,{ref:I,children:A})});h.displayName=m;const p=a+"CollectionItemSlot",g="data-radix-collection-item",y=Hv(p),M=Gs.forwardRef((k,E)=>{const{scope:N,children:A,...P}=k,I=Gs.useRef(null),T=ts(E,I),z=d(p,N);return Gs.useEffect(()=>(z.itemMap.set(I,{ref:I,...P}),()=>void z.itemMap.delete(I))),e.jsx(y,{[g]:"",ref:T,children:A})});M.displayName=p;function w(k){const E=d(a+"CollectionConsumer",k);return Gs.useCallback(()=>{const A=E.collectionRef.current;if(!A)return[];const P=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((z,C)=>P.indexOf(z.ref.current)-P.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:u,Slot:h,ItemSlot:M},w,c]}var kh="rovingFocusGroup.onEntryFocus",aE={bubbles:!1,cancelable:!0},xc="RovingFocusGroup",[Oh,ab,nE]=wd(xc),[lE,Cd]=Vt(xc,[nE]),[rE,iE]=lE(xc),nb=j.forwardRef((a,l)=>e.jsx(Oh.Provider,{scope:a.__scopeRovingFocusGroup,children:e.jsx(Oh.Slot,{scope:a.__scopeRovingFocusGroup,children:e.jsx(cE,{...a,ref:l})})}));nb.displayName=xc;var cE=j.forwardRef((a,l)=>{const{__scopeRovingFocusGroup:r,orientation:c,loop:i=!1,dir:d,currentTabStopId:u,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=a,y=j.useRef(null),M=ts(l,y),w=Kr(d),[k,E]=Va({prop:u,defaultProp:m??null,onChange:f,caller:xc}),[N,A]=j.useState(!1),P=vt(h),I=ab(r),T=j.useRef(!1),[z,C]=j.useState(0);return j.useEffect(()=>{const L=y.current;if(L)return L.addEventListener(kh,P),()=>L.removeEventListener(kh,P)},[P]),e.jsx(rE,{scope:r,orientation:c,dir:w,loop:i,currentTabStopId:k,onItemFocus:j.useCallback(L=>E(L),[E]),onItemShiftTab:j.useCallback(()=>A(!0),[]),onFocusableItemAdd:j.useCallback(()=>C(L=>L+1),[]),onFocusableItemRemove:j.useCallback(()=>C(L=>L-1),[]),children:e.jsx(Je.div,{tabIndex:N||z===0?-1:0,"data-orientation":c,...g,ref:M,style:{outline:"none",...a.style},onMouseDown:Ie(a.onMouseDown,()=>{T.current=!0}),onFocus:Ie(a.onFocus,L=>{const Q=!T.current;if(L.target===L.currentTarget&&Q&&!N){const Y=new CustomEvent(kh,aE);if(L.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const W=I().filter(ce=>ce.focusable),q=W.find(ce=>ce.active),F=W.find(ce=>ce.id===k),je=[q,F,...W].filter(Boolean).map(ce=>ce.ref.current);ib(je,p)}}T.current=!1}),onBlur:Ie(a.onBlur,()=>A(!1))})})}),lb="RovingFocusGroupItem",rb=j.forwardRef((a,l)=>{const{__scopeRovingFocusGroup:r,focusable:c=!0,active:i=!1,tabStopId:d,children:u,...m}=a,f=Ca(),h=d||f,p=iE(lb,r),g=p.currentTabStopId===h,y=ab(r),{onFocusableItemAdd:M,onFocusableItemRemove:w,currentTabStopId:k}=p;return j.useEffect(()=>{if(c)return M(),()=>w()},[c,M,w]),e.jsx(Oh.ItemSlot,{scope:r,id:h,focusable:c,active:i,children:e.jsx(Je.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...m,ref:l,onMouseDown:Ie(a.onMouseDown,E=>{c?p.onItemFocus(h):E.preventDefault()}),onFocus:Ie(a.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ie(a.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const N=uE(E,p.orientation,p.dir);if(N!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let P=y().filter(I=>I.focusable).map(I=>I.ref.current);if(N==="last")P.reverse();else if(N==="prev"||N==="next"){N==="prev"&&P.reverse();const I=P.indexOf(E.currentTarget);P=p.loop?mE(P,I+1):P.slice(I+1)}setTimeout(()=>ib(P))}}),children:typeof u=="function"?u({isCurrentTabStop:g,hasTabStop:k!=null}):u})})});rb.displayName=lb;var oE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dE(a,l){return l!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function uE(a,l,r){const c=dE(a.key,r);if(!(l==="vertical"&&["ArrowLeft","ArrowRight"].includes(c))&&!(l==="horizontal"&&["ArrowUp","ArrowDown"].includes(c)))return oE[c]}function ib(a,l=!1){const r=document.activeElement;for(const c of a)if(c===r||(c.focus({preventScroll:l}),document.activeElement!==r))return}function mE(a,l){return a.map((r,c)=>a[(l+c)%a.length])}var cb=nb,ob=rb,Sd="Tabs",[hE]=Vt(Sd,[Cd]),db=Cd(),[xE,kx]=hE(Sd),ub=j.forwardRef((a,l)=>{const{__scopeTabs:r,value:c,onValueChange:i,defaultValue:d,orientation:u="horizontal",dir:m,activationMode:f="automatic",...h}=a,p=Kr(m),[g,y]=Va({prop:c,onChange:i,defaultProp:d??"",caller:Sd});return e.jsx(xE,{scope:r,baseId:Ca(),value:g,onValueChange:y,orientation:u,dir:p,activationMode:f,children:e.jsx(Je.div,{dir:p,"data-orientation":u,...h,ref:l})})});ub.displayName=Sd;var mb="TabsList",hb=j.forwardRef((a,l)=>{const{__scopeTabs:r,loop:c=!0,...i}=a,d=kx(mb,r),u=db(r);return e.jsx(cb,{asChild:!0,...u,orientation:d.orientation,dir:d.dir,loop:c,children:e.jsx(Je.div,{role:"tablist","aria-orientation":d.orientation,...i,ref:l})})});hb.displayName=mb;var xb="TabsTrigger",fb=j.forwardRef((a,l)=>{const{__scopeTabs:r,value:c,disabled:i=!1,...d}=a,u=kx(xb,r),m=db(r),f=gb(u.baseId,c),h=vb(u.baseId,c),p=c===u.value;return e.jsx(ob,{asChild:!0,...m,focusable:!i,active:p,children:e.jsx(Je.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...d,ref:l,onMouseDown:Ie(a.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?u.onValueChange(c):g.preventDefault()}),onKeyDown:Ie(a.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&u.onValueChange(c)}),onFocus:Ie(a.onFocus,()=>{const g=u.activationMode!=="manual";!p&&!i&&g&&u.onValueChange(c)})})})});fb.displayName=xb;var pb="TabsContent",jb=j.forwardRef((a,l)=>{const{__scopeTabs:r,value:c,forceMount:i,children:d,...u}=a,m=kx(pb,r),f=gb(m.baseId,c),h=vb(m.baseId,c),p=c===m.value,g=j.useRef(p);return j.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(kt,{present:i||p,children:({present:y})=>e.jsx(Je.div,{"data-state":p?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:h,tabIndex:0,...u,ref:l,style:{...a.style,animationDuration:g.current?"0s":void 0},children:y&&d})})});jb.displayName=pb;function gb(a,l){return`${a}-trigger-${l}`}function vb(a,l){return`${a}-content-${l}`}var fE=ub,Nb=hb,bb=fb,yb=jb;const Ve=fE,He=j.forwardRef(({className:a,...l},r)=>e.jsx(Nb,{ref:r,className:We("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...l}));He.displayName=Nb.displayName;const de=j.forwardRef(({className:a,...l},r)=>e.jsx(bb,{ref:r,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...l}));de.displayName=bb.displayName;const ue=j.forwardRef(({className:a,...l},r)=>e.jsx(yb,{ref:r,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l}));ue.displayName=yb.displayName;const pE=["top","right","bottom","left"],tl=Math.min,Zt=Math.max,nd=Math.round,Vo=Math.floor,Ua=a=>({x:a,y:a}),jE={left:"right",right:"left",bottom:"top",top:"bottom"},gE={start:"end",end:"start"};function Lh(a,l,r){return Zt(a,tl(l,r))}function gn(a,l){return typeof a=="function"?a(l):a}function vn(a){return a.split("-")[0]}function Yr(a){return a.split("-")[1]}function Rx(a){return a==="x"?"y":"x"}function Ax(a){return a==="y"?"height":"width"}const vE=new Set(["top","bottom"]);function Ia(a){return vE.has(vn(a))?"y":"x"}function Ex(a){return Rx(Ia(a))}function NE(a,l,r){r===void 0&&(r=!1);const c=Yr(a),i=Ex(a),d=Ax(i);let u=i==="x"?c===(r?"end":"start")?"right":"left":c==="start"?"bottom":"top";return l.reference[d]>l.floating[d]&&(u=ld(u)),[u,ld(u)]}function bE(a){const l=ld(a);return[Ih(a),l,Ih(l)]}function Ih(a){return a.replace(/start|end/g,l=>gE[l])}const Vv=["left","right"],$v=["right","left"],yE=["top","bottom"],wE=["bottom","top"];function CE(a,l,r){switch(a){case"top":case"bottom":return r?l?$v:Vv:l?Vv:$v;case"left":case"right":return l?yE:wE;default:return[]}}function SE(a,l,r,c){const i=Yr(a);let d=CE(vn(a),r==="start",c);return i&&(d=d.map(u=>u+"-"+i),l&&(d=d.concat(d.map(Ih)))),d}function ld(a){return a.replace(/left|right|bottom|top/g,l=>jE[l])}function kE(a){return{top:0,right:0,bottom:0,left:0,...a}}function wb(a){return typeof a!="number"?kE(a):{top:a,right:a,bottom:a,left:a}}function rd(a){const{x:l,y:r,width:c,height:i}=a;return{width:c,height:i,top:r,left:l,right:l+c,bottom:r+i,x:l,y:r}}function qv(a,l,r){let{reference:c,floating:i}=a;const d=Ia(l),u=Ex(l),m=Ax(u),f=vn(l),h=d==="y",p=c.x+c.width/2-i.width/2,g=c.y+c.height/2-i.height/2,y=c[m]/2-i[m]/2;let M;switch(f){case"top":M={x:p,y:c.y-i.height};break;case"bottom":M={x:p,y:c.y+c.height};break;case"right":M={x:c.x+c.width,y:g};break;case"left":M={x:c.x-i.width,y:g};break;default:M={x:c.x,y:c.y}}switch(Yr(l)){case"start":M[u]-=y*(r&&h?-1:1);break;case"end":M[u]+=y*(r&&h?-1:1);break}return M}const RE=async(a,l,r)=>{const{placement:c="bottom",strategy:i="absolute",middleware:d=[],platform:u}=r,m=d.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(l));let h=await u.getElementRects({reference:a,floating:l,strategy:i}),{x:p,y:g}=qv(h,c,f),y=c,M={},w=0;for(let k=0;k<m.length;k++){const{name:E,fn:N}=m[k],{x:A,y:P,data:I,reset:T}=await N({x:p,y:g,initialPlacement:c,placement:y,strategy:i,middlewareData:M,rects:h,platform:u,elements:{reference:a,floating:l}});p=A??p,g=P??g,M={...M,[E]:{...M[E],...I}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(h=T.rects===!0?await u.getElementRects({reference:a,floating:l,strategy:i}):T.rects),{x:p,y:g}=qv(h,y,f)),k=-1)}return{x:p,y:g,placement:y,strategy:i,middlewareData:M}};async function sc(a,l){var r;l===void 0&&(l={});const{x:c,y:i,platform:d,rects:u,elements:m,strategy:f}=a,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:M=0}=gn(l,a),w=wb(M),E=m[y?g==="floating"?"reference":"floating":g],N=rd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(E)))==null||r?E:E.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(m.floating)),boundary:h,rootBoundary:p,strategy:f})),A=g==="floating"?{x:c,y:i,width:u.floating.width,height:u.floating.height}:u.reference,P=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m.floating)),I=await(d.isElement==null?void 0:d.isElement(P))?await(d.getScale==null?void 0:d.getScale(P))||{x:1,y:1}:{x:1,y:1},T=rd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:A,offsetParent:P,strategy:f}):A);return{top:(N.top-T.top+w.top)/I.y,bottom:(T.bottom-N.bottom+w.bottom)/I.y,left:(N.left-T.left+w.left)/I.x,right:(T.right-N.right+w.right)/I.x}}const AE=a=>({name:"arrow",options:a,async fn(l){const{x:r,y:c,placement:i,rects:d,platform:u,elements:m,middlewareData:f}=l,{element:h,padding:p=0}=gn(a,l)||{};if(h==null)return{};const g=wb(p),y={x:r,y:c},M=Ex(i),w=Ax(M),k=await u.getDimensions(h),E=M==="y",N=E?"top":"left",A=E?"bottom":"right",P=E?"clientHeight":"clientWidth",I=d.reference[w]+d.reference[M]-y[M]-d.floating[w],T=y[M]-d.reference[M],z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let C=z?z[P]:0;(!C||!await(u.isElement==null?void 0:u.isElement(z)))&&(C=m.floating[P]||d.floating[w]);const L=I/2-T/2,Q=C/2-k[w]/2-1,Y=tl(g[N],Q),W=tl(g[A],Q),q=Y,F=C-k[w]-W,me=C/2-k[w]/2+L,je=Lh(q,me,F),ce=!f.arrow&&Yr(i)!=null&&me!==je&&d.reference[w]/2-(me<q?Y:W)-k[w]/2<0,K=ce?me<q?me-q:me-F:0;return{[M]:y[M]+K,data:{[M]:je,centerOffset:me-je-K,...ce&&{alignmentOffset:K}},reset:ce}}}),EE=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(l){var r,c;const{placement:i,middlewareData:d,rects:u,initialPlacement:m,platform:f,elements:h}=l,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...E}=gn(a,l);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const N=vn(i),A=Ia(m),P=vn(m)===m,I=await(f.isRTL==null?void 0:f.isRTL(h.floating)),T=y||(P||!k?[ld(m)]:bE(m)),z=w!=="none";!y&&z&&T.push(...SE(m,k,w,I));const C=[m,...T],L=await sc(l,E),Q=[];let Y=((c=d.flip)==null?void 0:c.overflows)||[];if(p&&Q.push(L[N]),g){const me=NE(i,u,I);Q.push(L[me[0]],L[me[1]])}if(Y=[...Y,{placement:i,overflows:Q}],!Q.every(me=>me<=0)){var W,q;const me=(((W=d.flip)==null?void 0:W.index)||0)+1,je=C[me];if(je&&(!(g==="alignment"?A!==Ia(je):!1)||Y.every(U=>Ia(U.placement)===A?U.overflows[0]>0:!0)))return{data:{index:me,overflows:Y},reset:{placement:je}};let ce=(q=Y.filter(K=>K.overflows[0]<=0).sort((K,U)=>K.overflows[1]-U.overflows[1])[0])==null?void 0:q.placement;if(!ce)switch(M){case"bestFit":{var F;const K=(F=Y.filter(U=>{if(z){const ae=Ia(U.placement);return ae===A||ae==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(ae=>ae>0).reduce((ae,Z)=>ae+Z,0)]).sort((U,ae)=>U[1]-ae[1])[0])==null?void 0:F[0];K&&(ce=K);break}case"initialPlacement":ce=m;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};function Fv(a,l){return{top:a.top-l.height,right:a.right-l.width,bottom:a.bottom-l.height,left:a.left-l.width}}function Gv(a){return pE.some(l=>a[l]>=0)}const ME=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(l){const{rects:r}=l,{strategy:c="referenceHidden",...i}=gn(a,l);switch(c){case"referenceHidden":{const d=await sc(l,{...i,elementContext:"reference"}),u=Fv(d,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Gv(u)}}}case"escaped":{const d=await sc(l,{...i,altBoundary:!0}),u=Fv(d,r.floating);return{data:{escapedOffsets:u,escaped:Gv(u)}}}default:return{}}}}},Cb=new Set(["left","top"]);async function TE(a,l){const{placement:r,platform:c,elements:i}=a,d=await(c.isRTL==null?void 0:c.isRTL(i.floating)),u=vn(r),m=Yr(r),f=Ia(r)==="y",h=Cb.has(u)?-1:1,p=d&&f?-1:1,g=gn(l,a);let{mainAxis:y,crossAxis:M,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return m&&typeof w=="number"&&(M=m==="end"?w*-1:w),f?{x:M*p,y:y*h}:{x:y*h,y:M*p}}const DE=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(l){var r,c;const{x:i,y:d,placement:u,middlewareData:m}=l,f=await TE(l,a);return u===((r=m.offset)==null?void 0:r.placement)&&(c=m.arrow)!=null&&c.alignmentOffset?{}:{x:i+f.x,y:d+f.y,data:{...f,placement:u}}}}},_E=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(l){const{x:r,y:c,placement:i}=l,{mainAxis:d=!0,crossAxis:u=!1,limiter:m={fn:E=>{let{x:N,y:A}=E;return{x:N,y:A}}},...f}=gn(a,l),h={x:r,y:c},p=await sc(l,f),g=Ia(vn(i)),y=Rx(g);let M=h[y],w=h[g];if(d){const E=y==="y"?"top":"left",N=y==="y"?"bottom":"right",A=M+p[E],P=M-p[N];M=Lh(A,M,P)}if(u){const E=g==="y"?"top":"left",N=g==="y"?"bottom":"right",A=w+p[E],P=w-p[N];w=Lh(A,w,P)}const k=m.fn({...l,[y]:M,[g]:w});return{...k,data:{x:k.x-r,y:k.y-c,enabled:{[y]:d,[g]:u}}}}}},zE=function(a){return a===void 0&&(a={}),{options:a,fn(l){const{x:r,y:c,placement:i,rects:d,middlewareData:u}=l,{offset:m=0,mainAxis:f=!0,crossAxis:h=!0}=gn(a,l),p={x:r,y:c},g=Ia(i),y=Rx(g);let M=p[y],w=p[g];const k=gn(m,l),E=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(f){const P=y==="y"?"height":"width",I=d.reference[y]-d.floating[P]+E.mainAxis,T=d.reference[y]+d.reference[P]-E.mainAxis;M<I?M=I:M>T&&(M=T)}if(h){var N,A;const P=y==="y"?"width":"height",I=Cb.has(vn(i)),T=d.reference[g]-d.floating[P]+(I&&((N=u.offset)==null?void 0:N[g])||0)+(I?0:E.crossAxis),z=d.reference[g]+d.reference[P]+(I?0:((A=u.offset)==null?void 0:A[g])||0)-(I?E.crossAxis:0);w<T?w=T:w>z&&(w=z)}return{[y]:M,[g]:w}}}},PE=function(a){return a===void 0&&(a={}),{name:"size",options:a,async fn(l){var r,c;const{placement:i,rects:d,platform:u,elements:m}=l,{apply:f=()=>{},...h}=gn(a,l),p=await sc(l,h),g=vn(i),y=Yr(i),M=Ia(i)==="y",{width:w,height:k}=d.floating;let E,N;g==="top"||g==="bottom"?(E=g,N=y===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(N=g,E=y==="end"?"top":"bottom");const A=k-p.top-p.bottom,P=w-p.left-p.right,I=tl(k-p[E],A),T=tl(w-p[N],P),z=!l.middlewareData.shift;let C=I,L=T;if((r=l.middlewareData.shift)!=null&&r.enabled.x&&(L=P),(c=l.middlewareData.shift)!=null&&c.enabled.y&&(C=A),z&&!y){const Y=Zt(p.left,0),W=Zt(p.right,0),q=Zt(p.top,0),F=Zt(p.bottom,0);M?L=w-2*(Y!==0||W!==0?Y+W:Zt(p.left,p.right)):C=k-2*(q!==0||F!==0?q+F:Zt(p.top,p.bottom))}await f({...l,availableWidth:L,availableHeight:C});const Q=await u.getDimensions(m.floating);return w!==Q.width||k!==Q.height?{reset:{rects:!0}}:{}}}};function kd(){return typeof window<"u"}function Xr(a){return Sb(a)?(a.nodeName||"").toLowerCase():"#document"}function sa(a){var l;return(a==null||(l=a.ownerDocument)==null?void 0:l.defaultView)||window}function Qa(a){var l;return(l=(Sb(a)?a.ownerDocument:a.document)||window.document)==null?void 0:l.documentElement}function Sb(a){return kd()?a instanceof Node||a instanceof sa(a).Node:!1}function Sa(a){return kd()?a instanceof Element||a instanceof sa(a).Element:!1}function $a(a){return kd()?a instanceof HTMLElement||a instanceof sa(a).HTMLElement:!1}function Qv(a){return!kd()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof sa(a).ShadowRoot}const OE=new Set(["inline","contents"]);function fc(a){const{overflow:l,overflowX:r,overflowY:c,display:i}=ka(a);return/auto|scroll|overlay|hidden|clip/.test(l+c+r)&&!OE.has(i)}const LE=new Set(["table","td","th"]);function IE(a){return LE.has(Xr(a))}const BE=[":popover-open",":modal"];function Rd(a){return BE.some(l=>{try{return a.matches(l)}catch{return!1}})}const UE=["transform","translate","scale","rotate","perspective"],HE=["transform","translate","scale","rotate","perspective","filter"],VE=["paint","layout","strict","content"];function Mx(a){const l=Tx(),r=Sa(a)?ka(a):a;return UE.some(c=>r[c]?r[c]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||HE.some(c=>(r.willChange||"").includes(c))||VE.some(c=>(r.contain||"").includes(c))}function $E(a){let l=al(a);for(;$a(l)&&!qr(l);){if(Mx(l))return l;if(Rd(l))return null;l=al(l)}return null}function Tx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qE=new Set(["html","body","#document"]);function qr(a){return qE.has(Xr(a))}function ka(a){return sa(a).getComputedStyle(a)}function Ad(a){return Sa(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function al(a){if(Xr(a)==="html")return a;const l=a.assignedSlot||a.parentNode||Qv(a)&&a.host||Qa(a);return Qv(l)?l.host:l}function kb(a){const l=al(a);return qr(l)?a.ownerDocument?a.ownerDocument.body:a.body:$a(l)&&fc(l)?l:kb(l)}function tc(a,l,r){var c;l===void 0&&(l=[]),r===void 0&&(r=!0);const i=kb(a),d=i===((c=a.ownerDocument)==null?void 0:c.body),u=sa(i);if(d){const m=Bh(u);return l.concat(u,u.visualViewport||[],fc(i)?i:[],m&&r?tc(m):[])}return l.concat(i,tc(i,[],r))}function Bh(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function Rb(a){const l=ka(a);let r=parseFloat(l.width)||0,c=parseFloat(l.height)||0;const i=$a(a),d=i?a.offsetWidth:r,u=i?a.offsetHeight:c,m=nd(r)!==d||nd(c)!==u;return m&&(r=d,c=u),{width:r,height:c,$:m}}function Dx(a){return Sa(a)?a:a.contextElement}function Pr(a){const l=Dx(a);if(!$a(l))return Ua(1);const r=l.getBoundingClientRect(),{width:c,height:i,$:d}=Rb(l);let u=(d?nd(r.width):r.width)/c,m=(d?nd(r.height):r.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const FE=Ua(0);function Ab(a){const l=sa(a);return!Tx()||!l.visualViewport?FE:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function GE(a,l,r){return l===void 0&&(l=!1),!r||l&&r!==sa(a)?!1:l}function Ml(a,l,r,c){l===void 0&&(l=!1),r===void 0&&(r=!1);const i=a.getBoundingClientRect(),d=Dx(a);let u=Ua(1);l&&(c?Sa(c)&&(u=Pr(c)):u=Pr(a));const m=GE(d,r,c)?Ab(d):Ua(0);let f=(i.left+m.x)/u.x,h=(i.top+m.y)/u.y,p=i.width/u.x,g=i.height/u.y;if(d){const y=sa(d),M=c&&Sa(c)?sa(c):c;let w=y,k=Bh(w);for(;k&&c&&M!==w;){const E=Pr(k),N=k.getBoundingClientRect(),A=ka(k),P=N.left+(k.clientLeft+parseFloat(A.paddingLeft))*E.x,I=N.top+(k.clientTop+parseFloat(A.paddingTop))*E.y;f*=E.x,h*=E.y,p*=E.x,g*=E.y,f+=P,h+=I,w=sa(k),k=Bh(w)}}return rd({width:p,height:g,x:f,y:h})}function Ed(a,l){const r=Ad(a).scrollLeft;return l?l.left+r:Ml(Qa(a)).left+r}function Eb(a,l){const r=a.getBoundingClientRect(),c=r.left+l.scrollLeft-Ed(a,r),i=r.top+l.scrollTop;return{x:c,y:i}}function QE(a){let{elements:l,rect:r,offsetParent:c,strategy:i}=a;const d=i==="fixed",u=Qa(c),m=l?Rd(l.floating):!1;if(c===u||m&&d)return r;let f={scrollLeft:0,scrollTop:0},h=Ua(1);const p=Ua(0),g=$a(c);if((g||!g&&!d)&&((Xr(c)!=="body"||fc(u))&&(f=Ad(c)),$a(c))){const M=Ml(c);h=Pr(c),p.x=M.x+c.clientLeft,p.y=M.y+c.clientTop}const y=u&&!g&&!d?Eb(u,f):Ua(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+p.x+y.x,y:r.y*h.y-f.scrollTop*h.y+p.y+y.y}}function KE(a){return Array.from(a.getClientRects())}function YE(a){const l=Qa(a),r=Ad(a),c=a.ownerDocument.body,i=Zt(l.scrollWidth,l.clientWidth,c.scrollWidth,c.clientWidth),d=Zt(l.scrollHeight,l.clientHeight,c.scrollHeight,c.clientHeight);let u=-r.scrollLeft+Ed(a);const m=-r.scrollTop;return ka(c).direction==="rtl"&&(u+=Zt(l.clientWidth,c.clientWidth)-i),{width:i,height:d,x:u,y:m}}const Kv=25;function XE(a,l){const r=sa(a),c=Qa(a),i=r.visualViewport;let d=c.clientWidth,u=c.clientHeight,m=0,f=0;if(i){d=i.width,u=i.height;const p=Tx();(!p||p&&l==="fixed")&&(m=i.offsetLeft,f=i.offsetTop)}const h=Ed(c);if(h<=0){const p=c.ownerDocument,g=p.body,y=getComputedStyle(g),M=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,w=Math.abs(c.clientWidth-g.clientWidth-M);w<=Kv&&(d-=w)}else h<=Kv&&(d+=h);return{width:d,height:u,x:m,y:f}}const WE=new Set(["absolute","fixed"]);function ZE(a,l){const r=Ml(a,!0,l==="fixed"),c=r.top+a.clientTop,i=r.left+a.clientLeft,d=$a(a)?Pr(a):Ua(1),u=a.clientWidth*d.x,m=a.clientHeight*d.y,f=i*d.x,h=c*d.y;return{width:u,height:m,x:f,y:h}}function Yv(a,l,r){let c;if(l==="viewport")c=XE(a,r);else if(l==="document")c=YE(Qa(a));else if(Sa(l))c=ZE(l,r);else{const i=Ab(a);c={x:l.x-i.x,y:l.y-i.y,width:l.width,height:l.height}}return rd(c)}function Mb(a,l){const r=al(a);return r===l||!Sa(r)||qr(r)?!1:ka(r).position==="fixed"||Mb(r,l)}function JE(a,l){const r=l.get(a);if(r)return r;let c=tc(a,[],!1).filter(m=>Sa(m)&&Xr(m)!=="body"),i=null;const d=ka(a).position==="fixed";let u=d?al(a):a;for(;Sa(u)&&!qr(u);){const m=ka(u),f=Mx(u);!f&&m.position==="fixed"&&(i=null),(d?!f&&!i:!f&&m.position==="static"&&!!i&&WE.has(i.position)||fc(u)&&!f&&Mb(a,u))?c=c.filter(p=>p!==u):i=m,u=al(u)}return l.set(a,c),c}function eM(a){let{element:l,boundary:r,rootBoundary:c,strategy:i}=a;const u=[...r==="clippingAncestors"?Rd(l)?[]:JE(l,this._c):[].concat(r),c],m=u[0],f=u.reduce((h,p)=>{const g=Yv(l,p,i);return h.top=Zt(g.top,h.top),h.right=tl(g.right,h.right),h.bottom=tl(g.bottom,h.bottom),h.left=Zt(g.left,h.left),h},Yv(l,m,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function sM(a){const{width:l,height:r}=Rb(a);return{width:l,height:r}}function tM(a,l,r){const c=$a(l),i=Qa(l),d=r==="fixed",u=Ml(a,!0,d,l);let m={scrollLeft:0,scrollTop:0};const f=Ua(0);function h(){f.x=Ed(i)}if(c||!c&&!d)if((Xr(l)!=="body"||fc(i))&&(m=Ad(l)),c){const M=Ml(l,!0,d,l);f.x=M.x+l.clientLeft,f.y=M.y+l.clientTop}else i&&h();d&&!c&&i&&h();const p=i&&!c&&!d?Eb(i,m):Ua(0),g=u.left+m.scrollLeft-f.x-p.x,y=u.top+m.scrollTop-f.y-p.y;return{x:g,y,width:u.width,height:u.height}}function Rh(a){return ka(a).position==="static"}function Xv(a,l){if(!$a(a)||ka(a).position==="fixed")return null;if(l)return l(a);let r=a.offsetParent;return Qa(a)===r&&(r=r.ownerDocument.body),r}function Tb(a,l){const r=sa(a);if(Rd(a))return r;if(!$a(a)){let i=al(a);for(;i&&!qr(i);){if(Sa(i)&&!Rh(i))return i;i=al(i)}return r}let c=Xv(a,l);for(;c&&IE(c)&&Rh(c);)c=Xv(c,l);return c&&qr(c)&&Rh(c)&&!Mx(c)?r:c||$E(a)||r}const aM=async function(a){const l=this.getOffsetParent||Tb,r=this.getDimensions,c=await r(a.floating);return{reference:tM(a.reference,await l(a.floating),a.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function nM(a){return ka(a).direction==="rtl"}const lM={convertOffsetParentRelativeRectToViewportRelativeRect:QE,getDocumentElement:Qa,getClippingRect:eM,getOffsetParent:Tb,getElementRects:aM,getClientRects:KE,getDimensions:sM,getScale:Pr,isElement:Sa,isRTL:nM};function Db(a,l){return a.x===l.x&&a.y===l.y&&a.width===l.width&&a.height===l.height}function rM(a,l){let r=null,c;const i=Qa(a);function d(){var m;clearTimeout(c),(m=r)==null||m.disconnect(),r=null}function u(m,f){m===void 0&&(m=!1),f===void 0&&(f=1),d();const h=a.getBoundingClientRect(),{left:p,top:g,width:y,height:M}=h;if(m||l(),!y||!M)return;const w=Vo(g),k=Vo(i.clientWidth-(p+y)),E=Vo(i.clientHeight-(g+M)),N=Vo(p),P={rootMargin:-w+"px "+-k+"px "+-E+"px "+-N+"px",threshold:Zt(0,tl(1,f))||1};let I=!0;function T(z){const C=z[0].intersectionRatio;if(C!==f){if(!I)return u();C?u(!1,C):c=setTimeout(()=>{u(!1,1e-7)},1e3)}C===1&&!Db(h,a.getBoundingClientRect())&&u(),I=!1}try{r=new IntersectionObserver(T,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,P)}r.observe(a)}return u(!0),d}function iM(a,l,r,c){c===void 0&&(c={});const{ancestorScroll:i=!0,ancestorResize:d=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:f=!1}=c,h=Dx(a),p=i||d?[...h?tc(h):[],...tc(l)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",r,{passive:!0}),d&&N.addEventListener("resize",r)});const g=h&&m?rM(h,r):null;let y=-1,M=null;u&&(M=new ResizeObserver(N=>{let[A]=N;A&&A.target===h&&M&&(M.unobserve(l),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=M)==null||P.observe(l)})),r()}),h&&!f&&M.observe(h),M.observe(l));let w,k=f?Ml(a):null;f&&E();function E(){const N=Ml(a);k&&!Db(k,N)&&r(),k=N,w=requestAnimationFrame(E)}return r(),()=>{var N;p.forEach(A=>{i&&A.removeEventListener("scroll",r),d&&A.removeEventListener("resize",r)}),g?.(),(N=M)==null||N.disconnect(),M=null,f&&cancelAnimationFrame(w)}}const cM=DE,oM=_E,dM=EE,uM=PE,mM=ME,Wv=AE,hM=zE,xM=(a,l,r)=>{const c=new Map,i={platform:lM,...r},d={...i.platform,_c:c};return RE(a,l,{...i,platform:d})};var fM=typeof document<"u",pM=function(){},Yo=fM?j.useLayoutEffect:pM;function id(a,l){if(a===l)return!0;if(typeof a!=typeof l)return!1;if(typeof a=="function"&&a.toString()===l.toString())return!0;let r,c,i;if(a&&l&&typeof a=="object"){if(Array.isArray(a)){if(r=a.length,r!==l.length)return!1;for(c=r;c--!==0;)if(!id(a[c],l[c]))return!1;return!0}if(i=Object.keys(a),r=i.length,r!==Object.keys(l).length)return!1;for(c=r;c--!==0;)if(!{}.hasOwnProperty.call(l,i[c]))return!1;for(c=r;c--!==0;){const d=i[c];if(!(d==="_owner"&&a.$$typeof)&&!id(a[d],l[d]))return!1}return!0}return a!==a&&l!==l}function _b(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function Zv(a,l){const r=_b(a);return Math.round(l*r)/r}function Ah(a){const l=j.useRef(a);return Yo(()=>{l.current=a}),l}function jM(a){a===void 0&&(a={});const{placement:l="bottom",strategy:r="absolute",middleware:c=[],platform:i,elements:{reference:d,floating:u}={},transform:m=!0,whileElementsMounted:f,open:h}=a,[p,g]=j.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[y,M]=j.useState(c);id(y,c)||M(c);const[w,k]=j.useState(null),[E,N]=j.useState(null),A=j.useCallback(U=>{U!==z.current&&(z.current=U,k(U))},[]),P=j.useCallback(U=>{U!==C.current&&(C.current=U,N(U))},[]),I=d||w,T=u||E,z=j.useRef(null),C=j.useRef(null),L=j.useRef(p),Q=f!=null,Y=Ah(f),W=Ah(i),q=Ah(h),F=j.useCallback(()=>{if(!z.current||!C.current)return;const U={placement:l,strategy:r,middleware:y};W.current&&(U.platform=W.current),xM(z.current,C.current,U).then(ae=>{const Z={...ae,isPositioned:q.current!==!1};me.current&&!id(L.current,Z)&&(L.current=Z,ic.flushSync(()=>{g(Z)}))})},[y,l,r,W,q]);Yo(()=>{h===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[h]);const me=j.useRef(!1);Yo(()=>(me.current=!0,()=>{me.current=!1}),[]),Yo(()=>{if(I&&(z.current=I),T&&(C.current=T),I&&T){if(Y.current)return Y.current(I,T,F);F()}},[I,T,F,Y,Q]);const je=j.useMemo(()=>({reference:z,floating:C,setReference:A,setFloating:P}),[A,P]),ce=j.useMemo(()=>({reference:I,floating:T}),[I,T]),K=j.useMemo(()=>{const U={position:r,left:0,top:0};if(!ce.floating)return U;const ae=Zv(ce.floating,p.x),Z=Zv(ce.floating,p.y);return m?{...U,transform:"translate("+ae+"px, "+Z+"px)",..._b(ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:Z}},[r,m,ce.floating,p.x,p.y]);return j.useMemo(()=>({...p,update:F,refs:je,elements:ce,floatingStyles:K}),[p,F,je,ce,K])}const gM=a=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:a,fn(r){const{element:c,padding:i}=typeof a=="function"?a(r):a;return c&&l(c)?c.current!=null?Wv({element:c.current,padding:i}).fn(r):{}:c?Wv({element:c,padding:i}).fn(r):{}}}},vM=(a,l)=>({...cM(a),options:[a,l]}),NM=(a,l)=>({...oM(a),options:[a,l]}),bM=(a,l)=>({...hM(a),options:[a,l]}),yM=(a,l)=>({...dM(a),options:[a,l]}),wM=(a,l)=>({...uM(a),options:[a,l]}),CM=(a,l)=>({...mM(a),options:[a,l]}),SM=(a,l)=>({...gM(a),options:[a,l]});var kM="Arrow",zb=j.forwardRef((a,l)=>{const{children:r,width:c=10,height:i=5,...d}=a;return e.jsx(Je.svg,{...d,ref:l,width:c,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});zb.displayName=kM;var RM=zb;function Md(a){const[l,r]=j.useState(void 0);return Nt(()=>{if(a){r({width:a.offsetWidth,height:a.offsetHeight});const c=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const d=i[0];let u,m;if("borderBoxSize"in d){const f=d.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,m=h.blockSize}else u=a.offsetWidth,m=a.offsetHeight;r({width:u,height:m})});return c.observe(a,{box:"border-box"}),()=>c.unobserve(a)}else r(void 0)},[a]),l}var _x="Popper",[Pb,Wr]=Vt(_x),[AM,Ob]=Pb(_x),Lb=a=>{const{__scopePopper:l,children:r}=a,[c,i]=j.useState(null);return e.jsx(AM,{scope:l,anchor:c,onAnchorChange:i,children:r})};Lb.displayName=_x;var Ib="PopperAnchor",Bb=j.forwardRef((a,l)=>{const{__scopePopper:r,virtualRef:c,...i}=a,d=Ob(Ib,r),u=j.useRef(null),m=ts(l,u),f=j.useRef(null);return j.useEffect(()=>{const h=f.current;f.current=c?.current||u.current,h!==f.current&&d.onAnchorChange(f.current)}),c?null:e.jsx(Je.div,{...i,ref:m})});Bb.displayName=Ib;var zx="PopperContent",[EM,MM]=Pb(zx),Ub=j.forwardRef((a,l)=>{const{__scopePopper:r,side:c="bottom",sideOffset:i=0,align:d="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:M="optimized",onPlaced:w,...k}=a,E=Ob(zx,r),[N,A]=j.useState(null),P=ts(l,X=>A(X)),[I,T]=j.useState(null),z=Md(I),C=z?.width??0,L=z?.height??0,Q=c+(d!=="center"?"-"+d:""),Y=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},W=Array.isArray(h)?h:[h],q=W.length>0,F={padding:Y,boundary:W.filter(DM),altBoundary:q},{refs:me,floatingStyles:je,placement:ce,isPositioned:K,middlewareData:U}=jM({strategy:"fixed",placement:Q,whileElementsMounted:(...X)=>iM(...X,{animationFrame:M==="always"}),elements:{reference:E.anchor},middleware:[vM({mainAxis:i+L,alignmentAxis:u}),f&&NM({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?bM():void 0,...F}),f&&yM({...F}),wM({...F,apply:({elements:X,rects:le,availableWidth:G,availableHeight:xe})=>{const{width:Te,height:we}=le.reference,Be=X.floating.style;Be.setProperty("--radix-popper-available-width",`${G}px`),Be.setProperty("--radix-popper-available-height",`${xe}px`),Be.setProperty("--radix-popper-anchor-width",`${Te}px`),Be.setProperty("--radix-popper-anchor-height",`${we}px`)}}),I&&SM({element:I,padding:m}),_M({arrowWidth:C,arrowHeight:L}),y&&CM({strategy:"referenceHidden",...F})]}),[ae,Z]=$b(ce),O=vt(w);Nt(()=>{K&&O?.()},[K,O]);const re=U.arrow?.x,H=U.arrow?.y,oe=U.arrow?.centerOffset!==0,[ee,se]=j.useState();return Nt(()=>{N&&se(window.getComputedStyle(N).zIndex)},[N]),e.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...je,transform:K?je.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:e.jsx(EM,{scope:r,placedSide:ae,onArrowChange:T,arrowX:re,arrowY:H,shouldHideArrow:oe,children:e.jsx(Je.div,{"data-side":ae,"data-align":Z,...k,ref:P,style:{...k.style,animation:K?void 0:"none"}})})})});Ub.displayName=zx;var Hb="PopperArrow",TM={top:"bottom",right:"left",bottom:"top",left:"right"},Vb=j.forwardRef(function(l,r){const{__scopePopper:c,...i}=l,d=MM(Hb,c),u=TM[d.placedSide];return e.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:e.jsx(RM,{...i,ref:r,style:{...i.style,display:"block"}})})});Vb.displayName=Hb;function DM(a){return a!==null}var _M=a=>({name:"transformOrigin",options:a,fn(l){const{placement:r,rects:c,middlewareData:i}=l,u=i.arrow?.centerOffset!==0,m=u?0:a.arrowWidth,f=u?0:a.arrowHeight,[h,p]=$b(r),g={start:"0%",center:"50%",end:"100%"}[p],y=(i.arrow?.x??0)+m/2,M=(i.arrow?.y??0)+f/2;let w="",k="";return h==="bottom"?(w=u?g:`${y}px`,k=`${-f}px`):h==="top"?(w=u?g:`${y}px`,k=`${c.floating.height+f}px`):h==="right"?(w=`${-f}px`,k=u?g:`${M}px`):h==="left"&&(w=`${c.floating.width+f}px`,k=u?g:`${M}px`),{data:{x:w,y:k}}}});function $b(a){const[l,r="center"]=a.split("-");return[l,r]}var Px=Lb,Td=Bb,Ox=Ub,Lx=Vb;function zM(a){const l=PM(a),r=j.forwardRef((c,i)=>{const{children:d,...u}=c,m=j.Children.toArray(d),f=m.find(LM);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}function PM(a){const l=j.forwardRef((r,c)=>{const{children:i,...d}=r;if(j.isValidElement(i)){const u=BM(i),m=IM(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var OM=Symbol("radix.slottable");function LM(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===OM}function IM(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function BM(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}var Uh=["Enter"," "],UM=["ArrowDown","PageUp","Home"],qb=["ArrowUp","PageDown","End"],HM=[...UM,...qb],VM={ltr:[...Uh,"ArrowRight"],rtl:[...Uh,"ArrowLeft"]},$M={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pc="Menu",[ac,qM,FM]=wd(pc),[_l,Fb]=Vt(pc,[FM,Wr,Cd]),Dd=Wr(),Gb=Cd(),[GM,zl]=_l(pc),[QM,jc]=_l(pc),Qb=a=>{const{__scopeMenu:l,open:r=!1,children:c,dir:i,onOpenChange:d,modal:u=!0}=a,m=Dd(l),[f,h]=j.useState(null),p=j.useRef(!1),g=vt(d),y=Kr(i);return j.useEffect(()=>{const M=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),e.jsx(Px,{...m,children:e.jsx(GM,{scope:l,open:r,onOpenChange:g,content:f,onContentChange:h,children:e.jsx(QM,{scope:l,onClose:j.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:u,children:c})})})};Qb.displayName=pc;var KM="MenuAnchor",Ix=j.forwardRef((a,l)=>{const{__scopeMenu:r,...c}=a,i=Dd(r);return e.jsx(Td,{...i,...c,ref:l})});Ix.displayName=KM;var Bx="MenuPortal",[YM,Kb]=_l(Bx,{forceMount:void 0}),Yb=a=>{const{__scopeMenu:l,forceMount:r,children:c,container:i}=a,d=zl(Bx,l);return e.jsx(YM,{scope:l,forceMount:r,children:e.jsx(kt,{present:r||d.open,children:e.jsx(mc,{asChild:!0,container:i,children:c})})})};Yb.displayName=Bx;var xa="MenuContent",[XM,Ux]=_l(xa),Xb=j.forwardRef((a,l)=>{const r=Kb(xa,a.__scopeMenu),{forceMount:c=r.forceMount,...i}=a,d=zl(xa,a.__scopeMenu),u=jc(xa,a.__scopeMenu);return e.jsx(ac.Provider,{scope:a.__scopeMenu,children:e.jsx(kt,{present:c||d.open,children:e.jsx(ac.Slot,{scope:a.__scopeMenu,children:u.modal?e.jsx(WM,{...i,ref:l}):e.jsx(ZM,{...i,ref:l})})})})}),WM=j.forwardRef((a,l)=>{const r=zl(xa,a.__scopeMenu),c=j.useRef(null),i=ts(l,c);return j.useEffect(()=>{const d=c.current;if(d)return bd(d)},[]),e.jsx(Hx,{...a,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ie(a.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ZM=j.forwardRef((a,l)=>{const r=zl(xa,a.__scopeMenu);return e.jsx(Hx,{...a,ref:l,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),JM=zM("MenuContent.ScrollLock"),Hx=j.forwardRef((a,l)=>{const{__scopeMenu:r,loop:c=!1,trapFocus:i,onOpenAutoFocus:d,onCloseAutoFocus:u,disableOutsidePointerEvents:m,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:M,disableOutsideScroll:w,...k}=a,E=zl(xa,r),N=jc(xa,r),A=Dd(r),P=Gb(r),I=qM(r),[T,z]=j.useState(null),C=j.useRef(null),L=ts(l,C,E.onContentChange),Q=j.useRef(0),Y=j.useRef(""),W=j.useRef(0),q=j.useRef(null),F=j.useRef("right"),me=j.useRef(0),je=w?hc:j.Fragment,ce=w?{as:JM,allowPinchZoom:!0}:void 0,K=ae=>{const Z=Y.current+ae,O=I().filter(X=>!X.disabled),re=document.activeElement,H=O.find(X=>X.ref.current===re)?.textValue,oe=O.map(X=>X.textValue),ee=uT(oe,Z,H),se=O.find(X=>X.textValue===ee)?.ref.current;(function X(le){Y.current=le,window.clearTimeout(Q.current),le!==""&&(Q.current=window.setTimeout(()=>X(""),1e3))})(Z),se&&setTimeout(()=>se.focus())};j.useEffect(()=>()=>window.clearTimeout(Q.current),[]),vd();const U=j.useCallback(ae=>F.current===q.current?.side&&hT(ae,q.current?.area),[]);return e.jsx(XM,{scope:r,searchRef:Y,onItemEnter:j.useCallback(ae=>{U(ae)&&ae.preventDefault()},[U]),onItemLeave:j.useCallback(ae=>{U(ae)||(C.current?.focus(),z(null))},[U]),onTriggerLeave:j.useCallback(ae=>{U(ae)&&ae.preventDefault()},[U]),pointerGraceTimerRef:W,onPointerGraceIntentChange:j.useCallback(ae=>{q.current=ae},[]),children:e.jsx(je,{...ce,children:e.jsx(uc,{asChild:!0,trapped:i,onMountAutoFocus:Ie(d,ae=>{ae.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:e.jsx(dc,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:M,children:e.jsx(cb,{asChild:!0,...P,dir:N.dir,orientation:"vertical",loop:c,currentTabStopId:T,onCurrentTabStopIdChange:z,onEntryFocus:Ie(f,ae=>{N.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ox,{role:"menu","aria-orientation":"vertical","data-state":my(E.open),"data-radix-menu-content":"",dir:N.dir,...A,...k,ref:L,style:{outline:"none",...k.style},onKeyDown:Ie(k.onKeyDown,ae=>{const O=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,re=ae.ctrlKey||ae.altKey||ae.metaKey,H=ae.key.length===1;O&&(ae.key==="Tab"&&ae.preventDefault(),!re&&H&&K(ae.key));const oe=C.current;if(ae.target!==oe||!HM.includes(ae.key))return;ae.preventDefault();const se=I().filter(X=>!X.disabled).map(X=>X.ref.current);qb.includes(ae.key)&&se.reverse(),oT(se)}),onBlur:Ie(a.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(Q.current),Y.current="")}),onPointerMove:Ie(a.onPointerMove,nc(ae=>{const Z=ae.target,O=me.current!==ae.clientX;if(ae.currentTarget.contains(Z)&&O){const re=ae.clientX>me.current?"right":"left";F.current=re,me.current=ae.clientX}}))})})})})})})});Xb.displayName=xa;var eT="MenuGroup",Vx=j.forwardRef((a,l)=>{const{__scopeMenu:r,...c}=a;return e.jsx(Je.div,{role:"group",...c,ref:l})});Vx.displayName=eT;var sT="MenuLabel",Wb=j.forwardRef((a,l)=>{const{__scopeMenu:r,...c}=a;return e.jsx(Je.div,{...c,ref:l})});Wb.displayName=sT;var cd="MenuItem",Jv="menu.itemSelect",_d=j.forwardRef((a,l)=>{const{disabled:r=!1,onSelect:c,...i}=a,d=j.useRef(null),u=jc(cd,a.__scopeMenu),m=Ux(cd,a.__scopeMenu),f=ts(l,d),h=j.useRef(!1),p=()=>{const g=d.current;if(!r&&g){const y=new CustomEvent(Jv,{bubbles:!0,cancelable:!0});g.addEventListener(Jv,M=>c?.(M),{once:!0}),V0(g,y),y.defaultPrevented?h.current=!1:u.onClose()}};return e.jsx(Zb,{...i,ref:f,disabled:r,onClick:Ie(a.onClick,p),onPointerDown:g=>{a.onPointerDown?.(g),h.current=!0},onPointerUp:Ie(a.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:Ie(a.onKeyDown,g=>{const y=m.searchRef.current!=="";r||y&&g.key===" "||Uh.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});_d.displayName=cd;var Zb=j.forwardRef((a,l)=>{const{__scopeMenu:r,disabled:c=!1,textValue:i,...d}=a,u=Ux(cd,r),m=Gb(r),f=j.useRef(null),h=ts(l,f),[p,g]=j.useState(!1),[y,M]=j.useState("");return j.useEffect(()=>{const w=f.current;w&&M((w.textContent??"").trim())},[d.children]),e.jsx(ac.ItemSlot,{scope:r,disabled:c,textValue:i??y,children:e.jsx(ob,{asChild:!0,...m,focusable:!c,children:e.jsx(Je.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0,...d,ref:h,onPointerMove:Ie(a.onPointerMove,nc(w=>{c?u.onItemLeave(w):(u.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(a.onPointerLeave,nc(w=>u.onItemLeave(w))),onFocus:Ie(a.onFocus,()=>g(!0)),onBlur:Ie(a.onBlur,()=>g(!1))})})})}),tT="MenuCheckboxItem",Jb=j.forwardRef((a,l)=>{const{checked:r=!1,onCheckedChange:c,...i}=a;return e.jsx(ny,{scope:a.__scopeMenu,checked:r,children:e.jsx(_d,{role:"menuitemcheckbox","aria-checked":od(r)?"mixed":r,...i,ref:l,"data-state":qx(r),onSelect:Ie(i.onSelect,()=>c?.(od(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Jb.displayName=tT;var ey="MenuRadioGroup",[aT,nT]=_l(ey,{value:void 0,onValueChange:()=>{}}),sy=j.forwardRef((a,l)=>{const{value:r,onValueChange:c,...i}=a,d=vt(c);return e.jsx(aT,{scope:a.__scopeMenu,value:r,onValueChange:d,children:e.jsx(Vx,{...i,ref:l})})});sy.displayName=ey;var ty="MenuRadioItem",ay=j.forwardRef((a,l)=>{const{value:r,...c}=a,i=nT(ty,a.__scopeMenu),d=r===i.value;return e.jsx(ny,{scope:a.__scopeMenu,checked:d,children:e.jsx(_d,{role:"menuitemradio","aria-checked":d,...c,ref:l,"data-state":qx(d),onSelect:Ie(c.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ay.displayName=ty;var $x="MenuItemIndicator",[ny,lT]=_l($x,{checked:!1}),ly=j.forwardRef((a,l)=>{const{__scopeMenu:r,forceMount:c,...i}=a,d=lT($x,r);return e.jsx(kt,{present:c||od(d.checked)||d.checked===!0,children:e.jsx(Je.span,{...i,ref:l,"data-state":qx(d.checked)})})});ly.displayName=$x;var rT="MenuSeparator",ry=j.forwardRef((a,l)=>{const{__scopeMenu:r,...c}=a;return e.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...c,ref:l})});ry.displayName=rT;var iT="MenuArrow",iy=j.forwardRef((a,l)=>{const{__scopeMenu:r,...c}=a,i=Dd(r);return e.jsx(Lx,{...i,...c,ref:l})});iy.displayName=iT;var cT="MenuSub",[Dz,cy]=_l(cT),Ki="MenuSubTrigger",oy=j.forwardRef((a,l)=>{const r=zl(Ki,a.__scopeMenu),c=jc(Ki,a.__scopeMenu),i=cy(Ki,a.__scopeMenu),d=Ux(Ki,a.__scopeMenu),u=j.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:f}=d,h={__scopeMenu:a.__scopeMenu},p=j.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return j.useEffect(()=>p,[p]),j.useEffect(()=>{const g=m.current;return()=>{window.clearTimeout(g),f(null)}},[m,f]),e.jsx(Ix,{asChild:!0,...h,children:e.jsx(Zb,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":my(r.open),...a,ref:qa(l,i.onTriggerChange),onClick:g=>{a.onClick?.(g),!(a.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ie(a.onPointerMove,nc(g=>{d.onItemEnter(g),!g.defaultPrevented&&!a.disabled&&!r.open&&!u.current&&(d.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Ie(a.onPointerLeave,nc(g=>{p();const y=r.content?.getBoundingClientRect();if(y){const M=r.content?.dataset.side,w=M==="right",k=w?-5:5,E=y[w?"left":"right"],N=y[w?"right":"left"];d.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:E,y:y.top},{x:N,y:y.top},{x:N,y:y.bottom},{x:E,y:y.bottom}],side:M}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(g),g.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(a.onKeyDown,g=>{const y=d.searchRef.current!=="";a.disabled||y&&g.key===" "||VM[c.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});oy.displayName=Ki;var dy="MenuSubContent",uy=j.forwardRef((a,l)=>{const r=Kb(xa,a.__scopeMenu),{forceMount:c=r.forceMount,...i}=a,d=zl(xa,a.__scopeMenu),u=jc(xa,a.__scopeMenu),m=cy(dy,a.__scopeMenu),f=j.useRef(null),h=ts(l,f);return e.jsx(ac.Provider,{scope:a.__scopeMenu,children:e.jsx(kt,{present:c||d.open,children:e.jsx(ac.Slot,{scope:a.__scopeMenu,children:e.jsx(Hx,{id:m.contentId,"aria-labelledby":m.triggerId,...i,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ie(a.onFocusOutside,p=>{p.target!==m.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:Ie(a.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:Ie(a.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),y=$M[u.dir].includes(p.key);g&&y&&(d.onOpenChange(!1),m.trigger?.focus(),p.preventDefault())})})})})})});uy.displayName=dy;function my(a){return a?"open":"closed"}function od(a){return a==="indeterminate"}function qx(a){return od(a)?"indeterminate":a?"checked":"unchecked"}function oT(a){const l=document.activeElement;for(const r of a)if(r===l||(r.focus(),document.activeElement!==l))return}function dT(a,l){return a.map((r,c)=>a[(l+c)%a.length])}function uT(a,l,r){const i=l.length>1&&Array.from(l).every(h=>h===l[0])?l[0]:l,d=r?a.indexOf(r):-1;let u=dT(a,Math.max(d,0));i.length===1&&(u=u.filter(h=>h!==r));const f=u.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function mT(a,l){const{x:r,y:c}=a;let i=!1;for(let d=0,u=l.length-1;d<l.length;u=d++){const m=l[d],f=l[u],h=m.x,p=m.y,g=f.x,y=f.y;p>c!=y>c&&r<(g-h)*(c-p)/(y-p)+h&&(i=!i)}return i}function hT(a,l){if(!l)return!1;const r={x:a.clientX,y:a.clientY};return mT(r,l)}function nc(a){return l=>l.pointerType==="mouse"?a(l):void 0}var xT=Qb,fT=Ix,pT=Yb,jT=Xb,gT=Vx,vT=Wb,NT=_d,bT=Jb,yT=sy,wT=ay,CT=ly,ST=ry,kT=iy,RT=oy,AT=uy,zd="DropdownMenu",[ET]=Vt(zd,[Fb]),Dt=Fb(),[MT,hy]=ET(zd),xy=a=>{const{__scopeDropdownMenu:l,children:r,dir:c,open:i,defaultOpen:d,onOpenChange:u,modal:m=!0}=a,f=Dt(l),h=j.useRef(null),[p,g]=Va({prop:i,defaultProp:d??!1,onChange:u,caller:zd});return e.jsx(MT,{scope:l,triggerId:Ca(),triggerRef:h,contentId:Ca(),open:p,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(y=>!y),[g]),modal:m,children:e.jsx(xT,{...f,open:p,onOpenChange:g,dir:c,modal:m,children:r})})};xy.displayName=zd;var fy="DropdownMenuTrigger",py=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,disabled:c=!1,...i}=a,d=hy(fy,r),u=Dt(r);return e.jsx(fT,{asChild:!0,...u,children:e.jsx(Je.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":c?"":void 0,disabled:c,...i,ref:qa(l,d.triggerRef),onPointerDown:Ie(a.onPointerDown,m=>{!c&&m.button===0&&m.ctrlKey===!1&&(d.onOpenToggle(),d.open||m.preventDefault())}),onKeyDown:Ie(a.onKeyDown,m=>{c||(["Enter"," "].includes(m.key)&&d.onOpenToggle(),m.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});py.displayName=fy;var TT="DropdownMenuPortal",jy=a=>{const{__scopeDropdownMenu:l,...r}=a,c=Dt(l);return e.jsx(pT,{...c,...r})};jy.displayName=TT;var gy="DropdownMenuContent",vy=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=hy(gy,r),d=Dt(r),u=j.useRef(!1);return e.jsx(jT,{id:i.contentId,"aria-labelledby":i.triggerId,...d,...c,ref:l,onCloseAutoFocus:Ie(a.onCloseAutoFocus,m=>{u.current||i.triggerRef.current?.focus(),u.current=!1,m.preventDefault()}),onInteractOutside:Ie(a.onInteractOutside,m=>{const f=m.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!i.modal||p)&&(u.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vy.displayName=gy;var DT="DropdownMenuGroup",_T=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(gT,{...i,...c,ref:l})});_T.displayName=DT;var zT="DropdownMenuLabel",Ny=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(vT,{...i,...c,ref:l})});Ny.displayName=zT;var PT="DropdownMenuItem",by=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(NT,{...i,...c,ref:l})});by.displayName=PT;var OT="DropdownMenuCheckboxItem",yy=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(bT,{...i,...c,ref:l})});yy.displayName=OT;var LT="DropdownMenuRadioGroup",IT=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(yT,{...i,...c,ref:l})});IT.displayName=LT;var BT="DropdownMenuRadioItem",wy=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(wT,{...i,...c,ref:l})});wy.displayName=BT;var UT="DropdownMenuItemIndicator",Cy=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(CT,{...i,...c,ref:l})});Cy.displayName=UT;var HT="DropdownMenuSeparator",Sy=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(ST,{...i,...c,ref:l})});Sy.displayName=HT;var VT="DropdownMenuArrow",$T=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(kT,{...i,...c,ref:l})});$T.displayName=VT;var qT="DropdownMenuSubTrigger",ky=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(RT,{...i,...c,ref:l})});ky.displayName=qT;var FT="DropdownMenuSubContent",Ry=j.forwardRef((a,l)=>{const{__scopeDropdownMenu:r,...c}=a,i=Dt(r);return e.jsx(AT,{...i,...c,ref:l,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ry.displayName=FT;var GT=xy,QT=py,KT=jy,Ay=vy,Ey=Ny,My=by,Ty=yy,Dy=wy,_y=Cy,zy=Sy,Py=ky,Oy=Ry;const YT=GT,XT=QT,WT=j.forwardRef(({className:a,inset:l,children:r,...c},i)=>e.jsxs(Py,{ref:i,className:We("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...c,children:[r,e.jsx(ix,{className:"ml-auto"})]}));WT.displayName=Py.displayName;const ZT=j.forwardRef(({className:a,...l},r)=>e.jsx(Oy,{ref:r,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...l}));ZT.displayName=Oy.displayName;const Ly=j.forwardRef(({className:a,sideOffset:l=4,...r},c)=>e.jsx(KT,{children:e.jsx(Ay,{ref:c,sideOffset:l,className:We("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...r})}));Ly.displayName=Ay.displayName;const Xo=j.forwardRef(({className:a,inset:l,...r},c)=>e.jsx(My,{ref:c,className:We("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",l&&"pl-8",a),...r}));Xo.displayName=My.displayName;const JT=j.forwardRef(({className:a,children:l,checked:r,...c},i)=>e.jsxs(Ty,{ref:i,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...c,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(_y,{children:e.jsx(rx,{className:"h-4 w-4"})})}),l]}));JT.displayName=Ty.displayName;const eD=j.forwardRef(({className:a,children:l,...r},c)=>e.jsxs(Dy,{ref:c,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(_y,{children:e.jsx(wk,{className:"h-2 w-2 fill-current"})})}),l]}));eD.displayName=Dy.displayName;const Hh=j.forwardRef(({className:a,inset:l,...r},c)=>e.jsx(Ey,{ref:c,className:We("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...r}));Hh.displayName=Ey.displayName;const Iy=j.forwardRef(({className:a,...l},r)=>e.jsx(zy,{ref:r,className:We("-mx-1 my-1 h-px bg-muted",a),...l}));Iy.displayName=zy.displayName;const By="archiphoenix_component_library",e0=()=>{if(typeof window>"u")return{favorites:[],collections:[]};try{const a=window.localStorage.getItem(By);if(!a)return{favorites:[],collections:[]};const l=JSON.parse(a);return{favorites:Array.isArray(l.favorites)?l.favorites:[],collections:Array.isArray(l.collections)?l.collections:[]}}catch(a){return console.warn("Failed to load component library state",a),{favorites:[],collections:[]}}},kr=a=>{typeof window>"u"||window.localStorage.setItem(By,JSON.stringify(a))},sD=Fa((a,l)=>({favorites:e0().favorites,collections:e0().collections,toggleFavorite:r=>{a(c=>{const d=c.favorites.includes(r)?c.favorites.filter(u=>u!==r):[...c.favorites,r];return kr({favorites:d,collections:c.collections}),{favorites:d}})},createCollection:r=>{const c=r.trim();if(!c)return null;const i={id:`collection-${Date.now()}`,name:c,componentIds:[]};return a(d=>{const u=[...d.collections,i];return kr({favorites:d.favorites,collections:u}),{collections:u}}),i.id},renameCollection:(r,c)=>{a(i=>{const d=i.collections.map(u=>u.id===r?{...u,name:c}:u);return kr({favorites:i.favorites,collections:d}),{collections:d}})},deleteCollection:r=>{a(c=>{const i=c.collections.filter(d=>d.id!==r);return kr({favorites:c.favorites,collections:i}),{collections:i}})},addComponentToCollection:(r,c)=>{a(i=>{const d=i.collections.map(u=>u.id!==r||u.componentIds.includes(c)?u:{...u,componentIds:[...u.componentIds,c]});return kr({favorites:i.favorites,collections:d}),{collections:d}})},removeComponentFromCollection:(r,c)=>{a(i=>{const d=i.collections.map(u=>u.id!==r?u:{...u,componentIds:u.componentIds.filter(m=>m!==c)});return kr({favorites:i.favorites,collections:d}),{collections:d}})}}));function s0({open:a,initialName:l="",onConfirm:r,onCancel:c}){const[i,d]=j.useState(l);j.useEffect(()=>{a&&d(l)},[a,l]);const u=()=>{i.trim()&&r(i.trim())};return e.jsx(ec,{open:a,onOpenChange:m=>!m&&c(),children:e.jsxs(Br,{children:[e.jsxs(Ur,{children:[e.jsx(Vr,{children:l?"Rename Collection":"Create Collection"}),e.jsx($r,{children:l?"Enter a new name for the collection":"Enter a name for the new collection"})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(b,{htmlFor:"collection-name",children:"Collection Name"}),e.jsx(J,{id:"collection-name",value:i,onChange:m=>d(m.target.value),onKeyDown:m=>{m.key==="Enter"&&u()},className:"mt-2",autoFocus:!0})]}),e.jsxs(Hr,{children:[e.jsx(V,{variant:"outline",onClick:c,children:"Cancel"}),e.jsx(V,{onClick:u,disabled:!i.trim(),children:l?"Save":"Create"})]})]})})}function tD(){const[a,l]=j.useState(""),[r,c]=j.useState("all"),[i,d]=j.useState(!1),[u,m]=j.useState(!1),[f,h]=j.useState(null),[p,g]=j.useState(null),[y,M]=j.useState(180),[w,k]=j.useState(!1),E=j.useRef(null),[N,A]=j.useState(()=>Lo.reduce((ee,se)=>(ee[se.id]=!0,ee),{})),{favorites:P,collections:I,toggleFavorite:T,createCollection:z,renameCollection:C,deleteCollection:L,addComponentToCollection:Q,removeComponentFromCollection:Y}=sD(),W=ee=>{A(se=>({...se,[ee]:!se[ee]}))},q=a.toLowerCase(),F=j.useMemo(()=>Ji.filter(ee=>ee.label.toLowerCase().includes(q)),[q]),me=j.useMemo(()=>F.filter(ee=>P.includes(ee.id)),[P,F]),je=(ee,se)=>{ee.dataTransfer.setData("application/json",JSON.stringify(se)),ee.dataTransfer.effectAllowed="copy"},ce=()=>{h(null),d(!0)},K=ee=>{if(f)C(f.id,ee),h(null);else{if(I.some(le=>le.name.toLowerCase()===ee.toLowerCase())){alert("A collection with this name already exists");return}z(ee)||alert("Failed to create collection")}d(!1)},U=()=>{d(!1),h(null)},ae=ee=>{g(ee),h(null),m(!0)},Z=ee=>{if(!p)return;if(I.some(le=>le.name.toLowerCase()===ee.toLowerCase())){alert("A collection with this name already exists");return}const X=z(ee);X?Q(X,p):alert("Failed to create collection"),m(!1),g(null)},O=()=>{m(!1),g(null)},re=ee=>{h(ee),d(!0)};j.useEffect(()=>{if(!w)return;const ee=X=>{if(!E.current)return;const le=E.current.closest(".h-full");if(!le)return;const G=le.getBoundingClientRect();E.current.getBoundingClientRect();const xe=G.bottom-X.clientY,Te=70,we=G.height*.8;M(Math.max(Te,Math.min(we,xe)))},se=()=>{k(!1)};return document.addEventListener("mousemove",ee),document.addEventListener("mouseup",se),()=>{document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",se)}},[w]);const H=(ee,se)=>{const X=P.includes(ee.id);return e.jsxs("div",{draggable:!0,onDragStart:le=>je(le,ee),className:`flex items-center gap-1 px-1 ${se?.compact?"py-0.5 text-[10px]":"py-1 text-xs"} rounded-md bg-secondary/50 hover:bg-secondary cursor-move transition-colors border border-border/50`,children:[e.jsxs("div",{className:"flex items-center gap-0.5 flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm flex-shrink-0",children:ee.icon}),e.jsx("span",{className:"text-foreground truncate min-w-0",children:ee.label})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:le=>{le.preventDefault(),le.stopPropagation(),T(ee.id)},onMouseDown:le=>le.stopPropagation(),className:"p-1 rounded-md hover:bg-muted transition-colors",title:X?"Remove from favorites":"Add to favorites",children:e.jsx(l3,{className:`h-4 w-4 ${X?"text-yellow-400":"text-muted-foreground"}`,fill:X?"currentColor":"none"})}),e.jsxs(YT,{children:[e.jsx(XT,{asChild:!0,children:e.jsx("button",{type:"button",onMouseDown:le=>le.stopPropagation(),className:"p-1 rounded-md hover:bg-muted transition-colors",title:"Add to collection",children:e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})})}),e.jsxs(Ly,{align:"end",className:"w-48",children:[I.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(Hh,{children:"No collections"}),e.jsxs(Xo,{onSelect:le=>{le.preventDefault(),ae(ee.id)},children:[e.jsx(Dh,{className:"h-4 w-4 mr-2"}),"Create and add"]})]}),I.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Hh,{children:"Add to collection"}),I.map(le=>e.jsx(Xo,{onSelect:G=>{G.preventDefault(),Q(le.id,ee.id)},children:le.name},le.id)),e.jsx(Iy,{}),e.jsxs(Xo,{onSelect:le=>{le.preventDefault(),ae(ee.id)},children:[e.jsx(Dh,{className:"h-4 w-4 mr-2"}),"New collection"]})]})]})]}),se?.onRemove&&e.jsx("button",{type:"button",onClick:le=>{le.preventDefault(),le.stopPropagation(),se.onRemove?.()},onMouseDown:le=>le.stopPropagation(),className:"p-1 rounded-md hover:bg-muted transition-colors",title:"Remove from collection",children:e.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})})]})]},`${ee.id}-${se?.compact?"compact":"default"}`)},oe=r==="all"?Lo:Lo.filter(ee=>ee.id===r);return e.jsxs("div",{className:"w-60 h-full bg-sidebar-bg border-r border-border flex flex-col",children:[e.jsxs("div",{className:"p-3 border-b border-border",children:[e.jsx("h2",{className:"text-xs font-semibold text-foreground mb-2",children:"Components"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ra,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),e.jsx(J,{type:"text",placeholder:"Search...",value:a,onChange:ee=>l(ee.target.value),className:"pl-7 h-8 text-xs"})]})]}),e.jsx("div",{className:"px-3 py-1.5 border-b border-border pb-2",children:e.jsx(Ve,{value:r,onValueChange:c,children:e.jsxs(wt,{orientation:"horizontal",className:"w-full",children:[e.jsxs(He,{className:"flex w-max gap-0.5",children:[e.jsx(de,{value:"all",className:"text-xs px-2 py-1",children:"All"}),Lo.map(ee=>e.jsx(de,{value:ee.id,className:"text-xs px-2 py-1",children:ee.icon},ee.id))]}),e.jsx(gd,{orientation:"horizontal",className:"data-[state=visible]:bg-accent/20 data-[state=visible]:hover:bg-accent/30 [&>[data-radix-scroll-area-thumb]]:bg-accent/80 hover:[&>[data-radix-scroll-area-thumb]]:bg-accent rounded-full",style:{transition:"none"}})]})})}),me.length>0&&e.jsxs("div",{className:"px-3 py-2 border-b border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-[10px] font-semibold uppercase text-muted-foreground",children:"Favorites"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:me.length})]}),e.jsx("div",{className:"space-y-1",children:me.map(ee=>H(ee,{compact:!0}))})]}),e.jsx(wt,{className:"flex-1",children:e.jsx("div",{className:"pl-3 pr-6 py-2",children:oe.map(ee=>{const se=F.filter(X=>X.category===ee.id);return se.length===0&&a?null:e.jsxs("div",{className:"mb-1.5",children:[e.jsxs(V,{variant:"ghost",className:"w-full justify-start px-1 h-7 text-xs",onClick:()=>W(ee.id),children:[N[ee.id]?e.jsx(fd,{className:"h-3.5 w-3.5 mr-0.5"}):e.jsx(ix,{className:"h-3.5 w-3.5 mr-0.5"}),e.jsx("span",{className:"mr-1",children:ee.icon}),e.jsx("span",{className:"flex-1 text-left truncate min-w-0 mr-1",children:ee.label}),e.jsx("span",{className:"text-[10px] text-muted-foreground flex-shrink-0",children:se.length})]}),N[ee.id]&&e.jsx("div",{className:"ml-1.5 mt-1 space-y-1",children:se.map(X=>H(X,{compact:!0}))})]},ee.id)})})}),e.jsx("div",{ref:E,className:"h-2 border-t border-border cursor-row-resize hover:bg-accent/50 transition-colors relative group flex items-center justify-center",onMouseDown:ee=>{ee.preventDefault(),k(!0)},style:{userSelect:"none"},children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsx(t5,{className:"h-3 w-3 text-muted-foreground"})})}),e.jsxs("div",{className:"border-t border-border overflow-hidden flex flex-col",style:{height:`${y}px`},children:[e.jsx("div",{className:"p-2 pb-1.5 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] uppercase font-semibold text-muted-foreground",children:"Collections"}),e.jsxs(V,{size:"xs",variant:"outline",className:"h-6 text-[10px] px-2",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),ce()},type:"button",children:[e.jsx(Se,{className:"h-3 w-3 mr-0.5"}),"New"]})]})}),e.jsx(wt,{className:"flex-1",children:e.jsx("div",{className:"pl-1.5 pr-4 pb-2 space-y-1.5",children:I.length===0?e.jsx("p",{className:"text-[10px] text-muted-foreground px-0.5",children:"Create collections to quickly build typical architectures."}):I.map(ee=>{const se=ee.componentIds.map(X=>Ji.find(le=>le.id===X)).filter(X=>!!X).filter(X=>X.label.toLowerCase().includes(q));return e.jsxs("div",{className:"rounded-md border border-border/60 p-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:ee.name}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[se.length," items"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7",title:"Rename",onClick:()=>re(ee),children:""}),e.jsx(V,{size:"icon",variant:"ghost",className:"h-7 w-7",title:"Delete collection",onClick:()=>L(ee.id),children:e.jsx(Ba,{className:"h-4 w-4"})})]})]}),se.length===0?e.jsx("p",{className:"text-[10px] text-muted-foreground",children:'Add components via "+" menu.'}):e.jsx("div",{className:"space-y-1",children:se.map(X=>H(X,{compact:!0,onRemove:()=>Y(ee.id,X.id)}))})]},ee.id)})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] uppercase font-semibold text-muted-foreground",children:"Collections"}),e.jsxs(V,{size:"xs",variant:"outline",className:"h-6 text-[10px] px-2",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),ce()},type:"button",children:[e.jsx(Se,{className:"h-3 w-3 mr-0.5"}),"New"]})]}),e.jsx(s0,{open:i,initialName:f?.name||"",onConfirm:K,onCancel:U}),e.jsx(s0,{open:u,initialName:"",onConfirm:Z,onCancel:O})]})}const Pd=Fa(a=>({tabs:[{id:"diagram-1",title:"Untitled Diagram",type:"diagram",active:!0}],addTab:l=>a(r=>{if(l.componentId){const i=r.tabs.find(d=>d.componentId===l.componentId);if(i)return{tabs:r.tabs.map(d=>({...d,active:d.id===i.id}))}}const c={...l,id:`${l.type}-${Date.now()}`,active:!0};return{tabs:[...r.tabs.map(i=>({...i,active:!1})),c]}}),closeTab:l=>a(r=>{const c=r.tabs.filter(u=>u.id!==l);if(c.length===0)return{tabs:[{id:"diagram-1",title:"Untitled Diagram",type:"diagram",active:!0}]};const i=r.tabs.findIndex(u=>u.id===l);if(r.tabs[i]?.active&&c.length>0){const u=Math.min(i,c.length-1);c[u].active=!0}return{tabs:c}}),setActiveTab:l=>a(r=>({tabs:r.tabs.map(c=>({...c,active:c.id===l}))})),updateTab:(l,r)=>a(c=>({tabs:c.tabs.map(i=>i.id===l?{...i,...r}:i)}))}));function aD(a){const l=nD(a),r=j.forwardRef((c,i)=>{const{children:d,...u}=c,m=j.Children.toArray(d),f=m.find(rD);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}function nD(a){const l=j.forwardRef((r,c)=>{const{children:i,...d}=r;if(j.isValidElement(i)){const u=cD(i),m=iD(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var lD=Symbol("radix.slottable");function rD(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===lD}function iD(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function cD(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}function Od(a){const l=j.useRef({value:a,previous:a});return j.useMemo(()=>(l.current.value!==a&&(l.current.previous=l.current.value,l.current.value=a),l.current.previous),[a])}var Uy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oD="VisuallyHidden",dD=j.forwardRef((a,l)=>e.jsx(Je.span,{...a,ref:l,style:{...Uy,...a.style}}));dD.displayName=oD;var uD=[" ","Enter","ArrowUp","ArrowDown"],mD=[" ","Enter"],Tl="Select",[Ld,Id,hD]=wd(Tl),[Zr]=Vt(Tl,[hD,Wr]),Bd=Wr(),[xD,ll]=Zr(Tl),[fD,pD]=Zr(Tl),Hy=a=>{const{__scopeSelect:l,children:r,open:c,defaultOpen:i,onOpenChange:d,value:u,defaultValue:m,onValueChange:f,dir:h,name:p,autoComplete:g,disabled:y,required:M,form:w}=a,k=Bd(l),[E,N]=j.useState(null),[A,P]=j.useState(null),[I,T]=j.useState(!1),z=Kr(h),[C,L]=Va({prop:c,defaultProp:i??!1,onChange:d,caller:Tl}),[Q,Y]=Va({prop:u,defaultProp:m,onChange:f,caller:Tl}),W=j.useRef(null),q=E?w||!!E.closest("form"):!0,[F,me]=j.useState(new Set),je=Array.from(F).map(ce=>ce.props.value).join(";");return e.jsx(Px,{...k,children:e.jsxs(xD,{required:M,scope:l,trigger:E,onTriggerChange:N,valueNode:A,onValueNodeChange:P,valueNodeHasChildren:I,onValueNodeHasChildrenChange:T,contentId:Ca(),value:Q,onValueChange:Y,open:C,onOpenChange:L,dir:z,triggerPointerDownPosRef:W,disabled:y,children:[e.jsx(Ld.Provider,{scope:l,children:e.jsx(fD,{scope:a.__scopeSelect,onNativeOptionAdd:j.useCallback(ce=>{me(K=>new Set(K).add(ce))},[]),onNativeOptionRemove:j.useCallback(ce=>{me(K=>{const U=new Set(K);return U.delete(ce),U})},[]),children:r})}),q?e.jsxs(uw,{"aria-hidden":!0,required:M,tabIndex:-1,name:p,autoComplete:g,value:Q,onChange:ce=>Y(ce.target.value),disabled:y,form:w,children:[Q===void 0?e.jsx("option",{value:""}):null,Array.from(F)]},je):null]})})};Hy.displayName=Tl;var Vy="SelectTrigger",$y=j.forwardRef((a,l)=>{const{__scopeSelect:r,disabled:c=!1,...i}=a,d=Bd(r),u=ll(Vy,r),m=u.disabled||c,f=ts(l,u.onTriggerChange),h=Id(r),p=j.useRef("touch"),[g,y,M]=hw(k=>{const E=h().filter(P=>!P.disabled),N=E.find(P=>P.value===u.value),A=xw(E,k,N);A!==void 0&&u.onValueChange(A.value)}),w=k=>{m||(u.onOpenChange(!0),M()),k&&(u.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return e.jsx(Td,{asChild:!0,...d,children:e.jsx(Je.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":mw(u.value)?"":void 0,...i,ref:f,onClick:Ie(i.onClick,k=>{k.currentTarget.focus(),p.current!=="mouse"&&w(k)}),onPointerDown:Ie(i.onPointerDown,k=>{p.current=k.pointerType;const E=k.target;E.hasPointerCapture(k.pointerId)&&E.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(w(k),k.preventDefault())}),onKeyDown:Ie(i.onKeyDown,k=>{const E=g.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&y(k.key),!(E&&k.key===" ")&&uD.includes(k.key)&&(w(),k.preventDefault())})})})});$y.displayName=Vy;var qy="SelectValue",Fy=j.forwardRef((a,l)=>{const{__scopeSelect:r,className:c,style:i,children:d,placeholder:u="",...m}=a,f=ll(qy,r),{onValueNodeHasChildrenChange:h}=f,p=d!==void 0,g=ts(l,f.onValueNodeChange);return Nt(()=>{h(p)},[h,p]),e.jsx(Je.span,{...m,ref:g,style:{pointerEvents:"none"},children:mw(f.value)?e.jsx(e.Fragment,{children:u}):d})});Fy.displayName=qy;var jD="SelectIcon",Gy=j.forwardRef((a,l)=>{const{__scopeSelect:r,children:c,...i}=a;return e.jsx(Je.span,{"aria-hidden":!0,...i,ref:l,children:c||""})});Gy.displayName=jD;var gD="SelectPortal",Qy=a=>e.jsx(mc,{asChild:!0,...a});Qy.displayName=gD;var Dl="SelectContent",Ky=j.forwardRef((a,l)=>{const r=ll(Dl,a.__scopeSelect),[c,i]=j.useState();if(Nt(()=>{i(new DocumentFragment)},[]),!r.open){const d=c;return d?ic.createPortal(e.jsx(Yy,{scope:a.__scopeSelect,children:e.jsx(Ld.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),d):null}return e.jsx(Xy,{...a,ref:l})});Ky.displayName=Dl;var ya=10,[Yy,rl]=Zr(Dl),vD="SelectContentImpl",ND=aD("SelectContent.RemoveScroll"),Xy=j.forwardRef((a,l)=>{const{__scopeSelect:r,position:c="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:d,onPointerDownOutside:u,side:m,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:M,sticky:w,hideWhenDetached:k,avoidCollisions:E,...N}=a,A=ll(Dl,r),[P,I]=j.useState(null),[T,z]=j.useState(null),C=ts(l,X=>I(X)),[L,Q]=j.useState(null),[Y,W]=j.useState(null),q=Id(r),[F,me]=j.useState(!1),je=j.useRef(!1);j.useEffect(()=>{if(P)return bd(P)},[P]),vd();const ce=j.useCallback(X=>{const[le,...G]=q().map(we=>we.ref.current),[xe]=G.slice(-1),Te=document.activeElement;for(const we of X)if(we===Te||(we?.scrollIntoView({block:"nearest"}),we===le&&T&&(T.scrollTop=0),we===xe&&T&&(T.scrollTop=T.scrollHeight),we?.focus(),document.activeElement!==Te))return},[q,T]),K=j.useCallback(()=>ce([L,P]),[ce,L,P]);j.useEffect(()=>{F&&K()},[F,K]);const{onOpenChange:U,triggerPointerDownPosRef:ae}=A;j.useEffect(()=>{if(P){let X={x:0,y:0};const le=xe=>{X={x:Math.abs(Math.round(xe.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(xe.pageY)-(ae.current?.y??0))}},G=xe=>{X.x<=10&&X.y<=10?xe.preventDefault():P.contains(xe.target)||U(!1),document.removeEventListener("pointermove",le),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",G,{capture:!0})}}},[P,U,ae]),j.useEffect(()=>{const X=()=>U(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[U]);const[Z,O]=hw(X=>{const le=q().filter(Te=>!Te.disabled),G=le.find(Te=>Te.ref.current===document.activeElement),xe=xw(le,X,G);xe&&setTimeout(()=>xe.ref.current.focus())}),re=j.useCallback((X,le,G)=>{const xe=!je.current&&!G;(A.value!==void 0&&A.value===le||xe)&&(Q(X),xe&&(je.current=!0))},[A.value]),H=j.useCallback(()=>P?.focus(),[P]),oe=j.useCallback((X,le,G)=>{const xe=!je.current&&!G;(A.value!==void 0&&A.value===le||xe)&&W(X)},[A.value]),ee=c==="popper"?Vh:Wy,se=ee===Vh?{side:m,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:M,sticky:w,hideWhenDetached:k,avoidCollisions:E}:{};return e.jsx(Yy,{scope:r,content:P,viewport:T,onViewportChange:z,itemRefCallback:re,selectedItem:L,onItemLeave:H,itemTextRefCallback:oe,focusSelectedItem:K,selectedItemText:Y,position:c,isPositioned:F,searchRef:Z,children:e.jsx(hc,{as:ND,allowPinchZoom:!0,children:e.jsx(uc,{asChild:!0,trapped:A.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ie(i,X=>{A.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:e.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:e.jsx(ee,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:X=>X.preventDefault(),...N,...se,onPlaced:()=>me(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ie(N.onKeyDown,X=>{const le=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!le&&X.key.length===1&&O(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let xe=q().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(X.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Te=X.target,we=xe.indexOf(Te);xe=xe.slice(we+1)}setTimeout(()=>ce(xe)),X.preventDefault()}})})})})})})});Xy.displayName=vD;var bD="SelectItemAlignedPosition",Wy=j.forwardRef((a,l)=>{const{__scopeSelect:r,onPlaced:c,...i}=a,d=ll(Dl,r),u=rl(Dl,r),[m,f]=j.useState(null),[h,p]=j.useState(null),g=ts(l,C=>p(C)),y=Id(r),M=j.useRef(!1),w=j.useRef(!0),{viewport:k,selectedItem:E,selectedItemText:N,focusSelectedItem:A}=u,P=j.useCallback(()=>{if(d.trigger&&d.valueNode&&m&&h&&k&&E&&N){const C=d.trigger.getBoundingClientRect(),L=h.getBoundingClientRect(),Q=d.valueNode.getBoundingClientRect(),Y=N.getBoundingClientRect();if(d.dir!=="rtl"){const Te=Y.left-L.left,we=Q.left-Te,Be=C.left-we,qe=C.width+Be,Xe=Math.max(qe,L.width),Ue=window.innerWidth-ya,bs=Zi(we,[ya,Math.max(ya,Ue-Xe)]);m.style.minWidth=qe+"px",m.style.left=bs+"px"}else{const Te=L.right-Y.right,we=window.innerWidth-Q.right-Te,Be=window.innerWidth-C.right-we,qe=C.width+Be,Xe=Math.max(qe,L.width),Ue=window.innerWidth-ya,bs=Zi(we,[ya,Math.max(ya,Ue-Xe)]);m.style.minWidth=qe+"px",m.style.right=bs+"px"}const W=y(),q=window.innerHeight-ya*2,F=k.scrollHeight,me=window.getComputedStyle(h),je=parseInt(me.borderTopWidth,10),ce=parseInt(me.paddingTop,10),K=parseInt(me.borderBottomWidth,10),U=parseInt(me.paddingBottom,10),ae=je+ce+F+U+K,Z=Math.min(E.offsetHeight*5,ae),O=window.getComputedStyle(k),re=parseInt(O.paddingTop,10),H=parseInt(O.paddingBottom,10),oe=C.top+C.height/2-ya,ee=q-oe,se=E.offsetHeight/2,X=E.offsetTop+se,le=je+ce+X,G=ae-le;if(le<=oe){const Te=W.length>0&&E===W[W.length-1].ref.current;m.style.bottom="0px";const we=h.clientHeight-k.offsetTop-k.offsetHeight,Be=Math.max(ee,se+(Te?H:0)+we+K),qe=le+Be;m.style.height=qe+"px"}else{const Te=W.length>0&&E===W[0].ref.current;m.style.top="0px";const Be=Math.max(oe,je+k.offsetTop+(Te?re:0)+se)+G;m.style.height=Be+"px",k.scrollTop=le-oe+k.offsetTop}m.style.margin=`${ya}px 0`,m.style.minHeight=Z+"px",m.style.maxHeight=q+"px",c?.(),requestAnimationFrame(()=>M.current=!0)}},[y,d.trigger,d.valueNode,m,h,k,E,N,d.dir,c]);Nt(()=>P(),[P]);const[I,T]=j.useState();Nt(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const z=j.useCallback(C=>{C&&w.current===!0&&(P(),A?.(),w.current=!1)},[P,A]);return e.jsx(wD,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:M,onScrollButtonChange:z,children:e.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:e.jsx(Je.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Wy.displayName=bD;var yD="SelectPopperPosition",Vh=j.forwardRef((a,l)=>{const{__scopeSelect:r,align:c="start",collisionPadding:i=ya,...d}=a,u=Bd(r);return e.jsx(Ox,{...u,...d,ref:l,align:c,collisionPadding:i,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vh.displayName=yD;var[wD,Fx]=Zr(Dl,{}),$h="SelectViewport",Zy=j.forwardRef((a,l)=>{const{__scopeSelect:r,nonce:c,...i}=a,d=rl($h,r),u=Fx($h,r),m=ts(l,d.onViewportChange),f=j.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(Ld.Slot,{scope:r,children:e.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ie(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=u;if(y?.current&&g){const M=Math.abs(f.current-p.scrollTop);if(M>0){const w=window.innerHeight-ya*2,k=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),N=Math.max(k,E);if(N<w){const A=N+M,P=Math.min(w,A),I=A-P;g.style.height=P+"px",g.style.bottom==="0px"&&(p.scrollTop=I>0?I:0,g.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});Zy.displayName=$h;var Jy="SelectGroup",[CD,SD]=Zr(Jy),kD=j.forwardRef((a,l)=>{const{__scopeSelect:r,...c}=a,i=Ca();return e.jsx(CD,{scope:r,id:i,children:e.jsx(Je.div,{role:"group","aria-labelledby":i,...c,ref:l})})});kD.displayName=Jy;var ew="SelectLabel",sw=j.forwardRef((a,l)=>{const{__scopeSelect:r,...c}=a,i=SD(ew,r);return e.jsx(Je.div,{id:i.id,...c,ref:l})});sw.displayName=ew;var dd="SelectItem",[RD,tw]=Zr(dd),aw=j.forwardRef((a,l)=>{const{__scopeSelect:r,value:c,disabled:i=!1,textValue:d,...u}=a,m=ll(dd,r),f=rl(dd,r),h=m.value===c,[p,g]=j.useState(d??""),[y,M]=j.useState(!1),w=ts(l,A=>f.itemRefCallback?.(A,c,i)),k=Ca(),E=j.useRef("touch"),N=()=>{i||(m.onValueChange(c),m.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(RD,{scope:r,value:c,disabled:i,textId:k,isSelected:h,onItemTextChange:j.useCallback(A=>{g(P=>P||(A?.textContent??"").trim())},[]),children:e.jsx(Ld.ItemSlot,{scope:r,value:c,disabled:i,textValue:p,children:e.jsx(Je.div,{role:"option","aria-labelledby":k,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:w,onFocus:Ie(u.onFocus,()=>M(!0)),onBlur:Ie(u.onBlur,()=>M(!1)),onClick:Ie(u.onClick,()=>{E.current!=="mouse"&&N()}),onPointerUp:Ie(u.onPointerUp,()=>{E.current==="mouse"&&N()}),onPointerDown:Ie(u.onPointerDown,A=>{E.current=A.pointerType}),onPointerMove:Ie(u.onPointerMove,A=>{E.current=A.pointerType,i?f.onItemLeave?.():E.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(u.onPointerLeave,A=>{A.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Ie(u.onKeyDown,A=>{f.searchRef?.current!==""&&A.key===" "||(mD.includes(A.key)&&N(),A.key===" "&&A.preventDefault())})})})})});aw.displayName=dd;var Yi="SelectItemText",nw=j.forwardRef((a,l)=>{const{__scopeSelect:r,className:c,style:i,...d}=a,u=ll(Yi,r),m=rl(Yi,r),f=tw(Yi,r),h=pD(Yi,r),[p,g]=j.useState(null),y=ts(l,N=>g(N),f.onItemTextChange,N=>m.itemTextRefCallback?.(N,f.value,f.disabled)),M=p?.textContent,w=j.useMemo(()=>e.jsx("option",{value:f.value,disabled:f.disabled,children:M},f.value),[f.disabled,f.value,M]),{onNativeOptionAdd:k,onNativeOptionRemove:E}=h;return Nt(()=>(k(w),()=>E(w)),[k,E,w]),e.jsxs(e.Fragment,{children:[e.jsx(Je.span,{id:f.textId,...d,ref:y}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?ic.createPortal(d.children,u.valueNode):null]})});nw.displayName=Yi;var lw="SelectItemIndicator",rw=j.forwardRef((a,l)=>{const{__scopeSelect:r,...c}=a;return tw(lw,r).isSelected?e.jsx(Je.span,{"aria-hidden":!0,...c,ref:l}):null});rw.displayName=lw;var qh="SelectScrollUpButton",iw=j.forwardRef((a,l)=>{const r=rl(qh,a.__scopeSelect),c=Fx(qh,a.__scopeSelect),[i,d]=j.useState(!1),u=ts(l,c.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let m=function(){const h=f.scrollTop>0;d(h)};const f=r.viewport;return m(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),i?e.jsx(ow,{...a,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:f}=r;m&&f&&(m.scrollTop=m.scrollTop-f.offsetHeight)}}):null});iw.displayName=qh;var Fh="SelectScrollDownButton",cw=j.forwardRef((a,l)=>{const r=rl(Fh,a.__scopeSelect),c=Fx(Fh,a.__scopeSelect),[i,d]=j.useState(!1),u=ts(l,c.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let m=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;d(p)};const f=r.viewport;return m(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),i?e.jsx(ow,{...a,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:f}=r;m&&f&&(m.scrollTop=m.scrollTop+f.offsetHeight)}}):null});cw.displayName=Fh;var ow=j.forwardRef((a,l)=>{const{__scopeSelect:r,onAutoScroll:c,...i}=a,d=rl("SelectScrollButton",r),u=j.useRef(null),m=Id(r),f=j.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return j.useEffect(()=>()=>f(),[f]),Nt(()=>{m().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),e.jsx(Je.div,{"aria-hidden":!0,...i,ref:l,style:{flexShrink:0,...i.style},onPointerDown:Ie(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(c,50))}),onPointerMove:Ie(i.onPointerMove,()=>{d.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(c,50))}),onPointerLeave:Ie(i.onPointerLeave,()=>{f()})})}),AD="SelectSeparator",dw=j.forwardRef((a,l)=>{const{__scopeSelect:r,...c}=a;return e.jsx(Je.div,{"aria-hidden":!0,...c,ref:l})});dw.displayName=AD;var Gh="SelectArrow",ED=j.forwardRef((a,l)=>{const{__scopeSelect:r,...c}=a,i=Bd(r),d=ll(Gh,r),u=rl(Gh,r);return d.open&&u.position==="popper"?e.jsx(Lx,{...i,...c,ref:l}):null});ED.displayName=Gh;var MD="SelectBubbleInput",uw=j.forwardRef(({__scopeSelect:a,value:l,...r},c)=>{const i=j.useRef(null),d=ts(c,i),u=Od(l);return j.useEffect(()=>{const m=i.current;if(!m)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==l&&p){const g=new Event("change",{bubbles:!0});p.call(m,l),m.dispatchEvent(g)}},[u,l]),e.jsx(Je.select,{...r,style:{...Uy,...r.style},ref:d,defaultValue:l})});uw.displayName=MD;function mw(a){return a===""||a===void 0}function hw(a){const l=vt(a),r=j.useRef(""),c=j.useRef(0),i=j.useCallback(u=>{const m=r.current+u;l(m),(function f(h){r.current=h,window.clearTimeout(c.current),h!==""&&(c.current=window.setTimeout(()=>f(""),1e3))})(m)},[l]),d=j.useCallback(()=>{r.current="",window.clearTimeout(c.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(c.current),[]),[r,i,d]}function xw(a,l,r){const i=l.length>1&&Array.from(l).every(h=>h===l[0])?l[0]:l,d=r?a.indexOf(r):-1;let u=TD(a,Math.max(d,0));i.length===1&&(u=u.filter(h=>h!==r));const f=u.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==r?f:void 0}function TD(a,l){return a.map((r,c)=>a[(l+c)%a.length])}var DD=Hy,fw=$y,_D=Fy,zD=Gy,PD=Qy,pw=Ky,OD=Zy,jw=sw,gw=aw,LD=nw,ID=rw,vw=iw,Nw=cw,bw=dw;const Pe=DD,Oe=_D,De=j.forwardRef(({className:a,children:l,...r},c)=>e.jsxs(fw,{ref:c,className:We("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,e.jsx(zD,{asChild:!0,children:e.jsx(fd,{className:"h-4 w-4 opacity-50"})})]}));De.displayName=fw.displayName;const yw=j.forwardRef(({className:a,...l},r)=>e.jsx(vw,{ref:r,className:We("flex cursor-default items-center justify-center py-1",a),...l,children:e.jsx(P0,{className:"h-4 w-4"})}));yw.displayName=vw.displayName;const ww=j.forwardRef(({className:a,...l},r)=>e.jsx(Nw,{ref:r,className:We("flex cursor-default items-center justify-center py-1",a),...l,children:e.jsx(fd,{className:"h-4 w-4"})}));ww.displayName=Nw.displayName;const _e=j.forwardRef(({className:a,children:l,position:r="popper",...c},i)=>e.jsx(PD,{children:e.jsxs(pw,{ref:i,className:We("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...c,children:[e.jsx(yw,{}),e.jsx(OD,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),e.jsx(ww,{})]})}));_e.displayName=pw.displayName;const BD=j.forwardRef(({className:a,...l},r)=>e.jsx(jw,{ref:r,className:We("px-2 py-1.5 text-sm font-semibold",a),...l}));BD.displayName=jw.displayName;const ne=j.forwardRef(({className:a,children:l,...r},c)=>e.jsxs(gw,{ref:c,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ID,{children:e.jsx(rx,{className:"h-4 w-4"})})}),e.jsx(LD,{children:l})]}));ne.displayName=gw.displayName;const UD=j.forwardRef(({className:a,...l},r)=>e.jsx(bw,{ref:r,className:We("-mx-1 my-1 h-px bg-muted",a),...l}));UD.displayName=bw.displayName;var Cw=["PageUp","PageDown"],Sw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Jr="Slider",[Qh,HD,VD]=wd(Jr),[Rw]=Vt(Jr,[VD]),[$D,Ud]=Rw(Jr),Aw=j.forwardRef((a,l)=>{const{name:r,min:c=0,max:i=100,step:d=1,orientation:u="horizontal",disabled:m=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[c],value:p,onValueChange:g=()=>{},onValueCommit:y=()=>{},inverted:M=!1,form:w,...k}=a,E=j.useRef(new Set),N=j.useRef(0),P=u==="horizontal"?qD:FD,[I=[],T]=Va({prop:p,defaultProp:h,onChange:W=>{[...E.current][N.current]?.focus(),g(W)}}),z=j.useRef(I);function C(W){const q=XD(I,W);Y(W,q)}function L(W){Y(W,N.current)}function Q(){const W=z.current[N.current];I[N.current]!==W&&y(I)}function Y(W,q,{commit:F}={commit:!1}){const me=e6(d),je=s6(Math.round((W-c)/d)*d+c,me),ce=Zi(je,[c,i]);T((K=[])=>{const U=KD(K,ce,q);if(JD(U,f*d)){N.current=U.indexOf(ce);const ae=String(U)!==String(K);return ae&&F&&y(U),ae?U:K}else return K})}return e.jsx($D,{scope:a.__scopeSlider,name:r,disabled:m,min:c,max:i,valueIndexToChangeRef:N,thumbs:E.current,values:I,orientation:u,form:w,children:e.jsx(Qh.Provider,{scope:a.__scopeSlider,children:e.jsx(Qh.Slot,{scope:a.__scopeSlider,children:e.jsx(P,{"aria-disabled":m,"data-disabled":m?"":void 0,...k,ref:l,onPointerDown:Ie(k.onPointerDown,()=>{m||(z.current=I)}),min:c,max:i,inverted:M,onSlideStart:m?void 0:C,onSlideMove:m?void 0:L,onSlideEnd:m?void 0:Q,onHomeKeyDown:()=>!m&&Y(c,0,{commit:!0}),onEndKeyDown:()=>!m&&Y(i,I.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:q})=>{if(!m){const je=Cw.includes(W.key)||W.shiftKey&&Sw.includes(W.key)?10:1,ce=N.current,K=I[ce],U=d*je*q;Y(K+U,ce,{commit:!0})}}})})})})});Aw.displayName=Jr;var[Ew,Mw]=Rw(Jr,{startEdge:"left",endEdge:"right",size:"width",direction:1}),qD=j.forwardRef((a,l)=>{const{min:r,max:c,dir:i,inverted:d,onSlideStart:u,onSlideMove:m,onSlideEnd:f,onStepKeyDown:h,...p}=a,[g,y]=j.useState(null),M=ts(l,P=>y(P)),w=j.useRef(void 0),k=Kr(i),E=k==="ltr",N=E&&!d||!E&&d;function A(P){const I=w.current||g.getBoundingClientRect(),T=[0,I.width],C=Gx(T,N?[r,c]:[c,r]);return w.current=I,C(P-I.left)}return e.jsx(Ew,{scope:a.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:e.jsx(Tw,{dir:k,"data-orientation":"horizontal",...p,ref:M,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const I=A(P.clientX);u?.(I)},onSlideMove:P=>{const I=A(P.clientX);m?.(I)},onSlideEnd:()=>{w.current=void 0,f?.()},onStepKeyDown:P=>{const T=kw[N?"from-left":"from-right"].includes(P.key);h?.({event:P,direction:T?-1:1})}})})}),FD=j.forwardRef((a,l)=>{const{min:r,max:c,inverted:i,onSlideStart:d,onSlideMove:u,onSlideEnd:m,onStepKeyDown:f,...h}=a,p=j.useRef(null),g=ts(l,p),y=j.useRef(void 0),M=!i;function w(k){const E=y.current||p.current.getBoundingClientRect(),N=[0,E.height],P=Gx(N,M?[c,r]:[r,c]);return y.current=E,P(k-E.top)}return e.jsx(Ew,{scope:a.__scopeSlider,startEdge:M?"bottom":"top",endEdge:M?"top":"bottom",size:"height",direction:M?1:-1,children:e.jsx(Tw,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const E=w(k.clientY);d?.(E)},onSlideMove:k=>{const E=w(k.clientY);u?.(E)},onSlideEnd:()=>{y.current=void 0,m?.()},onStepKeyDown:k=>{const N=kw[M?"from-bottom":"from-top"].includes(k.key);f?.({event:k,direction:N?-1:1})}})})}),Tw=j.forwardRef((a,l)=>{const{__scopeSlider:r,onSlideStart:c,onSlideMove:i,onSlideEnd:d,onHomeKeyDown:u,onEndKeyDown:m,onStepKeyDown:f,...h}=a,p=Ud(Jr,r);return e.jsx(Je.span,{...h,ref:l,onKeyDown:Ie(a.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(m(g),g.preventDefault()):Cw.concat(Sw).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:Ie(a.onPointerDown,g=>{const y=g.target;y.setPointerCapture(g.pointerId),g.preventDefault(),p.thumbs.has(y)?y.focus():c(g)}),onPointerMove:Ie(a.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ie(a.onPointerUp,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&(y.releasePointerCapture(g.pointerId),d(g))})})}),Dw="SliderTrack",_w=j.forwardRef((a,l)=>{const{__scopeSlider:r,...c}=a,i=Ud(Dw,r);return e.jsx(Je.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...c,ref:l})});_w.displayName=Dw;var Kh="SliderRange",zw=j.forwardRef((a,l)=>{const{__scopeSlider:r,...c}=a,i=Ud(Kh,r),d=Mw(Kh,r),u=j.useRef(null),m=ts(l,u),f=i.values.length,h=i.values.map(y=>Lw(y,i.min,i.max)),p=f>1?Math.min(...h):0,g=100-Math.max(...h);return e.jsx(Je.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...c,ref:m,style:{...a.style,[d.startEdge]:p+"%",[d.endEdge]:g+"%"}})});zw.displayName=Kh;var Yh="SliderThumb",Pw=j.forwardRef((a,l)=>{const r=HD(a.__scopeSlider),[c,i]=j.useState(null),d=ts(l,m=>i(m)),u=j.useMemo(()=>c?r().findIndex(m=>m.ref.current===c):-1,[r,c]);return e.jsx(GD,{...a,ref:d,index:u})}),GD=j.forwardRef((a,l)=>{const{__scopeSlider:r,index:c,name:i,...d}=a,u=Ud(Yh,r),m=Mw(Yh,r),[f,h]=j.useState(null),p=ts(l,A=>h(A)),g=f?u.form||!!f.closest("form"):!0,y=Md(f),M=u.values[c],w=M===void 0?0:Lw(M,u.min,u.max),k=YD(c,u.values.length),E=y?.[m.size],N=E?WD(E,w,m.direction):0;return j.useEffect(()=>{if(f)return u.thumbs.add(f),()=>{u.thumbs.delete(f)}},[f,u.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${w}% + ${N}px)`},children:[e.jsx(Qh.ItemSlot,{scope:a.__scopeSlider,children:e.jsx(Je.span,{role:"slider","aria-label":a["aria-label"]||k,"aria-valuemin":u.min,"aria-valuenow":M,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...d,ref:p,style:M===void 0?{display:"none"}:a.style,onFocus:Ie(a.onFocus,()=>{u.valueIndexToChangeRef.current=c})})}),g&&e.jsx(Ow,{name:i??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:M},c)]})});Pw.displayName=Yh;var QD="RadioBubbleInput",Ow=j.forwardRef(({__scopeSlider:a,value:l,...r},c)=>{const i=j.useRef(null),d=ts(i,c),u=Od(l);return j.useEffect(()=>{const m=i.current;if(!m)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==l&&p){const g=new Event("input",{bubbles:!0});p.call(m,l),m.dispatchEvent(g)}},[u,l]),e.jsx(Je.input,{style:{display:"none"},...r,ref:d,defaultValue:l})});Ow.displayName=QD;function KD(a=[],l,r){const c=[...a];return c[r]=l,c.sort((i,d)=>i-d)}function Lw(a,l,r){const d=100/(r-l)*(a-l);return Zi(d,[0,100])}function YD(a,l){return l>2?`Value ${a+1} of ${l}`:l===2?["Minimum","Maximum"][a]:void 0}function XD(a,l){if(a.length===1)return 0;const r=a.map(i=>Math.abs(i-l)),c=Math.min(...r);return r.indexOf(c)}function WD(a,l,r){const c=a/2,d=Gx([0,50],[0,c]);return(c-d(l)*r)*r}function ZD(a){return a.slice(0,-1).map((l,r)=>a[r+1]-l)}function JD(a,l){if(l>0){const r=ZD(a);return Math.min(...r)>=l}return!0}function Gx(a,l){return r=>{if(a[0]===a[1]||l[0]===l[1])return l[0];const c=(l[1]-l[0])/(a[1]-a[0]);return l[0]+c*(r-a[0])}}function e6(a){return(String(a).split(".")[1]||"").length}function s6(a,l){const r=Math.pow(10,l);return Math.round(a*r)/r}var Iw=Aw,t6=_w,a6=zw,n6=Pw;const wa=j.forwardRef(({className:a,...l},r)=>e.jsxs(Iw,{ref:r,className:We("relative flex w-full touch-none select-none items-center",a),...l,children:[e.jsx(t6,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(a6,{className:"absolute h-full bg-primary"})}),e.jsx(n6,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));wa.displayName=Iw.displayName;var Hd="Switch",[l6]=Vt(Hd),[r6,i6]=l6(Hd),Bw=j.forwardRef((a,l)=>{const{__scopeSwitch:r,name:c,checked:i,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:h,form:p,...g}=a,[y,M]=j.useState(null),w=ts(l,P=>M(P)),k=j.useRef(!1),E=y?p||!!y.closest("form"):!0,[N,A]=Va({prop:i,defaultProp:d??!1,onChange:h,caller:Hd});return e.jsxs(r6,{scope:r,checked:N,disabled:m,children:[e.jsx(Je.button,{type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":$w(N),"data-disabled":m?"":void 0,disabled:m,value:f,...g,ref:w,onClick:Ie(a.onClick,P=>{A(I=>!I),E&&(k.current=P.isPropagationStopped(),k.current||P.stopPropagation())})}),E&&e.jsx(Vw,{control:y,bubbles:!k.current,name:c,value:f,checked:N,required:u,disabled:m,form:p,style:{transform:"translateX(-100%)"}})]})});Bw.displayName=Hd;var Uw="SwitchThumb",Hw=j.forwardRef((a,l)=>{const{__scopeSwitch:r,...c}=a,i=i6(Uw,r);return e.jsx(Je.span,{"data-state":$w(i.checked),"data-disabled":i.disabled?"":void 0,...c,ref:l})});Hw.displayName=Uw;var c6="SwitchBubbleInput",Vw=j.forwardRef(({__scopeSwitch:a,control:l,checked:r,bubbles:c=!0,...i},d)=>{const u=j.useRef(null),m=ts(u,d),f=Od(r),h=Md(l);return j.useEffect(()=>{const p=u.current;if(!p)return;const g=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&M){const w=new Event("click",{bubbles:c});M.call(p,r),p.dispatchEvent(w)}},[f,r,c]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:m,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vw.displayName=c6;function $w(a){return a?"checked":"unchecked"}var qw=Bw,o6=Hw;const ge=j.forwardRef(({className:a,...l},r)=>e.jsx(qw,{className:We("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...l,ref:r,children:e.jsx(o6,{className:We("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ge.displayName=qw.displayName;const S=j.forwardRef(({className:a,...l},r)=>e.jsx("div",{ref:r,className:We("rounded-xl border bg-card text-card-foreground shadow",a),...l}));S.displayName="Card";const D=j.forwardRef(({className:a,...l},r)=>e.jsx("div",{ref:r,className:We("flex flex-col space-y-1.5 p-6",a),...l}));D.displayName="CardHeader";const _=j.forwardRef(({className:a,...l},r)=>e.jsx("div",{ref:r,className:We("font-semibold leading-none tracking-tight",a),...l}));_.displayName="CardTitle";const ie=j.forwardRef(({className:a,...l},r)=>e.jsx("div",{ref:r,className:We("text-sm text-muted-foreground",a),...l}));ie.displayName="CardDescription";const R=j.forwardRef(({className:a,...l},r)=>e.jsx("div",{ref:r,className:We("p-6 pt-0",a),...l}));R.displayName="CardContent";const d6=j.forwardRef(({className:a,...l},r)=>e.jsx("div",{ref:r,className:We("flex items-center p-6 pt-0",a),...l}));d6.displayName="CardFooter";const u6=sx("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $({className:a,variant:l,...r}){return e.jsx("div",{className:We(u6({variant:l}),a),...r})}function m6({connection:a,onUpdate:l}){const r=a.data||{},{isRunning:c}=st(),{getConnectionMessages:i,getMessageHistory:d}=Zn(),[u,m]=j.useState([]),[f,h]=j.useState([]);j.useEffect(()=>{if(!c){m([]),h([]);return}const N=setInterval(()=>{const A=i(a.id),P=d(50).filter(I=>I.connectionId===a.id);m(A),h(P)},200);return()=>clearInterval(N)},[c,a.id,i,d]);const p=N=>{const A={...r,...N};l(a.id,{data:A})},g=N=>{p({latencyMs:Math.max(0,N)})},y=N=>{p({bandwidthMbps:Math.max(1,N)})},M=N=>{p({packetLossPercent:Math.max(0,Math.min(100,N))})},w=N=>{p({jitterMs:Math.max(0,N)})},k=N=>{p({retryCount:Math.max(0,N)})},E=N=>{p({timeoutMs:Math.max(1e3,N)})};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("h3",{className:"text-xs font-semibold text-foreground",children:"Connection"}),e.jsxs("div",{className:"text-[10px] text-muted-foreground space-y-0.5",children:[e.jsxs("div",{children:["From: ",a.source]}),e.jsxs("div",{children:["To: ",a.target]}),e.jsxs("div",{children:["Type: ",a.type]})]})]}),e.jsxs("div",{className:"border-t border-border pt-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-semibold text-foreground mb-2 uppercase opacity-70",children:"Network Parameters"}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-xs",children:"Latency (ms)"}),e.jsx("span",{className:"text-[10px] font-mono text-primary",children:r.latencyMs??0})]}),e.jsx(wa,{value:[r.latencyMs??0],onValueChange:N=>g(N[0]),min:0,max:5e3,step:10,className:"w-full"}),e.jsx(J,{type:"number",value:r.latencyMs??0,onChange:N=>g(parseInt(N.target.value)||0),placeholder:"0-5000",className:"h-8 text-xs"})]}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-xs",children:"Bandwidth (Mbps)"}),e.jsx("span",{className:"text-[10px] font-mono text-primary",children:r.bandwidthMbps??1e3})]}),e.jsx(wa,{value:[r.bandwidthMbps??1e3],onValueChange:N=>y(N[0]),min:1,max:1e5,step:10,className:"w-full"}),e.jsx(J,{type:"number",value:r.bandwidthMbps??1e3,onChange:N=>y(parseInt(N.target.value)||1e3),placeholder:"1-100000",className:"h-8 text-xs"})]}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-xs",children:"Packet Loss (%)"}),e.jsx("span",{className:"text-[10px] font-mono text-primary",children:r.packetLossPercent??0})]}),e.jsx(wa,{value:[r.packetLossPercent??0],onValueChange:N=>M(N[0]),min:0,max:100,step:.1,className:"w-full"}),e.jsx(J,{type:"number",step:"0.1",value:r.packetLossPercent??0,onChange:N=>M(parseFloat(N.target.value)||0),placeholder:"0-100",className:"h-8 text-xs"})]}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-xs",children:"Jitter (ms)"}),e.jsx("span",{className:"text-[10px] font-mono text-primary",children:r.jitterMs??0})]}),e.jsx(wa,{value:[r.jitterMs??0],onValueChange:N=>w(N[0]),min:0,max:1e3,step:5,className:"w-full"}),e.jsx(J,{type:"number",value:r.jitterMs??0,onChange:N=>w(parseInt(N.target.value)||0),placeholder:"0-1000",className:"h-8 text-xs"})]})]}),e.jsxs("div",{className:"border-t border-border pt-3",children:[e.jsx("h4",{className:"text-[10px] font-semibold text-foreground mb-2 uppercase opacity-70",children:"Traffic Characteristics"}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsx(b,{className:"text-xs",children:"Priority Level"}),e.jsxs(Pe,{value:r.priorityLevel||"medium",onValueChange:N=>p({priorityLevel:N}),children:[e.jsx(De,{className:"h-8 text-xs",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"low",children:"Low"}),e.jsx(ne,{value:"medium",children:"Medium"}),e.jsx(ne,{value:"high",children:"High"}),e.jsx(ne,{value:"critical",children:"Critical"})]})]})]}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-xs",children:"Retry Count"}),e.jsx("span",{className:"text-[10px] font-mono text-primary",children:r.retryCount??3})]}),e.jsx(wa,{value:[r.retryCount??3],onValueChange:N=>k(N[0]),min:0,max:10,step:1,className:"w-full"}),e.jsx(J,{type:"number",value:r.retryCount??3,onChange:N=>k(parseInt(N.target.value)||0),placeholder:"0-10",className:"h-8 text-xs"})]}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(b,{className:"text-xs",children:"Timeout (ms)"}),e.jsx("span",{className:"text-[10px] font-mono text-primary",children:r.timeoutMs??3e4})]}),e.jsx(wa,{value:[r.timeoutMs??3e4],onValueChange:N=>E(N[0]),min:1e3,max:12e4,step:1e3,className:"w-full"}),e.jsx(J,{type:"number",value:r.timeoutMs??3e4,onChange:N=>E(parseInt(N.target.value)||3e4),placeholder:"1000-120000",className:"h-8 text-xs"})]})]}),e.jsxs("div",{className:"border-t border-border pt-3",children:[e.jsx("h4",{className:"text-[10px] font-semibold text-foreground mb-2 uppercase opacity-70",children:"Monitoring"}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-accent/20 rounded-md",children:[e.jsx(b,{className:"text-xs cursor-pointer",children:"Enable Monitoring"}),e.jsx(ge,{checked:r.enableMonitoring??!1,onCheckedChange:N=>p({enableMonitoring:N})})]})]}),e.jsx(S,{className:"bg-card/50 border-border/50 p-2 mt-3",children:e.jsxs("div",{className:"text-[10px] space-y-0.5 text-muted-foreground",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Effective Bandwidth:"}),e.jsxs("span",{className:"font-mono",children:[Math.max(1,(r.bandwidthMbps??1e3)*(1-(r.packetLossPercent??0)/100)).toFixed(2)," Mbps"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Effective Latency:"}),e.jsxs("span",{className:"font-mono",children:[((r.latencyMs??0)+(r.jitterMs??0)/2).toFixed(0)," ms"]})]})]})}),c&&e.jsx("div",{className:"border-t border-border pt-3 mt-3",children:e.jsxs(Ve,{defaultValue:"active",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-2 h-7",children:[e.jsxs(de,{value:"active",className:"text-[10px] px-1.5",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1"}),"Active (",u.length,")"]}),e.jsxs(de,{value:"history",className:"text-[10px] px-1.5",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),"History (",f.length,")"]})]}),e.jsx(ue,{value:"active",className:"mt-2 space-y-1.5",children:u.length===0?e.jsxs("div",{className:"text-center py-4 text-muted-foreground text-[10px]",children:[e.jsx(Ke,{className:"h-6 w-6 mx-auto mb-1.5 opacity-50"}),e.jsx("p",{children:"No active messages"})]}):e.jsx("div",{className:"space-y-1.5 max-h-48 overflow-y-auto",children:u.map((N,A)=>e.jsxs(S,{className:"p-1.5 border-border/50",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx($,{variant:"outline",className:"text-[10px] px-1 py-0",children:N.format}),e.jsx($,{variant:N.status==="delivered"?"default":N.status==="failed"?"destructive":N.status==="transformed"?"secondary":"outline",className:"text-[10px] px-1 py-0",children:N.status})]}),e.jsxs("div",{className:"text-[10px] text-muted-foreground space-y-0.5",children:[e.jsxs("div",{children:["Size: ",(N.size/1024).toFixed(2)," KB"]}),N.latency&&e.jsxs("div",{children:["Latency: ",N.latency.toFixed(0)," ms"]})]}),N.error&&e.jsxs("div",{className:"text-xs text-destructive mt-1 flex items-center gap-1",children:[e.jsx(Or,{className:"h-3 w-3"}),N.error]})]})}),N.payload&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs cursor-pointer text-muted-foreground hover:text-foreground",children:"Show Data"}),e.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto max-h-32 overflow-y-auto",children:JSON.stringify(N.payload,null,2)})]})]},N.id||A))})}),e.jsx(ue,{value:"history",className:"mt-2 space-y-1.5",children:f.length===0?e.jsxs("div",{className:"text-center py-4 text-muted-foreground text-[10px]",children:[e.jsx(Ds,{className:"h-6 w-6 mx-auto mb-1.5 opacity-50"}),e.jsx("p",{children:"History is empty"})]}):e.jsx("div",{className:"space-y-1.5 max-h-48 overflow-y-auto",children:f.map((N,A)=>e.jsxs(S,{className:"p-1.5 border-border/50",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx($,{variant:"outline",className:"text-xs",children:N.format}),e.jsx($,{variant:N.status==="delivered"?"default":N.status==="failed"?"destructive":"outline",className:"text-xs",children:N.status}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(N.timestamp).toLocaleTimeString()})]}),e.jsxs("div",{className:"text-[10px] text-muted-foreground space-y-0.5",children:[e.jsxs("div",{children:["Size: ",(N.size/1024).toFixed(2)," KB"]}),N.latency&&e.jsxs("div",{children:["Latency: ",N.latency.toFixed(0)," ms"]})]}),N.error&&e.jsxs("div",{className:"text-xs text-destructive mt-1 flex items-center gap-1",children:[e.jsx(Or,{className:"h-3 w-3"}),N.error]})]})}),N.payload&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs cursor-pointer text-muted-foreground hover:text-foreground",children:"Show Data"}),e.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-x-auto max-h-32 overflow-y-auto",children:JSON.stringify(N.payload,null,2)})]})]},N.id||A))})})]})})]})]})}function h6(a){const l=x6(a),r=j.forwardRef((c,i)=>{const{children:d,...u}=c,m=j.Children.toArray(d),f=m.find(p6);if(f){const h=f.props.children,p=m.map(g=>g===f?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:g);return e.jsx(l,{...u,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,p):null})}return e.jsx(l,{...u,ref:i,children:d})});return r.displayName=`${a}.Slot`,r}function x6(a){const l=j.forwardRef((r,c)=>{const{children:i,...d}=r;if(j.isValidElement(i)){const u=g6(i),m=j6(d,i.props);return i.type!==j.Fragment&&(m.ref=c?qa(c,u):u),j.cloneElement(i,m)}return j.Children.count(i)>1?j.Children.only(null):null});return l.displayName=`${a}.SlotClone`,l}var f6=Symbol("radix.slottable");function p6(a){return j.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===f6}function j6(a,l){const r={...l};for(const c in l){const i=a[c],d=l[c];/^on[A-Z]/.test(c)?i&&d?r[c]=(...m)=>{const f=d(...m);return i(...m),f}:i&&(r[c]=i):c==="style"?r[c]={...i,...d}:c==="className"&&(r[c]=[i,d].filter(Boolean).join(" "))}return{...a,...r}}function g6(a){let l=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning;return r?a.ref:(l=Object.getOwnPropertyDescriptor(a,"ref")?.get,r=l&&"isReactWarning"in l&&l.isReactWarning,r?a.props.ref:a.props.ref||a.ref)}var Vd="Popover",[Fw]=Vt(Vd,[Wr]),gc=Wr(),[v6,il]=Fw(Vd),Gw=a=>{const{__scopePopover:l,children:r,open:c,defaultOpen:i,onOpenChange:d,modal:u=!1}=a,m=gc(l),f=j.useRef(null),[h,p]=j.useState(!1),[g,y]=Va({prop:c,defaultProp:i??!1,onChange:d,caller:Vd});return e.jsx(Px,{...m,children:e.jsx(v6,{scope:l,contentId:Ca(),triggerRef:f,open:g,onOpenChange:y,onOpenToggle:j.useCallback(()=>y(M=>!M),[y]),hasCustomAnchor:h,onCustomAnchorAdd:j.useCallback(()=>p(!0),[]),onCustomAnchorRemove:j.useCallback(()=>p(!1),[]),modal:u,children:r})})};Gw.displayName=Vd;var Qw="PopoverAnchor",N6=j.forwardRef((a,l)=>{const{__scopePopover:r,...c}=a,i=il(Qw,r),d=gc(r),{onCustomAnchorAdd:u,onCustomAnchorRemove:m}=i;return j.useEffect(()=>(u(),()=>m()),[u,m]),e.jsx(Td,{...d,...c,ref:l})});N6.displayName=Qw;var Kw="PopoverTrigger",Yw=j.forwardRef((a,l)=>{const{__scopePopover:r,...c}=a,i=il(Kw,r),d=gc(r),u=ts(l,i.triggerRef),m=e.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":e2(i.open),...c,ref:u,onClick:Ie(a.onClick,i.onOpenToggle)});return i.hasCustomAnchor?m:e.jsx(Td,{asChild:!0,...d,children:m})});Yw.displayName=Kw;var Qx="PopoverPortal",[b6,y6]=Fw(Qx,{forceMount:void 0}),Xw=a=>{const{__scopePopover:l,forceMount:r,children:c,container:i}=a,d=il(Qx,l);return e.jsx(b6,{scope:l,forceMount:r,children:e.jsx(kt,{present:r||d.open,children:e.jsx(mc,{asChild:!0,container:i,children:c})})})};Xw.displayName=Qx;var Fr="PopoverContent",Ww=j.forwardRef((a,l)=>{const r=y6(Fr,a.__scopePopover),{forceMount:c=r.forceMount,...i}=a,d=il(Fr,a.__scopePopover);return e.jsx(kt,{present:c||d.open,children:d.modal?e.jsx(C6,{...i,ref:l}):e.jsx(S6,{...i,ref:l})})});Ww.displayName=Fr;var w6=h6("PopoverContent.RemoveScroll"),C6=j.forwardRef((a,l)=>{const r=il(Fr,a.__scopePopover),c=j.useRef(null),i=ts(l,c),d=j.useRef(!1);return j.useEffect(()=>{const u=c.current;if(u)return bd(u)},[]),e.jsx(hc,{as:w6,allowPinchZoom:!0,children:e.jsx(Zw,{...a,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(a.onCloseAutoFocus,u=>{u.preventDefault(),d.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ie(a.onPointerDownOutside,u=>{const m=u.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0,h=m.button===2||f;d.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(a.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),S6=j.forwardRef((a,l)=>{const r=il(Fr,a.__scopePopover),c=j.useRef(!1),i=j.useRef(!1);return e.jsx(Zw,{...a,ref:l,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{a.onCloseAutoFocus?.(d),d.defaultPrevented||(c.current||r.triggerRef.current?.focus(),d.preventDefault()),c.current=!1,i.current=!1},onInteractOutside:d=>{a.onInteractOutside?.(d),d.defaultPrevented||(c.current=!0,d.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=d.target;r.triggerRef.current?.contains(u)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&i.current&&d.preventDefault()}})}),Zw=j.forwardRef((a,l)=>{const{__scopePopover:r,trapFocus:c,onOpenAutoFocus:i,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...g}=a,y=il(Fr,r),M=gc(r);return vd(),e.jsx(uc,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:i,onUnmountAutoFocus:d,children:e.jsx(dc,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:p,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:e.jsx(Ox,{"data-state":e2(y.open),role:"dialog",id:y.contentId,...M,...g,ref:l,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Jw="PopoverClose",k6=j.forwardRef((a,l)=>{const{__scopePopover:r,...c}=a,i=il(Jw,r);return e.jsx(Je.button,{type:"button",...c,ref:l,onClick:Ie(a.onClick,()=>i.onOpenChange(!1))})});k6.displayName=Jw;var R6="PopoverArrow",A6=j.forwardRef((a,l)=>{const{__scopePopover:r,...c}=a,i=gc(r);return e.jsx(Lx,{...i,...c,ref:l})});A6.displayName=R6;function e2(a){return a?"open":"closed"}var E6=Gw,M6=Yw,T6=Xw,s2=Ww;const D6=E6,_6=M6,t2=j.forwardRef(({className:a,align:l="center",sideOffset:r=4,...c},i)=>e.jsx(T6,{children:e.jsx(s2,{ref:i,align:l,sideOffset:r,className:We("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",a),...c})}));t2.displayName=s2.displayName;const a2=Fa((a,l)=>({componentStates:new Map,setComponentState:(r,c,i)=>{Rr.setComponentState(r,c,i);const d=Rr.getComponentState(r);d&&a(u=>({componentStates:new Map(u.componentStates).set(r,d)}))},resetComponent:r=>{Rr.resetComponent(r),a(c=>{const i=new Map(c.componentStates);return i.delete(r),{componentStates:i}})},resetAll:()=>{Rr.reset(),a({componentStates:new Map})},getComponentState:r=>l().componentStates.get(r),isEnabled:r=>Rr.isEnabled(r),getAllStates:()=>Array.from(l().componentStates.values())}));function z6({componentId:a,componentLabel:l}){const{isRunning:r}=st(),{getComponentState:c,setComponentState:i,resetComponent:d}=a2(),u=c(a),m=u?.state||"enabled",[f,h]=j.useState(u?.degradedLevel||.5),[p,g]=j.useState(u?.failureRate||.1),[y,M]=j.useState(u?.latencyMultiplier||2),[w,k]=j.useState(u?.throughputMultiplier||.5),E=I=>{I==="degraded"?i(a,I,{degradedLevel:f,failureRate:p,latencyMultiplier:y,throughputMultiplier:w}):i(a,I)},N=()=>{d(a),h(.5),g(.1),M(2),k(.5)},A=I=>{switch(I){case"enabled":return"bg-green-500/20 text-green-500 border-green-500/50";case"disabled":return"bg-gray-500/20 text-gray-500 border-gray-500/50";case"degraded":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/50";case"failed":return"bg-red-500/20 text-red-500 border-red-500/50"}},P=I=>{switch(I){case"enabled":return e.jsx(ph,{className:"w-4 h-4"});case"disabled":return e.jsx(Go,{className:"w-4 h-4"});case"degraded":return e.jsx(ct,{className:"w-4 h-4"});case"failed":return e.jsx(us,{className:"w-4 h-4"})}};return e.jsxs(S,{className:"border",children:[e.jsx(D,{className:"p-3 pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{className:"text-xs flex items-center gap-1.5",children:[e.jsx(Ke,{className:"w-3.5 h-3.5"}),"Component State",e.jsxs(D6,{children:[e.jsx(_6,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"icon",className:"h-4 w-4 rounded-full",children:e.jsx(Nk,{className:"w-3 h-3 text-muted-foreground"})})}),e.jsx(t2,{className:"w-72 text-xs",align:"start",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Component States"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ph,{className:"w-3.5 h-3.5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-green-500",children:"Enabled"}),e.jsx("span",{className:"text-muted-foreground",children:"  normal operation"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Go,{className:"w-3.5 h-3.5 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Disabled"}),e.jsx("span",{className:"text-muted-foreground",children:"  turned off. Throughput=0, Errors=100%"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ct,{className:"w-3.5 h-3.5 text-yellow-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-yellow-500",children:"Degraded"}),e.jsx("span",{className:"text-muted-foreground",children:"  partial failure. Throughput 50%, Latency 2x, Errors 10%"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(us,{className:"w-3.5 h-3.5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-red-500",children:"Failed"}),e.jsx("span",{className:"text-muted-foreground",children:"  crashed. Same as Disabled but indicates failure"})]})]})]}),e.jsx("p",{className:"text-muted-foreground pt-1 border-t border-border",children:"Use to simulate failures and test architecture resilience."})]})})]})]}),e.jsx(ie,{className:"text-[10px] mt-0.5",children:"Control operational state"})]}),u&&e.jsxs($,{variant:"outline",className:`${A(m)} text-[10px] px-1.5 py-0.5`,children:[P(m),e.jsx("span",{className:"ml-0.5",children:m.toUpperCase()})]})]})}),e.jsxs(R,{className:"p-3 pt-2 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[e.jsxs(V,{variant:m==="enabled"?"default":"outline",size:"sm",onClick:()=>E("enabled"),className:"flex items-center gap-1.5 h-7 text-xs",disabled:!r,children:[e.jsx(ph,{className:"w-3.5 h-3.5"}),"Enabled"]}),e.jsxs(V,{variant:m==="disabled"?"destructive":"outline",size:"sm",onClick:()=>E("disabled"),className:"flex items-center gap-1.5 h-7 text-xs",disabled:!r,children:[e.jsx(Go,{className:"w-3.5 h-3.5"}),"Disabled"]}),e.jsxs(V,{variant:m==="degraded"?"default":"outline",size:"sm",onClick:()=>E("degraded"),className:"flex items-center gap-1.5 h-7 text-xs bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-600 dark:text-yellow-400",disabled:!r,children:[e.jsx(ct,{className:"w-3.5 h-3.5"}),"Degraded"]}),e.jsxs(V,{variant:m==="failed"?"destructive":"outline",size:"sm",onClick:()=>E("failed"),className:"flex items-center gap-1.5 h-7 text-xs",disabled:!r,children:[e.jsx(us,{className:"w-3.5 h-3.5"}),"Failed"]})]}),m==="degraded"&&e.jsxs("div",{className:"space-y-2.5 p-2.5 bg-yellow-500/10 rounded-lg border border-yellow-500/20",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[e.jsx(H0,{className:"w-3.5 h-3.5 text-yellow-600 dark:text-yellow-400"}),e.jsx(b,{className:"text-xs font-semibold text-yellow-600 dark:text-yellow-400",children:"Degradation Settings"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(b,{className:"text-xs",children:"Degradation Level"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[(f*100).toFixed(0),"%"]})]}),e.jsx(wa,{value:[f],onValueChange:I=>{h(I[0]),E("degraded")},min:0,max:1,step:.1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(b,{className:"text-xs",children:"Failure Rate"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[(p*100).toFixed(0),"%"]})]}),e.jsx(wa,{value:[p],onValueChange:I=>{g(I[0]),E("degraded")},min:0,max:1,step:.05,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(b,{className:"text-xs",children:"Latency Multiplier"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[y.toFixed(1),"x"]})]}),e.jsx(wa,{value:[y],onValueChange:I=>{M(I[0]),E("degraded")},min:1,max:5,step:.1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(b,{className:"text-xs",children:"Throughput Multiplier"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[(w*100).toFixed(0),"%"]})]}),e.jsx(wa,{value:[w],onValueChange:I=>{k(I[0]),E("degraded")},min:0,max:1,step:.05,className:"w-full"})]})]})]}),u&&e.jsxs(V,{variant:"outline",size:"sm",onClick:N,className:"w-full flex items-center gap-1.5 h-7 text-xs",disabled:!r,children:[e.jsx(U0,{className:"w-3.5 h-3.5"}),"Reset to Normal"]}),!r&&e.jsxs("div",{className:"flex items-center gap-1.5 p-1.5 bg-muted rounded text-[10px] text-muted-foreground",children:[e.jsx(Or,{className:"w-3.5 h-3.5"}),"Start emulation to control component state"]})]})]})}function P6({onFilterChange:a}){const{nodes:l,connections:r,selectNode:c}=Le(),{isRunning:i,getComponentMetrics:d}=st(),{getAllComponentStatuses:u}=Al(),[m,f]=j.useState(""),[h,p]=j.useState(!1),[g,y]=j.useState(!0),[M,w]=j.useState(!0),[k,E]=j.useState(!0),[N,A]=j.useState(!0),[P,I]=j.useState(100),[T,z]=j.useState(5),[C,L]=j.useState(new Set),Q=Gs.useMemo(()=>i?l.filter(F=>{if(m&&!F.data.label.toLowerCase().includes(m.toLowerCase()))return!1;if(!h)return!0;const me=d(F.id),ce=u().find(K=>K.nodeId===F.id);return!!(g&&r.some(U=>U.source===F.id||U.target===F.id?st.getState().getConnectionMetrics(U.id)?.bottleneck:!1)||M&&me&&me.errorRate*100>=T||N&&me&&me.latency>=P||k&&ce?.criticalPath||ce&&(ce.health==="critical"||ce.health==="down"))}):l,[m,h,g,M,N,k,P,T,i,l,r]);Gs.useEffect(()=>{if(h){const F=new Set(Q.map(me=>me.id));L(F),a?.(Array.from(F))}else L(new Set),a?.(l.map(F=>F.id))},[h,Q,l,a]);const Y=F=>{c(F)},W=Q.length,q=l.filter(F=>{if(!i)return!1;const me=d(F.id),ce=u().find(K=>K.nodeId===F.id);return me&&(me.errorRate*100>=T||me.latency>=P)||ce?.criticalPath||ce&&(ce.health==="critical"||ce.health==="down")||r.some(K=>K.source===F.id||K.target===F.id?st.getState().getConnectionMetrics(K.id)?.bottleneck:!1)}).length;return e.jsxs(S,{className:"h-full border-2",children:[e.jsx(D,{className:"pb-3",children:e.jsxs(_,{className:"text-sm flex items-center gap-2",children:[e.jsx(L0,{className:"w-4 h-4"}),"Problem Filters",W>0&&e.jsx($,{variant:"destructive",className:"ml-auto",children:W})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"text-xs",children:"Search Components"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ra,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(J,{placeholder:"Search by name...",value:m,onChange:F=>f(F.target.value),className:"pl-8 h-8 text-xs"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-xs flex items-center gap-2",children:[e.jsx(Wi,{className:"w-4 h-4"}),"Show Only Problems"]}),e.jsx(ge,{checked:h,onCheckedChange:p})]}),h&&e.jsxs("div",{className:"pl-6 space-y-2 border-l-2 border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-xs flex items-center gap-2",children:[e.jsx(H0,{className:"w-4 h-4 text-red-500"}),"Bottlenecks"]}),e.jsx(ge,{checked:g,onCheckedChange:y})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-xs flex items-center gap-2",children:[e.jsx(us,{className:"w-4 h-4 text-orange-500"}),"High Error Rate (>",T,"%)"]}),e.jsx(ge,{checked:M,onCheckedChange:w})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-xs flex items-center gap-2",children:[e.jsx(St,{className:"w-4 h-4 text-yellow-500"}),"High Latency (>",P,"ms)"]}),e.jsx(ge,{checked:N,onCheckedChange:A})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-xs flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-purple-500"}),"Critical Paths"]}),e.jsx(ge,{checked:k,onCheckedChange:E})]})]})]}),h&&e.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[e.jsxs("div",{children:[e.jsx(b,{className:"text-xs",children:"Min Latency (ms)"}),e.jsx(J,{type:"number",value:P,onChange:F=>I(Number(F.target.value)),className:"h-8 text-xs mt-1",min:0})]}),e.jsxs("div",{children:[e.jsx(b,{className:"text-xs",children:"Min Error Rate (%)"}),e.jsx(J,{type:"number",value:T,onChange:F=>z(Number(F.target.value)),className:"h-8 text-xs mt-1",min:0,max:100})]})]}),i&&e.jsx("div",{className:"pt-2 border-t border-border",children:e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total problems detected: ",e.jsx("span",{className:"font-semibold text-foreground",children:q})]})}),h&&Q.length>0&&e.jsx(wt,{className:"h-48 border border-border rounded p-2",children:e.jsx("div",{className:"space-y-1",children:Q.map(F=>{const me=d(F.id),ce=u().find(K=>K.nodeId===F.id);return e.jsx(V,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs h-auto py-1.5",onClick:()=>Y(F.id),children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[ce?.criticalPath&&e.jsx($,{variant:"outline",className:"bg-purple-500/20 text-purple-500 border-purple-500/50 text-[10px] px-1",children:"Critical"}),e.jsx("span",{className:"flex-1 text-left truncate",children:F.data.label}),me&&me.errorRate*100>=T&&e.jsxs($,{variant:"destructive",className:"text-[10px] px-1",children:[(me.errorRate*100).toFixed(0),"%"]})]})},F.id)})})}),!i&&e.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Start emulation to see problems"})]})]})}function O6(){const{nodes:a,connections:l}=Le(),{isRunning:r,getComponentMetrics:c,getConnectionMetrics:i}=st(),{getAllComponentStatuses:d,getSystemAnalysis:u}=Al(),[m,f]=j.useState(""),[h,p]=j.useState("all");if(!r)return e.jsx(S,{className:"h-full",children:e.jsxs(D,{children:[e.jsx(_,{children:"Diagnostics"}),e.jsx(ie,{children:"Start emulation to see diagnostics"})]})});const g=[],y=d();u(),a.forEach(E=>{const N=c(E.id),A=y.find(T=>T.nodeId===E.id);if(!N||!A)return;const P={nodeId:E.id,nodeLabel:E.data.label,problem:"",severity:"info",metrics:{throughput:N.throughput,latency:N.latency,errorRate:N.errorRate,utilization:N.utilization},affectedConnections:[],recommendations:[]},I=l.filter(T=>T.source===E.id||T.target===E.id?i(T.id)?.bottleneck:!1);if(I.length>0){P.problem=`Bottleneck detected in ${I.length} connection(s)`,P.severity="critical",P.affectedConnections=I.map(T=>T.id),P.rootCause="High throughput dependency or backpressure",P.recommendations=["Consider scaling this component horizontally","Optimize data processing logic","Check for connection bandwidth limits"],g.push(P);return}if(N.errorRate>.05){P.problem=`High error rate: ${(N.errorRate*100).toFixed(1)}%`,P.severity=N.errorRate>.1?"critical":"warning",P.rootCause="Component is experiencing failures",P.recommendations=["Check component logs for error details","Verify input data format and validation","Review retry and error handling logic"],g.push(P);return}if(N.latency>1e3){P.problem=`High latency: ${N.latency.toFixed(0)}ms`,P.severity=N.latency>2e3?"critical":"warning",P.rootCause="Component processing is slow",P.recommendations=["Optimize database queries or data processing","Consider caching frequently accessed data","Review component configuration for performance"],g.push(P);return}if(N.utilization>.9){P.problem=`High utilization: ${(N.utilization*100).toFixed(0)}%`,P.severity="warning",P.rootCause="Component is near capacity",P.recommendations=["Consider scaling this component","Optimize resource usage","Monitor for potential failures"],g.push(P);return}(A.health==="critical"||A.health==="down")&&(P.problem=`Component health: ${A.health}`,P.severity="critical",P.rootCause="Component is in critical state or down",P.recommendations=["Immediately check component status","Review error logs and metrics","Consider failover or restart"],g.push(P))});const M=g.filter(E=>!(h!=="all"&&E.severity!==h||m&&!E.nodeLabel.toLowerCase().includes(m.toLowerCase()))),w=E=>{switch(E){case"critical":return e.jsx(us,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(ct,{className:"w-4 h-4 text-yellow-500"});default:return e.jsx(Or,{className:"w-4 h-4 text-blue-500"})}},k=E=>{switch(E){case"critical":return e.jsx($,{variant:"destructive",children:"Critical"});case"warning":return e.jsx($,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Warning"});default:return e.jsx($,{variant:"outline",children:"Info"})}};return e.jsxs(S,{className:"h-full flex flex-col",children:[e.jsxs(D,{className:"pb-3",children:[e.jsx(_,{className:"text-sm",children:"Diagnostics"}),e.jsxs(ie,{className:"text-xs",children:[M.length," problem",M.length!==1?"s":""," detected"]})]}),e.jsxs(R,{className:"flex-1 flex flex-col overflow-hidden p-0",children:[e.jsxs("div",{className:"p-4 border-b border-border space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ra,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(J,{placeholder:"Search components...",value:m,onChange:E=>f(E.target.value),className:"pl-8 h-8 text-xs"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{variant:h==="all"?"default":"outline",size:"sm",className:"h-7 text-xs",onClick:()=>p("all"),children:"All"}),e.jsx(V,{variant:h==="critical"?"default":"outline",size:"sm",className:"h-7 text-xs",onClick:()=>p("critical"),children:"Critical"}),e.jsx(V,{variant:h==="warning"?"default":"outline",size:"sm",className:"h-7 text-xs",onClick:()=>p("warning"),children:"Warning"})]})]}),e.jsx(wt,{className:"flex-1",children:e.jsx("div",{className:"p-4 space-y-3",children:M.length===0?e.jsxs("div",{className:"text-center text-sm text-muted-foreground py-8",children:[e.jsx(Ke,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No problems detected"})]}):M.map((E,N)=>e.jsxs(S,{className:`border-l-4 ${E.severity==="critical"?"border-l-red-500":E.severity==="warning"?"border-l-yellow-500":"border-l-blue-500"}`,children:[e.jsxs(D,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w(E.severity),e.jsx(_,{className:"text-sm",children:E.nodeLabel}),k(E.severity)]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{a.find(P=>P.id===E.nodeId)&&Le.getState().selectNode(E.nodeId)},children:e.jsx(ek,{className:"w-4 h-4"})})]}),e.jsx(ie,{className:"text-xs mt-1",children:E.problem})]}),e.jsxs(R,{className:"pt-0 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[E.metrics.throughput!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Throughput: "}),e.jsxs("span",{className:"font-mono",children:[E.metrics.throughput.toFixed(0)," ops/s"]})]}),E.metrics.latency!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Latency: "}),e.jsxs("span",{className:"font-mono",children:[E.metrics.latency.toFixed(0),"ms"]})]}),E.metrics.errorRate!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Error Rate: "}),e.jsxs("span",{className:"font-mono",children:[(E.metrics.errorRate*100).toFixed(1),"%"]})]}),E.metrics.utilization!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Utilization: "}),e.jsxs("span",{className:"font-mono",children:[(E.metrics.utilization*100).toFixed(0),"%"]})]})]}),E.rootCause&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Root Cause:"}),e.jsx("div",{className:"text-xs",children:E.rootCause})]}),E.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Recommendations:"}),e.jsx("ul",{className:"text-xs space-y-1 list-disc list-inside",children:E.recommendations.map((A,P)=>e.jsx("li",{className:"text-muted-foreground",children:A},P))})]})]})]},N))})})]})]})}function L6(){const{alerts:a,acknowledgeAlert:l,clearAlerts:r,getCriticalAlerts:c,getWarningAlerts:i}=lx(),{selectNode:d}=Le(),u=c(),m=i();a.filter(p=>p.type==="info");const f=p=>{switch(p){case"critical":return e.jsx(us,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(ct,{className:"w-4 h-4 text-yellow-500"});default:return e.jsx(c5,{className:"w-4 h-4 text-blue-500"})}},h=p=>{d(p)};return a.length===0?e.jsxs(S,{className:"h-full",children:[e.jsx(D,{children:e.jsx(_,{className:"text-sm",children:"Alerts"})}),e.jsx(R,{children:e.jsxs("div",{className:"text-center text-sm text-muted-foreground py-8",children:[e.jsx(Ha,{className:"w-8 h-8 mx-auto mb-2 opacity-50 text-green-500"}),e.jsx("p",{children:"No active alerts"})]})})]}):e.jsxs(S,{className:"h-full flex flex-col",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-sm",children:"Alerts"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[u.length>0&&e.jsxs($,{variant:"destructive",className:"text-xs",children:[u.length," Critical"]}),m.length>0&&e.jsxs($,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-600",children:[m.length," Warning"]})]})]}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:r,children:"Clear All"})]})}),e.jsx(R,{className:"flex-1 overflow-hidden p-0",children:e.jsx(wt,{className:"h-full",children:e.jsx("div",{className:"p-4 space-y-2",children:a.map(p=>e.jsx(S,{className:`border-l-4 ${p.type==="critical"?"border-l-red-500 bg-red-500/5":p.type==="warning"?"border-l-yellow-500 bg-yellow-500/5":"border-l-blue-500 bg-blue-500/5"}`,children:e.jsx(R,{className:"p-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[f(p.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-xs font-semibold",children:p.title}),e.jsx($,{variant:p.type==="critical"?"destructive":p.type==="warning"?"outline":"secondary",className:"text-[10px]",children:p.type})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:p.message}),p.nodeLabel&&e.jsxs(V,{variant:"ghost",size:"sm",className:"h-6 text-xs p-1",onClick:()=>p.nodeId&&h(p.nodeId),children:["View: ",p.nodeLabel]}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:new Date(p.timestamp).toLocaleTimeString()})]})]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>l(p.id),children:e.jsx(Ba,{className:"w-3 h-3"})})]})})},p.id))})})})]})}function I6(){const{nodes:a,connections:l}=Le(),{isRunning:r,componentMetrics:c,connectionMetrics:i}=st(),{getSystemAnalysis:d}=Al(),{getCriticalAlerts:u,getWarningAlerts:m}=lx(),f=j.useMemo(()=>{if(!r)return{totalThroughput:0,averageLatency:0,totalErrorRate:0,activeComponents:0,activeConnections:0,bottlenecks:0,healthyComponents:0,degradedComponents:0,criticalComponents:0};let g=0,y=0,M=0,w=0,k=0,E=0,N=0,A=0,P=0;c.forEach(C=>{(C.throughput>.1||C.errorRate>.001)&&(w++,g+=C.throughput||0,y+=C.latency||0,M+=C.errorRate||0)}),i.forEach(C=>{(C.effectiveThroughput>0||C.traffic>0)&&(k++,C.bottleneck&&E++)});const I=Al.getState();a.forEach(C=>{const L=I.getComponentStatus(C.id);if(L)switch(L.health){case"healthy":N++;break;case"degraded":A++;break;case"critical":case"down":P++;break}});const T=w>0?y/w:0,z=w>0?M/w:0;return{totalThroughput:g,averageLatency:T,totalErrorRate:z,activeComponents:w,activeConnections:k,bottlenecks:E,healthyComponents:N,degradedComponents:A,criticalComponents:P}},[r,c,i,a]),h=u(),p=m();return r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2 bg-card border border-border rounded",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Total Throughput"}),e.jsxs("div",{className:"text-lg font-bold text-green-500",children:[f.totalThroughput.toFixed(0),e.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-1",children:"ops/s"})]})]}),e.jsxs("div",{className:"p-2 bg-card border border-border rounded",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Avg Latency"}),e.jsxs("div",{className:"text-lg font-bold text-yellow-500",children:[f.averageLatency.toFixed(0),e.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-1",children:"ms"})]})]}),e.jsxs("div",{className:"p-2 bg-card border border-border rounded",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Error Rate"}),e.jsxs("div",{className:"text-lg font-bold text-red-500",children:[(f.totalErrorRate*100).toFixed(2),e.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-1",children:"%"})]})]}),e.jsxs("div",{className:"p-2 bg-card border border-border rounded",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Bottlenecks"}),e.jsxs("div",{className:"text-lg font-bold text-orange-500",children:[f.bottlenecks,e.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-1",children:"conn"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Component Health"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"Healthy"})]}),e.jsx($,{variant:"outline",className:"bg-green-500/20 border-green-500/50 text-green-500",children:f.healthyComponents})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-3 h-3 text-yellow-500"}),e.jsx("span",{children:"Degraded"})]}),e.jsx($,{variant:"outline",className:"bg-yellow-500/20 border-yellow-500/50 text-yellow-500",children:f.degradedComponents})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-3 h-3 text-red-500"}),e.jsx("span",{children:"Critical/Down"})]}),e.jsx($,{variant:"outline",className:"bg-red-500/20 border-red-500/50 text-red-500",children:f.criticalComponents})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Activity"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{children:"Active Components"})]}),e.jsxs("span",{className:"font-mono",children:[f.activeComponents," / ",a.length]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{children:"Active Connections"})]}),e.jsxs("span",{className:"font-mono",children:[f.activeConnections," / ",l.length]})]})]})]}),(h.length>0||p.length>0)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Alerts"}),e.jsxs("div",{className:"space-y-1",children:[h.length>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-red-500",children:"Critical"}),e.jsx($,{variant:"destructive",children:h.length})]}),p.length>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-yellow-500",children:"Warnings"}),e.jsx($,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:p.length})]})]})]})]}):e.jsxs("div",{className:"text-center text-sm text-muted-foreground py-8",children:[e.jsx(Ke,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Start emulation to see system statistics"})]})}var $d="Checkbox",[B6]=Vt($d),[U6,Kx]=B6($d);function H6(a){const{__scopeCheckbox:l,checked:r,children:c,defaultChecked:i,disabled:d,form:u,name:m,onCheckedChange:f,required:h,value:p="on",internal_do_not_use_render:g}=a,[y,M]=Va({prop:r,defaultProp:i??!1,onChange:f,caller:$d}),[w,k]=j.useState(null),[E,N]=j.useState(null),A=j.useRef(!1),P=w?!!u||!!w.closest("form"):!0,I={checked:y,disabled:d,setChecked:M,control:w,setControl:k,name:m,form:u,value:p,hasConsumerStoppedPropagationRef:A,required:h,defaultChecked:sl(i)?!1:i,isFormControl:P,bubbleInput:E,setBubbleInput:N};return e.jsx(U6,{scope:l,...I,children:V6(g)?g(I):c})}var n2="CheckboxTrigger",l2=j.forwardRef(({__scopeCheckbox:a,onKeyDown:l,onClick:r,...c},i)=>{const{control:d,value:u,disabled:m,checked:f,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:y,isFormControl:M,bubbleInput:w}=Kx(n2,a),k=ts(i,p),E=j.useRef(f);return j.useEffect(()=>{const N=d?.form;if(N){const A=()=>g(E.current);return N.addEventListener("reset",A),()=>N.removeEventListener("reset",A)}},[d,g]),e.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":sl(f)?"mixed":f,"aria-required":h,"data-state":d2(f),"data-disabled":m?"":void 0,disabled:m,value:u,...c,ref:k,onKeyDown:Ie(l,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ie(r,N=>{g(A=>sl(A)?!0:!A),w&&M&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})})});l2.displayName=n2;var Yx=j.forwardRef((a,l)=>{const{__scopeCheckbox:r,name:c,checked:i,defaultChecked:d,required:u,disabled:m,value:f,onCheckedChange:h,form:p,...g}=a;return e.jsx(H6,{__scopeCheckbox:r,checked:i,defaultChecked:d,disabled:m,required:u,onCheckedChange:h,name:c,form:p,value:f,internal_do_not_use_render:({isFormControl:y})=>e.jsxs(e.Fragment,{children:[e.jsx(l2,{...g,ref:l,__scopeCheckbox:r}),y&&e.jsx(o2,{__scopeCheckbox:r})]})})});Yx.displayName=$d;var r2="CheckboxIndicator",i2=j.forwardRef((a,l)=>{const{__scopeCheckbox:r,forceMount:c,...i}=a,d=Kx(r2,r);return e.jsx(kt,{present:c||sl(d.checked)||d.checked===!0,children:e.jsx(Je.span,{"data-state":d2(d.checked),"data-disabled":d.disabled?"":void 0,...i,ref:l,style:{pointerEvents:"none",...a.style}})})});i2.displayName=r2;var c2="CheckboxBubbleInput",o2=j.forwardRef(({__scopeCheckbox:a,...l},r)=>{const{control:c,hasConsumerStoppedPropagationRef:i,checked:d,defaultChecked:u,required:m,disabled:f,name:h,value:p,form:g,bubbleInput:y,setBubbleInput:M}=Kx(c2,a),w=ts(r,M),k=Od(d),E=Md(c);j.useEffect(()=>{const A=y;if(!A)return;const P=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(P,"checked").set,z=!i.current;if(k!==d&&T){const C=new Event("click",{bubbles:z});A.indeterminate=sl(d),T.call(A,sl(d)?!1:d),A.dispatchEvent(C)}},[y,k,d,i]);const N=j.useRef(sl(d)?!1:d);return e.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??N.current,required:m,disabled:f,name:h,value:p,form:g,...l,tabIndex:-1,ref:w,style:{...l.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});o2.displayName=c2;function V6(a){return typeof a=="function"}function sl(a){return a==="indeterminate"}function d2(a){return sl(a)?"indeterminate":a?"checked":"unchecked"}const Xh=j.forwardRef(({className:a,...l},r)=>e.jsx(Yx,{ref:r,className:We("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:e.jsx(i2,{className:We("grid place-content-center text-current"),children:e.jsx(rx,{className:"h-4 w-4"})})}));Xh.displayName=Yx.displayName;function u2({open:a,groupName:l,onConfirm:r,onCancel:c}){return e.jsx(XN,{open:a,onOpenChange:i=>!i&&c(),children:e.jsxs(Nx,{children:[e.jsxs(ZN,{children:[e.jsx(bx,{children:"Delete Group?"}),e.jsxs(yx,{children:['Are you sure you want to delete the group "',l,'"? This action cannot be undone.']})]}),e.jsxs(JN,{children:[e.jsx(Cx,{onClick:c,children:"Cancel"}),e.jsx(wx,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})}function $6({group:a}){const{nodes:l,updateGroup:r,deleteGroup:c,removeNodeFromGroup:i,addNodeToGroup:d,selectGroup:u}=Le(),[m,f]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[M,w]=j.useState(new Set),k=I=>{r(a.id,{name:I}),Ts.success("Group renamed"),p(!1)},E=()=>{f(!0)},N=()=>{c(a.id),u(null),Ts.success("Group deleted"),f(!1)},A=I=>{i(a.id,I),Ts.success("Component removed from group")},P=l.filter(I=>a.nodeIds.includes(I.id));return e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"group-name",className:"text-xs font-medium",children:"Group Name"}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx(J,{id:"group-name",value:a.name,onChange:I=>r(a.id,{name:I.target.value}),className:"flex-1 h-8 text-xs"}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:E,children:e.jsx(Ee,{className:"h-3.5 w-3.5 text-destructive"})})]})]}),e.jsx(u2,{open:m,groupName:a.name,onConfirm:N,onCancel:()=>f(!1)}),e.jsx(Sx,{open:h,initialName:a.name,onConfirm:k,onCancel:()=>p(!1)}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xh,{id:"show-name",checked:a.showName!==!1,onCheckedChange:I=>r(a.id,{showName:I!==!1})}),e.jsx(b,{htmlFor:"show-name",className:"text-xs font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Show name on canvas"})]}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsx(b,{className:"text-xs font-medium mb-1.5 block",children:"Color"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("input",{type:"color",value:a.color||"#3b82f6",onChange:I=>r(a.id,{color:I.target.value}),className:"w-10 h-8 rounded border border-border cursor-pointer"}),e.jsx(J,{value:a.color||"#3b82f6",onChange:I=>r(a.id,{color:I.target.value}),className:"flex-1 font-mono text-xs h-8",placeholder:"#3b82f6"})]})]}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs(b,{className:"text-xs font-medium",children:["Components (",a.nodeIds.length,")"]}),e.jsxs(V,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{if(Le.getState().nodes.filter(z=>!a.nodeIds.includes(z.id)).length===0){Ts.info("All components are already in this group");return}w(new Set),y(!0)},children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.jsxs("div",{className:"space-y-1.5 max-h-48 overflow-y-auto",children:[P.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-secondary/50 rounded border border-border",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-medium truncate",children:I.data?.label||I.type}),e.jsx("div",{className:"text-[10px] text-muted-foreground truncate",children:I.type})]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>A(I.id),title:"Remove from group",children:e.jsx(Ba,{className:"h-3 w-3"})})]},I.id)),P.length===0&&e.jsx("div",{className:"text-xs text-muted-foreground text-center py-3",children:"No components in group"})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[e.jsx("span",{children:"Group ID:"}),e.jsx("code",{className:"font-mono bg-secondary/50 px-1.5 py-0.5 rounded text-[10px]",children:a.id})]}),e.jsx(ec,{open:g,onOpenChange:y,children:e.jsxs(Br,{className:"max-w-md",children:[e.jsxs(Ur,{children:[e.jsx(Vr,{children:"Add Components to Group"}),e.jsxs($r,{children:['Select components to add to "',a.name,'"']})]}),e.jsx(wt,{className:"max-h-96",children:e.jsxs("div",{className:"space-y-2 py-2",children:[l.filter(I=>!a.nodeIds.includes(I.id)).map(I=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded border border-border hover:bg-secondary/50 cursor-pointer",onClick:()=>{const T=new Set(M);T.has(I.id)?T.delete(I.id):T.add(I.id),w(T)},children:[e.jsx(Xh,{checked:M.has(I.id),onCheckedChange:T=>{const z=new Set(M);T?z.add(I.id):z.delete(I.id),w(z)}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:I.data?.label||I.type}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:I.type})]})]},I.id)),l.filter(I=>!a.nodeIds.includes(I.id)).length===0&&e.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"All components are already in this group"})]})}),e.jsxs(Hr,{children:[e.jsx(V,{variant:"outline",onClick:()=>{y(!1),w(new Set)},children:"Cancel"}),e.jsxs(V,{onClick:()=>{if(M.size===0){Ts.error("Select at least one component");return}M.forEach(I=>{d(a.id,I)}),Ts.success(`${M.size} component(s) added to group`),y(!1),w(new Set)},children:["Add Selected (",M.size,")"]})]})]})})]})}function q6(){const{selectedNodeId:a,nodes:l,updateNode:r,selectNode:c,connections:i,updateConnection:d,selectedConnectionId:u,selectConnection:m,selectedGroupId:f,groups:h,selectGroup:p}=Le(),{addTab:g}=Pd(),y=l.find(k=>k.id===a),M=i.find(k=>k.id===u),w=h.find(k=>k.id===f);return w?e.jsxs("div",{className:"w-56 md:w-64 lg:w-72 h-full bg-card border-l border-border flex flex-col",children:[e.jsxs("div",{className:"p-2 border-b border-border flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(jh,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("h2",{className:"text-xs font-semibold text-foreground",children:"Group Properties"})]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>p(null),children:e.jsx(Ba,{className:"h-3.5 w-3.5"})})]}),e.jsx(wt,{className:"flex-1",children:e.jsx("div",{className:"p-2",children:e.jsx($6,{group:w})})})]}):!y&&!M?e.jsx("div",{className:"w-56 md:w-64 lg:w-72 h-full bg-card border-l border-border flex flex-col",children:e.jsxs(Ve,{defaultValue:"stats",className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-1.5 border-b border-border",children:e.jsxs(He,{className:"grid w-full grid-cols-5 h-6 gap-0.5 p-0.5",children:[e.jsx(de,{value:"stats",className:"text-[9px] px-0.5 py-0.5",children:"Stats"}),e.jsx(de,{value:"diagnostics",className:"text-[9px] px-0.5 py-0.5",children:"Diag"}),e.jsx(de,{value:"alerts",className:"text-[9px] px-0.5 py-0.5",children:"Alerts"}),e.jsx(de,{value:"filters",className:"text-[9px] px-0.5 py-0.5",children:"Filter"}),e.jsx(de,{value:"properties",className:"text-[9px] px-0.5 py-0.5",children:"Props"})]})}),e.jsx(ue,{value:"stats",className:"flex-1 m-0 p-0 overflow-hidden",children:e.jsx(wt,{className:"h-full",children:e.jsx("div",{className:"p-2",children:e.jsx(I6,{})})})}),e.jsx(ue,{value:"diagnostics",className:"flex-1 m-0 p-0 overflow-hidden",children:e.jsx(O6,{})}),e.jsx(ue,{value:"alerts",className:"flex-1 m-0 p-0 overflow-hidden",children:e.jsx(L6,{})}),e.jsx(ue,{value:"filters",className:"flex-1 m-0 p-0 overflow-hidden",children:e.jsx(wt,{className:"h-full",children:e.jsx("div",{className:"p-2",children:e.jsx(P6,{})})})}),e.jsx(ue,{value:"properties",className:"flex-1 m-0 p-0 overflow-hidden",children:e.jsx(wt,{className:"h-full",children:e.jsx("div",{className:"p-2 space-y-2",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-semibold mb-1.5",children:["Groups (",h.length,")"]}),h.length>0?e.jsx("div",{className:"space-y-1.5",children:h.map(k=>e.jsx("div",{className:"p-2 bg-secondary/50 rounded border border-border cursor-pointer hover:bg-secondary transition-colors",onClick:()=>p(k.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-medium truncate",children:k.name}),e.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[k.nodeIds.length," component",k.nodeIds.length!==1?"s":""]})]}),e.jsx("div",{className:"w-3 h-3 rounded border-2 border-border flex-shrink-0 ml-1.5",style:{backgroundColor:k.color||"hsl(var(--primary))"}})]})},k.id))}):e.jsx("p",{className:"text-xs text-muted-foreground text-center py-3",children:"No groups created yet"})]})})})})]})}):M?e.jsxs("div",{className:"w-56 md:w-64 lg:w-72 h-full bg-card border-l border-border flex flex-col",children:[e.jsxs("div",{className:"p-2 border-b border-border flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(jh,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("h2",{className:"text-xs font-semibold text-foreground",children:"Connection"})]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>m(null),children:e.jsx(Ba,{className:"h-3.5 w-3.5"})})]}),e.jsx(wt,{className:"flex-1",children:e.jsx("div",{className:"p-2",children:e.jsx(m6,{connection:M,onUpdate:(k,E)=>d(k,E)})})})]}):e.jsxs("div",{className:"w-56 md:w-64 lg:w-72 h-full bg-card border-l border-border flex flex-col",children:[e.jsxs("div",{className:"p-2 border-b border-border flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(jh,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("h2",{className:"text-xs font-semibold text-foreground",children:"Properties"})]}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(null),children:e.jsx(Ba,{className:"h-3.5 w-3.5"})})]}),e.jsx(wt,{className:"flex-1",children:e.jsxs("div",{className:"p-2 space-y-2",children:[e.jsx(z6,{componentId:y.id,componentLabel:y.data.label}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"label",className:"text-xs font-medium",children:"Label"}),e.jsx(J,{id:"label",value:y.data.label,onChange:k=>r(y.id,{data:{...y.data,label:k.target.value}}),className:"mt-1 h-8 text-xs"})]}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold mb-1.5",children:"Position"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"pos-x",className:"text-[10px] text-muted-foreground",children:"X"}),e.jsx(J,{id:"pos-x",type:"number",value:Math.round(y.position.x),onChange:k=>r(y.id,{position:{...y.position,x:parseInt(k.target.value)||0}}),className:"mt-1 h-8 text-xs"})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"pos-y",className:"text-[10px] text-muted-foreground",children:"Y"}),e.jsx(J,{id:"pos-y",type:"number",value:Math.round(y.position.y),onChange:k=>r(y.id,{position:{...y.position,y:parseInt(k.target.value)||0}}),className:"mt-1 h-8 text-xs"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold mb-1.5",children:"Component Type"}),e.jsx("div",{className:"bg-secondary/50 rounded-md p-2 border border-border",children:e.jsx("p",{className:"text-xs font-mono",children:y.type})})]}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold mb-1.5",children:"Configuration"}),e.jsx(V,{variant:"outline",size:"sm",className:"w-full h-8 text-xs",onClick:()=>{g({title:`${y.data.label} Config`,type:"component",componentId:y.id,componentType:y.type})},children:"Open Configuration Panel"})]})]})})]})}function F6(){const{tabs:a,setActiveTab:l,closeTab:r,addTab:c}=Pd(),i=()=>{c({title:"Untitled Diagram",type:"diagram"})};return e.jsx("div",{className:"h-10 bg-secondary/30 border-b border-border flex items-center",children:e.jsxs(wt,{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[a.map(d=>e.jsxs("div",{className:`
                flex items-center gap-2 px-4 h-10 border-r border-border cursor-pointer group
                transition-colors
                ${d.active?"bg-canvas-bg text-foreground":"text-muted-foreground hover:bg-secondary/50"}
              `,onClick:()=>l(d.id),children:[e.jsx("span",{className:"text-sm",children:d.title}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 hover:bg-destructive/10",onClick:u=>{u.stopPropagation(),r(d.id)},children:e.jsx(Ba,{className:"h-3 w-3"})})]},d.id)),e.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-none",onClick:i,children:e.jsx(Se,{className:"h-4 w-4"})})]}),e.jsx(gd,{orientation:"horizontal"})]})})}const t0=globalThis;function a0(a){try{if(typeof t0.structuredClone=="function")return t0.structuredClone(a)}catch{}return JSON.parse(JSON.stringify(a))}function lc(a,l,r=140,c=100,i=16){const d=[],u=r/2,m=c/2,f=a+u,h=l+m;for(let p=0;p<i;p++){const g=p/i*2*Math.PI-Math.PI/2;let y,M;const w=(g%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(w>=0&&w<Math.PI/2){const k=w/(Math.PI/2);y=f+u,M=h-m+k*c}else if(w>=Math.PI/2&&w<Math.PI){const k=(w-Math.PI/2)/(Math.PI/2);y=f+u-k*r,M=h+m}else if(w>=Math.PI&&w<3*Math.PI/2){const k=(w-Math.PI)/(Math.PI/2);y=f-u,M=h+m-k*c}else{const k=(w-3*Math.PI/2)/(Math.PI/2);y=f-u+k*r,M=h-m}d.push({x:y,y:M,index:p})}return d}function G6(a,l,r){let c=1/0,i=0;for(let d=0;d<a.length;d++){const u=a[d],m=Math.sqrt(Math.pow(l-u.x,2)+Math.pow(r-u.y,2));m<c&&(c=m,i=d)}return i}function n0(a,l,r,c,i,d,u,m=140,f=100){const h=lc(d,u,m,f),p=G6(h,r,c);if(i.filter(y=>y.source===a&&y.target===l&&y.sourcePort===p||y.target===a&&y.source===l&&y.targetPort===p).length===0)return p;for(let y=1;y<h.length;y++){const M=(p+y)%h.length,w=(p-y+h.length)%h.length;if(i.filter(N=>N.source===a&&N.target===l&&N.sourcePort===M||N.target===a&&N.source===l&&N.targetPort===M).length===0)return M;if(i.filter(N=>N.source===a&&N.target===l&&N.sourcePort===w||N.target===a&&N.source===l&&N.targetPort===w).length===0)return w}return p}function Q6({node:a,onConnectionStart:l,onConnectionEnd:r,isConnecting:c=!1,onContextMenu:i}){const{selectNode:d,updateNode:u,deleteNode:m,addNode:f,startDragOperation:h,endDragOperation:p,connections:g,zoom:y,pan:M,bringToFront:w,sendToBack:k,bringForward:E,sendBackward:N}=Le(),{addTab:A}=Pd(),[P,I]=j.useState(!1),[T,z]=j.useState(!1),C=j.useRef({x:0,y:0}),L=j.useRef({x:0,y:0}),Q=j.useRef({x:0,y:0}),Y=j.useRef({x:0,y:0}),W=j.useRef(null),q=j.useRef(null),F=j.useRef(!1),me=j.useRef(!1),je=Ji.find(Ue=>Ue.type===a.type),{isRunning:ce,getComponentMetrics:K}=st(),U=Al(Ue=>Ue.getComponentStatus(a.id)),ae=a2(Ue=>Ue.getComponentState(a.id)),Z=ce?K(a.id):void 0,{highlightedNodeId:O}=oc(),re=O===a.id,H=g.some(Ue=>Ue.source===a.id||Ue.target===a.id),oe=Z&&(Z.throughput&&Z.throughput>.1||Z.errorRate&&Z.errorRate>.001||Z.utilization&&Z.utilization>.01),ee=()=>{if(!ce||!Z||!H||!oe)return"";const Ue=Z.utilization||0,bs=Z.errorRate||0,zs=Math.min(1,Ue*.7+bs*.3);return zs>.8?"border-red-500":zs>.6?"border-orange-500":zs>.4?"border-yellow-500":zs>.2?"border-green-500":""},se=()=>{if(!ce)return null;if(ae)switch(ae.state){case"disabled":case"failed":return e.jsx(Go,{className:"text-red-500",size:16});case"degraded":return e.jsx(ct,{className:"text-yellow-500",size:16})}if(!H||!oe||!U)return null;const Ue=U.health,bs=16;switch(Ue){case"healthy":return e.jsx(Ha,{className:"text-green-500",size:bs});case"degraded":return e.jsx(ct,{className:"text-yellow-500",size:bs});case"critical":return e.jsx(Or,{className:"text-orange-500",size:bs});case"down":return e.jsx(us,{className:"text-red-500",size:bs});default:return null}},X=()=>{if(!ce)return a.selected?"border-primary":"border-border";if(ae)switch(ae.state){case"disabled":case"failed":return"border-red-500 border-2";case"degraded":return"border-yellow-500 border-2"}if(!U)return a.selected?"border-primary":"border-border";if(U.criticalPath)return"border-purple-500 border-2";switch(U.health){case"down":return"border-red-500 border-2";case"critical":return"border-orange-500";case"degraded":return"border-yellow-500";default:return a.selected?"border-primary":"border-border"}},le=j.useRef(y),G=j.useRef(M);j.useEffect(()=>{le.current=y,G.current=M},[y,M]),j.useEffect(()=>{const Ue=zs=>{if(!F.current)return;const tt=zs.clientX-L.current.x,mt=zs.clientY-L.current.y,Ys=Math.sqrt(tt*tt+mt*mt);if(!me.current&&Ys>3&&(me.current=!0,I(!0),h(a.id)),me.current&&W.current){const at=le.current,_t=G.current,Os=W.current.getBoundingClientRect(),Ea=(zs.clientX-Os.left-_t.x)/at,pa=(zs.clientY-Os.top-_t.y)/at,yn=Ea-Q.current.x,Ma=pa-Q.current.y,ta=Y.current.x+yn,ja=Y.current.y+Ma;u(a.id,{position:{x:ta,y:ja}},!0)}},bs=()=>{F.current&&(F.current=!1,me.current&&(me.current=!1,I(!1),p()))};return document.addEventListener("mousemove",Ue),document.addEventListener("mouseup",bs),()=>{document.removeEventListener("mousemove",Ue),document.removeEventListener("mouseup",bs)}},[a.id,u,h,p]);const xe=Ue=>{if(Ue.button!==0)return;const bs=Ue.ctrlKey||Ue.metaKey;d(a.id,bs);const zs=document.querySelector(".flex-1.overflow-hidden.relative");if(!zs){C.current={x:0,y:0},Q.current={x:0,y:0},Y.current={x:0,y:0},W.current=null,q.current=null;return}W.current=zs;const tt=le.current,mt=G.current,Ys=zs.getBoundingClientRect();q.current=Ys;const at=(Ue.clientX-Ys.left-mt.x)/tt,_t=(Ue.clientY-Ys.top-mt.y)/tt;Q.current={x:at,y:_t},Y.current={x:a.position.x,y:a.position.y},C.current={x:at-a.position.x,y:_t-a.position.y},L.current={x:Ue.clientX,y:Ue.clientY},F.current=!0,me.current=!1,Ue.stopPropagation()},Te=Ue=>{Ue.stopPropagation(),Ue.preventDefault(),P&&(I(!1),p()),A({title:`${a.data.label} Config`,type:"component",componentId:a.id,componentType:a.type})},we=Ue=>{Ue.key==="Delete"&&a.selected&&m(a.id)},Be=Ue=>{Ue.preventDefault(),Ue.stopPropagation(),d(a.id),i?.(Ue.clientX,Ue.clientY)},qe=Ue=>{Ue.stopPropagation(),l?.()},Xe=Ue=>{if(c){Ue.stopPropagation();const bs=lc(a.position.x,a.position.y,140,100,16),zs=document.querySelector(".flex-1.overflow-hidden.relative");if(zs){const tt=zs.getBoundingClientRect(),mt=(Ue.clientX-tt.left-M.x)/y,Ys=(Ue.clientY-tt.top-M.y)/y;let at=1/0,_t=0;for(let Os=0;Os<bs.length;Os++){const Ea=bs[Os],pa=Math.sqrt(Math.pow(mt-Ea.x,2)+Math.pow(Ys-Ea.y,2));pa<at&&(at=pa,_t=Os)}r?.(_t)}else r?.()}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:`
          absolute cursor-move select-none
          transition-shadow
          ${a.selected?"glow-primary":""}
          ${P?"pointer-events-none":""}
        `,style:{left:`${a.position.x}px`,top:`${a.position.y}px`},onMouseDown:xe,onMouseUp:Xe,onDoubleClick:Te,onContextMenu:Be,onKeyDown:we,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),tabIndex:0,children:e.jsxs("div",{className:We("bg-card border-2 rounded-lg p-4 min-w-[140px] relative",X(),ee(),"hover:border-primary/50 transition-colors",U?.criticalPath&&"shadow-lg shadow-purple-500/20",re&&"ring-4 ring-yellow-400 ring-offset-2 animate-pulse"),children:[ce&&U&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-card rounded-full p-0.5 border border-border",children:se()}),ce&&U?.criticalPath&&e.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 bg-purple-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-semibold",children:"CRITICAL"}),e.jsxs("div",{className:"flex flex-col items-center gap-2 select-none",children:[e.jsx("div",{className:"text-3xl select-none pointer-events-none",children:je?.icon}),e.jsx("div",{className:"text-sm font-medium text-center text-foreground select-none pointer-events-none",children:a.data.label})]}),(T||c)&&(()=>{const Ue=lc(a.position.x,a.position.y,140,100,16);return e.jsx(e.Fragment,{children:Ue.map((bs,zs)=>{const tt=bs.x-a.position.x,mt=bs.y-a.position.y;return e.jsx("div",{className:"absolute w-3 h-3 rounded-full bg-primary/80 border-2 border-card cursor-crosshair hover:scale-150 hover:bg-primary transition-all z-10",style:{left:`${tt-6}px`,top:`${mt-6}px`},onMouseDown:Ys=>{Ys.stopPropagation(),qe(Ys)},onMouseUp:Ys=>{Ys.stopPropagation(),c&&r?.(zs)},title:"Connection point"},zs)})})})()]})})})}function K6({selectedNodeId:a,highlightPath:l=!0}){const{nodes:r,connections:c}=Le(),{isRunning:i}=st(),{getConnectionMessages:d}=Zn(),[u,m]=j.useState(new Set),[f,h]=j.useState(new Map);return j.useEffect(()=>{if(!a||!l||!i){m(new Set),h(new Map);return}const p=new Set,g=new Map,y=[{nodeId:a,path:[a]}];for(;y.length>0;){const{nodeId:M,path:w}=y.shift();if(p.has(M))continue;p.add(M);const k=c.filter(E=>E.source===M);for(const E of k){const N=E.target,A=[...w,N];g.set(E.id,A),p.has(N)||y.push({nodeId:N,path:A})}}h(g),m(new Set(g.keys()))},[a,c,l,i]),j.useEffect(()=>{if(!a||!l||!i)return;const p=new Set,g=[{nodeId:a,path:[a]}];for(;g.length>0;){const{nodeId:y,path:M}=g.shift();if(p.has(y))continue;p.add(y);const w=c.filter(k=>k.target===y);for(const k of w){const E=k.source,N=[E,...M],A=f.get(k.id)||[];(A.length===0||N.length<A.length)&&(f.set(k.id,N),h(new Map(f))),p.has(E)||g.push({nodeId:E,path:N})}}m(new Set(f.keys()))},[a,c,l,i]),null}function Y6(a){const{selectedNodeId:l}=Le(),{isRunning:r}=st(),[c,i]=j.useState(!1);return j.useEffect(()=>{if(!l||!r){i(!1);return}const{nodes:d,connections:u}=Le.getState();if(!d.find(h=>h.id===l)){i(!1);return}const f=u.find(h=>h.id===a);f&&(f.source===l||f.target===l)?i(!0):i(!1)},[l,a,r]),c}function X6({connection:a,sourceNode:l,targetNode:r,zoom:c,isSelected:i=!1,onClick:d,onContextMenu:u}){const[m,f]=j.useState(!1),{isRunning:h,getConnectionMetrics:p}=st(),{getConnectionMessages:g}=Zn(),{selectedNodeId:y,connections:M}=Le(),[w,k]=j.useState(),[E,N]=j.useState([]),A=Y6(a.id);M.some(Z=>Z.source===a.target&&Z.target===a.source),j.useEffect(()=>{if(!h){k(void 0),N([]);return}const Z=setInterval(()=>{const O=p(a.id);k(O);const H=g(a.id).filter(oe=>oe.status==="in-transit"||oe.status==="pending");N(H)},100);return()=>clearInterval(Z)},[h,a.id,p,g]);const P=140,I=100,T=P/2,z=I/2;let C,L,Q,Y;if(a.sourcePort!==void 0&&a.targetPort!==void 0){const Z=lc(l.position.x,l.position.y,P,I,16),O=lc(r.position.x,r.position.y,P,I,16),re=Z[a.sourcePort],H=O[a.targetPort];C=re.x,L=re.y,Q=H.x,Y=H.y}else{const Z=l.position.x+T,O=l.position.y+z,re=r.position.x+T,H=r.position.y+z,oe=Math.atan2(H-O,re-Z),ee=(le,G,xe,Te)=>{const we=Math.abs(xe),Be=Math.atan2(z,T);let qe,Xe;if(we<Be||we>Math.PI-Be){const Ue=Te?1:-1;qe=le+Ue*T*Math.sign(Math.cos(xe)),Xe=G+Ue*T*Math.tan(xe)*Math.sign(Math.cos(xe))}else{const Ue=Te?1:-1;qe=le+Ue*z/Math.tan(xe)*Math.sign(Math.sin(xe)),Xe=G+Ue*z*Math.sign(Math.sin(xe))}return{x:qe,y:Xe}},se=ee(Z,O,oe,!0),X=ee(re,H,oe,!1);C=se.x,L=se.y,Q=X.x,Y=X.y}const W=Q-C,q=Y-L,F=Math.min(Math.abs(W),Math.abs(q))*.3+30,me=`
    M ${C},${L}
    C ${C+F*Math.sign(W)},${L}
      ${Q-F*Math.sign(W)},${Y}
      ${Q},${Y}
  `;let je="hsl(var(--border))",ce=2;A&&y?(je="hsl(280 100% 70%)",ce=3):i?(je="hsl(var(--primary))",ce=2.5):m?(je="hsl(var(--accent))",ce=2.5):w&&h&&(w.effectiveThroughput>0||w.traffic>0)&&(w.bottleneck?(je="hsl(0 84% 60%)",ce=3):w.backpressure>.7?(je="hsl(25 95% 53%)",ce=2.5):w.congestion>.6?(je="hsl(45 93% 47%)",ce=2.5):w.throughputDependency>.5?(je="hsl(142 76% 36%)",ce=2):w.effectiveThroughput>0&&(je="hsl(var(--primary))",ce=2));const K=Z=>{Z.stopPropagation(),d?.()},U=Z=>{Z.preventDefault(),Z.stopPropagation(),u?.(Z)},ae=h&&w&&w.effectiveThroughput>0?w.effectiveThroughput%40/2:0;return e.jsxs("g",{children:[e.jsx("path",{d:me,fill:"none",stroke:"transparent",strokeWidth:20/c,style:{cursor:"pointer"},onClick:K,onContextMenu:U,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)}),h&&w&&w.effectiveThroughput>0&&w.traffic>0&&e.jsx("path",{d:me,fill:"none",stroke:je,strokeWidth:Math.max(1,ce/c),strokeLinecap:"round",strokeDasharray:`${Math.max(4,8/c)} ${Math.max(2,4/c)}`,strokeDashoffset:-ae,style:{opacity:.4,pointerEvents:"none",animation:"flow 2s linear infinite"}}),h&&E.map((Z,O)=>{const re=Date.now()-Z.timestamp,oe=Z.latency?Math.min(1,re/Z.latency):0,ee=C+(Q-C)*oe,se=L+(Y-L)*oe,le={json:"hsl(142 76% 36%)",xml:"hsl(25 95% 53%)",binary:"hsl(221 83% 53%)",protobuf:"hsl(280 100% 70%)",text:"hsl(210 40% 50%)"}[Z.format]||"hsl(var(--primary))";return e.jsxs("g",{children:[e.jsx("circle",{cx:ee,cy:se,r:4/c,fill:le,stroke:"hsl(var(--background))",strokeWidth:1/c,style:{pointerEvents:"none",filter:"drop-shadow(0 0 2px rgba(0,0,0,0.3))"},children:e.jsx("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"1s",repeatCount:"indefinite"})}),Z.size>1e3&&e.jsx("text",{x:ee,y:se-8/c,fill:le,fontSize:8/c,textAnchor:"middle",style:{pointerEvents:"none",userSelect:"none"},children:Z.format})]},Z.id||O)}),e.jsx("path",{d:me,fill:"none",stroke:je,strokeWidth:Math.max(1,ce/c),strokeLinecap:"round",markerEnd:h&&w&&(w.effectiveThroughput>0||w.traffic>0)?`url(#arrowhead-${i?"selected":w?.bottleneck?"bottleneck":"default"})`:i?"url(#arrowhead-selected)":"url(#arrowhead-default)",style:{transition:"stroke 0.3s, stroke-width 0.3s",pointerEvents:"none"}}),h&&w&&(w.effectiveThroughput>0||w.traffic>0)?e.jsxs("g",{children:[e.jsx("text",{x:(C+Q)/2,y:(L+Y)/2-10/c,fill:"hsl(var(--primary))",fontSize:Math.max(8,11/c),textAnchor:"middle",fontWeight:"500",style:{pointerEvents:"none",userSelect:"none"},children:a.label||`${w.latency.toFixed(1)}ms`}),e.jsx("text",{x:(C+Q)/2,y:(L+Y)/2+8/c,fill:"hsl(var(--muted-foreground))",fontSize:Math.max(7,9/c),textAnchor:"middle",style:{pointerEvents:"none",userSelect:"none"},children:w.traffic>0?`${w.traffic.toFixed(1)} KB/s`:`${w.effectiveThroughput.toFixed(0)} msg/s`}),a.data?.bandwidthMbps&&w.traffic>0&&e.jsxs("text",{x:(C+Q)/2,y:(L+Y)/2+20/c,fill:"hsl(var(--muted-foreground))",fontSize:Math.max(6,8/c),textAnchor:"middle",style:{pointerEvents:"none",userSelect:"none",opacity:.7},children:["Limit: ",a.data.bandwidthMbps,"Mbps"]})]}):a.label?e.jsx("g",{children:e.jsx("text",{x:(C+Q)/2,y:(L+Y)/2-10/c,fill:"hsl(var(--primary))",fontSize:Math.max(8,11/c),textAnchor:"middle",fontWeight:"500",style:{pointerEvents:"none",userSelect:"none"},children:a.label})}):null]})}const W6=140,Z6=140,J6=16;function e_({nodeId:a,position:l}){const r=st(p=>p.componentMetrics.get(a)),{connections:c}=Le(),{isRunning:i}=st(),d=c.some(p=>p.source===a||p.target===a),u=r&&(r.throughput&&r.throughput>.1||r.errorRate&&r.errorRate>.001||r.utilization&&r.utilization>.01),m=j.useMemo(()=>{if(!r)return[];const p=[{label:"Throughput",value:`${Math.round(r.throughput)}`,unit:"ops/s",color:"text-blue-400"},{label:"Latency (avg)",value:`${Math.round(r.latency)}`,unit:"ms",color:"text-yellow-400"}];return r.latencyP50!==void 0&&p.push({label:"Latency (p50)",value:`${Math.round(r.latencyP50)}`,unit:"ms",color:"text-green-400"}),r.latencyP99!==void 0&&p.push({label:"Latency (p99)",value:`${Math.round(r.latencyP99)}`,unit:"ms",color:"text-red-400"}),p.push({label:"Error Rate",value:`${(r.errorRate*100).toFixed(2)}`,unit:"%",color:"text-orange-400"},{label:"Utilization",value:`${Math.round(r.utilization*100)}`,unit:"%",color:"text-purple-400"}),p},[r]);if(!i||!r||!d||!u||m.length===0)return null;const f=l.x+W6/2,h=l.y+Z6+J6;return e.jsx("div",{className:"absolute pointer-events-none",style:{left:`${f}px`,top:`${h}px`,transform:"translateX(-50%)",zIndex:10},children:e.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-2 shadow-lg min-w-max",children:e.jsx("div",{className:"text-xs space-y-1",children:m.map(p=>e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("span",{className:"text-slate-400",children:[p.label,":"]}),e.jsxs("span",{className:`font-mono font-semibold ${p.color}`,children:[p.value," ",p.unit]})]},p.label))})})})}function s_({isVisible:a=!0}){return a?e.jsx("div",{className:"absolute bottom-4 right-4 bg-card/95 backdrop-blur-sm border border-border rounded-md p-2 z-10 pointer-events-none",children:e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-green-500/20 border border-green-500/30"}),e.jsx("span",{children:"<20%"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500/20 border border-yellow-500/30"}),e.jsx("span",{children:"20-40%"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-orange-500/20 border border-orange-500/30"}),e.jsx("span",{children:"40-60%"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-red-500/20 border border-red-500/30"}),e.jsx("span",{children:">60%"})]})]})}):null}function t_({isVisible:a=!0}){const{nodes:l,connections:r,zoom:c,pan:i}=Le(),{isRunning:d}=st(),u=Gs.useMemo(()=>{if(l.length===0)return{minX:0,minY:0,maxX:2e3,maxY:2e3};const A=l.map(L=>L.position.x),P=l.map(L=>L.position.y),I=Math.min(...A)-200,T=Math.min(...P)-200,z=Math.max(...A)+200,C=Math.max(...P)+200;return{minX:I,minY:T,maxX:z,maxY:C}},[l]),m=u.maxX-u.minX,f=u.maxY-u.minY,h=120,p=80,g=h/Math.max(m,1e3),y=p/Math.max(f,1e3),M=Math.min(g,y),w=window.innerWidth/c*M,k=window.innerHeight/c*M,E=(-i.x/c-u.minX)*M,N=(-i.y/c-u.minY)*M;return a?e.jsx("div",{className:"absolute bottom-4 left-4 bg-card/95 backdrop-blur-sm border border-border rounded-md p-2 z-10 pointer-events-none",children:e.jsxs("svg",{width:h,height:p,className:"border border-border/50 rounded",style:{background:"hsl(var(--background))"},children:[r.map(A=>{const P=l.find(Q=>Q.id===A.source),I=l.find(Q=>Q.id===A.target);if(!P||!I)return null;const T=(P.position.x-u.minX)*M,z=(P.position.y-u.minY)*M,C=(I.position.x-u.minX)*M,L=(I.position.y-u.minY)*M;return e.jsx("line",{x1:T,y1:z,x2:C,y2:L,stroke:"hsl(var(--border))",strokeWidth:.3,opacity:.2},A.id)}),l.map(A=>e.jsx("circle",{cx:(A.position.x-u.minX)*M,cy:(A.position.y-u.minY)*M,r:1.5,fill:"hsl(var(--muted-foreground))",opacity:.5},A.id)),e.jsx("rect",{x:E,y:N,width:w,height:k,fill:"hsl(var(--primary))",fillOpacity:.2,stroke:"hsl(var(--primary))",strokeWidth:1.5,strokeDasharray:"2 2"})]})}):null}function a_({x:a,y:l,onDelete:r,onRename:c,onCopyId:i,onClose:d}){const u=j.useRef(null),[m,f]=j.useState({x:a,y:l});return j.useEffect(()=>{if(u.current){const h=u.current.getBoundingClientRect(),p=window.innerWidth,g=window.innerHeight;let y=a,M=l;a+h.width>p&&(y=p-h.width-10),l+h.height>g&&(M=g-h.height-10),y=Math.max(10,y),M=Math.max(10,M),f({x:y,y:M})}},[a,l]),j.useEffect(()=>{const h=g=>{u.current&&!u.current.contains(g.target)&&d()},p=g=>{g.key==="Escape"&&d()};return document.addEventListener("mousedown",h),document.addEventListener("keydown",p),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",p)}},[d]),e.jsxs("div",{ref:u,className:"fixed bg-popover border border-border rounded-md shadow-lg z-50 py-0.5 min-w-[120px]",style:{left:`${m.x}px`,top:`${m.y}px`},children:[e.jsxs("button",{onClick:()=>{c(),d()},className:"w-full px-2 py-1 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(Tr,{className:"w-3.5 h-3.5"}),"Rename"]}),e.jsxs("button",{onClick:()=>{i(),d()},className:"w-full px-2 py-1 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(cc,{className:"w-3.5 h-3.5"}),"Copy ID"]}),e.jsx("div",{className:"border-t border-border my-0.5"}),e.jsxs("button",{onClick:()=>{r(),d()},className:"w-full px-2.5 py-1.5 text-xs text-destructive hover:bg-destructive hover:text-destructive-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"}),"Delete"]})]})}function n_({group:a,zoom:l}){const{nodes:r,selectedGroupId:c,selectGroup:i,deleteGroup:d,updateGroup:u}=Le(),[m,f]=j.useState(null),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[M,w]=j.useState(!1),k=j.useState({x:0,y:0})[0],E=j.useState({})[0],N=20,A=140,P=18,I=6,T=6,z=j.useMemo(()=>{const ce=r.filter(re=>a.nodeIds.includes(re.id));if(ce.length===0)return null;const K=N,U=Math.min(...ce.map(re=>re.position.x))-K,ae=Math.min(...ce.map(re=>re.position.y))-K,Z=Math.max(...ce.map(re=>re.position.x+A))+K,O=Math.max(...ce.map(re=>re.position.y+A))+K;return{x:U,y:ae,width:Z-U,height:O-ae}},[r,a.nodeIds]);if(!z)return null;const C=c===a.id,L=a.color||"hsl(var(--primary))",Q=ce=>{ce.preventDefault(),ce.stopPropagation(),i(a.id),f({x:ce.clientX,y:ce.clientY})},Y=ce=>{if(ce.button!==0)return;ce.stopPropagation(),i(a.id),w(!0),k.x=ce.clientX,k.y=ce.clientY,r.filter(U=>a.nodeIds.includes(U.id)).forEach(U=>{E[U.id]={...U.position}})};j.useEffect(()=>{if(!M)return;const ce=U=>{const ae=(U.clientX-k.x)/l,Z=(U.clientY-k.y)/l;a.nodeIds.forEach(O=>{const re=E[O];re&&Le.getState().updateNode(O,{position:{x:re.x+ae,y:re.y+Z}},!0)})},K=()=>{w(!1)};return document.addEventListener("mousemove",ce),document.addEventListener("mouseup",K),()=>{document.removeEventListener("mousemove",ce),document.removeEventListener("mouseup",K)}},[M,k,E,a.nodeIds,l]);const W=()=>{p(!0)},q=()=>{d(a.id),Ts.success("Group deleted"),p(!1)},F=()=>{y(!0)},me=ce=>{u(a.id,{name:ce}),Ts.success("Group renamed"),y(!1)},je=()=>{navigator.clipboard.writeText(a.id),Ts.success("Group ID copied to clipboard")};return e.jsxs(e.Fragment,{children:[e.jsxs("g",{children:[e.jsx("rect",{x:z.x,y:z.y,width:z.width,height:z.height,fill:L,fillOpacity:C?.1:.05,stroke:L,strokeWidth:C?3/l:2/l,strokeDasharray:C?"0":"5,5",rx:8/l,ry:8/l,style:{cursor:"pointer",transition:"all 0.2s"},onMouseDown:Y,onContextMenu:Q}),a.showName!==!1&&(()=>{const ce=r.filter(O=>a.nodeIds.includes(O.id)),U=(ce.length>0?Math.min(...ce.map(O=>O.position.y)):z.y+N)-P-T,ae=z.y+I,Z=Math.min(U,ae);return e.jsxs("g",{onClick:O=>{O.stopPropagation(),i(a.id)},onContextMenu:Q,style:{cursor:"pointer"},children:[e.jsx("rect",{x:z.x+I,y:Z,width:Math.max(80,a.name.length*6.5+16),height:P,fill:L,fillOpacity:.85,rx:3,ry:3,stroke:L,strokeWidth:.5}),e.jsx("text",{x:z.x+I+8,y:Z+P/2,fill:"white",fontSize:11,fontWeight:"600",dominantBaseline:"middle",style:{pointerEvents:"none",userSelect:"none"},children:a.name})]})})()]}),m&&e.jsx(a_,{x:m.x,y:m.y,onDelete:W,onRename:F,onCopyId:je,onClose:()=>f(null)}),e.jsx(u2,{open:h,groupName:a.name,onConfirm:q,onCancel:()=>p(!1)}),e.jsx(Sx,{open:g,initialName:a.name,onConfirm:me,onCancel:()=>y(!1)})]})}function l_({isVisible:a,canvasRef:l}){const{zoom:r,pan:c}=Le(),[i,d]=j.useState(null),u=j.useRef(null);if(j.useEffect(()=>{if(!a){d(null);return}const T=()=>{if(l?.current)d(l.current.getBoundingClientRect());else if(u.current?.parentElement){const Y=u.current.parentElement.getBoundingClientRect(),W=24;d({...Y,width:Y.width-W,height:Y.height-W,left:Y.left+W,top:Y.top+W})}},z=setTimeout(T,10),C=requestAnimationFrame(T),L=requestAnimationFrame(()=>{requestAnimationFrame(T)});return window.addEventListener("resize",T),()=>{clearTimeout(z),cancelAnimationFrame(C),cancelAnimationFrame(L),window.removeEventListener("resize",T)}},[a,l]),j.useEffect(()=>{if(!a)return;const z=requestAnimationFrame(()=>{l?.current&&d(l.current.getBoundingClientRect())});return()=>cancelAnimationFrame(z)},[r,c,a,l]),!a)return null;if(!i)return e.jsx("div",{ref:u,className:"absolute inset-0 pointer-events-none z-20"});const m=20,f=m*r;let h=1;f<10?h=10:f<20?h=5:f<40&&(h=2);const p=m*h,g=24,y=24,M=i.width,w=i.height,k=Math.floor(-c.x/r/p)*p,E=Math.floor(-c.y/r/p)*p,N=k+M/r+p*2,A=E+w/r+p*2,P=[];for(let T=k;T<=N;T+=p)P.push(T);const I=[];for(let T=E;T<=A;T+=p)I.push(T);return e.jsxs("div",{ref:u,className:"absolute inset-0 pointer-events-none z-20",children:[e.jsx("div",{className:"absolute bg-card/90 backdrop-blur-sm border-b border-border pointer-events-none",style:{top:0,left:`${g}px`,right:0,height:`${y}px`,transform:`translate(${c.x}px, 0) scale(${r})`,transformOrigin:"0 0"},children:P.map(T=>e.jsx("div",{className:"absolute top-0 bottom-0 border-l border-border/60",style:{left:`${T}px`,width:"1px"},children:e.jsx("span",{className:"absolute top-0.5 left-1 text-[10px] text-muted-foreground font-mono whitespace-nowrap",style:{transform:`scale(${1/r})`,transformOrigin:"0 0"},children:T})},`h-${T}`))}),e.jsx("div",{className:"absolute bg-card/90 backdrop-blur-sm border-r border-border pointer-events-none",style:{top:`${y}px`,left:0,bottom:0,width:`${g}px`,transform:`translate(0, ${c.y}px) scale(${r})`,transformOrigin:"0 0"},children:I.map(T=>e.jsx("div",{className:"absolute left-0 right-0 border-t border-border/60",style:{top:`${T}px`,height:"1px"},children:e.jsx("span",{className:"absolute left-0.5 top-1 text-[10px] text-muted-foreground font-mono whitespace-nowrap",style:{transform:`scale(${1/r})`,transformOrigin:"0 0"},children:T})},`v-${T}`))}),e.jsx("div",{className:"absolute bg-card/90 backdrop-blur-sm border-b border-r border-border pointer-events-none",style:{top:0,left:0,width:`${g}px`,height:`${y}px`}})]})}function r_({x:a,y:l,onDelete:r,onDuplicate:c,onCopyId:i,onBringToFront:d,onSendToBack:u,onBringForward:m,onSendBackward:f,onAddToGroup:h,onRemoveFromGroup:p,onClose:g}){const y=j.useRef(null);j.useEffect(()=>{const z=L=>{y.current&&!y.current.contains(L.target)&&g()},C=L=>{L.key==="Escape"&&g()};return document.addEventListener("mousedown",z),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",z),document.removeEventListener("keydown",C)}},[g]);const M=()=>{r(),g()},w=()=>{c(),g()},k=()=>{i(),g()},E=()=>{d?.(),g()},N=()=>{u?.(),g()},A=()=>{m?.(),g()},P=()=>{f?.(),g()},I=()=>{h?.(),g()},T=()=>{p?.(),g()};return e.jsxs("div",{ref:y,className:"fixed bg-popover border border-border rounded-md shadow-lg z-50 py-0.5 min-w-[140px]",style:{left:`${a}px`,top:`${l}px`},children:[e.jsxs("button",{onClick:w,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(Mt,{className:"w-3.5 h-3.5"}),"Duplicate"]}),e.jsxs("button",{onClick:k,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(cc,{className:"w-3.5 h-3.5"}),"Copy ID"]}),(h||p)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-border my-0.5"}),p&&e.jsxs("button",{onClick:T,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(Gk,{className:"w-3.5 h-3.5"}),"Remove from Group"]}),h&&e.jsxs("button",{onClick:I,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(Dh,{className:"w-3.5 h-3.5"}),"Add to Group"]})]}),e.jsx("div",{className:"border-t border-border my-0.5"}),(d||u||m||f)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:E,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(tk,{className:"w-3.5 h-3.5"}),"Bring to Front"]}),e.jsxs("button",{onClick:N,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(WS,{className:"w-3.5 h-3.5"}),"Send to Back"]}),e.jsxs("button",{onClick:A,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(P0,{className:"w-3.5 h-3.5"}),"Bring Forward"]}),e.jsxs("button",{onClick:P,className:"w-full px-2 py-1.5 text-xs text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(fd,{className:"w-3.5 h-3.5"}),"Send Backward"]}),e.jsx("div",{className:"border-t border-border my-0.5"})]}),e.jsxs("button",{onClick:M,className:"w-full px-2.5 py-1.5 text-xs text-destructive hover:bg-destructive hover:text-destructive-foreground flex items-center gap-1.5 transition-colors",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"}),"Delete"]})]})}function i_({nodeId:a,x:l,y:r,onClose:c}){const i=j.useRef(null),{groups:d,addNodeToGroup:u}=Le();return j.useEffect(()=>{const m=h=>{i.current&&!i.current.contains(h.target)&&c()},f=h=>{h.key==="Escape"&&c()};return document.addEventListener("mousedown",m),document.addEventListener("keydown",f),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",f)}},[c]),e.jsxs("div",{ref:i,className:"fixed bg-popover border border-border rounded-md shadow-lg z-50 py-1 min-w-[180px]",style:{left:`${l}px`,top:`${r}px`},children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b border-border",children:"Add to Group"}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:(()=>{const m=d.filter(f=>!f.nodeIds.includes(a));return m.length>0?m.map(f=>e.jsxs("button",{onClick:()=>{u(f.id,a),Ts.success(`Added to "${f.name}"`),c()},className:"w-full px-2 py-1.5 text-xs text-left text-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 transition-colors",children:[e.jsx("div",{className:"w-3 h-3 rounded border border-border flex-shrink-0",style:{backgroundColor:f.color||"hsl(var(--primary))"}}),e.jsx("span",{className:"truncate flex-1",children:f.name})]},f.id)):e.jsx("div",{className:"px-2 py-4 text-xs text-muted-foreground text-center",children:d.length===0?"No groups available":"Already in all groups"})})()}),e.jsx("div",{className:"border-t border-border mt-1",children:e.jsx("button",{onClick:c,className:"w-full px-2 py-1.5 text-xs text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"})})]})}function c_({nodeId:a,x:l,y:r,onClose:c}){const i=j.useRef(null),{groups:d,removeNodeFromGroup:u}=Le(),m=d.filter(f=>f.nodeIds.includes(a));return j.useEffect(()=>{const f=p=>{i.current&&!i.current.contains(p.target)&&c()},h=p=>{p.key==="Escape"&&c()};return document.addEventListener("mousedown",f),document.addEventListener("keydown",h),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",h)}},[c]),e.jsxs("div",{ref:i,className:"fixed bg-popover border border-border rounded-md shadow-lg z-50 py-1 min-w-[180px]",style:{left:`${l}px`,top:`${r}px`},children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b border-border",children:"Remove from Group"}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:m.length>0?m.map(f=>e.jsxs("button",{onClick:()=>{u(f.id,a),Ts.success(`Removed from "${f.name}"`),c()},className:"w-full px-2 py-1.5 text-xs text-left text-destructive hover:bg-destructive/10 hover:text-destructive flex items-center gap-2 transition-colors",children:[e.jsx("div",{className:"w-3 h-3 rounded border border-border flex-shrink-0",style:{backgroundColor:f.color||"hsl(var(--primary))"}}),e.jsx("span",{className:"truncate flex-1",children:f.name})]},f.id)):e.jsx("div",{className:"px-2 py-4 text-xs text-muted-foreground text-center",children:"Not in any groups"})}),e.jsx("div",{className:"border-t border-border mt-1",children:e.jsx("button",{onClick:c,className:"w-full px-2 py-1.5 text-xs text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"})})]})}function o_({x:a,y:l,onDelete:r,onClose:c}){const i=j.useRef(null),[d,u]=j.useState({x:a,y:l});return j.useEffect(()=>{if(i.current){const m=i.current.getBoundingClientRect(),f=window.innerWidth,h=window.innerHeight;let p=a,g=l;a+m.width>f&&(p=f-m.width-8),l+m.height>h&&(g=h-m.height-8),p=Math.max(8,p),g=Math.max(8,g),u({x:p,y:g})}},[a,l]),j.useEffect(()=>{const m=h=>{i.current&&!i.current.contains(h.target)&&c()},f=h=>{h.key==="Escape"&&c()};return document.addEventListener("mousedown",m),document.addEventListener("keydown",f),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",f)}},[c]),e.jsx("div",{ref:i,className:"fixed bg-card border border-border rounded-md shadow-lg z-50",style:{left:`${d.x}px`,top:`${d.y}px`},children:e.jsx("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-accent transition-colors first:rounded-t-md last:rounded-b-md",onClick:r,children:"Delete"})})}function l0(){const a=j.useRef(null),{nodes:l,connections:r,groups:c=[],addNode:i,addConnection:d,deleteConnection:u,zoom:m,pan:f,setPan:h,setZoom:p,selectNode:g,selectConnection:y,selectGroup:M,selectNodesByIds:w,selectedConnectionId:k,selectedNodeId:E,setViewportSize:N,deleteNode:A,updateNode:P,bringToFront:I,sendToBack:T,bringForward:z,sendBackward:C,canvasBounds:L,canvasChunks:Q,addNodeToGroup:Y,removeNodeFromGroup:W}=Le(),{isRunning:q}=st(),{showMinimap:F,showHeatMapLegend:me,showRuler:je}=oc(),[ce,K]=j.useState(!1),[U,ae]=j.useState({x:0,y:0}),[Z,O]=j.useState(!1),[re,H]=j.useState(null),[oe,ee]=j.useState(null),[se,X]=j.useState(null),[le,G]=j.useState(null),[xe,Te]=j.useState(null),[we,Be]=j.useState(null),[qe,Xe]=j.useState(null),[Ue,bs]=j.useState(null);j.useEffect(()=>{if(!a.current)return;const Me=()=>{if(!a.current)return;const as=a.current.getBoundingClientRect();N({width:as.width,height:as.height})};Me();const ns=new ResizeObserver(()=>{Me()});return ns.observe(a.current),window.addEventListener("resize",Me),()=>{ns.disconnect(),window.removeEventListener("resize",Me)}},[N]);const zs=Me=>{if(Me.preventDefault(),!a.current)return;const ns=Me.dataTransfer.getData("application/json");if(!ns)return;const as=JSON.parse(ns),Cs=a.current.getBoundingClientRect(),nt=(Me.clientX-Cs.left-f.x)/m,$s=(Me.clientY-Cs.top-f.y)/m,Rt={id:`node-${Date.now()}`,type:as.type,position:{x:nt,y:$s},data:{label:as.label}};i(Rt)},tt=Me=>{Me.preventDefault(),Me.dataTransfer.dropEffect="copy"},mt=Me=>{const ns=Me.button===0;if(Me.button===1||ns&&Me.ctrlKey){K(!0),ae({x:Me.clientX-f.x,y:Me.clientY-f.y}),Me.preventDefault();return}if(ns&&!Z&&!Me.ctrlKey&&!Me.metaKey){if(a.current){const Cs=a.current.getBoundingClientRect(),nt=(Me.clientX-Cs.left-f.x)/m,$s=(Me.clientY-Cs.top-f.y)/m;Te({x:nt,y:$s}),Be({x:nt,y:$s,width:0,height:0})}g(null),y(null),M(null)}},Ys=Me=>{if(ce)h({x:Me.clientX-U.x,y:Me.clientY-U.y});else if(Z&&a.current){const ns=a.current.getBoundingClientRect();ee({x:(Me.clientX-ns.left-f.x)/m,y:(Me.clientY-ns.top-f.y)/m})}else if(xe&&a.current){const ns=a.current.getBoundingClientRect(),as=(Me.clientX-ns.left-f.x)/m,Cs=(Me.clientY-ns.top-f.y)/m,nt=Math.min(xe.x,as),$s=Math.min(xe.y,Cs),Rt=Math.abs(as-xe.x),Ta=Math.abs(Cs-xe.y),bt={x:nt,y:$s,width:Rt,height:Ta};Be(bt);const ht=l.filter(lt=>{const ga=lt.position.x,cl=lt.position.y,$t=lt.position.x+140,ei=lt.position.y+140;return $t>=bt.x&&ga<=bt.x+bt.width&&ei>=bt.y&&cl<=bt.y+bt.height}).map(lt=>lt.id);w(ht)}},at=()=>{K(!1),Z&&(O(!1),H(null),ee(null)),xe&&(Te(null),Be(null))},_t=Me=>{O(!0),H(Me)},Os=(Me,ns)=>{if(Z&&re&&re!==Me){const as=l.find(nt=>nt.id===re),Cs=l.find(nt=>nt.id===Me);if(as&&Cs){const nt=n0(re,Me,Cs.position.x+70,Cs.position.y+50,r,as.position.x,as.position.y),$s=ns!==void 0?ns:n0(Me,re,as.position.x+70,as.position.y+50,r,Cs.position.x,Cs.position.y),Rt={id:`conn-${Date.now()}`,source:re,target:Me,type:"async",sourcePort:nt,targetPort:$s};d(Rt)}}O(!1),H(null),ee(null)},Ea=Me=>{y(Me)},pa=(Me,ns,as)=>{X({connectionId:Me,x:ns,y:as})},yn=()=>{se&&(u(se.connectionId),X(null))},Ma=Me=>{if(Me.ctrlKey&&a.current){Me.preventDefault();const{left:ns,top:as,width:Cs,height:nt}=a.current.getBoundingClientRect(),$s=Me.clientX-ns,Rt=Me.clientY-as,Ta=($s-f.x)/m,bt=(Rt-f.y)/m,ht=1+Math.min(Math.max(-Me.deltaY/500,-.5),.5);let lt=m*ht;lt=Math.min(Math.max(lt,.3),2.5);const ga=$s-Ta*lt,cl=Rt-bt*lt;p(lt),h({x:ga,y:cl})}},ja=20*m,vc=je?24:0,Pl=2e3,wn=m<.5;return e.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[e.jsx(l_,{isVisible:je,canvasRef:a}),e.jsx("div",{ref:a,className:"absolute overflow-hidden",style:{top:`${vc}px`,left:`${vc}px`,right:0,bottom:0,cursor:ce?"grabbing":Z?"crosshair":"default",backgroundColor:"hsl(var(--muted) / 0.1)"},onDrop:zs,onDragOver:tt,onMouseDown:mt,onMouseMove:Ys,onMouseUp:at,onMouseLeave:at,onWheel:Ma,children:e.jsxs("div",{style:{transform:`translate(${f.x}px, ${f.y}px) scale(${m})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"relative"},children:[Q.map(Me=>{const ns=Me.x*Pl,as=Me.y*Pl,Cs=Q.some($s=>$s.x===Me.x+1&&$s.y===Me.y),nt=Q.some($s=>$s.x===Me.x&&$s.y===Me.y+1);return e.jsxs("div",{className:"absolute pointer-events-none",style:{left:`${ns}px`,top:`${as}px`,width:`${Pl}px`,height:`${Pl}px`,backgroundColor:"hsl(var(--canvas-bg))",backgroundImage:`
                  linear-gradient(hsl(var(--canvas-grid)) 1px, transparent 1px),
                  linear-gradient(90deg, hsl(var(--canvas-grid)) 1px, transparent 1px)
                `,backgroundSize:`${ja}px ${ja}px`,backgroundPosition:`${f.x%ja+ns%ja}px ${f.y%ja+as%ja}px`,border:wn?"2px dashed hsl(var(--border) / 0.6)":"none",boxShadow:wn?"inset 0 0 0 1px hsl(var(--border) / 0.3)":"none"},children:[Cs&&e.jsx("div",{className:"absolute top-0 bottom-0 pointer-events-none z-10",style:{right:0,width:"1px",backgroundColor:"hsl(var(--border) / 0.5)"}}),nt&&e.jsx("div",{className:"absolute left-0 right-0 pointer-events-none z-10",style:{bottom:0,height:"1px",backgroundColor:"hsl(var(--border) / 0.5)"}})]},`chunk-${Me.x}-${Me.y}`)}),we&&e.jsx("div",{className:"absolute border-2 border-primary/60 bg-primary/10 pointer-events-none",style:{left:we.x,top:we.y,width:we.width,height:we.height}}),e.jsxs("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"},children:[e.jsxs("defs",{children:[e.jsx("marker",{id:"arrowhead-default",markerWidth:"8",markerHeight:"8",refX:"7",refY:"4",orient:"auto",markerUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M0,0 L0,8 L8,4 z",fill:"hsl(var(--border))",stroke:"none"})}),e.jsx("marker",{id:"arrowhead-selected",markerWidth:"10",markerHeight:"10",refX:"8",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M0,0 L0,10 L10,5 z",fill:"hsl(var(--primary))",stroke:"none"})}),e.jsx("marker",{id:"arrowhead-bottleneck",markerWidth:"12",markerHeight:"12",refX:"10",refY:"6",orient:"auto",markerUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M0,0 L0,12 L12,6 z",fill:"hsl(0 84% 60%)",stroke:"none"})})]}),c&&c.length>0&&e.jsx("g",{style:{pointerEvents:"auto"},children:c.map(Me=>e.jsx(n_,{group:Me,zoom:m},Me.id))}),e.jsxs("g",{style:{pointerEvents:"auto"},children:[r.map(Me=>{const ns=l.find(Cs=>Cs.id===Me.source),as=l.find(Cs=>Cs.id===Me.target);return!ns||!as?null:e.jsx(X6,{connection:Me,sourceNode:ns,targetNode:as,zoom:m,pan:f,isSelected:k===Me.id,onClick:()=>Ea(Me.id),onContextMenu:Cs=>pa(Me.id,Cs.clientX,Cs.clientY)},Me.id)}),Z&&re&&oe&&(()=>{const Me=l.find(Cs=>Cs.id===re);if(!Me)return null;const ns=Me.position.x+70,as=Me.position.y+70;return e.jsx("line",{x1:ns,y1:as,x2:oe.x,y2:oe.y,stroke:"hsl(var(--primary))",strokeWidth:2/m,strokeDasharray:"5,5",style:{pointerEvents:"none"}})})()]})]}),l.map(Me=>e.jsx(Q6,{node:Me,onConnectionStart:()=>_t(Me.id),onConnectionEnd:ns=>Os(Me.id,ns),isConnecting:Z,onContextMenu:(ns,as)=>G({nodeId:Me.id,x:ns,y:as})},Me.id)),q&&l.map(Me=>e.jsx(e_,{nodeId:Me.id,position:Me.position},`metrics-${Me.id}`))]})}),e.jsx(s_,{isVisible:me}),e.jsx(t_,{isVisible:F}),e.jsx(K6,{selectedNodeId:E,highlightPath:!0}),se&&e.jsx(o_,{x:se.x,y:se.y,onDelete:yn,onClose:()=>X(null)}),le&&(()=>{const Me=l.find($t=>$t.id===le.nodeId);if(!Me)return null;const ns=()=>{A(Me.id),Ts.success("Element deleted"),G(null)},as=()=>{const $t={...a0(Me),id:`${Me.type}_${Date.now()}`,position:{x:Me.position.x+20,y:Me.position.y+20},selected:!1};$t.data?.config&&($t.data.config=a0($t.data.config)),i($t),Ts.success("Element duplicated"),G(null)},Cs=()=>{navigator.clipboard.writeText(Me.id),Ts.success("ID copied to clipboard"),G(null)},nt=()=>{I(Me.id),Ts.success("Brought to front"),G(null)},$s=()=>{T(Me.id),Ts.success("Sent to back"),G(null)},Rt=()=>{z(Me.id),Ts.success("Brought forward"),G(null)},Ta=()=>{C(Me.id),Ts.success("Sent backward"),G(null)},bt=()=>{Xe({nodeId:Me.id,x:le.x,y:le.y}),G(null)},ht=c.filter($t=>$t.nodeIds.includes(Me.id)),lt=ht.length>=1,ga=ht.length>=2,cl=()=>{ga?(bs({nodeId:Me.id,x:le.x,y:le.y}),G(null)):ht.length===1&&(W(ht[0].id,Me.id),Ts.success(`Removed from "${ht[0].name}"`),G(null))};return e.jsx(r_,{x:le.x,y:le.y,onDelete:ns,onDuplicate:as,onCopyId:Cs,onBringToFront:nt,onSendToBack:$s,onBringForward:Rt,onSendBackward:Ta,onAddToGroup:bt,onRemoveFromGroup:lt?cl:void 0,onClose:()=>G(null)})})(),qe&&e.jsx(i_,{nodeId:qe.nodeId,x:qe.x,y:qe.y,onClose:()=>Xe(null)}),Ue&&e.jsx(c_,{nodeId:Ue.nodeId,x:Ue.x,y:Ue.y,onClose:()=>bs(null)})]})}function d_(a,l=[]){let r=[];function c(d,u){const m=j.createContext(u);m.displayName=d+"Context";const f=r.length;r=[...r,u];const h=g=>{const{scope:y,children:M,...w}=g,k=y?.[a]?.[f]||m,E=j.useMemo(()=>w,Object.values(w));return e.jsx(k.Provider,{value:E,children:M})};h.displayName=d+"Provider";function p(g,y){const M=y?.[a]?.[f]||m,w=j.useContext(M);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${d}\``)}return[h,p]}const i=()=>{const d=r.map(u=>j.createContext(u));return function(m){const f=m?.[a]||d;return j.useMemo(()=>({[`__scope${a}`]:{...m,[a]:f}}),[m,f])}};return i.scopeName=a,[c,u_(i,...l)]}function u_(...a){const l=a[0];if(a.length===1)return l;const r=()=>{const c=a.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(d){const u=c.reduce((m,{useScope:f,scopeName:h})=>{const g=f(d)[`__scope${h}`];return{...m,...g}},{});return j.useMemo(()=>({[`__scope${l.scopeName}`]:u}),[u])}};return r.scopeName=l.scopeName,r}var m_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],m2=m_.reduce((a,l)=>{const r=xd(`Primitive.${l}`),c=j.forwardRef((i,d)=>{const{asChild:u,...m}=i,f=u?r:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...m,ref:d})});return c.displayName=`Primitive.${l}`,{...a,[l]:c}},{}),Xx="Progress",Wx=100,[h_]=d_(Xx),[x_,f_]=h_(Xx),h2=j.forwardRef((a,l)=>{const{__scopeProgress:r,value:c=null,max:i,getValueLabel:d=p_,...u}=a;(i||i===0)&&!r0(i)&&console.error(j_(`${i}`,"Progress"));const m=r0(i)?i:Wx;c!==null&&!i0(c,m)&&console.error(g_(`${c}`,"Progress"));const f=i0(c,m)?c:null,h=ud(f)?d(f,m):void 0;return e.jsx(x_,{scope:r,value:f,max:m,children:e.jsx(m2.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":ud(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":p2(f,m),"data-value":f??void 0,"data-max":m,...u,ref:l})})});h2.displayName=Xx;var x2="ProgressIndicator",f2=j.forwardRef((a,l)=>{const{__scopeProgress:r,...c}=a,i=f_(x2,r);return e.jsx(m2.div,{"data-state":p2(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...c,ref:l})});f2.displayName=x2;function p_(a,l){return`${Math.round(a/l*100)}%`}function p2(a,l){return a==null?"indeterminate":a===l?"complete":"loading"}function ud(a){return typeof a=="number"}function r0(a){return ud(a)&&!isNaN(a)&&a>0}function i0(a,l){return ud(a)&&!isNaN(a)&&a<=l&&a>=0}function j_(a,l){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${l}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Wx}\`.`}function g_(a,l){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${l}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Wx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var j2=h2,v_=f2;const ws=j.forwardRef(({className:a,value:l,...r},c)=>e.jsx(j2,{ref:c,className:We("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...r,children:e.jsx(v_,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(l||0)}%)`}})}));ws.displayName=j2.displayName;const ss=j.forwardRef(({className:a,...l},r)=>e.jsx("textarea",{className:We("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...l}));ss.displayName="Textarea";function N_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(Z=>Z.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.brokers||["localhost:9092"],u=i.topics||[],m=i.consumerGroups||[],f=i.groupId||"default-group",h=i.clientId||"default-client",p=i.schemaRegistry||{url:"http://localhost:8081",subjects:[]},g=i.acls||[],[y,M]=j.useState(null),[w,k]=j.useState(!1),[E,N]=j.useState(!1),[A,P]=j.useState(!1),[I,T]=j.useState({subjectName:"",schemaType:"AVRO",schema:""}),[z,C]=j.useState({principal:"User:",resourceType:"Topic",resourceName:"",resourcePatternType:"Literal",operation:"Read",permission:"Allow",host:"*"}),L=Z=>{r(a,{data:{...c.data,config:{...i,...Z}}})},Q=()=>{L({brokers:[...d,"localhost:9093"]})},Y=Z=>{L({brokers:d.filter((O,re)=>re!==Z)})},W=(Z,O)=>{const re=[...d];re[Z]=O,L({brokers:re})},q=()=>{const Z={name:"new-topic",partitions:3,replication:1,messages:0,size:0,config:{retentionMs:6048e5,cleanupPolicy:"delete",compressionType:"gzip",maxMessageBytes:1e6,minInsyncReplicas:1},partitionInfo:Array.from({length:3},(O,re)=>({id:re,leader:0,replicas:[0,1],isr:[0,1]}))};L({topics:[...u,Z]}),k(!1)},F=Z=>{L({topics:u.filter((O,re)=>re!==Z)})},me=(Z,O,re)=>{const H=[...u];H[Z]={...H[Z],[O]:re},L({topics:H})},je=(Z,O,re)=>{const H=[...u];H[Z].config||(H[Z].config={}),H[Z].config={...H[Z].config,[O]:re},L({topics:H})},ce=()=>{L({consumerGroups:[...m,{id:"new-group",topic:u[0]?.name||"",lag:0,members:1}]})},K=()=>{if(!I.subjectName.trim()||!I.schema.trim())return;const Z={name:I.subjectName.trim(),version:1,schemaType:I.schemaType,schema:I.schema.trim()};L({schemaRegistry:{...p,subjects:[...p.subjects||[],Z]}}),T({subjectName:"",schemaType:"AVRO",schema:""}),N(!1)},U=()=>{if(!z.principal.trim()||!z.resourceName.trim())return;const Z={principal:z.principal.trim(),resourceType:z.resourceType,resourceName:z.resourceName.trim(),resourcePatternType:z.resourcePatternType,operation:z.operation,permission:z.permission,host:z.host||"*"};L({acls:[...g,Z]}),C({principal:"User:",resourceType:"Topic",resourceName:"",resourcePatternType:"Literal",operation:"Read",permission:"Allow",host:"*"}),P(!1)},ae=Z=>{L({acls:g.filter((O,re)=>re!==Z)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(gs,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Kafka Cluster"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Apache Kafka Configuration & Management"})]})]})}),e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"brokers",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-6",children:[e.jsxs(de,{value:"brokers",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Brokers"]}),e.jsxs(de,{value:"topics",className:"gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Topics"]}),e.jsxs(de,{value:"consumers",className:"gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Consumers"]}),e.jsxs(de,{value:"schemas",className:"gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Schemas"]}),e.jsxs(de,{value:"acls",className:"gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"}),"ACLs"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"brokers",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Broker Cluster"}),e.jsx(ie,{children:"Kafka broker endpoints and connection details"})]}),e.jsxs(V,{size:"sm",onClick:Q,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Broker"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:d.map((Z,O)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),e.jsx(J,{value:Z,onChange:re=>W(O,re.target.value),placeholder:"localhost:9092",className:"flex-1"}),e.jsxs($,{variant:"secondary",children:["Broker ",O+1]})]}),d.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>Y(O),children:e.jsx(Ee,{className:"h-4 w-4"})})]},O))})})]})}),e.jsxs(ue,{value:"topics",className:"space-y-4 mt-4",children:[w&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create New Topic"}),e.jsx(ie,{children:"Configure topic settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Topic Name"}),e.jsx(J,{placeholder:"my-topic"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Partitions"}),e.jsx(J,{type:"number",defaultValue:3,min:1})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Replication Factor"}),e.jsx(J,{type:"number",defaultValue:1,min:1,max:d.length})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:q,children:"Create Topic"}),e.jsx(V,{variant:"outline",onClick:()=>k(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Topics"}),e.jsx(ie,{children:"Kafka topic configuration and monitoring"})]}),e.jsxs(V,{size:"sm",onClick:()=>k(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Topic"]})]})}),e.jsx(R,{children:u.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ke,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No topics configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Create Topic" to add a new topic'})]}):e.jsx("div",{className:"space-y-4",children:u.map((Z,O)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Ke,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:Z.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[Z.partitions," partitions  ",Z.replication," replicas"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",onClick:()=>M(y===O?null:O),children:y===O?"Hide Config":"Show Config"}),u.length>1&&e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>F(O),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Topic Name"}),e.jsx(J,{value:Z.name,onChange:re=>me(O,"name",re.target.value),placeholder:"topic-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Partitions"}),e.jsx(J,{type:"number",min:"1",value:Z.partitions,onChange:re=>me(O,"partitions",parseInt(re.target.value)||1)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Replication Factor"}),e.jsx(J,{type:"number",min:"1",max:d.length,value:Z.replication,onChange:re=>me(O,"replication",parseInt(re.target.value)||1)})]}),y===O&&Z.config&&e.jsxs("div",{className:"pt-4 border-t border-border space-y-4",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Topic Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Retention (ms)"}),e.jsx(J,{type:"number",value:Z.config.retentionMs||6048e5,onChange:re=>je(O,"retentionMs",parseInt(re.target.value)||0),placeholder:"604800000 (7 days)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Retention (bytes)"}),e.jsx(J,{type:"number",value:Z.config.retentionBytes||-1,onChange:re=>je(O,"retentionBytes",parseInt(re.target.value)||-1),placeholder:"-1 (unlimited)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Cleanup Policy"}),e.jsxs(Pe,{value:Z.config.cleanupPolicy||"delete",onValueChange:re=>je(O,"cleanupPolicy",re),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"delete",children:"Delete"}),e.jsx(ne,{value:"compact",children:"Compact"}),e.jsx(ne,{value:"delete,compact",children:"Delete, Compact"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Compression Type"}),e.jsxs(Pe,{value:Z.config.compressionType||"gzip",onValueChange:re=>je(O,"compressionType",re),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"uncompressed",children:"Uncompressed"}),e.jsx(ne,{value:"gzip",children:"Gzip"}),e.jsx(ne,{value:"snappy",children:"Snappy"}),e.jsx(ne,{value:"lz4",children:"LZ4"}),e.jsx(ne,{value:"zstd",children:"Zstd"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Message Bytes"}),e.jsx(J,{type:"number",value:Z.config.maxMessageBytes||1e6,onChange:re=>je(O,"maxMessageBytes",parseInt(re.target.value)||1e6)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Min In-Sync Replicas"}),e.jsx(J,{type:"number",min:"1",value:Z.config.minInsyncReplicas||1,onChange:re=>je(O,"minInsyncReplicas",parseInt(re.target.value)||1)})]})]})]}),Z.partitionInfo&&Z.partitionInfo.length>0&&e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Partition Details"}),e.jsx("div",{className:"space-y-2",children:Z.partitionInfo.map((re,H)=>e.jsx("div",{className:"p-2 border rounded text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-mono",children:["Partition ",re.id]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Leader: ",re.leader]}),e.jsxs("span",{children:["Replicas: [",re.replicas.join(", "),"]"]}),e.jsxs("span",{children:["ISR: [",re.isr.join(", "),"]"]})]})]})},H))})]}),e.jsx("div",{className:"pt-3 border-t border-border",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Messages:"}),e.jsx("span",{className:"ml-2 font-semibold",children:(Z.messages||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Size:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[((Z.size||0)/1024/1024).toFixed(2)," MB"]})]})]})})]})]},O))})})]})]}),e.jsx(ue,{value:"consumers",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Consumer Groups"}),e.jsx(ie,{children:"Monitor consumer group lag and activity"})]}),e.jsxs(V,{size:"sm",onClick:ce,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Group"]})]})}),e.jsx(R,{children:m.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ks,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No consumer groups configured"})]}):e.jsx("div",{className:"space-y-3",children:m.map((Z,O)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:Z.id}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Topic: ",Z.topic]})]}),e.jsxs($,{variant:Z.lag&&Z.lag>1e3?"destructive":"secondary",children:["Lag: ",Z.lag||0]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Members:"}),e.jsx("span",{children:Z.members||0})]}),Z.lag!==void 0&&e.jsx(ws,{value:Math.min(Z.lag/1e4*100,100),className:"h-2"})]})]},O))})})]})}),e.jsx(ue,{value:"schemas",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Schema Registry"}),e.jsx(ie,{children:"Avro/JSON Schema management"})]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{T({subjectName:"",schemaType:"AVRO",schema:""}),N(!0)},children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Register Schema"]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Schema Registry URL"}),e.jsx(J,{value:p.url||"",onChange:Z=>L({schemaRegistry:{...p,url:Z.target.value}}),placeholder:"http://localhost:8081"})]}),p.subjects&&p.subjects.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Registered Subjects"}),p.subjects.map((Z,O)=>e.jsx(S,{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-semibold",children:Z.name}),Z.schemaType&&e.jsx($,{variant:"outline",className:"text-xs",children:Z.schemaType})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Version ",Z.version]}),Z.schema&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 font-mono truncate max-w-md",children:[Z.schema.substring(0,100),Z.schema.length>100?"...":""]})]})})},O))]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ds,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No schemas registered"})]})]})]})}),e.jsx(ue,{value:"acls",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Access Control Lists"}),e.jsx(ie,{children:"Manage topic and consumer group permissions"})]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{C({principal:"User:",resourceType:"Topic",resourceName:u[0]?.name||"",resourcePatternType:"Literal",operation:"Read",permission:"Allow",host:"*"}),P(!0)},children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add ACL"]})]})}),e.jsx(R,{children:g.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Rs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No ACLs configured"})]}):e.jsx("div",{className:"space-y-3",children:g.map((Z,O)=>{const re=Z.resourceType||"Topic",H=Z.resourceName||Z.resource||"unknown",oe=Z.resourcePatternType||"Literal",ee=Z.host||"*";return e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"font-semibold",children:Z.principal}),e.jsx($,{variant:Z.permission==="Allow"?"default":"destructive",className:"text-xs",children:Z.permission})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[re,":"]})," ",H,oe!=="Literal"&&e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:oe})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Operation:"})," ",Z.operation,ee!=="*"&&e.jsxs("span",{className:"ml-2",children:[" Host: ",ee]})]})]})]}),e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>ae(O),children:e.jsx(Ee,{className:"h-4 w-4"})})]})},O)})})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Client Settings"}),e.jsx(ie,{children:"Consumer group and client configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"group-id",children:"Consumer Group ID"}),e.jsx(J,{id:"group-id",value:f,onChange:Z=>L({groupId:Z.target.value}),placeholder:"default-group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"client-id",children:"Client ID"}),e.jsx(J,{id:"client-id",value:h,onChange:Z=>L({clientId:Z.target.value}),placeholder:"default-client"})]})]})]})})]}),e.jsx(ec,{open:E,onOpenChange:N,children:e.jsxs(Br,{className:"max-w-2xl",children:[e.jsxs(Ur,{children:[e.jsx(Vr,{children:"Register Schema"}),e.jsx($r,{children:"Register a new schema in Schema Registry. The subject name typically follows the pattern: topic-name-value or topic-name-key."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[u.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Select Topic (optional)"}),e.jsxs(Pe,{onValueChange:Z=>{T({...I,subjectName:`${Z}-value`})},children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Choose a topic to auto-fill subject name"})}),e.jsx(_e,{children:u.map(Z=>e.jsx(ne,{value:Z.name,children:Z.name},Z.name))})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecting a topic will set subject name to: topic-name-value"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"subject-name",children:"Subject Name"}),e.jsx(J,{id:"subject-name",value:I.subjectName,onChange:Z=>T({...I,subjectName:Z.target.value}),placeholder:"my-topic-value"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject name (e.g., topic-name-value, topic-name-key). In Schema Registry, subjects are typically named as topic-name-value or topic-name-key."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"schema-type",children:"Schema Type"}),e.jsxs(Pe,{value:I.schemaType,onValueChange:Z=>T({...I,schemaType:Z}),children:[e.jsx(De,{id:"schema-type",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"AVRO",children:"AVRO"}),e.jsx(ne,{value:"JSON",children:"JSON"}),e.jsx(ne,{value:"PROTOBUF",children:"PROTOBUF"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"schema-content",children:"Schema Content"}),e.jsx(ss,{id:"schema-content",value:I.schema,onChange:Z=>T({...I,schema:Z.target.value}),placeholder:'{"type": "record", "name": "Example", "fields": [{"name": "field1", "type": "string"}]}',className:"font-mono text-sm h-48"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the schema definition in JSON format"})]})]}),e.jsxs(Hr,{children:[e.jsx(V,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(V,{onClick:K,disabled:!I.subjectName.trim()||!I.schema.trim(),children:"Register Schema"})]})]})}),e.jsx(ec,{open:A,onOpenChange:P,children:e.jsxs(Br,{className:"max-w-2xl",children:[e.jsxs(Ur,{children:[e.jsx(Vr,{children:"Add Access Control List (ACL)"}),e.jsx($r,{children:"Create a new ACL rule to control access to Kafka resources. Principal format: User:username or Group:groupname"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"principal",children:"Principal"}),e.jsx(J,{id:"principal",value:z.principal,onChange:Z=>C({...z,principal:Z.target.value}),placeholder:"User:alice or Group:developers"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: User:username or Group:groupname"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"resource-type",children:"Resource Type"}),e.jsxs(Pe,{value:z.resourceType,onValueChange:Z=>C({...z,resourceType:Z}),children:[e.jsx(De,{id:"resource-type",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"Topic",children:"Topic"}),e.jsx(ne,{value:"Group",children:"Group"}),e.jsx(ne,{value:"Cluster",children:"Cluster"}),e.jsx(ne,{value:"TransactionalId",children:"TransactionalId"}),e.jsx(ne,{value:"DelegationToken",children:"DelegationToken"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"resource-pattern-type",children:"Pattern Type"}),e.jsxs(Pe,{value:z.resourcePatternType,onValueChange:Z=>C({...z,resourcePatternType:Z}),children:[e.jsx(De,{id:"resource-pattern-type",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"Literal",children:"Literal"}),e.jsx(ne,{value:"Prefixed",children:"Prefixed"}),e.jsx(ne,{value:"Match",children:"Match"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"resource-name",children:"Resource Name"}),e.jsx(J,{id:"resource-name",value:z.resourceName,onChange:Z=>C({...z,resourceName:Z.target.value}),placeholder:z.resourceType==="Topic"?"my-topic":z.resourceType==="Group"?"my-group":"resource-name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"operation",children:"Operation"}),e.jsxs(Pe,{value:z.operation,onValueChange:Z=>C({...z,operation:Z}),children:[e.jsx(De,{id:"operation",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"Read",children:"Read"}),e.jsx(ne,{value:"Write",children:"Write"}),e.jsx(ne,{value:"Create",children:"Create"}),e.jsx(ne,{value:"Delete",children:"Delete"}),e.jsx(ne,{value:"Alter",children:"Alter"}),e.jsx(ne,{value:"Describe",children:"Describe"}),e.jsx(ne,{value:"AlterConfigs",children:"AlterConfigs"}),e.jsx(ne,{value:"DescribeConfigs",children:"DescribeConfigs"}),e.jsx(ne,{value:"ClusterAction",children:"ClusterAction"}),e.jsx(ne,{value:"IdempotentWrite",children:"IdempotentWrite"}),e.jsx(ne,{value:"All",children:"All"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"permission",children:"Permission"}),e.jsxs(Pe,{value:z.permission,onValueChange:Z=>C({...z,permission:Z}),children:[e.jsx(De,{id:"permission",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"Allow",children:"Allow"}),e.jsx(ne,{value:"Deny",children:"Deny"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"host",children:"Host (optional)"}),e.jsx(J,{id:"host",value:z.host,onChange:Z=>C({...z,host:Z.target.value}),placeholder:"* (all hosts)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"IP address or hostname. Use * for all hosts."})]})]}),e.jsxs(Hr,{children:[e.jsx(V,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),e.jsx(V,{onClick:U,disabled:!z.principal.trim()||!z.resourceName.trim(),children:"Add ACL"})]})]})})]})})}function b_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(U=>U.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.host||"localhost",u=i.port||5672,m=i.username||"guest",f=i.password||"",h=i.vhost||"/",p=i.queues||[],g=i.exchanges||[{name:"amq.direct",type:"direct",durable:!0,autoDelete:!1,internal:!1},{name:"amq.topic",type:"topic",durable:!0,autoDelete:!1,internal:!1},{name:"amq.fanout",type:"fanout",durable:!0,autoDelete:!1,internal:!1}],y=i.bindings||[],M=i.policies||[],[w,k]=j.useState(null),[E,N]=j.useState(!1),[A,P]=j.useState(!1),[I,T]=j.useState(!1),z=U=>{r(a,{data:{...c.data,config:{...i,...U}}})},C=()=>{z({queues:[...p,{name:"new-queue",durable:!0,exclusive:!1,autoDelete:!1,messages:0,consumers:0,ready:0,unacked:0}]})},L=U=>{z({queues:p.filter((ae,Z)=>Z!==U)})},Q=(U,ae,Z)=>{const O=[...p];O[U]={...O[U],[ae]:Z},z({queues:O})},Y=()=>{const U={name:"new-exchange",type:"direct",durable:!0,autoDelete:!1,internal:!1};z({exchanges:[...g,U]}),N(!1)},W=U=>{z({exchanges:g.filter((ae,Z)=>Z!==U)})},q=(U,ae,Z)=>{const O=[...g];O[U]={...O[U],[ae]:Z},z({exchanges:O})},F=()=>{const U={id:`binding-${Date.now()}`,source:g[0]?.name||"",destination:p[0]?.name||"",routingKey:""};z({bindings:[...y,U]}),P(!1)},me=U=>{z({bindings:y.filter(ae=>ae.id!==U)})},je=(U,ae,Z)=>{const O=y.map(re=>re.id===U?{...re,[ae]:Z}:re);z({bindings:O})},ce=()=>{const U={name:"new-policy",pattern:".*",definition:{},priority:0,applyTo:"all"};z({policies:[...M,U]}),T(!1)},K=U=>{z({policies:M.filter((ae,Z)=>Z!==U)})};return p.reduce((U,ae)=>U+(ae.messages||0),0),p.reduce((U,ae)=>U+(ae.consumers||0),0),e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:e.jsx(O5,{className:"h-6 w-6 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"RabbitMQ"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Message Broker Management"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Management UI"]})]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"queues",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-6",children:[e.jsxs(de,{value:"queues",className:"gap-2",children:[e.jsx(Ht,{className:"h-4 w-4"}),"Queues"]}),e.jsxs(de,{value:"exchanges",className:"gap-2",children:[e.jsx(Er,{className:"h-4 w-4"}),"Exchanges"]}),e.jsxs(de,{value:"bindings",className:"gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Bindings"]}),e.jsxs(de,{value:"policies",className:"gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"}),"Policies"]}),e.jsxs(de,{value:"connection",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Connection"]}),e.jsxs(de,{value:"monitoring",className:"gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Monitoring"]})]}),e.jsx(ue,{value:"queues",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Message Queues"}),e.jsx(ie,{children:"Configure and monitor RabbitMQ queues"})]}),e.jsxs(V,{size:"sm",onClick:C,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Queue"]})]})}),e.jsx(R,{children:p.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ht,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No queues configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Queue" to create a new queue'})]}):e.jsx("div",{className:"space-y-4",children:p.map((U,ae)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Ht,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:U.name}),e.jsxs(ie,{className:"text-xs mt-1 flex items-center gap-2",children:[U.durable&&e.jsx($,{variant:"outline",className:"text-xs",children:"Durable"}),U.exclusive&&e.jsx($,{variant:"outline",className:"text-xs",children:"Exclusive"}),U.autoDelete&&e.jsx($,{variant:"outline",className:"text-xs",children:"Auto-Delete"})]})]})]}),p.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>L(ae),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Queue Name"}),e.jsx(J,{value:U.name,onChange:Z=>Q(ae,"name",Z.target.value),placeholder:"queue-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Properties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:U.durable,onCheckedChange:Z=>Q(ae,"durable",Z)}),e.jsx(b,{className:"text-xs",children:"Durable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:U.exclusive,onCheckedChange:Z=>Q(ae,"exclusive",Z)}),e.jsx(b,{className:"text-xs",children:"Exclusive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:U.autoDelete,onCheckedChange:Z=>Q(ae,"autoDelete",Z)}),e.jsx(b,{className:"text-xs",children:"Auto-Delete"})]})]})]})]}),w===ae&&e.jsxs("div",{className:"pt-4 border-t border-border space-y-4",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Advanced Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Dead Letter Exchange"}),e.jsx(J,{value:U.deadLetterExchange||"",onChange:Z=>Q(ae,"deadLetterExchange",Z.target.value),placeholder:"dlx"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Dead Letter Routing Key"}),e.jsx(J,{value:U.deadLetterRoutingKey||"",onChange:Z=>Q(ae,"deadLetterRoutingKey",Z.target.value),placeholder:"routing-key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Message TTL (ms)"}),e.jsx(J,{type:"number",value:U.messageTtl||"",onChange:Z=>Q(ae,"messageTtl",parseInt(Z.target.value)||void 0),placeholder:"60000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Length"}),e.jsx(J,{type:"number",value:U.maxLength||"",onChange:Z=>Q(ae,"maxLength",parseInt(Z.target.value)||void 0),placeholder:"10000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Priority"}),e.jsx(J,{type:"number",min:"0",max:"255",value:U.maxPriority||"",onChange:Z=>Q(ae,"maxPriority",parseInt(Z.target.value)||void 0),placeholder:"10"})]})]})]}),e.jsx("div",{className:"pt-3 border-t border-border",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Messages:"}),e.jsx("span",{className:"ml-2 font-semibold",children:(U.messages||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ready:"}),e.jsx("span",{className:"ml-2 font-semibold",children:(U.ready||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Unacked:"}),e.jsx("span",{className:"ml-2 font-semibold",children:(U.unacked||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Consumers:"}),e.jsx("span",{className:"ml-2 font-semibold",children:U.consumers||0})]})]})})]})]},ae))})})]})}),e.jsxs(ue,{value:"exchanges",className:"space-y-4 mt-4",children:[E&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create Exchange"}),e.jsx(ie,{children:"Configure exchange settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Exchange Name"}),e.jsx(J,{placeholder:"my-exchange"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Type"}),e.jsxs(Pe,{defaultValue:"direct",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"direct",children:"Direct"}),e.jsx(ne,{value:"topic",children:"Topic"}),e.jsx(ne,{value:"fanout",children:"Fanout"}),e.jsx(ne,{value:"headers",children:"Headers"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:Y,children:"Create Exchange"}),e.jsx(V,{variant:"outline",onClick:()=>N(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Exchanges"}),e.jsx(ie,{children:"Message routing exchanges"})]}),e.jsxs(V,{size:"sm",onClick:()=>N(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Exchange"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:g.map((U,ae)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Er,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:U.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[e.jsx($,{variant:"outline",children:U.type}),U.durable&&e.jsx($,{variant:"outline",className:"ml-1",children:"Durable"}),U.internal&&e.jsx($,{variant:"outline",className:"ml-1",children:"Internal"})]})]})]}),e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>W(ae),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Exchange Name"}),e.jsx(J,{value:U.name,onChange:Z=>q(ae,"name",Z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Type"}),e.jsxs(Pe,{value:U.type,onValueChange:Z=>q(ae,"type",Z),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"direct",children:"Direct"}),e.jsx(ne,{value:"topic",children:"Topic"}),e.jsx(ne,{value:"fanout",children:"Fanout"}),e.jsx(ne,{value:"headers",children:"Headers"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:U.durable,onCheckedChange:Z=>q(ae,"durable",Z)}),e.jsx(b,{className:"text-xs",children:"Durable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:U.autoDelete,onCheckedChange:Z=>q(ae,"autoDelete",Z)}),e.jsx(b,{className:"text-xs",children:"Auto-Delete"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:U.internal,onCheckedChange:Z=>q(ae,"internal",Z)}),e.jsx(b,{className:"text-xs",children:"Internal"})]})]})]})]},ae))})})]})]}),e.jsxs(ue,{value:"bindings",className:"space-y-4 mt-4",children:[A&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create Binding"}),e.jsx(ie,{children:"Bind exchange to queue"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Source Exchange"}),e.jsxs(Pe,{children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select exchange"})}),e.jsx(_e,{children:g.map(U=>e.jsx(ne,{value:U.name,children:U.name},U.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Destination Queue"}),e.jsxs(Pe,{children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select queue"})}),e.jsx(_e,{children:p.map(U=>e.jsx(ne,{value:U.name,children:U.name},U.name))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Routing Key"}),e.jsx(J,{placeholder:"routing.key"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:F,children:"Create Binding"}),e.jsx(V,{variant:"outline",onClick:()=>P(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Bindings"}),e.jsx(ie,{children:"Exchange to queue bindings"})]}),e.jsxs(V,{size:"sm",onClick:()=>P(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Binding"]})]})}),e.jsx(R,{children:y.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ct,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No bindings configured"})]}):e.jsx("div",{className:"space-y-3",children:y.map(U=>e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:U.source}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",U.destination,"  Key: ",U.routingKey||"(none)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Pe,{value:U.source,onValueChange:ae=>je(U.id,"source",ae),children:[e.jsx(De,{className:"w-32",children:e.jsx(Oe,{})}),e.jsx(_e,{children:g.map(ae=>e.jsx(ne,{value:ae.name,children:ae.name},ae.name))})]}),e.jsx(J,{className:"w-32",value:U.routingKey,onChange:ae=>je(U.id,"routingKey",ae.target.value),placeholder:"routing key"}),e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>me(U.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})},U.id))})})]})]}),e.jsxs(ue,{value:"policies",className:"space-y-4 mt-4",children:[I&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create Policy"}),e.jsx(ie,{children:"Configure queue/exchange policies"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Policy Name"}),e.jsx(J,{placeholder:"ha-policy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Pattern"}),e.jsx(J,{placeholder:".*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Apply To"}),e.jsxs(Pe,{defaultValue:"all",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"queues",children:"Queues"}),e.jsx(ne,{value:"exchanges",children:"Exchanges"}),e.jsx(ne,{value:"all",children:"All"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:ce,children:"Create Policy"}),e.jsx(V,{variant:"outline",onClick:()=>T(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Policies"}),e.jsx(ie,{children:"Queue and exchange policies"})]}),e.jsxs(V,{size:"sm",onClick:()=>T(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]})}),e.jsx(R,{children:M.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Rs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No policies configured"})]}):e.jsx("div",{className:"space-y-3",children:M.map((U,ae)=>e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:U.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pattern: ",U.pattern,"  Apply to: ",U.applyTo,"  Priority: ",U.priority]})]}),e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>K(ae),children:e.jsx(Ee,{className:"h-4 w-4"})})]})},ae))})})]})]}),e.jsx(ue,{value:"connection",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"RabbitMQ server connection details"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"host",children:"Host"}),e.jsx(J,{id:"host",value:d,onChange:U=>z({host:U.target.value}),placeholder:"localhost"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"port",children:"Port"}),e.jsx(J,{id:"port",type:"number",value:u,onChange:U=>z({port:parseInt(U.target.value)||5672}),placeholder:"5672"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"username",children:"Username"}),e.jsx(J,{id:"username",value:m,onChange:U=>z({username:U.target.value}),placeholder:"guest"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),e.jsx(J,{id:"password",type:"password",value:f,onChange:U=>z({password:U.target.value}),placeholder:"password"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"vhost",children:"Virtual Host"}),e.jsx(J,{id:"vhost",value:h,onChange:U=>z({vhost:U.target.value}),placeholder:"/"})]})]})]})}),e.jsx(ue,{value:"monitoring",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Queue Monitoring"}),e.jsx(ie,{children:"Real-time queue statistics and metrics"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:p.map((U,ae)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"font-semibold",children:U.name}),e.jsxs($,{variant:"secondary",children:[U.messages||0," messages"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ready Messages"}),e.jsx("span",{className:"font-semibold",children:(U.ready||0).toLocaleString()})]}),e.jsx(ws,{value:U.messages?(U.ready||0)/U.messages*100:0,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Consumers"}),e.jsx("span",{className:"font-semibold",children:U.consumers||0})]})]})]},ae))})})]})})]})]})})}function y_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(G=>G.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.brokerName||"localhost",u=i.brokerUrl||"tcp://localhost:61616",m=i.protocol||"openwire",f=i.port||61616,h=i.username||"admin",p=i.password||"admin",g=i.queues||[],y=i.topics||[],M=i.connections||[],w=i.subscriptions||[],k=i.persistenceEnabled??!0,E=i.maxConnections||1e3,N=i.memoryLimit||1024,A=i.storeUsage||0,P=i.tempUsage||0,I=i.acls||[],[T,z]=j.useState(null),[C,L]=j.useState(null),[Q,Y]=j.useState(!1),[W,q]=j.useState(!1),[F,me]=j.useState(!1),je=G=>{r(a,{data:{...c.data,config:{...i,...G}}})},ce=()=>{je({queues:[...g,{name:"new-queue",queueSize:0,consumerCount:0,enqueueCount:0,dequeueCount:0,memoryUsage:0,memoryPercent:0}]})},K=G=>{je({queues:g.filter((xe,Te)=>Te!==G)})},U=(G,xe,Te)=>{const we=[...g];we[G]={...we[G],[xe]:Te},je({queues:we})},ae=()=>{je({topics:[...y,{name:"new-topic",subscriberCount:0,enqueueCount:0,dequeueCount:0,memoryUsage:0,memoryPercent:0}]})},Z=G=>{je({topics:y.filter((xe,Te)=>Te!==G)})},O=(G,xe,Te)=>{const we=[...y];we[G]={...we[G],[xe]:Te},je({topics:we})},re=()=>{const G={id:`conn-${Date.now()}`,remoteAddress:"127.0.0.1",clientId:`client-${Date.now()}`,userName:h,connectedSince:new Date().toISOString(),messageCount:0,protocol:"OpenWire"};je({connections:[...M,G]}),Y(!1)},H=G=>{je({connections:M.filter(xe=>xe.id!==G)})},oe=()=>{const G={id:`sub-${Date.now()}`,destination:y[0]?.name||"events",clientId:`client-${Date.now()}`,pendingQueueSize:0,dispatchedQueueSize:0,dispatchedCounter:0,enqueueCounter:0,dequeueCounter:0};je({subscriptions:[...w,G]}),q(!1)},ee=G=>{je({subscriptions:w.filter(xe=>xe.id!==G)})},se=()=>{const G={principal:"user",resource:"queue://*",operation:"read",permission:"allow"};je({acls:[...I,G]}),me(!1)},X=G=>{je({acls:I.filter((xe,Te)=>Te!==G)})},le=g.reduce((G,xe)=>G+(xe.queueSize||0),0);return g.reduce((G,xe)=>G+(xe.consumerCount||0),0),y.reduce((G,xe)=>G+(xe.subscriberCount||0),0),e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"ActiveMQ Broker"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Broker Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure ActiveMQ broker, queues, topics, connections and security"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Pause"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Resume"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Broker Status"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-lg font-semibold",children:"Running"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Messages"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:le.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Across all queues"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Active Connections"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:M.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connected clients"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Memory Usage"})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{children:["Store: ",A," MB"]}),e.jsxs("span",{children:["Temp: ",P," MB"]})]}),e.jsx(ws,{value:(A+P)/N*100,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Limit: ",N," MB"]})]})})]})]}),e.jsxs(Ve,{defaultValue:"broker",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"broker",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Broker"]}),e.jsxs(de,{value:"queues",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Queues (",g.length,")"]}),e.jsxs(de,{value:"topics",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Topics (",y.length,")"]}),e.jsxs(de,{value:"connections",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Connections (",M.length,")"]}),e.jsxs(de,{value:"subscriptions",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Subscriptions (",w.length,")"]}),e.jsxs(de,{value:"security",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Security"]})]}),e.jsx(ue,{value:"broker",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Broker Configuration"}),e.jsx(ie,{children:"Basic broker settings and connection parameters"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"brokerName",children:"Broker Name"}),e.jsx(J,{id:"brokerName",value:d,onChange:G=>je({brokerName:G.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"brokerUrl",children:"Broker URL"}),e.jsx(J,{id:"brokerUrl",value:u,onChange:G=>je({brokerUrl:G.target.value}),placeholder:"tcp://localhost:61616"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"protocol",children:"Protocol"}),e.jsxs(Pe,{value:m,onValueChange:G=>je({protocol:G}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"openwire",children:"OpenWire"}),e.jsx(ne,{value:"amqp",children:"AMQP"}),e.jsx(ne,{value:"mqtt",children:"MQTT"}),e.jsx(ne,{value:"stomp",children:"STOMP"}),e.jsx(ne,{value:"ws",children:"WebSocket"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"port",children:"Port"}),e.jsx(J,{id:"port",type:"number",value:f,onChange:G=>je({port:Number(G.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"username",children:"Username"}),e.jsx(J,{id:"username",value:h,onChange:G=>je({username:G.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),e.jsx(J,{id:"password",type:"password",value:p,onChange:G=>je({password:G.target.value})})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"persistenceEnabled",children:"Persistence Enabled"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Persist messages to disk"})]}),e.jsx(ge,{id:"persistenceEnabled",checked:k,onCheckedChange:G=>je({persistenceEnabled:G})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"maxConnections",children:"Max Connections"}),e.jsx(J,{id:"maxConnections",type:"number",value:E,onChange:G=>je({maxConnections:Number(G.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"memoryLimit",children:"Memory Limit (MB)"}),e.jsx(J,{id:"memoryLimit",type:"number",value:N,onChange:G=>je({memoryLimit:Number(G.target.value)})})]})]})]})]})]})}),e.jsx(ue,{value:"queues",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Queues"}),e.jsx(ie,{children:"Manage message queues and their properties"})]}),e.jsxs(V,{onClick:ce,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Queue"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:g.map((G,xe)=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5 text-blue-500"}),e.jsx(_,{className:"text-base",children:T===xe?e.jsx(J,{value:G.name,onChange:Te=>U(xe,"name",Te.target.value),onBlur:()=>z(null),onKeyDown:Te=>{Te.key==="Enter"&&z(null)},className:"h-7",autoFocus:!0}):e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>z(xe),children:G.name})})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>K(xe),disabled:g.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Queue Size"}),e.jsx("p",{className:"text-lg font-semibold",children:G.queueSize||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Consumers"}),e.jsx("p",{className:"text-lg font-semibold",children:G.consumerCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enqueued"}),e.jsx("p",{className:"text-lg font-semibold",children:(G.enqueueCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dequeued"}),e.jsx("p",{className:"text-lg font-semibold",children:(G.dequeueCount||0).toLocaleString()})]})]}),G.memoryUsage!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Memory Usage"}),e.jsxs("span",{children:[G.memoryUsage," MB (",G.memoryPercent||0,"%)"]})]}),e.jsx(ws,{value:G.memoryPercent||0,className:"h-2"})]})]})]},xe))})})]})}),e.jsx(ue,{value:"topics",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Topics"}),e.jsx(ie,{children:"Manage publish-subscribe topics"})]}),e.jsxs(V,{onClick:ae,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Topic"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:y.map((G,xe)=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5 text-green-500"}),e.jsx(_,{className:"text-base",children:C===xe?e.jsx(J,{value:G.name,onChange:Te=>O(xe,"name",Te.target.value),onBlur:()=>L(null),onKeyDown:Te=>{Te.key==="Enter"&&L(null)},className:"h-7",autoFocus:!0}):e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>L(xe),children:G.name})})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Z(xe),disabled:y.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"}),e.jsx("p",{className:"text-lg font-semibold",children:G.subscriberCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enqueued"}),e.jsx("p",{className:"text-lg font-semibold",children:(G.enqueueCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dequeued"}),e.jsx("p",{className:"text-lg font-semibold",children:(G.dequeueCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Memory"}),e.jsxs("p",{className:"text-lg font-semibold",children:[G.memoryUsage||0," MB"]})]})]}),G.memoryPercent!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Memory Usage"}),e.jsxs("span",{children:[G.memoryPercent,"%"]})]}),e.jsx(ws,{value:G.memoryPercent,className:"h-2"})]})]})]},xe))})})]})}),e.jsx(ue,{value:"connections",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Connections"}),e.jsx(ie,{children:"Active client connections to the broker"})]}),e.jsxs(V,{onClick:re,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Connection"]})]})}),e.jsx(R,{children:M.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No active connections"}):e.jsx("div",{className:"space-y-2",children:M.map(G=>e.jsx(S,{className:"border-l-4 border-l-purple-500",children:e.jsxs(R,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Client ID"}),e.jsx("p",{className:"text-sm font-medium",children:G.clientId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"User"}),e.jsx("p",{className:"text-sm font-medium",children:G.userName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Protocol"}),e.jsx($,{variant:"outline",children:G.protocol||"OpenWire"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"}),e.jsx("p",{className:"text-sm font-medium",children:G.messageCount||0})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>H(G.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),G.remoteAddress&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Remote: ",G.remoteAddress]})]})},G.id))})})]})}),e.jsx(ue,{value:"subscriptions",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Subscriptions"}),e.jsx(ie,{children:"Active topic subscriptions"})]}),e.jsxs(V,{onClick:oe,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Subscription"]})]})}),e.jsx(R,{children:w.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No active subscriptions"}):e.jsx("div",{className:"space-y-2",children:w.map(G=>e.jsx(S,{className:"border-l-4 border-l-orange-500",children:e.jsxs(R,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),e.jsx("p",{className:"text-sm font-medium",children:G.destination})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Client ID"}),e.jsx("p",{className:"text-sm font-medium",children:G.clientId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-sm font-medium",children:G.pendingQueueSize||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dispatched"}),e.jsx("p",{className:"text-sm font-medium",children:G.dispatchedQueueSize||0})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ee(G.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),G.selector&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Selector: ",G.selector]})]})},G.id))})})]})}),e.jsx(ue,{value:"security",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Access Control Lists (ACLs)"}),e.jsx(ie,{children:"Configure permissions for users and resources"})]}),e.jsxs(V,{onClick:se,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add ACL"]})]})}),e.jsx(R,{children:I.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No ACLs configured"}):e.jsx("div",{className:"space-y-2",children:I.map((G,xe)=>e.jsx(S,{className:"border-l-4 border-l-red-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Principal"}),e.jsx("p",{className:"text-sm font-medium",children:G.principal})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resource"}),e.jsx("p",{className:"text-sm font-medium",children:G.resource})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Operation"}),e.jsx($,{variant:"outline",children:G.operation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Permission"}),e.jsx($,{variant:G.permission==="allow"?"default":"destructive",children:G.permission})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>X(xe),children:e.jsx(Ee,{className:"h-4 w-4"})})]})})},xe))})})]})})]})]})})}function w_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(W=>W.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.queues||[],u=i.accessKeyId||"",m=i.secretAccessKey||"",f=i.defaultRegion||"us-east-1",h=i.iamPolicies||[],[p,g]=j.useState(null),[y,M]=j.useState(!1),[w,k]=j.useState(!1),[E,N]=j.useState(""),A=W=>{r(a,{data:{...c.data,config:{...i,...W}}})},P=()=>{const W={name:"new-queue",type:"standard",region:f,visibilityTimeout:30,messageRetention:4,delaySeconds:0,approximateMessages:0,approximateMessagesNotVisible:0,approximateMessagesDelayed:0};A({queues:[...d,W]}),M(!1)},I=W=>{A({queues:d.filter((q,F)=>F!==W)})},T=(W,q,F)=>{const me=[...d];me[W]={...me[W],[q]:F},A({queues:me})},z=()=>{const W={id:`policy-${Date.now()}`,principal:"*",action:"sqs:SendMessage",resource:"*",effect:"Allow"};A({iamPolicies:[...h,W]}),k(!1)},C=W=>{A({iamPolicies:h.filter(q=>q.id!==W)})},L=W=>{const q=d[W];q&&E&&(T(W,"approximateMessages",(q.approximateMessages||0)+1),N(""))},Q=d.reduce((W,q)=>W+(q.approximateMessages||0),0),Y=d.reduce((W,q)=>W+(q.approximateMessagesNotVisible||0),0);return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Amazon SQS"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Simple Queue Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure and manage AWS SQS queues with delivery guarantees"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"AWS Console"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Queues"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:d.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active queues"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Messages"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:Q.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Approximate count"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"In Flight"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:Y.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Being processed"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Default Region"})}),e.jsxs(R,{children:[e.jsx($,{variant:"outline",children:f}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"AWS Region"})]})]})]}),e.jsxs(Ve,{defaultValue:"queues",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"queues",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Queues (",d.length,")"]}),e.jsxs(de,{value:"credentials",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Credentials"]}),e.jsxs(de,{value:"policies",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"IAM Policies (",h.length,")"]}),e.jsxs(de,{value:"monitoring",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Monitoring"]})]}),e.jsx(ue,{value:"queues",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Queues"}),e.jsx(ie,{children:"Manage SQS queues and their configuration"})]}),e.jsxs(V,{onClick:P,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Queue"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map((W,q)=>e.jsxs(S,{className:"border-l-4 border-l-orange-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ht,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:p===q?e.jsx(J,{value:W.name,onChange:F=>T(q,"name",F.target.value),onBlur:()=>g(null),onKeyDown:F=>{F.key==="Enter"&&g(null)},className:"h-7",autoFocus:!0}):e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>g(q),children:W.name})}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:W.type==="fifo"?"default":"outline",children:W.type==="fifo"?"FIFO":"Standard"}),e.jsx($,{variant:"outline",children:W.region})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>I(q),disabled:d.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages Available"}),e.jsx("p",{className:"text-lg font-semibold",children:W.approximateMessages||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"In Flight"}),e.jsx("p",{className:"text-lg font-semibold",children:W.approximateMessagesNotVisible||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Delayed"}),e.jsx("p",{className:"text-lg font-semibold",children:W.approximateMessagesDelayed||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Queue URL"}),e.jsxs("p",{className:"text-xs font-mono text-muted-foreground truncate",children:["https://sqs.",W.region,".amazonaws.com/.../",W.name]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Queue Type"}),e.jsxs(Pe,{value:W.type,onValueChange:F=>T(q,"type",F),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"standard",children:"Standard Queue"}),e.jsx(ne,{value:"fifo",children:"FIFO Queue"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Region"}),e.jsx(J,{value:W.region,onChange:F=>T(q,"region",F.target.value),placeholder:"us-east-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Visibility Timeout (seconds)"}),e.jsx(J,{type:"number",value:W.visibilityTimeout,onChange:F=>T(q,"visibilityTimeout",Number(F.target.value)),min:0,max:43200}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time a message is hidden after being received"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Message Retention Period (days)"}),e.jsx(J,{type:"number",value:W.messageRetention,onChange:F=>T(q,"messageRetention",Number(F.target.value)),min:1,max:14}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How long messages are kept (1-14 days)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Delivery Delay (seconds)"}),e.jsx(J,{type:"number",value:W.delaySeconds,onChange:F=>T(q,"delaySeconds",Number(F.target.value)),min:0,max:900}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Delay before messages become available (0-900 seconds)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Dead Letter Queue"}),e.jsx(J,{value:W.deadLetterQueue||"",onChange:F=>T(q,"deadLetterQueue",F.target.value),placeholder:"dlq-name"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Queue for messages that fail processing"})]}),W.type==="fifo"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Receive Count"}),e.jsx(J,{type:"number",value:W.maxReceiveCount||3,onChange:F=>T(q,"maxReceiveCount",Number(F.target.value)),min:1,max:1e3}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages moved to DLQ after this many receives"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Content-Based Deduplication"}),e.jsx(ge,{checked:W.contentBasedDedup||!1,onCheckedChange:F=>T(q,"contentBasedDedup",F)})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically deduplicate messages by content hash"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"FIFO Throughput Limit"}),e.jsxs(Pe,{value:W.fifoThroughputLimit||"perQueue",onValueChange:F=>T(q,"fifoThroughputLimit",F),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"perQueue",children:"Per Queue"}),e.jsx(ne,{value:"perMessageGroupId",children:"Per Message Group ID"})]})]})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Send Test Message"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{value:E,onChange:F=>N(F.target.value),placeholder:"Enter test message..."}),e.jsxs(V,{size:"sm",onClick:()=>L(q),disabled:!E,children:[e.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Send"]})]})]})]})]},q))})})]})}),e.jsx(ue,{value:"credentials",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"AWS Credentials"}),e.jsx(ie,{children:"Configure AWS access credentials for SQS"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"accessKeyId",children:"Access Key ID"}),e.jsx(J,{id:"accessKeyId",value:u,onChange:W=>A({accessKeyId:W.target.value}),placeholder:"AKIAIOSFODNN7EXAMPLE"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"secretAccessKey",children:"Secret Access Key"}),e.jsx(J,{id:"secretAccessKey",type:"password",value:m,onChange:W=>A({secretAccessKey:W.target.value}),placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"defaultRegion",children:"Default Region"}),e.jsx(J,{id:"defaultRegion",value:f,onChange:W=>A({defaultRegion:W.target.value}),placeholder:"us-east-1"})]}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:[e.jsx("strong",{children:"Security Note:"})," In production, use IAM roles or environment variables instead of hardcoding credentials."]})})]})]})}),e.jsx(ue,{value:"policies",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"IAM Policies"}),e.jsx(ie,{children:"Configure access policies for queues"})]}),e.jsxs(V,{onClick:z,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Policy"]})]})}),e.jsx(R,{children:h.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No policies configured"}):e.jsx("div",{className:"space-y-2",children:h.map(W=>e.jsx(S,{className:"border-l-4 border-l-blue-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Principal"}),e.jsx("p",{className:"text-sm font-medium",children:W.principal})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Action"}),e.jsx($,{variant:"outline",children:W.action})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resource"}),e.jsx("p",{className:"text-sm font-medium truncate",children:W.resource})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Effect"}),e.jsx($,{variant:W.effect==="Allow"?"default":"destructive",children:W.effect})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>C(W.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})})},W.id))})})]})}),e.jsx(ue,{value:"monitoring",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Queue Monitoring"}),e.jsx(ie,{children:"Monitor queue metrics and performance"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map((W,q)=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-base",children:W.name})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Messages Available"}),e.jsx("p",{className:"text-2xl font-bold",children:W.approximateMessages||0}),e.jsx(ws,{value:Math.min((W.approximateMessages||0)/1e3*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"In Flight"}),e.jsx("p",{className:"text-2xl font-bold",children:W.approximateMessagesNotVisible||0}),e.jsx(ws,{value:Math.min((W.approximateMessagesNotVisible||0)/100*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Delayed"}),e.jsx("p",{className:"text-2xl font-bold",children:W.approximateMessagesDelayed||0}),e.jsx(ws,{value:Math.min((W.approximateMessagesDelayed||0)/100*100,100),className:"h-2 mt-2"})]})]})})]},q))})})]})})]})]})})}function C_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(C=>C.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.namespace||"archiphoenix.servicebus.windows.net",u=i.connectionString||"",m=i.queues||[],f=i.topics||[],[h,p]=j.useState(null),[g,y]=j.useState(null),M=C=>{r(a,{data:{...c.data,config:{...i,...C}}})},w=()=>{const C={name:"new-queue",namespace:d,maxSizeInMegabytes:1024,defaultMessageTimeToLive:2592e3,lockDuration:30,maxDeliveryCount:10,enablePartitioning:!1,enableDeadLetteringOnMessageExpiration:!0,enableSessions:!1,activeMessageCount:0,deadLetterMessageCount:0,scheduledMessageCount:0};M({queues:[...m,C]})},k=C=>{M({queues:m.filter((L,Q)=>Q!==C)})},E=(C,L,Q)=>{const Y=[...m];Y[C]={...Y[C],[L]:Q},M({queues:Y})},N=()=>{const C={name:"new-topic",namespace:d,maxSizeInMegabytes:1024,defaultMessageTimeToLive:2592e3,enablePartitioning:!1,subscriptions:[]};M({topics:[...f,C]})},A=C=>{M({topics:f.filter((L,Q)=>Q!==C)})},P=(C,L,Q)=>{const Y=[...f];Y[C]={...Y[C],[L]:Q},M({topics:Y})},I=C=>{const L=f[C];if(L){const Q={name:"new-subscription",maxDeliveryCount:10,lockDuration:30,enableDeadLetteringOnMessageExpiration:!0,activeMessageCount:0},Y=[...L.subscriptions||[],Q];P(C,"subscriptions",Y)}},T=(C,L)=>{const Q=f[C];if(Q&&Q.subscriptions){const Y=Q.subscriptions.filter((W,q)=>q!==L);P(C,"subscriptions",Y)}},z=m.reduce((C,L)=>C+(L.activeMessageCount||0),0)+f.reduce((C,L)=>C+(L.subscriptions?.reduce((Q,Y)=>Q+(Y.activeMessageCount||0),0)||0),0);return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Azure Service Bus"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Service Bus Namespace"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure queues, topics and subscriptions with sessions and dead-lettering"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Azure Portal"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Namespace"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",className:"truncate max-w-full",children:d})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Queues"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:m.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Topics"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:f.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Messages"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:z.toLocaleString()})})]})]}),e.jsxs(Ve,{defaultValue:"queues",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"queues",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Queues (",m.length,")"]}),e.jsxs(de,{value:"topics",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Topics (",f.length,")"]}),e.jsxs(de,{value:"connection",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Connection"]})]}),e.jsx(ue,{value:"queues",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Queues"}),e.jsx(ie,{children:"Configure Service Bus queues"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Queue"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map((C,L)=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-base",children:C.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(L),disabled:m.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Messages"}),e.jsx("p",{className:"text-lg font-semibold",children:C.activeMessageCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dead Letter"}),e.jsx("p",{className:"text-lg font-semibold",children:C.deadLetterMessageCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled"}),e.jsx("p",{className:"text-lg font-semibold",children:C.scheduledMessageCount||0})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Size (MB)"}),e.jsx(J,{type:"number",value:C.maxSizeInMegabytes,onChange:Q=>E(L,"maxSizeInMegabytes",Number(Q.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Message TTL (seconds)"}),e.jsx(J,{type:"number",value:C.defaultMessageTimeToLive,onChange:Q=>E(L,"defaultMessageTimeToLive",Number(Q.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Lock Duration (seconds)"}),e.jsx(J,{type:"number",value:C.lockDuration,onChange:Q=>E(L,"lockDuration",Number(Q.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Delivery Count"}),e.jsx(J,{type:"number",value:C.maxDeliveryCount,onChange:Q=>E(L,"maxDeliveryCount",Number(Q.target.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Sessions"}),e.jsx(ge,{checked:C.enableSessions,onCheckedChange:Q=>E(L,"enableSessions",Q)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Partitioning"}),e.jsx(ge,{checked:C.enablePartitioning,onCheckedChange:Q=>E(L,"enablePartitioning",Q)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Dead Letter on Expiration"}),e.jsx(ge,{checked:C.enableDeadLetteringOnMessageExpiration,onCheckedChange:Q=>E(L,"enableDeadLetteringOnMessageExpiration",Q)})]})]})]})]},L))})})]})}),e.jsx(ue,{value:"topics",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Topics"}),e.jsx(ie,{children:"Configure publish-subscribe topics with subscriptions"})]}),e.jsxs(V,{onClick:N,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Topic"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:f.map((C,L)=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-base",children:C.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>A(L),disabled:f.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Size (MB)"}),e.jsx(J,{type:"number",value:C.maxSizeInMegabytes,onChange:Q=>P(L,"maxSizeInMegabytes",Number(Q.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Message TTL (seconds)"}),e.jsx(J,{type:"number",value:C.defaultMessageTimeToLive,onChange:Q=>P(L,"defaultMessageTimeToLive",Number(Q.target.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Partitioning"}),e.jsx(ge,{checked:C.enablePartitioning,onCheckedChange:Q=>P(L,"enablePartitioning",Q)})]})]}),e.jsx(ye,{}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(b,{children:["Subscriptions (",C.subscriptions?.length||0,")"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>I(L),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Subscription"]})]}),C.subscriptions&&C.subscriptions.length>0?e.jsx("div",{className:"space-y-2",children:C.subscriptions.map((Q,Y)=>e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:Q.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Messages: ",Q.activeMessageCount||0,"  Max Delivery: ",Q.maxDeliveryCount]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>T(L,Y),children:e.jsx(Ee,{className:"h-4 w-4"})})]})},Y))}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No subscriptions"})]})]})]},L))})})]})}),e.jsx(ue,{value:"connection",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"Azure Service Bus connection string"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Namespace"}),e.jsx(J,{value:d,onChange:C=>M({namespace:C.target.value}),placeholder:"my-namespace.servicebus.windows.net"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Connection String"}),e.jsx(ss,{value:u,onChange:C=>M({connectionString:C.target.value}),placeholder:"Endpoint=sb://...",rows:4})]})]})]})})]})]})})}function S_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(T=>T.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.projectId||"archiphoenix-lab",u=i.credentials||"",m=i.topics||[],f=i.subscriptions||[],[h,p]=j.useState(null),[g,y]=j.useState(null),M=T=>{r(a,{data:{...c.data,config:{...i,...T}}})},w=()=>{const T={name:"new-topic",projectId:d,messageRetentionDuration:604800,messageCount:0,byteCount:0};M({topics:[...m,T]})},k=T=>{M({topics:m.filter((z,C)=>C!==T)})},E=(T,z,C)=>{const L=[...m];L[T]={...L[T],[z]:C},M({topics:L})},N=()=>{const T={name:"new-subscription",topic:m[0]?.name||"",projectId:d,ackDeadlineSeconds:10,enableMessageOrdering:!1,messageCount:0,unackedMessageCount:0};M({subscriptions:[...f,T]})},A=T=>{M({subscriptions:f.filter((z,C)=>C!==T)})},P=(T,z,C)=>{const L=[...f];L[T]={...L[T],[z]:C},M({subscriptions:L})},I=m.reduce((T,z)=>T+(z.messageCount||0),0);return f.reduce((T,z)=>T+(z.unackedMessageCount||0),0),e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Google Cloud Pub/Sub"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Pub/Sub Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure topics and subscriptions with push/pull delivery"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"GCP Console"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Project ID"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",children:d})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Topics"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:m.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Subscriptions"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:f.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Messages"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:I.toLocaleString()})})]})]}),e.jsxs(Ve,{defaultValue:"topics",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"topics",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Topics (",m.length,")"]}),e.jsxs(de,{value:"subscriptions",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Subscriptions (",f.length,")"]}),e.jsxs(de,{value:"credentials",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Credentials"]})]}),e.jsx(ue,{value:"topics",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Topics"}),e.jsx(ie,{children:"Configure Pub/Sub topics"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Topic"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map((T,z)=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-base",children:T.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(z),disabled:m.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"}),e.jsx("p",{className:"text-lg font-semibold",children:T.messageCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Bytes"}),e.jsx("p",{className:"text-lg font-semibold",children:(T.byteCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Topic ID"}),e.jsxs("p",{className:"text-xs font-mono text-muted-foreground truncate",children:["projects/",d,"/topics/",T.name]})]})]}),e.jsx(ye,{}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Message Retention (seconds)"}),e.jsx(J,{type:"number",value:T.messageRetentionDuration||604800,onChange:C=>E(z,"messageRetentionDuration",Number(C.target.value))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Default: 7 days (604800)"})]})})]})]},z))})})]})}),e.jsx(ue,{value:"subscriptions",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Subscriptions"}),e.jsx(ie,{children:"Configure pull and push subscriptions"})]}),e.jsxs(V,{onClick:N,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Subscription"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:f.map((T,z)=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-base",children:T.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>A(z),disabled:f.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"}),e.jsx("p",{className:"text-lg font-semibold",children:T.messageCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Unacked"}),e.jsx("p",{className:"text-lg font-semibold",children:T.unackedMessageCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Topic"}),e.jsx($,{variant:"outline",children:T.topic})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Topic"}),e.jsxs(Pe,{value:T.topic,onValueChange:C=>P(z,"topic",C),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:m.map(C=>e.jsx(ne,{value:C.name,children:C.name},C.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Ack Deadline (seconds)"}),e.jsx(J,{type:"number",value:T.ackDeadlineSeconds,onChange:C=>P(z,"ackDeadlineSeconds",Number(C.target.value)),min:10,max:600})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Push Endpoint URL (optional)"}),e.jsx(J,{value:T.pushEndpoint||"",onChange:C=>P(z,"pushEndpoint",C.target.value),placeholder:"https://api.service/push"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty for pull subscription"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Message Ordering"}),e.jsx(ge,{checked:T.enableMessageOrdering,onCheckedChange:C=>P(z,"enableMessageOrdering",C)})]})]})]})]},z))})})]})}),e.jsx(ue,{value:"credentials",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"GCP Credentials"}),e.jsx(ie,{children:"Configure Google Cloud Platform credentials"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Project ID"}),e.jsx(J,{value:d,onChange:T=>M({projectId:T.target.value}),placeholder:"my-project-id"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Service Account JSON"}),e.jsx(ss,{value:u,onChange:T=>M({credentials:T.target.value}),placeholder:'{"type": "service_account", ...}',rows:8}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your GCP service account JSON credentials"})]})]})]})})]})]})})}function k_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(O=>O.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.host||"localhost",u=i.port||5432,m=i.database||"postgres",f=i.username||"postgres",h=i.password||"",p=i.currentSchema||"public",g=i.schemas||[{name:"public",owner:"postgres"},{name:"information_schema",owner:"postgres"}],y=i.tables||[],M=i.views||[],w=i.roles||[{name:"postgres",login:!0,superuser:!0},{name:"app_user",login:!0,superuser:!1},{name:"readonly",login:!0,superuser:!1}],k=i.sqlQuery||"",E=i.queryResults||[],N=O=>{r(a,{data:{...c.data,config:{...i,...O}}})},[A,P]=j.useState(null),[I,T]=j.useState(""),[z,C]=j.useState(!1),[L,Q]=j.useState([{name:"id",type:"SERIAL",nullable:!1,primaryKey:!0}]),[Y,W]=j.useState(""),q=()=>{if(I&&I.trim()){const O=i.tables||y;if(O.some(oe=>oe.name===I.trim()&&oe.schema===p)){alert(`Table "${I.trim()}" already exists in schema "${p}"`);return}const H={name:I.trim(),schema:p,columns:L.map(oe=>({...oe})),indexes:[],constraints:[],data:[]};N({tables:[...O,H]}),T(""),Q([{name:"id",type:"SERIAL",nullable:!1,primaryKey:!0}]),C(!1)}},F=O=>{const re=[...y],H=re.findIndex(oe=>oe.name===O&&oe.schema===p);H>=0&&(re[H].columns.push({name:"new_column",type:"VARCHAR(255)",nullable:!0,primaryKey:!1}),N({tables:re}))},me=(O,re)=>{const H=[...y],oe=H.findIndex(ee=>ee.name===O&&ee.schema===p);oe>=0&&H[oe].columns.length>1&&(H[oe].columns=H[oe].columns.filter((ee,se)=>se!==re),N({tables:H}))},je=(O,re,H,oe)=>{const ee=[...y],se=ee.findIndex(X=>X.name===O&&X.schema===p);se>=0&&(ee[se].columns[re]={...ee[se].columns[re],[H]:oe},N({tables:ee}))},ce=()=>{N({schemas:[...g,{name:"new_schema",owner:f}]})},K=()=>{N({views:[...M,{name:"new_view",schema:p,definition:"SELECT * FROM table_name"}]})},U=()=>{N({roles:[...w,{name:"new_role",login:!1,superuser:!1}]})},ae=y.filter(O=>O.schema===p),Z=M.filter(O=>O.schema===p);return!Y&&ae.length>0&&W(ae[0].name),Y&&!ae.find(O=>O.name===Y)&&W(ae[0]?.name||""),e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(gs,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"PostgreSQL"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Database: ",m," @ ",d,":",u]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(yv,{className:"h-4 w-4 mr-2"}),"Query Tool"]})]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"schemas",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-6",children:[e.jsxs(de,{value:"schemas",className:"gap-2",children:[e.jsx(Cv,{className:"h-4 w-4"}),"Schemas"]}),e.jsxs(de,{value:"tables",className:"gap-2",children:[e.jsx(Ar,{className:"h-4 w-4"}),"Tables"]}),e.jsxs(de,{value:"data",className:"gap-2",children:[e.jsx(Ra,{className:"h-4 w-4"}),"Data Editor"]}),e.jsxs(de,{value:"query",className:"gap-2",children:[e.jsx(yv,{className:"h-4 w-4"}),"Query Tool"]}),e.jsxs(de,{value:"views",className:"gap-2",children:[e.jsx(Wi,{className:"h-4 w-4"}),"Views"]}),e.jsxs(de,{value:"roles",className:"gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Roles"]}),e.jsxs(de,{value:"connection",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Connection"]})]}),e.jsx(ue,{value:"schemas",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Database Schemas"}),e.jsx(ie,{children:"Schema organization and management"})]}),e.jsxs(V,{size:"sm",onClick:ce,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Schema"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:g.map((O,re)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Cv,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:O.name}),e.jsxs(ie,{className:"text-xs mt-1",children:["Owner: ",O.owner]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[O.name===p&&e.jsx($,{variant:"default",children:"Current"}),e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>N({currentSchema:O.name}),children:"Use"})]})]})})},re))})})]})}),e.jsx(ue,{value:"tables",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{children:["Tables in Schema: ",p]}),e.jsx(ie,{children:"Table structure and columns"})]}),e.jsxs(V,{size:"sm",onClick:()=>C(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Table"]})]})}),e.jsxs(R,{children:[z&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create New Table"}),e.jsx(ie,{children:"Define table structure"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Table Name"}),e.jsx(J,{value:I,onChange:O=>T(O.target.value),placeholder:"table_name"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(b,{children:"Columns"}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Q([...L,{name:"new_column",type:"VARCHAR(255)",nullable:!0}]),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Column"]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-2 font-medium",children:"Name"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Nullable"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Default"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Primary Key"}),e.jsx("th",{className:"text-left p-2 font-medium"})]})}),e.jsx("tbody",{children:L.map((O,re)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:e.jsx(J,{value:O.name,onChange:H=>{const oe=[...L];oe[re].name=H.target.value,Q(oe)},className:"h-8",placeholder:"column_name"})}),e.jsx("td",{className:"p-2",children:e.jsxs(Pe,{value:O.type,onValueChange:H=>{const oe=[...L];oe[re].type=H,Q(oe)},children:[e.jsx(De,{className:"h-8",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"SERIAL",children:"SERIAL"}),e.jsx(ne,{value:"INTEGER",children:"INTEGER"}),e.jsx(ne,{value:"BIGINT",children:"BIGINT"}),e.jsx(ne,{value:"VARCHAR(255)",children:"VARCHAR(255)"}),e.jsx(ne,{value:"TEXT",children:"TEXT"}),e.jsx(ne,{value:"DECIMAL(10,2)",children:"DECIMAL(10,2)"}),e.jsx(ne,{value:"BOOLEAN",children:"BOOLEAN"}),e.jsx(ne,{value:"TIMESTAMP",children:"TIMESTAMP"}),e.jsx(ne,{value:"DATE",children:"DATE"})]})]})}),e.jsx("td",{className:"p-2",children:e.jsxs(Pe,{value:O.nullable?"true":"false",onValueChange:H=>{const oe=[...L];oe[re].nullable=H==="true",Q(oe)},children:[e.jsx(De,{className:"h-8",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"true",children:"NULL"}),e.jsx(ne,{value:"false",children:"NOT NULL"})]})]})}),e.jsx("td",{className:"p-2",children:e.jsx(J,{value:O.default||"",onChange:H=>{const oe=[...L];oe[re].default=H.target.value,Q(oe)},className:"h-8",placeholder:"default value"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"checkbox",checked:O.primaryKey||!1,onChange:H=>{const oe=[...L];oe[re].primaryKey=H.target.checked,Q(oe)},className:"h-4 w-4"})}),e.jsx("td",{className:"p-2",children:L.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>Q(L.filter((H,oe)=>oe!==re)),children:e.jsx(Ee,{className:"h-4 w-4"})})})]},re))})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:q,disabled:!I||!I.trim(),children:"Create Table"}),e.jsx(V,{variant:"outline",onClick:()=>{C(!1),T(""),Q([{name:"id",type:"SERIAL",nullable:!1,primaryKey:!0}])},children:"Cancel"})]}),!I&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please enter a table name"})]})]}),e.jsx("div",{className:"space-y-4",children:ae.map((O,re)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Ar,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:O.name}),e.jsxs(ie,{className:"text-xs mt-1",children:["Schema: ",O.schema,"  ",O.columns.length," columns  ",O.indexes.length," indexes"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(A===O.name?null:O.name),children:A===O.name?"Done":"Edit Structure"}),e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>{N({tables:y.filter((H,oe)=>{const ee=y[oe];return!(ee.name===O.name&&ee.schema===p)})})},children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(b,{className:"text-sm font-semibold",children:"Columns"}),A===O.name&&e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>F(O.name),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Column"]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-2 font-medium",children:"Name"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Nullable"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Default"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Key"}),A===O.name&&e.jsx("th",{className:"text-left p-2 font-medium"})]})}),e.jsx("tbody",{children:O.columns.map((H,oe)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:A===O.name?e.jsx(J,{value:H.name,onChange:ee=>je(O.name,oe,"name",ee.target.value),className:"h-8 font-mono"}):e.jsx("span",{className:"font-mono",children:H.name})}),e.jsx("td",{className:"p-2",children:A===O.name?e.jsxs(Pe,{value:H.type,onValueChange:ee=>je(O.name,oe,"type",ee),children:[e.jsx(De,{className:"h-8",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"SERIAL",children:"SERIAL"}),e.jsx(ne,{value:"INTEGER",children:"INTEGER"}),e.jsx(ne,{value:"BIGINT",children:"BIGINT"}),e.jsx(ne,{value:"VARCHAR(255)",children:"VARCHAR(255)"}),e.jsx(ne,{value:"TEXT",children:"TEXT"}),e.jsx(ne,{value:"DECIMAL(10,2)",children:"DECIMAL(10,2)"}),e.jsx(ne,{value:"BOOLEAN",children:"BOOLEAN"}),e.jsx(ne,{value:"TIMESTAMP",children:"TIMESTAMP"}),e.jsx(ne,{value:"DATE",children:"DATE"})]})]}):e.jsx("span",{className:"text-muted-foreground",children:H.type})}),e.jsx("td",{className:"p-2",children:A===O.name?e.jsxs(Pe,{value:H.nullable?"true":"false",onValueChange:ee=>je(O.name,oe,"nullable",ee==="true"),children:[e.jsx(De,{className:"h-8",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"true",children:"NULL"}),e.jsx(ne,{value:"false",children:"NOT NULL"})]})]}):H.nullable?e.jsx($,{variant:"outline",children:"NULL"}):e.jsx($,{variant:"secondary",children:"NOT NULL"})}),e.jsx("td",{className:"p-2",children:A===O.name?e.jsx(J,{value:H.default||"",onChange:ee=>je(O.name,oe,"default",ee.target.value),className:"h-8",placeholder:"default"}):e.jsx("span",{className:"text-muted-foreground",children:H.default||"-"})}),e.jsx("td",{className:"p-2",children:A===O.name?e.jsx("input",{type:"checkbox",checked:H.primaryKey||!1,onChange:ee=>je(O.name,oe,"primaryKey",ee.target.checked),className:"h-4 w-4"}):H.primaryKey&&e.jsxs($,{variant:"default",className:"gap-1",children:[e.jsx(Ct,{className:"h-3 w-3"}),"PK"]})}),A===O.name&&e.jsx("td",{className:"p-2",children:O.columns.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>me(O.name,oe),children:e.jsx(Ee,{className:"h-4 w-4"})})})]},oe))})]})})]}),O.indexes.length>0&&e.jsxs("div",{children:[e.jsx(b,{className:"text-sm font-semibold mb-2 block",children:"Indexes"}),e.jsx("div",{className:"space-y-1",children:O.indexes.map((H,oe)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded text-sm",children:[e.jsx(Ct,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-mono",children:H})]},oe))})]}),O.constraints.length>0&&e.jsxs("div",{children:[e.jsx(b,{className:"text-sm font-semibold mb-2 block",children:"Constraints"}),e.jsx("div",{className:"space-y-1",children:O.constraints.map((H,oe)=>e.jsx("div",{className:"p-2 border rounded text-sm font-mono text-muted-foreground",children:H},oe))})]})]})]},re))})]})]})}),e.jsx(ue,{value:"data",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Data Editor"}),e.jsx(ie,{children:"View and edit table data"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Pe,{value:p,onValueChange:O=>N({currentSchema:O}),children:[e.jsx(De,{className:"w-40",children:e.jsx(Oe,{})}),e.jsx(_e,{children:g.map(O=>e.jsx(ne,{value:O.name,children:O.name},O.name))})]}),e.jsxs(Pe,{value:ae[0]?.name||"",onValueChange:()=>{},children:[e.jsx(De,{className:"w-40",children:e.jsx(Oe,{placeholder:"Select table"})}),e.jsx(_e,{children:ae.map(O=>e.jsx(ne,{value:O.name,children:O.name},O.name))})]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{if(ae.length>0){const O=[...y],re=O.findIndex(H=>H.name===ae[0].name&&H.schema===p);if(re>=0){const H={};O[re].columns.forEach(oe=>{oe.default?H[oe.name]=oe.default:oe.type.includes("SERIAL")?H[oe.name]="AUTO":H[oe.name]=""}),O[re].data||(O[re].data=[]),O[re].data.push(H),N({tables:O})}}},children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Insert Row"]})]})]})}),e.jsx(R,{children:(()=>{const O=Y||ae[0]?.name,re=ae.find(H=>H.name===O);return re?!re.data||re.data.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ar,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:'No data in table. Click "Insert Row" to add data.'})]}):e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[re.columns.map(H=>e.jsxs("th",{className:"text-left p-2 font-medium border-r",children:[H.name,H.primaryKey&&e.jsx(Ct,{className:"h-3 w-3 inline ml-1 text-primary"})]},H.name)),e.jsx("th",{className:"text-left p-2 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:re.data.map((H,oe)=>e.jsxs("tr",{className:"border-t hover:bg-muted/50",children:[re.columns.map(ee=>e.jsx("td",{className:"p-1 border-r",children:e.jsx(J,{value:H[ee.name]!==void 0?String(H[ee.name]):"",onChange:se=>{const X=[...y],le=X.findIndex(G=>G.name===O&&G.schema===p);le>=0&&X[le].data&&(X[le].data[oe]={...X[le].data[oe],[ee.name]:se.target.value},N({tables:X}))},className:"border-0 p-1 h-8 bg-transparent hover:bg-muted/50 focus:bg-background focus:border focus:border-primary",placeholder:ee.default||(ee.nullable?"NULL":"required"),disabled:ee.type.includes("SERIAL")&&String(H[ee.name])==="AUTO"})},ee.name)),e.jsx("td",{className:"p-2",children:e.jsx(V,{size:"sm",variant:"ghost",className:"h-7 text-destructive",onClick:()=>{const ee=[...y],se=ee.findIndex(X=>X.name===O&&X.schema===p);se>=0&&ee[se].data&&(ee[se].data=ee[se].data.filter((X,le)=>le!==oe),N({tables:ee}))},children:e.jsx(Ee,{className:"h-3 w-3"})})})]},oe))})]})}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ar,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Select a table to view and edit data"})]})})()})]})}),e.jsx(ue,{value:"query",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Query Tool"}),e.jsx(ie,{children:"Execute SQL queries and commands"})]}),e.jsxs(V,{size:"sm",onClick:()=>{if(k.toLowerCase().includes("select")){const O=k.match(/from\s+(\w+)/i)?.[1],re=y.find(H=>H.name===O);re&&re.data?N({queryResults:re.data}):N({queryResults:[]})}else if(k.toLowerCase().includes("insert")){const O=k.match(/insert\s+into\s+(\w+)\s*\(([^)]+)\)\s*values\s*\(([^)]+)\)/i);if(O){const re=O[1],H=O[2].split(",").map(X=>X.trim()),oe=O[3].split(",").map(X=>X.trim().replace(/['"]/g,"")),ee=[...y],se=ee.findIndex(X=>X.name===re);if(se>=0){const X={};H.forEach((le,G)=>{X[le]=oe[G]}),ee[se].data||(ee[se].data=[]),ee[se].data.push(X),N({tables:ee,queryResults:[{message:"INSERT executed: 1 row affected"}]})}}}else k.toLowerCase().includes("update")?N({queryResults:[{message:"UPDATE executed successfully"}]}):k.toLowerCase().includes("delete")?N({queryResults:[{message:"DELETE executed successfully"}]}):N({queryResults:[{message:"Query executed"}]})},children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Execute"]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SQL Query"}),e.jsx(ss,{value:k,onChange:O=>N({sqlQuery:O.target.value}),className:"font-mono text-sm h-32",placeholder:"SELECT * FROM users;"})]}),E.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Results"}),e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:E[0]?.message?e.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:E[0].message}):e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsx("tr",{children:Object.keys(E[0]||{}).map(O=>e.jsx("th",{className:"text-left p-2 font-medium border-r",children:O},O))})}),e.jsx("tbody",{children:E.map((O,re)=>e.jsx("tr",{className:"border-t hover:bg-muted/50",children:Object.values(O).map((H,oe)=>e.jsx("td",{className:"p-2 border-r",children:String(H)},oe))},re))})]})})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-2",children:" Example queries:"}),e.jsx("p",{className:"font-mono text-xs",children:"SELECT * FROM users;"}),e.jsx("p",{className:"font-mono text-xs",children:"INSERT INTO users (username, email) VALUES ('new_user', 'user@example.com');"}),e.jsx("p",{className:"font-mono text-xs",children:"UPDATE users SET email = 'updated@example.com' WHERE id = 1;"}),e.jsx("p",{className:"font-mono text-xs",children:"DELETE FROM users WHERE id = 2;"})]})]})]})}),e.jsx(ue,{value:"views",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{children:["Views in Schema: ",p]}),e.jsx(ie,{children:"Database views and their definitions"})]}),e.jsxs(V,{size:"sm",onClick:K,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create View"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:Z.map((O,re)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Wi,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:O.name}),e.jsxs(ie,{className:"text-xs mt-1",children:["Schema: ",O.schema]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Definition"}),e.jsx(ss,{value:O.definition,readOnly:!0,className:"font-mono text-sm",rows:3})]})})]},re))})})]})}),e.jsx(ue,{value:"roles",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Database Roles"}),e.jsx(ie,{children:"User roles and permissions"})]}),e.jsxs(V,{size:"sm",onClick:U,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Role"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:w.map((O,re)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Ks,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:O.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[O.login&&e.jsx($,{variant:"outline",className:"mr-1",children:"LOGIN"}),O.superuser&&e.jsx($,{variant:"destructive",className:"mr-1",children:"SUPERUSER"})]})]})]})})})},re))})})]})}),e.jsx(ue,{value:"connection",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"PostgreSQL server connection details"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"host",children:"Host"}),e.jsx(J,{id:"host",value:d,onChange:O=>N({host:O.target.value}),placeholder:"localhost"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"port",children:"Port"}),e.jsx(J,{id:"port",type:"number",value:u,onChange:O=>N({port:parseInt(O.target.value)||5432}),placeholder:"5432"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"database",children:"Database"}),e.jsx(J,{id:"database",value:m,onChange:O=>N({database:O.target.value}),placeholder:"postgres"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"username",children:"Username"}),e.jsx(J,{id:"username",value:f,onChange:O=>N({username:O.target.value}),placeholder:"postgres"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),e.jsx(J,{id:"password",type:"password",value:h,onChange:O=>N({password:O.target.value}),placeholder:"password"})]})]})]})]})})]})]})})}function R_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(we=>we.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.host||"localhost",u=i.port||27017,m=i.database||"test",f=i.username||"admin",h=i.password||"",p=i.authSource||"admin",g=i.enableReplicaSet??!1,y=i.replicaSetName||"rs0",M=i.replicaSetMembers||[{host:"localhost",port:27017,priority:1,votes:1},{host:"localhost",port:27018,priority:1,votes:1},{host:"localhost",port:27019,priority:0,votes:0,arbiterOnly:!0}],w=i.enableSharding??!1,k=i.shardConfig||{shardKey:{_id:"hashed"},shards:["shard1","shard2"]},E=i.collections||[],N=i.selectedDatabase||m,A=i.selectedCollection||"",P=i.documents||[],I=i.aggregationPipeline||[],[T,z]=j.useState(!1),[C,L]=j.useState(null),[Q,Y]=j.useState(!1),[W,q]=j.useState(null),[F,me]=j.useState(!1),[je,ce]=j.useState("{}"),[K,U]=j.useState("{}"),[ae,Z]=j.useState(!1),O=we=>{r(a,{data:{...c.data,config:{...i,...we}}})},re=()=>{const we={name:"new_collection",database:N,documentCount:0,size:0,indexes:[{name:"_id_",keys:{_id:1},unique:!0}]};O({collections:[...E,we]}),z(!1)},H=we=>{O({collections:E.filter((Be,qe)=>qe!==we)})},oe=(we,Be,qe)=>{const Xe=[...E];Xe[we]={...Xe[we],[Be]:qe},O({collections:Xe})},ee=(we,Be)=>{const qe=E.findIndex(Ue=>Ue.name===we);if(qe===-1)return;const Xe=[...E];Xe[qe].indexes=Xe[qe].indexes?.filter(Ue=>Ue.name!==Be),O({collections:Xe})},se=()=>{O({replicaSetMembers:[...M,{host:"localhost",port:27020,priority:1,votes:1}]})},X=we=>{O({replicaSetMembers:M.filter((Be,qe)=>qe!==we)})},le=()=>{O({shardConfig:{...k,shards:[...k.shards,`shard${k.shards.length+1}`]}})},G=()=>{const we={stage:"$match",expression:"{}"};O({aggregationPipeline:[...I,we]})},xe=we=>{O({aggregationPipeline:I.filter((Be,qe)=>qe!==we)})},Te=(we,Be,qe)=>{const Xe=[...I];Xe[we]={...Xe[we],[Be]:qe},O({aggregationPipeline:Xe})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(gs,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"MongoDB"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Document database management"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:"v7.0"}),e.jsxs($,{variant:"secondary",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]})]})]}),e.jsx(ye,{}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"Configure MongoDB connection parameters"})]}),e.jsxs(R,{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Host"}),e.jsx(J,{value:d,onChange:we=>O({host:we.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Port"}),e.jsx(J,{type:"number",value:u,onChange:we=>O({port:parseInt(we.target.value)||27017})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Database"}),e.jsx(J,{value:m,onChange:we=>O({database:we.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Username"}),e.jsx(J,{value:f,onChange:we=>O({username:we.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Password"}),e.jsx(J,{type:"password",value:h,onChange:we=>O({password:we.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Auth Source"}),e.jsx(J,{value:p,onChange:we=>O({authSource:we.target.value})})]})]})]}),e.jsxs(Ve,{defaultValue:"collections",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-5",children:[e.jsxs(de,{value:"collections",className:"gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Collections"]}),e.jsxs(de,{value:"documents",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Documents"]}),e.jsxs(de,{value:"aggregations",className:"gap-2",children:[e.jsx(L0,{className:"h-4 w-4"}),"Aggregations"]}),e.jsxs(de,{value:"replication",className:"gap-2",children:[e.jsx(cc,{className:"h-4 w-4"}),"Replication"]}),e.jsxs(de,{value:"sharding",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Sharding"]})]}),e.jsx(ue,{value:"collections",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Collections"}),e.jsx(ie,{children:"Manage database collections and indexes"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>z(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Collection"]})]}),T&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Collection Name"}),e.jsx(J,{placeholder:"new_collection"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:re,children:"Create Collection"}),e.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:E.map((we,Be)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:we.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[we.documentCount||0," documents  ",we.size||0," MB"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>L(C===Be?null:Be),children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),C===Be?"Hide":"Edit"]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>H(Be),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),C===Be&&e.jsxs("div",{className:"space-y-4 pt-3 border-t",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Indexes"}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{q(we.name),Y(!0)},children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Index"]})]}),we.indexes&&we.indexes.length>0&&e.jsx("div",{className:"space-y-2",children:we.indexes.map((qe,Xe)=>e.jsxs("div",{className:"p-2 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-mono text-sm",children:qe.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[Object.entries(qe.keys).map(([Ue,bs])=>`${Ue}: ${bs}`).join(", "),qe.unique&&"  unique"]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ee(we.name,qe.name),children:e.jsx(Ee,{className:"h-3 w-3"})})]},Xe))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Schema Validation"}),e.jsx(ss,{className:"font-mono text-xs",rows:4,value:we.validation?JSON.stringify(we.validation.validator,null,2):"{}",onChange:qe=>{try{const Xe=JSON.parse(qe.target.value);oe(Be,"validation",{validator:Xe,validationLevel:we.validation?.validationLevel||"strict",validationAction:we.validation?.validationAction||"error"})}catch{}},placeholder:'{"$jsonSchema": {"required": ["field"]}}'})]})]})]},Be))})]})}),e.jsx(ue,{value:"documents",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Documents"}),e.jsx(ie,{children:"View and manage collection documents"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Pe,{value:A,onValueChange:we=>O({selectedCollection:we}),children:[e.jsx(De,{className:"w-48",children:e.jsx(Oe,{placeholder:"Select collection"})}),e.jsx(_e,{children:E.map((we,Be)=>e.jsx(ne,{value:we.name,children:we.name},Be))})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>me(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Insert Document"]})]})]}),F&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Document (JSON)"}),e.jsx(ss,{className:"font-mono text-sm",rows:6,value:je,onChange:we=>ce(we.target.value),placeholder:'{"name": "John", "email": "john@example.com"}'})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:()=>{try{const we=JSON.parse(je),Be={_id:`doc_${Date.now()}`,...we};O({documents:[...P,Be]}),ce("{}"),me(!1)}catch{alert("Invalid JSON")}},children:"Insert Document"}),e.jsx(V,{variant:"outline",onClick:()=>me(!1),children:"Cancel"})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Query Filter (JSON)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{className:"font-mono text-sm",value:K,onChange:we=>U(we.target.value),placeholder:'{"status": "active"}'}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Find"]})]})]}),e.jsx("div",{className:"space-y-2",children:P.length>0?P.map((we,Be)=>e.jsx("div",{className:"p-3 border rounded bg-muted/50 font-mono text-xs",children:e.jsx("pre",{children:JSON.stringify(we,null,2)})},Be)):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No documents found. Insert a document to get started."})})]})]})}),e.jsx(ue,{value:"aggregations",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Aggregation Pipeline"}),e.jsx(ie,{children:"Build MongoDB aggregation pipelines"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:G,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Stage"]})]}),e.jsxs(R,{className:"space-y-3",children:[I.map((we,Be)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Pe,{value:we.stage,onValueChange:qe=>Te(Be,"stage",qe),children:[e.jsx(De,{className:"w-48",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"$match",children:"$match"}),e.jsx(ne,{value:"$group",children:"$group"}),e.jsx(ne,{value:"$project",children:"$project"}),e.jsx(ne,{value:"$sort",children:"$sort"}),e.jsx(ne,{value:"$limit",children:"$limit"}),e.jsx(ne,{value:"$skip",children:"$skip"}),e.jsx(ne,{value:"$unwind",children:"$unwind"}),e.jsx(ne,{value:"$lookup",children:"$lookup"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Stage Type"})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>xe(Be),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Expression (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:3,value:we.expression,onChange:qe=>Te(Be,"expression",qe.target.value),placeholder:'{"status": "active"}'})]})]},Be)),I.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No aggregation stages. Add a stage to build your pipeline."})]})]})}),e.jsx(ue,{value:"replication",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Replica Set Configuration"}),e.jsx(ie,{children:"Configure MongoDB replica set members"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Replica Set"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable MongoDB replica set for high availability"})]}),e.jsx(ge,{checked:g,onCheckedChange:we=>O({enableReplicaSet:we})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Replica Set Name"}),e.jsx(J,{value:y,onChange:we=>O({replicaSetName:we.target.value})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Replica Set Members"}),e.jsxs(V,{variant:"outline",size:"sm",onClick:se,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Member"]})]}),M.map((we,Be)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Host"}),e.jsx(J,{value:we.host,onChange:qe=>{const Xe=[...M];Xe[Be]={...Xe[Be],host:qe.target.value},O({replicaSetMembers:Xe})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Port"}),e.jsx(J,{type:"number",value:we.port,onChange:qe=>{const Xe=[...M];Xe[Be]={...Xe[Be],port:parseInt(qe.target.value)||27017},O({replicaSetMembers:Xe})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Priority"}),e.jsx(J,{type:"number",value:we.priority||1,onChange:qe=>{const Xe=[...M];Xe[Be]={...Xe[Be],priority:parseInt(qe.target.value)||1},O({replicaSetMembers:Xe})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Votes"}),e.jsx(J,{type:"number",value:we.votes||1,onChange:qe=>{const Xe=[...M];Xe[Be]={...Xe[Be],votes:parseInt(qe.target.value)||1},O({replicaSetMembers:Xe})}})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>X(Be),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:we.arbiterOnly||!1,onCheckedChange:qe=>{const Xe=[...M];Xe[Be]={...Xe[Be],arbiterOnly:qe},O({replicaSetMembers:Xe})}}),e.jsx(b,{children:"Arbiter Only"})]})]},Be))]})]})]})]})}),e.jsx(ue,{value:"sharding",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Sharding Configuration"}),e.jsx(ie,{children:"Configure MongoDB sharding for horizontal scaling"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Sharding"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable sharding for distributed data storage"})]}),e.jsx(ge,{checked:w,onCheckedChange:we=>O({enableSharding:we})})]}),w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Shard Key (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:3,value:JSON.stringify(k.shardKey,null,2),onChange:we=>{try{const Be=JSON.parse(we.target.value);O({shardConfig:{...k,shardKey:Be}})}catch{}},placeholder:'{"_id": "hashed"}'})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Shards"}),e.jsxs(V,{variant:"outline",size:"sm",onClick:le,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Shard"]})]}),e.jsx("div",{className:"space-y-2",children:k.shards.map((we,Be)=>e.jsxs("div",{className:"p-3 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsx("span",{className:"font-mono",children:we}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>{O({shardConfig:{...k,shards:k.shards.filter((qe,Xe)=>Xe!==Be)}})},children:e.jsx(Ee,{className:"h-3 w-3"})})]},Be))})]})]})]})]})})]})]})})}function A_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(G=>G.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.host||"localhost",u=i.port||6379,m=i.password||"",f=i.database||0,h=i.maxMemory||"256mb",p=i.maxMemoryPolicy||"noeviction",g=i.enablePersistence??!0,y=i.persistenceType||"rdb",M=i.rdbSaveInterval||"900 1 300 10 60 10000",w=i.aofRewritePolicy||"everysec",k=i.enableCluster??!1,E=i.clusterNodes||["localhost:6379","localhost:6380","localhost:6381"],N=i.keys||[],A=i.commands||[];i.selectedKey;const[P,I]=j.useState(!1),[T,z]=j.useState(""),[C,L]=j.useState("string"),[Q,Y]=j.useState(""),[W,q]=j.useState(""),[F,me]=j.useState("*"),[je,ce]=j.useState(""),[K,U]=j.useState(null),ae=G=>{r(a,{data:{...c.data,config:{...i,...G}}})},Z=()=>{if(!T.trim())return;const G={key:T,type:C,ttl:W?parseInt(W):-1,value:Q,size:Q.length||0};ae({keys:[...N,G]}),z(""),Y(""),q(""),I(!1)},O=G=>{ae({keys:N.filter((xe,Te)=>Te!==G)})},re=(G,xe,Te)=>{const we=[...N];we[G]={...we[G],[xe]:Te},ae({keys:we})},H=()=>{if(!je.trim())return;const G=je.trim().split(/\s+/),xe=G[0].toUpperCase(),Te=G.slice(1);ae({commands:[{command:xe,args:Te,result:"OK (simulated)"},...A.slice(0,49)]}),ce("")},oe=()=>{ae({clusterNodes:[...E,"localhost:6382"]})},ee=G=>{ae({clusterNodes:E.filter((xe,Te)=>Te!==G)})},se=G=>{switch(G){case"string":return e.jsx(Ds,{className:"h-4 w-4"});case"hash":return e.jsx(r5,{className:"h-4 w-4"});case"list":return e.jsx(x5,{className:"h-4 w-4"});case"set":return e.jsx(Mt,{className:"h-4 w-4"});case"zset":return e.jsx(St,{className:"h-4 w-4"});case"stream":return e.jsx(gs,{className:"h-4 w-4"});default:return e.jsx(Ct,{className:"h-4 w-4"})}},X=G=>{switch(G){case"string":return"bg-blue-500/10 text-blue-500";case"hash":return"bg-purple-500/10 text-purple-500";case"list":return"bg-green-500/10 text-green-500";case"set":return"bg-yellow-500/10 text-yellow-500";case"zset":return"bg-orange-500/10 text-orange-500";case"stream":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},le=N.filter(G=>{if(F==="*")return!0;try{return new RegExp(F.replace(/\*/g,".*")).test(G.key)}catch{return G.key.includes(F)}});return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(gs,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Redis"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"In-memory data structure store"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:"v7.2"}),e.jsxs($,{variant:"secondary",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]})]})]}),e.jsx(ye,{}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"Configure Redis connection parameters"})]}),e.jsxs(R,{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Host"}),e.jsx(J,{value:d,onChange:G=>ae({host:G.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Port"}),e.jsx(J,{type:"number",value:u,onChange:G=>ae({port:parseInt(G.target.value)||6379})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Password"}),e.jsx(J,{type:"password",value:m,onChange:G=>ae({password:G.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Database"}),e.jsx(J,{type:"number",value:f,onChange:G=>ae({database:parseInt(G.target.value)||0})})]})]})]}),e.jsxs(Ve,{defaultValue:"keys",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-4",children:[e.jsxs(de,{value:"keys",className:"gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Keys"]}),e.jsxs(de,{value:"commands",className:"gap-2",children:[e.jsx(Rv,{className:"h-4 w-4"}),"Commands"]}),e.jsxs(de,{value:"configuration",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Configuration"]}),e.jsxs(de,{value:"cluster",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Cluster"]})]}),e.jsx(ue,{value:"keys",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Keys"}),e.jsx(ie,{children:"Manage Redis keys and their values"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{className:"w-48",placeholder:"Search pattern (e.g., user:*)",value:F,onChange:G=>me(G.target.value)}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Key"]})]})]}),P&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Key Name"}),e.jsx(J,{value:T,onChange:G=>z(G.target.value),placeholder:"user:1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Type"}),e.jsxs(Pe,{value:C,onValueChange:G=>L(G),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"string",children:"String"}),e.jsx(ne,{value:"hash",children:"Hash"}),e.jsx(ne,{value:"list",children:"List"}),e.jsx(ne,{value:"set",children:"Set"}),e.jsx(ne,{value:"zset",children:"Sorted Set"}),e.jsx(ne,{value:"stream",children:"Stream"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"TTL (seconds, -1 for no expiry)"}),e.jsx(J,{type:"number",value:W,onChange:G=>q(G.target.value),placeholder:"-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Value (JSON for complex types)"}),e.jsx(ss,{className:"font-mono text-sm",rows:3,value:Q,onChange:G=>Y(G.target.value),placeholder:C==="string"?'"value"':'{"field": "value"}'})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:Z,children:"Add Key"}),e.jsx(V,{variant:"outline",onClick:()=>{I(!1),z(""),Y(""),q("")},children:"Cancel"})]})]})}),e.jsxs(R,{className:"space-y-2",children:[le.map((G,xe)=>e.jsxs("div",{className:"p-3 border border-border rounded-lg bg-card space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-1.5 rounded ${X(G.type)}`,children:se(G.type)}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-mono font-semibold",children:G.key}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx($,{variant:"outline",className:"text-xs",children:G.type}),G.ttl&&G.ttl>0&&e.jsxs("span",{children:["TTL: ",G.ttl,"s"]}),G.ttl===-1&&e.jsx("span",{children:"No expiry"}),G.size&&e.jsxs("span",{children:["Size: ",G.size," bytes"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>U(K===xe?null:xe),children:K===xe?"Hide":"View"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>O(xe),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),K===xe&&e.jsxs("div",{className:"pt-2 border-t space-y-2",children:[e.jsx(b,{children:"Value"}),e.jsx(ss,{className:"font-mono text-xs",rows:4,value:typeof G.value=="string"?G.value:JSON.stringify(G.value,null,2),onChange:Te=>{try{const we=JSON.parse(Te.target.value);re(xe,"value",we)}catch{re(xe,"value",Te.target.value)}}}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx(b,{children:"TTL (seconds)"}),e.jsx(J,{type:"number",value:G.ttl||-1,onChange:Te=>re(xe,"ttl",parseInt(Te.target.value)||-1)})]})})]})]},xe)),le.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No keys found. Add a key to get started."})]})]})}),e.jsx(ue,{value:"commands",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Redis Commands"}),e.jsx(ie,{children:"Execute Redis commands directly"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Command"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{className:"font-mono",value:je,onChange:G=>ce(G.target.value),onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),H())},placeholder:"GET user:1"}),e.jsxs(V,{onClick:H,children:[e.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Execute"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Examples: GET key, SET key value, HGETALL hash, LPUSH list value, SADD set member"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Command History"}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[A.map((G,xe)=>e.jsxs("div",{className:"p-3 border rounded bg-muted/50 font-mono text-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"text-primary font-semibold",children:[G.command," ",G.args.join(" ")]})}),G.result&&e.jsxs("div",{className:"text-muted-foreground text-xs mt-1",children:[" ",G.result]})]},xe)),A.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No commands executed yet"})]})]})]})]})}),e.jsx(ue,{value:"configuration",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Redis Configuration"}),e.jsx(ie,{children:"Configure Redis server settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Memory"}),e.jsx(J,{value:h,onChange:G=>ae({maxMemory:G.target.value}),placeholder:"256mb"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Memory Policy"}),e.jsxs(Pe,{value:p,onValueChange:G=>ae({maxMemoryPolicy:G}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"noeviction",children:"noeviction"}),e.jsx(ne,{value:"allkeys-lru",children:"allkeys-lru"}),e.jsx(ne,{value:"allkeys-lfu",children:"allkeys-lfu"}),e.jsx(ne,{value:"volatile-lru",children:"volatile-lru"}),e.jsx(ne,{value:"volatile-lfu",children:"volatile-lfu"}),e.jsx(ne,{value:"volatile-ttl",children:"volatile-ttl"}),e.jsx(ne,{value:"volatile-random",children:"volatile-random"}),e.jsx(ne,{value:"allkeys-random",children:"allkeys-random"})]})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Persistence"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Save data to disk"})]}),e.jsx(ge,{checked:g,onCheckedChange:G=>ae({enablePersistence:G})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Persistence Type"}),e.jsxs(Pe,{value:y,onValueChange:G=>ae({persistenceType:G}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"rdb",children:"RDB"}),e.jsx(ne,{value:"aof",children:"AOF"}),e.jsx(ne,{value:"both",children:"Both"})]})]})]}),y==="rdb"||y==="both"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"RDB Save Interval"}),e.jsx(J,{value:M,onChange:G=>ae({rdbSaveInterval:G.target.value}),placeholder:"900 1 300 10 60 10000"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: save <seconds> <changes>"})]}),y==="aof"||y==="both"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"AOF Rewrite Policy"}),e.jsxs(Pe,{value:w,onValueChange:G=>ae({aofRewritePolicy:G}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"always",children:"always"}),e.jsx(ne,{value:"everysec",children:"everysec"}),e.jsx(ne,{value:"no",children:"no"})]})]})]})]})]})]})]})}),e.jsx(ue,{value:"cluster",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Redis Cluster Configuration"}),e.jsx(ie,{children:"Configure Redis cluster for high availability"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Cluster Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable Redis cluster for distributed data"})]}),e.jsx(ge,{checked:k,onCheckedChange:G=>ae({enableCluster:G})})]}),k&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Cluster Nodes"}),e.jsxs(V,{variant:"outline",size:"sm",onClick:oe,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Node"]})]}),E.map((G,xe)=>e.jsxs("div",{className:"p-3 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsx("span",{className:"font-mono",children:G}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ee(xe),children:e.jsx(Ee,{className:"h-3 w-3"})})]},xe))]})]})]})})]})]})})}function E_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(ee=>ee.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.port||80,u=i.serverName||"localhost",m=i.maxWorkers||4,f=i.config||`server {
  listen 80;
  server_name localhost;

  location / {
    proxy_pass http://backend:8080;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }
}`,h=i.locations||[{path:"/",proxyPass:"http://backend:8080",method:"proxy"},{path:"/api",proxyPass:"http://api:3000",method:"proxy"}],p=i.upstreams||[{name:"backend",servers:[{address:"backend1:8080",weight:1},{address:"backend2:8080",weight:1},{address:"backend3:8080",weight:2}],method:"round-robin",keepalive:32}],g=i.sslCertificates||[{name:"default",certPath:"/etc/nginx/ssl/cert.pem",keyPath:"/etc/nginx/ssl/key.pem",domain:"example.com"}],y=i.rateLimitZones||[{name:"api_limit",size:"10m",rate:"10r/s"},{name:"login_limit",size:"5m",rate:"5r/m"}],M=i.enableSSL??!1,w=i.sslPort||443,k=i.enableGzip??!0,E=i.enableCache??!0;i.requestsPerSecond,i.activeConnections;const[N,A]=j.useState(!1),[P,I]=j.useState(!1),[T,z]=j.useState(!1),[C,L]=j.useState(null),Q=ee=>{r(a,{data:{...c.data,config:{...i,...ee}}})},Y=()=>{Q({locations:[...h,{path:"/new-path",proxyPass:"http://service:8080",method:"proxy"}]})},W=ee=>{Q({locations:h.filter((se,X)=>X!==ee)})},q=(ee,se,X)=>{const le=[...h];le[ee]={...le[ee],[se]:X},Q({locations:le})},F=()=>{const ee={name:"new_upstream",servers:[{address:"server1:8080",weight:1}],method:"round-robin"};Q({upstreams:[...p,ee]}),A(!1)},me=ee=>{Q({upstreams:p.filter((se,X)=>X!==ee)})},je=(ee,se,X)=>{const le=[...p];le[ee]={...le[ee],[se]:X},Q({upstreams:le})},ce=ee=>{const se=[...p];se[ee].servers||(se[ee].servers=[]),se[ee].servers=[...se[ee].servers,{address:"server:8080",weight:1}],Q({upstreams:se})},K=(ee,se)=>{const X=[...p];X[ee].servers=X[ee].servers.filter((le,G)=>G!==se),Q({upstreams:X})},U=(ee,se,X,le)=>{const G=[...p];G[ee].servers[se]={...G[ee].servers[se],[X]:le},Q({upstreams:G})},ae=()=>{const ee={name:"new_cert",certPath:"/etc/nginx/ssl/cert.pem",keyPath:"/etc/nginx/ssl/key.pem",domain:"example.com"};Q({sslCertificates:[...g,ee]}),I(!1)},Z=ee=>{Q({sslCertificates:g.filter((se,X)=>X!==ee)})},O=(ee,se,X)=>{const le=[...g];le[ee]={...le[ee],[se]:X},Q({sslCertificates:le})},re=()=>{const ee={name:"new_limit",size:"10m",rate:"10r/s"};Q({rateLimitZones:[...y,ee]}),z(!1)},H=ee=>{Q({rateLimitZones:y.filter((se,X)=>X!==ee)})},oe=(ee,se,X)=>{const le=[...y];le[ee]={...le[ee],[se]:X},Q({rateLimitZones:le})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:e.jsx(et,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"NGINX"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Web Server & Reverse Proxy"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Reload Config"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"SSL"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M?"Enabled":"Disabled"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"TLS/SSL status"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Workers"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Worker processes"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Locations"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Configured"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Port"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Listening port"})]})]})]}),e.jsxs(Ve,{defaultValue:"server",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-7",children:[e.jsxs(de,{value:"server",className:"gap-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Server"]}),e.jsxs(de,{value:"upstreams",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Upstreams"]}),e.jsxs(de,{value:"locations",className:"gap-2",children:[e.jsx(Er,{className:"h-4 w-4"}),"Locations"]}),e.jsxs(de,{value:"ssl",className:"gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"}),"SSL/TLS"]}),e.jsxs(de,{value:"rate-limiting",className:"gap-2",children:[e.jsx(Zk,{className:"h-4 w-4"}),"Rate Limit"]}),e.jsxs(de,{value:"performance",className:"gap-2",children:[e.jsx(St,{className:"h-4 w-4"}),"Performance"]}),e.jsxs(de,{value:"config",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Config"]})]}),e.jsx(ue,{value:"server",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Server Configuration"}),e.jsx(ie,{children:"Basic server settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"port",children:"Port"}),e.jsx(J,{id:"port",type:"number",value:d,onChange:ee=>Q({port:parseInt(ee.target.value)||80}),placeholder:"80"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"server-name",children:"Server Name"}),e.jsx(J,{id:"server-name",value:u,onChange:ee=>Q({serverName:ee.target.value}),placeholder:"localhost"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"max-workers",children:"Worker Processes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{id:"max-workers",type:"number",min:"1",value:m,onChange:ee=>Q({maxWorkers:parseInt(ee.target.value)||4}),placeholder:"4"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"processes"})]})]})]})]})}),e.jsx(ue,{value:"upstreams",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Upstream Servers"}),e.jsx(ie,{children:"Configure load balancing backends"})]}),e.jsxs(V,{size:"sm",onClick:()=>A(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Upstream"]})]}),N&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Upstream Name"}),e.jsx(J,{placeholder:"backend"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:F,children:"Create Upstream"}),e.jsx(V,{variant:"outline",onClick:()=>A(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-4",children:p.map((ee,se)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:ee.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[ee.servers.length," server(s)  Method: ",ee.method||"round-robin"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>L(C===se?null:se),children:C===se?"Hide":"Edit"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>me(se),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),C===se&&e.jsxs("div",{className:"space-y-4 pt-3 border-t",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Upstream Name"}),e.jsx(J,{value:ee.name,onChange:X=>je(se,"name",X.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Load Balancing Method"}),e.jsxs(Pe,{value:ee.method||"round-robin",onValueChange:X=>je(se,"method",X),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"round-robin",children:"Round Robin"}),e.jsx(ne,{value:"least_conn",children:"Least Connections"}),e.jsx(ne,{value:"ip_hash",children:"IP Hash"}),e.jsx(ne,{value:"hash",children:"Hash"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Servers"}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>ce(se),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Server"]})]}),e.jsx("div",{className:"space-y-2",children:ee.servers.map((X,le)=>e.jsx("div",{className:"p-3 border rounded bg-muted/50 space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2 flex-1",children:[e.jsx(J,{value:X.address,onChange:G=>U(se,le,"address",G.target.value),placeholder:"server:8080"}),e.jsx(J,{type:"number",value:X.weight||1,onChange:G=>U(se,le,"weight",parseInt(G.target.value)||1),placeholder:"Weight"}),e.jsx(J,{type:"number",value:X.maxFails||3,onChange:G=>U(se,le,"maxFails",parseInt(G.target.value)||3),placeholder:"Max Fails"}),e.jsx(J,{value:X.failTimeout||"10s",onChange:G=>U(se,le,"failTimeout",G.target.value),placeholder:"Fail Timeout"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:X.backup||!1,onCheckedChange:G=>U(se,le,"backup",G)}),e.jsx(b,{className:"text-xs",children:"Backup"}),e.jsx(ge,{checked:X.down||!1,onCheckedChange:G=>U(se,le,"down",G)}),e.jsx(b,{className:"text-xs",children:"Down"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>K(se,le),children:e.jsx(Ee,{className:"h-3 w-3"})})]})]})},le))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Keepalive Connections"}),e.jsx(J,{type:"number",value:ee.keepalive||32,onChange:X=>je(se,"keepalive",parseInt(X.target.value)||32),placeholder:"32"})]})]})]},se))})]})}),e.jsx(ue,{value:"locations",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Location Blocks"}),e.jsx(ie,{children:"Configure routing and proxying"})]}),e.jsxs(V,{size:"sm",onClick:Y,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Location"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:h.map((ee,se)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Er,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:ee.path}),e.jsxs(ie,{className:"text-xs mt-1",children:[ee.method,"  ",ee.proxyPass]})]})]}),h.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>W(se),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Path"}),e.jsx(J,{value:ee.path,onChange:X=>q(se,"path",X.target.value),placeholder:"/"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Method"}),e.jsx(J,{value:ee.method,onChange:X=>q(se,"method",X.target.value),placeholder:"proxy"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Proxy Pass"}),e.jsx(J,{value:ee.proxyPass,onChange:X=>q(se,"proxyPass",X.target.value),placeholder:"http://backend:8080"})]})]})]},se))})})]})}),e.jsx(ue,{value:"ssl",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"SSL/TLS Configuration"}),e.jsx(ie,{children:"Secure connections and certificates"})]}),e.jsxs(V,{size:"sm",onClick:()=>I(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]}),P&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Certificate Name"}),e.jsx(J,{placeholder:"default"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:ae,children:"Add Certificate"}),e.jsx(V,{variant:"outline",onClick:()=>I(!1),children:"Cancel"})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable SSL"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable HTTPS support"})]}),e.jsx(ge,{checked:M,onCheckedChange:ee=>Q({enableSSL:ee})})]}),M&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"ssl-port",children:"SSL Port"}),e.jsx(J,{id:"ssl-port",type:"number",value:w,onChange:ee=>Q({sslPort:parseInt(ee.target.value)||443}),placeholder:"443"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{children:"SSL Certificates"}),g.map((ee,se)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold",children:ee.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Z(se),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Certificate Path"}),e.jsx(J,{value:ee.certPath,onChange:X=>O(se,"certPath",X.target.value),placeholder:"/etc/nginx/ssl/cert.pem"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Private Key Path"}),e.jsx(J,{value:ee.keyPath,onChange:X=>O(se,"keyPath",X.target.value),placeholder:"/etc/nginx/ssl/key.pem"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Domain"}),e.jsx(J,{value:ee.domain||"",onChange:X=>O(se,"domain",X.target.value),placeholder:"example.com"})]})]},se))]})]})]})]})}),e.jsx(ue,{value:"rate-limiting",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Rate Limiting"}),e.jsx(ie,{children:"Configure request rate limiting zones"})]}),e.jsxs(V,{size:"sm",onClick:()=>z(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Zone"]})]}),T&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Zone Name"}),e.jsx(J,{placeholder:"api_limit"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:re,children:"Add Zone"}),e.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"})]})]})}),e.jsxs(R,{className:"space-y-3",children:[y.map((ee,se)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:ee.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Size: ",ee.size,"  Rate: ",ee.rate]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>H(se),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Zone Name"}),e.jsx(J,{value:ee.name,onChange:X=>oe(se,"name",X.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Size"}),e.jsx(J,{value:ee.size,onChange:X=>oe(se,"size",X.target.value),placeholder:"10m"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Rate"}),e.jsx(J,{value:ee.rate,onChange:X=>oe(se,"rate",X.target.value),placeholder:"10r/s"})]})]})]},se)),y.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No rate limit zones configured. Add a zone to get started."})]})]})}),e.jsx(ue,{value:"performance",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Performance Settings"}),e.jsx(ie,{children:"Optimization and caching"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Gzip"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Compress responses"})]}),e.jsx(ge,{checked:k,onCheckedChange:ee=>Q({enableGzip:ee})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Cache"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Cache static content"})]}),e.jsx(ge,{checked:E,onCheckedChange:ee=>Q({enableCache:ee})})]})]})]})}),e.jsx(ue,{value:"config",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Server Block Configuration"}),e.jsx(ie,{children:"NGINX server block configuration"})]}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"config",children:"Configuration"}),e.jsx(ss,{id:"config",value:f,onChange:ee=>Q({config:ee.target.value}),className:"font-mono text-sm h-96",placeholder:"Enter NGINX configuration..."})]})})]})})]})]})})}function M_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(T=>T.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.image||"nginx:latest",u=i.replicas||1,m=i.memory||"512Mi",f=i.cpu||"500m",h=i.yaml||(c.type==="docker"?`FROM nginx:latest
COPY . /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]`:`apiVersion: apps/v1
kind: Deployment
metadata:
  name: app-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      app: myapp
  template:
    metadata:
      labels:
        app: myapp
    spec:
      containers:
      - name: myapp
        image: nginx:latest
        ports:
        - containerPort: 80`),p=i.containers||(c.type==="docker"?[{id:"1",name:"web-server",image:"nginx:latest",status:"running",cpu:15,memory:"128Mi"},{id:"2",name:"api-server",image:"node:18",status:"running",cpu:25,memory:"256Mi"}]:[]),g=i.pods||(c.type==="kubernetes"?[{id:"pod-1",name:"app-pod-1",image:"nginx:latest",status:"running",cpu:20,memory:"256Mi"},{id:"pod-2",name:"app-pod-2",image:"nginx:latest",status:"running",cpu:18,memory:"240Mi"},{id:"pod-3",name:"app-pod-3",image:"nginx:latest",status:"running",cpu:22,memory:"260Mi"}]:[]),y=i.totalCpu||(c.type==="docker"?p.reduce((T,z)=>T+(z.cpu||0),0):g.reduce((T,z)=>T+(z.cpu||0),0)),M=i.totalMemory||"1.2Gi",w=T=>{r(a,{data:{...c.data,config:{...i,...T}}})},k=()=>c.type==="docker"?"Docker":"Kubernetes",E=()=>c.type==="docker"?"Dockerfile":"Deployment YAML",N=T=>{switch(T){case"running":return e.jsx(_s,{className:"h-4 w-4 text-green-500"});case"stopped":return e.jsx(Jn,{className:"h-4 w-4 text-red-500"});case"paused":return e.jsx(Jn,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"})}},A=T=>{switch(T){case"running":return e.jsx($,{variant:"default",className:"bg-green-500",children:"Running"});case"stopped":return e.jsx($,{variant:"destructive",children:"Stopped"});case"paused":return e.jsx($,{variant:"secondary",children:"Paused"});default:return e.jsx($,{variant:"secondary",children:"Unknown"})}},P=c.type==="docker"?p:g,I=c.type==="docker"?"Container":"Pod";return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:c.type==="docker"?e.jsx(bv,{className:"h-6 w-6 text-blue-500"}):e.jsx(Mt,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[k()," Configuration"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c.type==="docker"?"Container Management":"Container Orchestration"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Active"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:c.type==="docker"?"Containers":"Pods"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:P.length}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Total ",I.toLowerCase(),"s"]})]})]}),c.type==="kubernetes"&&e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Replicas"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desired"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"CPU"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[y,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total usage"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Memory"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total usage"})]})]})]}),e.jsxs(Ve,{defaultValue:c.type==="docker"?"containers":"pods",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsxs(de,{value:c.type==="docker"?"containers":"pods",className:"gap-2",children:[e.jsx(bv,{className:"h-4 w-4"}),c.type==="docker"?"Containers":"Pods"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]}),e.jsxs(de,{value:"config",className:"gap-2",children:[e.jsx(Mt,{className:"h-4 w-4"}),E()]})]}),e.jsx(ue,{value:c.type==="docker"?"containers":"pods",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:c.type==="docker"?"Containers":"Pods"}),e.jsx(ie,{children:c.type==="docker"?"Running containers":"Deployed pods"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:P.map((T,z)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[N(T.status),e.jsxs("div",{className:"flex-1",children:[e.jsx(_,{className:"text-lg",children:T.name}),e.jsx(ie,{className:"text-xs mt-1",children:T.image})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:A(T.status)})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"CPU:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[T.cpu||0,"%"]}),e.jsx(ws,{value:T.cpu||0,className:"h-1 mt-1"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Memory:"}),e.jsx("span",{className:"ml-2 font-semibold",children:T.memory||"0Mi"})]})]})})]},z))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Container Settings"}),e.jsx(ie,{children:"Basic container configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"image",children:"Image"}),e.jsx(J,{id:"image",value:d,onChange:T=>w({image:T.target.value}),placeholder:"nginx:latest"})]}),c.type==="kubernetes"&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"replicas",children:"Replicas"}),e.jsx(J,{id:"replicas",type:"number",min:"1",value:u,onChange:T=>w({replicas:parseInt(T.target.value)||1}),placeholder:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"memory",children:"Memory"}),e.jsx(J,{id:"memory",value:m,onChange:T=>w({memory:T.target.value}),placeholder:"512Mi"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"cpu",children:"CPU"}),e.jsx(J,{id:"cpu",value:f,onChange:T=>w({cpu:T.target.value}),placeholder:"500m"})]})]})]})]})}),e.jsx(ue,{value:"config",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:E()}),e.jsx(ie,{children:c.type==="docker"?"Docker configuration file":"Kubernetes manifest"})]}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"yaml",children:"Configuration"}),e.jsx(ss,{id:"yaml",value:h,onChange:T=>w({yaml:T.target.value}),className:"font-mono text-sm h-96",placeholder:`Enter ${E()} configuration...`})]})})]})})]})]})})}function T_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(le=>le.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.adminUrl||"http://kong:8001",u=i.serviceName||"core-service",m=i.upstreamUrl||"http://core:8080";i.routePaths,i.stripPath,i.authPlugin,i.rateLimitPerMinute,i.enableLogging,i.loggingTarget;const f=i.services||[],h=i.routes||[],p=i.upstreams||[],g=i.consumers||[],y=i.plugins||[{id:"1",name:"rate-limiting",enabled:!0,config:{minute:1e3,hour:1e4}},{id:"2",name:"key-auth",enabled:!0,config:{key_names:["apikey"]}},{id:"3",name:"cors",enabled:!0,config:{origins:["*"],methods:["GET","POST","PUT","DELETE"]}}];i.requestsPerSecond;const[M,w]=j.useState(!1),[k,E]=j.useState(!1),[N,A]=j.useState(!1),[P,I]=j.useState(null),[T,z]=j.useState(null),[C,L]=j.useState(null),Q=le=>{r(a,{data:{...c.data,config:{...i,...le}}})},Y=()=>{Q({services:[...f,{id:String(f.length+1),name:"new-service",url:"http://service:8080",routes:0,enabled:!0}]})},W=le=>{Q({services:f.filter((G,xe)=>xe!==le)})},q=()=>{Q({routes:[...h,{id:String(h.length+1),path:"/new-path",method:"GET",service:f[0]?.name||"",stripPath:!0}]})},F=le=>{Q({routes:h.filter((G,xe)=>xe!==le)})},me=(le,G,xe)=>{const Te=[...h];Te[le]={...Te[le],[G]:xe},Q({routes:Te})},je=()=>{const le={id:String(p.length+1),name:"new-upstream",algorithm:"round-robin",healthchecks:{active:!0,passive:!0},targets:[{target:"server:8080",weight:100,health:"healthy"}]};Q({upstreams:[...p,le]}),w(!1)},ce=le=>{Q({upstreams:p.filter((G,xe)=>xe!==le)})},K=(le,G,xe)=>{const Te=[...p];Te[le]={...Te[le],[G]:xe},Q({upstreams:Te})},U=le=>{const G=[...p];G[le].targets||(G[le].targets=[]),G[le].targets=[...G[le].targets,{target:"server:8080",weight:100,health:"healthy"}],Q({upstreams:G})},ae=(le,G)=>{const xe=[...p];xe[le].targets=xe[le].targets?.filter((Te,we)=>we!==G),Q({upstreams:xe})},Z=()=>{const le={id:String(g.length+1),username:"new-consumer",credentials:[]};Q({consumers:[...g,le]}),E(!1)},O=le=>{Q({consumers:g.filter((G,xe)=>xe!==le)})},re=(le,G,xe)=>{const Te=[...g];Te[le]={...Te[le],[G]:xe},Q({consumers:Te})},H=(le,G)=>{const xe=[...g];xe[le].credentials||(xe[le].credentials=[]);const Te={type:G,key:G==="key-auth"?`key-${Date.now()}`:void 0,secret:G==="jwt"?"secret":void 0};xe[le].credentials=[...xe[le].credentials,Te],Q({consumers:xe})},oe=(le,G)=>{const xe=[...g];xe[le].credentials=xe[le].credentials?.filter((Te,we)=>we!==G),Q({consumers:xe})},ee=()=>{const le={id:String(y.length+1),name:"rate-limiting",enabled:!0,config:{}};Q({plugins:[...y,le]}),A(!1)},se=le=>{Q({plugins:y.filter((G,xe)=>xe!==le)})},X=(le,G,xe)=>{const Te=[...y];Te[le]={...Te[le],[G]:xe},Q({plugins:Te})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(ms,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Kong API Gateway"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Service Mesh & API Gateway"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Admin API"]})]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"services",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-6",children:[e.jsxs(de,{value:"services",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Services"]}),e.jsxs(de,{value:"upstreams",className:"gap-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Upstreams"]}),e.jsxs(de,{value:"routes",className:"gap-2",children:[e.jsx(el,{className:"h-4 w-4"}),"Routes"]}),e.jsxs(de,{value:"consumers",className:"gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Consumers"]}),e.jsxs(de,{value:"plugins",className:"gap-2",children:[e.jsx(St,{className:"h-4 w-4"}),"Plugins"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"services",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Upstream services managed by Kong"})]}),e.jsxs(V,{size:"sm",onClick:Y,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Service"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:f.map((le,G)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(ms,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:le.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[le.url,"  ",le.routes," routes"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[le.enabled?e.jsx($,{variant:"default",className:"bg-green-500",children:"Enabled"}):e.jsx($,{variant:"secondary",children:"Disabled"}),f.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>W(G),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},G))})})]})}),e.jsx(ue,{value:"routes",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Routes"}),e.jsx(ie,{children:"API route configuration"})]}),e.jsxs(V,{size:"sm",onClick:q,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Route"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:h.map((le,G)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(el,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:le.path}),e.jsxs(ie,{className:"text-xs mt-1",children:[le.method,"  ",le.service]})]})]}),h.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>F(G),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Path"}),e.jsx(J,{value:le.path,onChange:xe=>me(G,"path",xe.target.value),placeholder:"/api"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Method"}),e.jsx(J,{value:le.method,onChange:xe=>me(G,"method",xe.target.value),placeholder:"GET"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Strip Path"}),e.jsx(ge,{checked:le.stripPath,onCheckedChange:xe=>me(G,"stripPath",xe)})]})]})]},G))})})]})}),e.jsx(ue,{value:"upstreams",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Upstreams"}),e.jsx(ie,{children:"Load balancing upstream targets"})]}),e.jsxs(V,{size:"sm",onClick:()=>w(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Upstream"]})]}),M&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Upstream Name"}),e.jsx(J,{placeholder:"backend-upstream"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:je,children:"Create Upstream"}),e.jsx(V,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-4",children:p.map((le,G)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:le.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[le.targets?.length||0," target(s)  Algorithm: ",le.algorithm||"round-robin"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>I(P===G?null:G),children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),P===G?"Hide":"Edit"]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ce(G),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),P===G&&e.jsxs("div",{className:"space-y-4 pt-3 border-t",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Upstream Name"}),e.jsx(J,{value:le.name,onChange:xe=>K(G,"name",xe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Algorithm"}),e.jsxs(Pe,{value:le.algorithm||"round-robin",onValueChange:xe=>K(G,"algorithm",xe),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"round-robin",children:"Round Robin"}),e.jsx(ne,{value:"consistent-hashing",children:"Consistent Hashing"}),e.jsx(ne,{value:"least-connections",children:"Least Connections"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Targets"}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>U(G),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Target"]})]}),e.jsx("div",{className:"space-y-2",children:le.targets?.map((xe,Te)=>e.jsxs("div",{className:"p-3 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("span",{className:"font-mono text-sm",children:xe.target}),e.jsx($,{variant:xe.health==="healthy"?"default":"destructive",children:xe.health||"healthy"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Weight: ",xe.weight||100]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ae(G,Te),children:e.jsx(Ee,{className:"h-3 w-3"})})]},Te))})]})]})]},G))})]})}),e.jsx(ue,{value:"consumers",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Consumers"}),e.jsx(ie,{children:"API consumers and authentication credentials"})]}),e.jsxs(V,{size:"sm",onClick:()=>E(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Consumer"]})]}),k&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Username"}),e.jsx(J,{placeholder:"new-consumer"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:Z,children:"Create Consumer"}),e.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-4",children:g.map((le,G)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:le.username}),le.customId&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",le.customId]}),le.credentials&&le.credentials.length>0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[le.credentials.length," credential(s)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>z(T===G?null:G),children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),T===G?"Hide":"Edit"]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>O(G),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),T===G&&e.jsxs("div",{className:"space-y-4 pt-3 border-t",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Username"}),e.jsx(J,{value:le.username,onChange:xe=>re(G,"username",xe.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Custom ID"}),e.jsx(J,{value:le.customId||"",onChange:xe=>re(G,"customId",xe.target.value),placeholder:"custom-id"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Credentials"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>H(G,"key-auth"),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Key Auth"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>H(G,"jwt"),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"JWT"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>H(G,"oauth2"),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"OAuth2"]})]})]}),e.jsx("div",{className:"space-y-2",children:le.credentials?.map((xe,Te)=>e.jsxs("div",{className:"p-3 border rounded bg-muted/50 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{children:xe.type}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>oe(G,Te),children:e.jsx(Ee,{className:"h-3 w-3"})})]}),xe.key&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Key"}),e.jsx(J,{className:"font-mono text-xs",value:xe.key,readOnly:!0})]}),xe.secret&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Secret"}),e.jsx(J,{className:"font-mono text-xs",type:"password",value:xe.secret,readOnly:!0})]})]},Te))})]})]})]},G))})]})}),e.jsx(ue,{value:"plugins",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Plugins"}),e.jsx(ie,{children:"Configure plugins for services, routes, and consumers"})]}),e.jsxs(V,{size:"sm",onClick:()=>A(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Plugin"]})]}),N&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Plugin Name"}),e.jsxs(Pe,{defaultValue:"rate-limiting",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"rate-limiting",children:"Rate Limiting"}),e.jsx(ne,{value:"key-auth",children:"Key Auth"}),e.jsx(ne,{value:"jwt",children:"JWT"}),e.jsx(ne,{value:"cors",children:"CORS"}),e.jsx(ne,{value:"request-transformer",children:"Request Transformer"}),e.jsx(ne,{value:"response-transformer",children:"Response Transformer"}),e.jsx(ne,{value:"ip-restriction",children:"IP Restriction"}),e.jsx(ne,{value:"file-log",children:"File Log"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:ee,children:"Add Plugin"}),e.jsx(V,{variant:"outline",onClick:()=>A(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:y.map((le,G)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:le.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[le.service&&`Service: ${le.service}`,le.route&&`Route: ${le.route}`,le.consumer&&`Consumer: ${le.consumer}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:le.enabled,onCheckedChange:xe=>X(G,"enabled",xe)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>se(G),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>L(C===G?null:G),children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),C===G?"Hide Config":"Edit Config"]}),C===G&&e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsx(b,{children:"Configuration (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:6,value:JSON.stringify(le.config||{},null,2),onChange:xe=>{try{const Te=JSON.parse(xe.target.value);X(G,"config",Te)}catch{}},placeholder:'{"minute": 1000, "hour": 10000}'})]})]},G))})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Service & Upstream"}),e.jsx(ie,{children:"Default service configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"service-name",children:"Service Name"}),e.jsx(J,{id:"service-name",value:u,onChange:le=>Q({serviceName:le.target.value}),placeholder:"core-service"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"upstream-url",children:"Upstream URL"}),e.jsx(J,{id:"upstream-url",value:m,onChange:le=>Q({upstreamUrl:le.target.value}),placeholder:"http://service:port"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"admin-url",children:"Admin API URL"}),e.jsx(J,{id:"admin-url",value:d,onChange:le=>Q({adminUrl:le.target.value}),placeholder:"http://kong:8001"})]})]})]})})]})]})})}function D_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(C=>C.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.organization||"archiphoenix-org",u=i.environment||"prod",m=i.proxies||[],f=i.policies||[{id:"1",name:"Quota Policy",type:"quota",enabled:!0,config:{quota:5e3,interval:60}},{id:"2",name:"Spike Arrest",type:"spike-arrest",enabled:!0,config:{rate:100}}],h=i.apiKey||"",[p,g]=j.useState(null),[y,M]=j.useState(!1),w=C=>{r(a,{data:{...c.data,config:{...i,...C}}})},k=()=>{const C={name:"new-proxy",environment:"prod",basePath:"/api",targetEndpoint:"https://api.internal",revision:1,status:"undeployed",quota:1e3,quotaInterval:60,spikeArrest:50,enableOAuth:!1,requestCount:0,errorCount:0,avgResponseTime:0};w({proxies:[...m,C]})},E=C=>{w({proxies:m.filter((L,Q)=>Q!==C)})},N=(C,L,Q)=>{const Y=[...m];Y[C]={...Y[C],[L]:Q},w({proxies:Y})},A=()=>{const C={id:`policy-${Date.now()}`,name:"New Policy",type:"quota",enabled:!0,config:{}};w({policies:[...f,C]}),M(!1)},P=C=>{w({policies:f.filter(L=>L.id!==C)})},I=(C,L,Q)=>{const Y=f.map(W=>W.id===C?{...W,[L]:Q}:W);w({policies:Y})},T=m.reduce((C,L)=>C+(L.requestCount||0),0);m.reduce((C,L)=>C+(L.errorCount||0),0);const z=m.length>0?m.reduce((C,L)=>C+(L.avgResponseTime||0),0)/m.length:0;return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Apigee API Platform"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"API Proxy Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure API proxies, policies, quotas and security"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Apigee Console"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Organization"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",children:d})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"API Proxies"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:m.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Requests"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:T.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Avg Response Time"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:z.toFixed(0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ms"})]})]})]}),e.jsxs(Ve,{defaultValue:"proxies",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"proxies",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Proxies (",m.length,")"]}),e.jsxs(de,{value:"policies",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Policies (",f.length,")"]}),e.jsxs(de,{value:"monitoring",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Monitoring"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"proxies",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"API Proxies"}),e.jsx(ie,{children:"Configure and manage API proxies"})]}),e.jsxs(V,{onClick:k,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Proxy"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map((C,L)=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ms,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:C.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:C.status==="deployed"?"default":"outline",children:C.status||"undeployed"}),e.jsx($,{variant:"outline",children:C.environment}),e.jsxs($,{variant:"outline",children:["Rev ",C.revision||1]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>E(L),disabled:m.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests"}),e.jsx("p",{className:"text-lg font-semibold",children:(C.requestCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-lg font-semibold text-red-500",children:(C.errorCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Response Time"}),e.jsxs("p",{className:"text-lg font-semibold",children:[(C.avgResponseTime||0).toFixed(0)," ms"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Proxy Name"}),e.jsx(J,{value:C.name,onChange:Q=>N(L,"name",Q.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Environment"}),e.jsxs(Pe,{value:C.environment,onValueChange:Q=>N(L,"environment",Q),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"dev",children:"Development"}),e.jsx(ne,{value:"stage",children:"Staging"}),e.jsx(ne,{value:"prod",children:"Production"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Base Path"}),e.jsx(J,{value:C.basePath,onChange:Q=>N(L,"basePath",Q.target.value),placeholder:"/api"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Target Endpoint"}),e.jsx(J,{value:C.targetEndpoint,onChange:Q=>N(L,"targetEndpoint",Q.target.value),placeholder:"https://api.internal"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Quota (requests)"}),e.jsx(J,{type:"number",value:C.quota||0,onChange:Q=>N(L,"quota",Number(Q.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Quota Interval (seconds)"}),e.jsx(J,{type:"number",value:C.quotaInterval||60,onChange:Q=>N(L,"quotaInterval",Number(Q.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Spike Arrest (req/sec)"}),e.jsx(J,{type:"number",value:C.spikeArrest||0,onChange:Q=>N(L,"spikeArrest",Number(Q.target.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable OAuth"}),e.jsx(ge,{checked:C.enableOAuth||!1,onCheckedChange:Q=>N(L,"enableOAuth",Q)})]})]}),C.enableOAuth&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"JWT Issuer"}),e.jsx(J,{value:C.jwtIssuer||"",onChange:Q=>N(L,"jwtIssuer",Q.target.value),placeholder:"auth.archi"})]})]})]},L))})})]})}),e.jsx(ue,{value:"policies",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Policies"}),e.jsx(ie,{children:"Configure API proxy policies"})]}),e.jsxs(V,{onClick:A,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Policy"]})]})}),e.jsx(R,{children:f.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No policies configured"}):e.jsx("div",{className:"space-y-2",children:f.map(C=>e.jsx(S,{className:"border-l-4 border-l-green-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:C.type}),e.jsx("span",{className:"font-medium",children:C.name}),C.enabled?e.jsx($,{variant:"default",children:"Enabled"}):e.jsx($,{variant:"outline",children:"Disabled"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:C.enabled,onCheckedChange:L=>I(C.id,"enabled",L)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>P(C.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},C.id))})})]})}),e.jsx(ue,{value:"monitoring",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"API Analytics"}),e.jsx(ie,{children:"Monitor API proxy performance and usage"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map((C,L)=>e.jsxs(S,{className:"border-l-4 border-l-purple-500",children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-base",children:C.name})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:(C.requestCount||0).toLocaleString()}),e.jsx(ws,{value:Math.min((C.requestCount||0)/1e4*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-500",children:(C.errorCount||0).toLocaleString()}),e.jsx(ws,{value:Math.min((C.errorCount||0)/100*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(C.avgResponseTime||0).toFixed(0)," ms"]}),e.jsx(ws,{value:Math.min((C.avgResponseTime||0)/1e3*100,100),className:"h-2 mt-2"})]})]})})]},L))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Apigee Settings"}),e.jsx(ie,{children:"Configure organization and API access"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Organization"}),e.jsx(J,{value:d,onChange:C=>w({organization:C.target.value}),placeholder:"my-organization"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Environment"}),e.jsxs(Pe,{value:u,onValueChange:C=>w({environment:C}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"dev",children:"Development"}),e.jsx(ne,{value:"stage",children:"Staging"}),e.jsx(ne,{value:"prod",children:"Production"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"API Key"}),e.jsx(J,{type:"password",value:h,onChange:C=>w({apiKey:C.target.value}),placeholder:"Enter Apigee API key"})]})]})]})})]})]})})}function __({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(C=>C.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.organization||"archiphoenix-org",u=i.environment||"production",m=i.applications||[],f=i.connectors||[],h=i.apiKey||"",[p,g]=j.useState(null),[y,M]=j.useState(!1),w=C=>{r(a,{data:{...c.data,config:{...i,...C}}})},k=()=>{const C={name:"new-application",runtimeVersion:"4.6.0",workerCount:2,status:"stopped",connectors:[],errorStrategy:"continue",reconnectionStrategy:"exponential",auditLogging:!1,requestCount:0,errorCount:0,avgResponseTime:0};w({applications:[...m,C]})},E=C=>{w({applications:m.filter((L,Q)=>Q!==C)})},N=(C,L,Q)=>{const Y=[...m];Y[C]={...Y[C],[L]:Q},w({applications:Y})},A=()=>{const C={name:"new-connector",type:"api",enabled:!0};w({connectors:[...f,C]}),M(!1)},P=C=>{w({connectors:f.filter((L,Q)=>Q!==C)})},I=(C,L,Q)=>{const Y=[...f];Y[C]={...Y[C],[L]:Q},w({connectors:Y})},T=m.reduce((C,L)=>C+(L.requestCount||0),0);m.reduce((C,L)=>C+(L.errorCount||0),0);const z=m.length>0?m.reduce((C,L)=>C+(L.avgResponseTime||0),0)/m.length:0;return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"MuleSoft Anypoint Platform"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Integration Applications"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure Mule applications, connectors and runtime settings"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Anypoint Platform"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Organization"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",children:d})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Applications"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:m.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Requests"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:T.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Avg Response Time"})}),e.jsxs(R,{children:[e.jsx("span",{className:"text-2xl font-bold",children:z.toFixed(0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ms"})]})]})]}),e.jsxs(Ve,{defaultValue:"applications",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"applications",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Applications (",m.length,")"]}),e.jsxs(de,{value:"connectors",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Connectors (",f.length,")"]}),e.jsxs(de,{value:"monitoring",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Monitoring"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"applications",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Mule Applications"}),e.jsx(ie,{children:"Configure and manage integration applications"})]}),e.jsxs(V,{onClick:k,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Application"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map((C,L)=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gs,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:C.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C.status==="running"?e.jsxs($,{variant:"default",className:"gap-1",children:[e.jsx(os,{className:"h-3 w-3"}),"Running"]}):C.status==="deploying"?e.jsxs($,{variant:"outline",className:"gap-1",children:[e.jsx(ct,{className:"h-3 w-3"}),"Deploying"]}):e.jsx($,{variant:"outline",children:"Stopped"}),e.jsxs($,{variant:"outline",children:["v",C.runtimeVersion]}),e.jsxs($,{variant:"outline",children:[C.workerCount," workers"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>E(L),disabled:m.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests"}),e.jsx("p",{className:"text-lg font-semibold",children:(C.requestCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-lg font-semibold text-red-500",children:(C.errorCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Response Time"}),e.jsxs("p",{className:"text-lg font-semibold",children:[(C.avgResponseTime||0).toFixed(0)," ms"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Application Name"}),e.jsx(J,{value:C.name,onChange:Q=>N(L,"name",Q.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Runtime Version"}),e.jsx(J,{value:C.runtimeVersion,onChange:Q=>N(L,"runtimeVersion",Q.target.value),placeholder:"4.6.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Worker Count"}),e.jsx(J,{type:"number",value:C.workerCount,onChange:Q=>N(L,"workerCount",Number(Q.target.value)),min:1,max:16})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Status"}),e.jsxs(Pe,{value:C.status||"stopped",onValueChange:Q=>N(L,"status",Q),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"running",children:"Running"}),e.jsx(ne,{value:"stopped",children:"Stopped"}),e.jsx(ne,{value:"deploying",children:"Deploying"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Error Strategy"}),e.jsxs(Pe,{value:C.errorStrategy||"continue",onValueChange:Q=>N(L,"errorStrategy",Q),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"continue",children:"Continue"}),e.jsx(ne,{value:"rollback",children:"Rollback"}),e.jsx(ne,{value:"propagate",children:"Propagate"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Reconnection Strategy"}),e.jsxs(Pe,{value:C.reconnectionStrategy||"exponential",onValueChange:Q=>N(L,"reconnectionStrategy",Q),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"exponential",children:"Exponential"}),e.jsx(ne,{value:"linear",children:"Linear"}),e.jsx(ne,{value:"none",children:"None"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Audit Logging"}),e.jsx(ge,{checked:C.auditLogging||!1,onCheckedChange:Q=>N(L,"auditLogging",Q)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Enabled Connectors"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.connectors?.map((Q,Y)=>e.jsx($,{variant:"outline",children:Q},Y)),(!C.connectors||C.connectors.length===0)&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"No connectors"})]})]})]})]},L))})})]})}),e.jsx(ue,{value:"connectors",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Connectors"}),e.jsx(ie,{children:"Manage integration connectors"})]}),e.jsxs(V,{onClick:A,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Connector"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:f.map((C,L)=>e.jsx(S,{className:"border-l-4 border-l-green-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ms,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:"outline",children:C.type}),C.enabled?e.jsx($,{variant:"default",children:"Enabled"}):e.jsx($,{variant:"outline",children:"Disabled"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:C.enabled,onCheckedChange:Q=>I(L,"enabled",Q)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>P(L),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},L))})})]})}),e.jsx(ue,{value:"monitoring",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Application Monitoring"}),e.jsx(ie,{children:"Monitor application performance and health"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map((C,L)=>e.jsxs(S,{className:"border-l-4 border-l-purple-500",children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-base",children:C.name})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:(C.requestCount||0).toLocaleString()}),e.jsx(ws,{value:Math.min((C.requestCount||0)/1e4*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-500",children:(C.errorCount||0).toLocaleString()}),e.jsx(ws,{value:Math.min((C.errorCount||0)/100*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(C.avgResponseTime||0).toFixed(0)," ms"]}),e.jsx(ws,{value:Math.min((C.avgResponseTime||0)/1e3*100,100),className:"h-2 mt-2"})]})]})})]},L))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Anypoint Platform Settings"}),e.jsx(ie,{children:"Configure organization and API access"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Organization"}),e.jsx(J,{value:d,onChange:C=>w({organization:C.target.value}),placeholder:"my-organization"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Environment"}),e.jsx(J,{value:u,onChange:C=>w({environment:C.target.value}),placeholder:"production"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"API Key"}),e.jsx(J,{type:"password",value:h,onChange:C=>w({apiKey:C.target.value}),placeholder:"Enter Anypoint API key"})]})]})]})})]})]})})}function z_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(N=>N.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.services||[],u=i.federation||{enabled:!1,services:[]},m=i.endpoint||"/graphql",f=i.totalServices||d.length,h=i.totalRequests||d.reduce((N,A)=>N+(A.requests||0),0),p=i.totalErrors||d.reduce((N,A)=>N+(A.errors||0),0),[g,y]=j.useState(!1),M=N=>{r(a,{data:{...c.data,config:{...i,...N}}})},w=()=>{const N={id:`svc-${Date.now()}`,name:"new-service",endpoint:"http://localhost:4000/graphql",status:"disconnected"};M({services:[...d,N]}),y(!1)},k=N=>{M({services:d.filter(A=>A.id!==N)})},E=N=>{switch(N){case"connected":return"bg-green-500";case"disconnected":return"bg-gray-500";case"error":return"bg-red-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"GraphQL Gateway"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Federated GraphQL Gateway"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unified GraphQL API gateway with federation support"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(ms,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-red-500 bg-gradient-to-br from-red-50 to-white dark:from-red-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Errors"}),e.jsx(os,{className:"h-4 w-4 text-red-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:p})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Federation"}),e.jsx(et,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:u.enabled?"ON":"OFF"})})})]})]}),e.jsxs(Ve,{defaultValue:"services",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"services",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Services (",d.length,")"]}),e.jsxs(de,{value:"federation",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Federation"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"GraphQL Services"}),e.jsx(ie,{children:"Registered GraphQL backend services"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Service"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(N=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${E(N.status)}/20`,children:e.jsx(ms,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:E(N.status),children:N.status}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:N.endpoint})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(N.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[N.requests&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:N.requests.toLocaleString()})]}),N.errors&&N.errors>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-500",children:N.errors})]})]})})]},N.id))})})]})}),e.jsx(ue,{value:"federation",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"GraphQL Federation"}),e.jsx(ie,{children:"Federated schema configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Federation"}),e.jsx(ge,{checked:u.enabled,onCheckedChange:N=>M({federation:{...u,enabled:N}})})]}),u.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Federated Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.services.map((N,A)=>e.jsx($,{variant:"outline",children:N},A))})]}),u.supergraph&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Supergraph Schema"}),e.jsx("div",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:u.supergraph})]})]})]})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Gateway Settings"}),e.jsx(ie,{children:"Gateway configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Gateway Endpoint"}),e.jsx(J,{value:m,onChange:N=>M({endpoint:N.target.value}),placeholder:"/graphql"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Introspection"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Query Complexity Analysis"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Rate Limiting"}),e.jsx(ge,{})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Query Depth"}),e.jsx(J,{type:"number",defaultValue:15,min:1,max:50})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Query Complexity"}),e.jsx(J,{type:"number",defaultValue:1e3,min:1})]})]})]})})]})]})})}function P_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(T=>T.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.backends||[],u=i.endpoints||[{id:"endpoint-1",path:"/api/user-profile",method:"GET",backends:["user-service","order-service"],aggregator:"merge",requests:1250},{id:"endpoint-2",path:"/api/dashboard",method:"GET",backends:["user-service","order-service","product-service"],aggregator:"parallel",requests:980}],m=i.totalBackends||d.length,f=i.totalEndpoints||u.length,h=i.totalRequests||u.reduce((T,z)=>T+(z.requests||0),0),p=i.averageLatency||d.reduce((T,z)=>T+(z.avgLatency||0),0)/d.length,[g,y]=j.useState(!1),[M,w]=j.useState(!1),k=T=>{r(a,{data:{...c.data,config:{...i,...T}}})},E=()=>{const T={id:`backend-${Date.now()}`,name:"new-backend",endpoint:"http://localhost:8080",protocol:"http",status:"disconnected"};k({backends:[...d,T]}),y(!1)},N=T=>{k({backends:d.filter(z=>z.id!==T)})},A=()=>{const T={id:`endpoint-${Date.now()}`,path:"/api/new-endpoint",method:"GET",backends:[],aggregator:"merge"};k({endpoints:[...u,T]}),w(!1)},P=T=>{k({endpoints:u.filter(z=>z.id!==T)})},I=T=>{switch(T){case"connected":return"bg-green-500";case"disconnected":return"bg-gray-500";case"error":return"bg-red-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"BFF Service"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Backend for Frontend"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Aggregated API service for frontend applications"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Backends"}),e.jsx(ms,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"connected"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Endpoints"}),e.jsx(Mt,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:h.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(St,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:p.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]})]}),e.jsxs(Ve,{defaultValue:"endpoints",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"endpoints",children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Endpoints (",u.length,")"]}),e.jsxs(de,{value:"backends",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Backends (",d.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"endpoints",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"API Endpoints"}),e.jsx(ie,{children:"Aggregated endpoints"})]}),e.jsxs(V,{onClick:A,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Endpoint"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(T=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(Mt,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsxs(_,{className:"text-lg font-semibold",children:[T.method," ",T.path]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:T.aggregator||"merge"}),e.jsxs($,{variant:"outline",children:[T.backends.length," backends"]}),T.requests&&e.jsxs($,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20",children:[T.requests," requests"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>P(T.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Backends"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.backends.map((z,C)=>{const L=d.find(Q=>Q.id===z);return e.jsx($,{variant:"outline",children:L?.name||z},C)})})]})})]},T.id))})})]})}),e.jsx(ue,{value:"backends",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Backend Services"}),e.jsx(ie,{children:"Connected backend services"})]}),e.jsxs(V,{onClick:E,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Backend"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(T=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${I(T.status)}/20`,children:e.jsx(ms,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:T.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:I(T.status),children:T.status}),e.jsx($,{variant:"outline",children:T.protocol.toUpperCase()}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:T.endpoint})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>N(T.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[T.requests&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:T.requests.toLocaleString()})]}),T.avgLatency&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Latency:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[T.avgLatency,"ms"]})]})]})})]},T.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"BFF Service Settings"}),e.jsx(ie,{children:"Service configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Caching"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Request Batching"}),e.jsx(ge,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Response Compression"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Timeout (ms)"}),e.jsx(J,{type:"number",defaultValue:5e3,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Concurrent Requests"}),e.jsx(J,{type:"number",defaultValue:100,min:1})]})]})]})})]})]})})}function O_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(N=>N.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.relays||[],u=i.deliveries||[],m=i.totalRelays||d.length,f=i.totalDeliveries||u.length,h=i.successRate||(u.length>0?u.filter(N=>N.status==="success").length/u.length*100:0),[p,g]=j.useState(!1),y=N=>{r(a,{data:{...c.data,config:{...i,...N}}})},M=()=>{const N={id:`relay-${Date.now()}`,name:"New Webhook Relay",sourceUrl:"https://source.example.com/webhooks",targetUrl:"https://target.example.com/webhooks",enabled:!0,events:[]};y({relays:[...d,N]}),g(!1)},w=N=>{y({relays:d.filter(A=>A.id!==N)})},k=N=>{const A=d.map(P=>P.id===N?{...P,enabled:!P.enabled}:P);y({relays:A})},E=N=>{switch(N){case"success":return"bg-green-500";case"failed":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Webhook Relay"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Webhook Relay Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Relay and forward webhook events between services"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Relays"}),e.jsx(Dr,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"configured"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Deliveries"}),e.jsx(Rl,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(os,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[h.toFixed(1),"%"]})})})]})]}),e.jsxs(Ve,{defaultValue:"relays",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"relays",children:[e.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Relays (",d.length,")"]}),e.jsxs(de,{value:"deliveries",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Deliveries (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"relays",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Webhook Relays"}),e.jsx(ie,{children:"Configure webhook relay rules"})]}),e.jsxs(V,{onClick:M,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Relay"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(N=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Dr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:N.enabled?"default":"outline",children:N.enabled?"Enabled":"Disabled"}),N.successRate&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[N.successRate.toFixed(1),"% success"]}),N.requests&&e.jsxs($,{variant:"outline",children:[N.requests," requests"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:N.enabled,onCheckedChange:()=>k(N.id)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>w(N.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Source:"}),e.jsx("span",{className:"ml-2 font-mono text-xs",children:N.sourceUrl})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Target:"}),e.jsx("span",{className:"ml-2 font-mono text-xs",children:N.targetUrl})]})]}),N.events&&N.events.length>0&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Events"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.events.map((A,P)=>e.jsx($,{variant:"outline",className:"text-xs",children:A},P))})]})]})]},N.id))})})]})}),e.jsx(ue,{value:"deliveries",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Delivery History"}),e.jsx(ie,{children:"Webhook delivery attempts and results"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(N=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${E(N.status)}/20`,children:N.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):N.status==="failed"?e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(Tt,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.event}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:E(N.status),children:N.status}),N.attempts&&e.jsxs($,{variant:"outline",children:["Attempts: ",N.attempts]}),N.responseCode&&e.jsxs($,{variant:"outline",children:["HTTP ",N.responseCode]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Payload"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:N.payload})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(N.timestamp).toLocaleString()})]})]},N.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Webhook Relay Settings"}),e.jsx(ie,{children:"Relay configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Retry on Failure"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Signature Verification"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Request Logging"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Retry Attempts"}),e.jsx(J,{type:"number",defaultValue:3,min:1,max:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Retry Delay (seconds)"}),e.jsx(J,{type:"number",defaultValue:5,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Timeout (seconds)"}),e.jsx(J,{type:"number",defaultValue:30,min:1})]})]})]})})]})]})})}function L_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(O=>O.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.clusterName||"archiphoenix-cluster",u=i.nodes||["localhost:9200"],m=i.index||"archiphoenix-index",f=i.shards||5,h=i.replicas||1,p=i.refreshInterval||"1s",g=i.enableSSL??!1,y=i.enableAuth??!1,M=i.username||"elastic",w=i.password||"",k=i.indices||[],E=i.queries||[],N=i.clusterHealth||"green",A=i.activeShards||10,P=i.relocatingShards||0;i.initializingShards;const I=i.totalDocs||k.reduce((O,re)=>O+re.docs,0),T=i.totalSize||k.reduce((O,re)=>O+re.size,0),[z,C]=j.useState(null),[L,Q]=j.useState(!1),[Y,W]=j.useState(""),q=O=>{r(a,{data:{...c.data,config:{...i,...O}}})},F=()=>{q({nodes:[...u,"localhost:9201"]})},me=O=>{q({nodes:u.filter((re,H)=>H!==O)})},je=(O,re)=>{const H=[...u];H[O]=re,q({nodes:H})},ce=()=>{q({indices:[...k,{name:"new-index",docs:0,size:0,shards:1,replicas:1,health:"yellow"}]})},K=O=>{q({indices:k.filter((re,H)=>H!==O)})},U=(O,re,H)=>{const oe=[...k];oe[O]={...oe[O],[re]:H},q({indices:oe})},ae=()=>{if(!Y.trim())return;const O={id:`query-${Date.now()}`,query:Y,status:"running",duration:0,hits:0,took:0};q({queries:[O,...E.slice(0,9)]}),W(""),Q(!1)},Z=O=>{switch(O){case"green":return"bg-green-500";case"yellow":return"bg-yellow-500";case"red":return"bg-red-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:e.jsx(Ra,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Elasticsearch"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Distributed Search & Analytics Engine"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${N==="green"?"bg-green-500":N==="yellow"?"bg-yellow-500":"bg-red-500"} animate-pulse`}),N==="green"?"Healthy":N==="yellow"?"Degraded":"Unhealthy"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Kibana"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Indices"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:k.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total indices"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Documents"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(I/1e6).toFixed(1),"M"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total documents"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Size"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:T.toFixed(1)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"GB"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Nodes"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cluster nodes"})]})]})]}),e.jsxs(Ve,{defaultValue:"indices",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-5",children:[e.jsxs(de,{value:"indices",className:"gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Indices"]}),e.jsxs(de,{value:"devtools",className:"gap-2",children:[e.jsx(Lr,{className:"h-4 w-4"}),"Dev Tools"]}),e.jsxs(de,{value:"cluster",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Cluster"]}),e.jsxs(de,{value:"security",className:"gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"}),"Security"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"indices",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Indices"}),e.jsx(ie,{children:"Elasticsearch index configuration"})]}),e.jsxs(V,{size:"sm",onClick:ce,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Index"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:k.map((O,re)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${Z(O.health)}`}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:O.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[O.shards," shards  ",O.replicas," replicas  Health: ",O.health]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:O.health==="green"?"default":O.health==="yellow"?"secondary":"destructive",children:O.health}),k.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>K(re),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Documents:"}),e.jsx("span",{className:"ml-2 font-semibold",children:O.docs.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Size:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[O.size," GB"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Shards:"}),e.jsx("span",{className:"ml-2 font-semibold",children:O.shards})]})]}),z===re&&e.jsxs("div",{className:"pt-4 border-t space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Number of Shards"}),e.jsx(J,{type:"number",value:O.shards,onChange:H=>U(re,"shards",Number(H.target.value)),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Number of Replicas"}),e.jsx(J,{type:"number",value:O.replicas,onChange:H=>U(re,"replicas",Number(H.target.value)),min:0})]})]}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>C(null),children:"Done"})]}),z!==re&&e.jsx(V,{size:"sm",variant:"outline",onClick:()=>C(re),children:"Edit Settings"})]})]},re))})})]})}),e.jsx(ue,{value:"devtools",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Dev Tools"}),e.jsx(ie,{children:"Execute Elasticsearch queries and API calls"})]}),e.jsxs(V,{size:"sm",onClick:()=>Q(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Query"]})]})}),e.jsxs(R,{children:[L&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsx(D,{children:e.jsx(_,{children:"Execute Query"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Query (JSON)"}),e.jsx(ss,{value:Y,onChange:O=>W(O.target.value),placeholder:'GET /_search\\n{\\n  "query": {\\n    "match_all": {}\\n  }\\n}',rows:8,className:"font-mono text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:ae,disabled:!Y.trim(),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Execute"]}),e.jsx(V,{variant:"outline",onClick:()=>{Q(!1),W("")},children:"Cancel"})]})]})]}),E.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No queries executed"}):e.jsx("div",{className:"space-y-2",children:E.map(O=>e.jsx(S,{className:"border-l-4 border-l-blue-500",children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:O.status==="success"?"default":O.status==="error"?"destructive":"secondary",children:O.status}),O.took!==void 0&&e.jsxs($,{variant:"outline",children:[O.took,"ms"]}),O.hits!==void 0&&e.jsxs($,{variant:"outline",children:[O.hits," hits"]})]}),e.jsx("pre",{className:"text-xs font-mono bg-muted p-2 rounded overflow-x-auto",children:O.query})]})})})},O.id))})]})]})}),e.jsx(ue,{value:"cluster",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Cluster Configuration"}),e.jsx(ie,{children:"Elasticsearch cluster connection and topology"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Cluster Health"})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${N==="green"?"bg-green-500":N==="yellow"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"text-lg font-semibold uppercase",children:N})]})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Active Shards"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:A})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Relocating"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:P})})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"cluster-name",children:"Cluster Name"}),e.jsx(J,{id:"cluster-name",value:d,onChange:O=>q({clusterName:O.target.value}),placeholder:"my-cluster"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Node Addresses"}),e.jsxs(V,{size:"sm",onClick:F,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Node"]})]}),e.jsx("div",{className:"space-y-2",children:u.map((O,re)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{value:O,onChange:H=>je(re,H.target.value),placeholder:"localhost:9200",className:"flex-1"}),u.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>me(re),children:e.jsx(Ee,{className:"h-4 w-4"})})]},re))})]})]})]})}),e.jsx(ue,{value:"security",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Security Settings"}),e.jsx(ie,{children:"SSL/TLS and authentication"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable SSL/TLS"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Encrypt connections to cluster"})]}),e.jsx(ge,{checked:g,onCheckedChange:O=>q({enableSSL:O})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Authentication"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Require authentication"})]}),e.jsx(ge,{checked:y,onCheckedChange:O=>q({enableAuth:O})})]}),y&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"username",children:"Username"}),e.jsx(J,{id:"username",value:M,onChange:O=>q({username:O.target.value}),placeholder:"elastic"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),e.jsx(J,{id:"password",type:"password",value:w,onChange:O=>q({password:O.target.value}),placeholder:"password"})]})]})})]})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Index Settings"}),e.jsx(ie,{children:"Default index configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"index",children:"Index Name"}),e.jsx(J,{id:"index",value:m,onChange:O=>q({index:O.target.value}),placeholder:"my-index"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"shards",children:"Number of Shards"}),e.jsx(J,{id:"shards",type:"number",min:"1",max:"100",value:f,onChange:O=>q({shards:parseInt(O.target.value)||5})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"replicas",children:"Number of Replicas"}),e.jsx(J,{id:"replicas",type:"number",min:"0",max:"10",value:h,onChange:O=>q({replicas:parseInt(O.target.value)||1})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"refresh-interval",children:"Refresh Interval"}),e.jsx(J,{id:"refresh-interval",value:p,onChange:O=>q({refreshInterval:O.target.value}),placeholder:"1s"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How often to refresh the index (e.g., 1s, 5m)"})]})]})]})})]})]})})}function I_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(q=>q.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.clusterName||"archiphoenix-cluster",u=i.nodes||[],m=i.keyspaces||[{name:"system",replication:3,replicationStrategy:"NetworkTopologyStrategy",tables:0,size:0,durableWrites:!0}],f=i.tables||[],h=i.queries||[],[p,g]=j.useState(null),[y,M]=j.useState(!1),[w,k]=j.useState(""),E=i.consistencyLevel||"QUORUM",N=i.replicationFactor||3,A=i.enableCompaction??!0,P=i.compactionStrategy||"SizeTieredCompactionStrategy",I=i.totalSize||m.reduce((q,F)=>q+F.size,0),T=i.readLatency||2.5,z=i.writeLatency||3.2,C=q=>{r(a,{data:{...c.data,config:{...i,...q}}})},L=()=>{C({keyspaces:[...m,{name:"new_keyspace",replication:N,tables:0,size:0}]})},Q=q=>{C({keyspaces:m.filter((F,me)=>me!==q)})},Y=(q,F,me)=>{const je=[...m];je[q]={...je[q],[F]:me},C({keyspaces:je})},W=()=>{if(!w.trim())return;const q={id:`query-${Date.now()}`,query:w,status:"running",duration:0,rowsReturned:0};C({queries:[q,...h.slice(0,9)]}),k(""),M(!1)};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(gs,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Apache Cassandra"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Distributed NoSQL Database"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Cluster Healthy"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"CQL Shell"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Nodes"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cluster nodes"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Keyspaces"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total keyspaces"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Read Latency"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[T,"ms"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Data Size"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:I.toFixed(1)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"GB"})]})]})]}),e.jsxs(Ve,{defaultValue:"keyspaces",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-5",children:[e.jsxs(de,{value:"keyspaces",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Keyspaces"]}),e.jsxs(de,{value:"tables",className:"gap-2",children:[e.jsx(Ar,{className:"h-4 w-4"}),"Tables"]}),e.jsxs(de,{value:"cql",className:"gap-2",children:[e.jsx(Lr,{className:"h-4 w-4"}),"CQL Shell"]}),e.jsxs(de,{value:"cluster",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Cluster"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"keyspaces",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Keyspaces"}),e.jsx(ie,{children:"Cassandra keyspace configuration"})]}),e.jsxs(V,{size:"sm",onClick:L,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Keyspace"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:m.map((q,F)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(gs,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:q.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[q.tables," tables  Replication: ",q.replication,"  Size: ",q.size," GB",q.replicationStrategy&&`  ${q.replicationStrategy}`]})]})]}),m.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>Q(F),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),p===F&&e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Replication Factor"}),e.jsx(J,{type:"number",value:q.replication,onChange:me=>Y(F,"replication",Number(me.target.value)),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Replication Strategy"}),e.jsxs(Pe,{value:q.replicationStrategy||"NetworkTopologyStrategy",onValueChange:me=>Y(F,"replicationStrategy",me),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"SimpleStrategy",children:"Simple Strategy"}),e.jsx(ne,{value:"NetworkTopologyStrategy",children:"Network Topology Strategy"})]})]})]})]}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>g(null),children:"Done"})]}),p!==F&&e.jsx(R,{children:e.jsx(V,{size:"sm",variant:"outline",onClick:()=>g(F),children:"Edit Settings"})})]},F))})})]})}),e.jsx(ue,{value:"tables",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Tables"}),e.jsx(ie,{children:"Cassandra table configuration"})]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Table"]})]})}),e.jsx(R,{children:f.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No tables created"}):e.jsx("div",{className:"space-y-3",children:f.map((q,F)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ar,{className:"h-4 w-4 text-primary"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:q.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[q.keyspace,"  ",q.rows||0," rows  ",q.size?`${q.size} GB`:"N/A"]})]})]})})})},F))})})]})}),e.jsx(ue,{value:"cql",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"CQL Shell"}),e.jsx(ie,{children:"Execute CQL queries"})]}),e.jsxs(V,{size:"sm",onClick:()=>M(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Query"]})]})}),e.jsxs(R,{children:[y&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsx(D,{children:e.jsx(_,{children:"Execute CQL Query"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"CQL Query"}),e.jsx(ss,{value:w,onChange:q=>k(q.target.value),placeholder:"SELECT * FROM keyspace.table LIMIT 10;",rows:6,className:"font-mono text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:W,disabled:!w.trim(),children:[e.jsx(Play,{className:"h-4 w-4 mr-2"}),"Execute"]}),e.jsx(V,{variant:"outline",onClick:()=>{M(!1),k("")},children:"Cancel"})]})]})]}),h.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No queries executed"}):e.jsx("div",{className:"space-y-2",children:h.map(q=>e.jsx(S,{className:"border-l-4 border-l-blue-500",children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:q.status==="success"?"default":q.status==="error"?"destructive":"secondary",children:q.status}),q.duration!==void 0&&e.jsxs($,{variant:"outline",children:[q.duration,"ms"]}),q.rowsReturned!==void 0&&e.jsxs($,{variant:"outline",children:[q.rowsReturned," rows"]})]}),e.jsx("pre",{className:"text-xs font-mono bg-muted p-2 rounded overflow-x-auto",children:q.query})]})})})},q.id))})]})]})}),e.jsx(ue,{value:"cluster",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Cluster Nodes"}),e.jsx(ie,{children:"Cassandra cluster topology"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:u.map((q,F)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${q.status==="up"?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:q.address}),e.jsxs(ie,{className:"text-xs mt-1",children:[q.tokens," tokens  Load: ",(q.load*100).toFixed(1),"%"]})]})]}),e.jsx($,{variant:q.status==="up"?"default":"destructive",children:q.status.toUpperCase()})]})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Load:"}),e.jsxs("span",{className:"font-semibold",children:[(q.load*100).toFixed(1),"%"]})]}),e.jsx(ws,{value:q.load*100,className:"h-2"})]})})]},F))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Cluster Settings"}),e.jsx(ie,{children:"Cassandra cluster configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Read Latency"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[T,"ms"]}),e.jsx(ws,{value:Math.min(T/10*100,100),className:"h-2 mt-2"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Write Latency"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[z,"ms"]}),e.jsx(ws,{value:Math.min(z/10*100,100),className:"h-2 mt-2"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"cluster-name",children:"Cluster Name"}),e.jsx(J,{id:"cluster-name",value:d,onChange:q=>C({clusterName:q.target.value}),placeholder:"my-cluster"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"replication-factor",children:"Replication Factor"}),e.jsx(J,{id:"replication-factor",type:"number",min:"1",max:"10",value:N,onChange:q=>C({replicationFactor:parseInt(q.target.value)||3})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"consistency-level",children:"Consistency Level"}),e.jsx(J,{id:"consistency-level",value:E,onChange:q=>C({consistencyLevel:q.target.value}),placeholder:"QUORUM"})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Compaction"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Automatic data compaction"})]}),e.jsx(ge,{checked:A,onCheckedChange:q=>C({enableCompaction:q})})]}),A&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"compaction-strategy",children:"Compaction Strategy"}),e.jsx(J,{id:"compaction-strategy",value:P,onChange:q=>C({compactionStrategy:q.target.value}),placeholder:"SizeTieredCompactionStrategy"})]})]})]})})]})]})})}function B_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(W=>W.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.host||"localhost",u=i.port||8123,m=i.database||"default",f=i.username||"default",h=i.password||"",p=i.tables||[],g=i.queries||[],[y,M]=j.useState(null),[w,k]=j.useState(!1),[E,N]=j.useState(""),A=i.totalRows||p.reduce((W,q)=>W+q.rows,0),P=i.totalSize||p.reduce((W,q)=>W+q.size,0),I=i.queryThroughput||1250,T=i.avgQueryTime||45,z=W=>{r(a,{data:{...c.data,config:{...i,...W}}})},C=()=>{z({tables:[...p,{name:"new_table",engine:"MergeTree",rows:0,size:0,partitions:0}]})},L=W=>{z({tables:p.filter((q,F)=>F!==W)})},Q=(W,q,F)=>{const me=[...p];me[W]={...me[W],[q]:F},z({tables:me})},Y=()=>{if(!E.trim())return;const W={id:`query-${Date.now()}`,query:E,status:"running",duration:0};z({queries:[W,...g.slice(0,9)]}),N(""),k(!1)};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:e.jsx(Qi,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"ClickHouse"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Column-Oriented Analytics Database"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Query Console"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Tables"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total tables"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Rows"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(A/1e6).toFixed(1),"M"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Rows across all tables"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Size"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:P.toFixed(1)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"GB"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Query Throughput"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:I}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"queries/sec"})]})]})]}),e.jsxs(Ve,{defaultValue:"tables",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-4",children:[e.jsxs(de,{value:"tables",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Tables"]}),e.jsxs(de,{value:"queries",className:"gap-2",children:[e.jsx(Lr,{className:"h-4 w-4"}),"Query Console"]}),e.jsxs(de,{value:"performance",className:"gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Performance"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"tables",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Tables"}),e.jsx(ie,{children:"ClickHouse table configuration"})]}),e.jsxs(V,{size:"sm",onClick:C,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Table"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:p.map((W,q)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(gs,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:W.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[W.engine,"  ",W.partitions," partitions  ",W.rows.toLocaleString()," rows  ",W.size," GB"]})]})]}),p.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>L(q),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),y===q&&e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Table Engine"}),e.jsxs(Pe,{value:W.engine,onValueChange:F=>Q(q,"engine",F),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"MergeTree",children:"MergeTree"}),e.jsx(ne,{value:"SummingMergeTree",children:"SummingMergeTree"}),e.jsx(ne,{value:"ReplacingMergeTree",children:"ReplacingMergeTree"}),e.jsx(ne,{value:"AggregatingMergeTree",children:"AggregatingMergeTree"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Partitions"}),e.jsx(J,{type:"number",value:W.partitions,onChange:F=>Q(q,"partitions",Number(F.target.value)),min:0})]})]}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>M(null),children:"Done"})]}),y!==q&&e.jsx(R,{children:e.jsx(V,{size:"sm",variant:"outline",onClick:()=>M(q),children:"Edit Settings"})})]},q))})})]})}),e.jsx(ue,{value:"queries",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Query Console"}),e.jsx(ie,{children:"Execute ClickHouse SQL queries"})]}),e.jsxs(V,{size:"sm",onClick:()=>k(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Query"]})]})}),e.jsxs(R,{children:[w&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsx(D,{children:e.jsx(_,{children:"Execute Query"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SQL Query"}),e.jsx(ss,{value:E,onChange:W=>N(W.target.value),placeholder:"SELECT count() FROM events WHERE date = today();",rows:8,className:"font-mono text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:Y,disabled:!E.trim(),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Execute"]}),e.jsx(V,{variant:"outline",onClick:()=>{k(!1),N("")},children:"Cancel"})]})]})]}),g.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No queries executed"}):e.jsx("div",{className:"space-y-2",children:g.map(W=>e.jsx(S,{className:"border-l-4 border-l-blue-500",children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[W.status==="running"&&e.jsx(_s,{className:"h-4 w-4 text-blue-500 animate-pulse"}),e.jsx($,{variant:W.status==="completed"?"default":W.status==="failed"?"destructive":"secondary",children:W.status}),W.duration>0&&e.jsxs($,{variant:"outline",children:[W.duration,"ms"]})]}),e.jsx("pre",{className:"text-xs font-mono bg-muted p-2 rounded overflow-x-auto",children:W.query})]})})})},W.id))})]})]})}),e.jsx(ue,{value:"performance",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Performance Metrics"}),e.jsx(ie,{children:"Query throughput and latency"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Query Throughput"}),e.jsxs("span",{className:"font-semibold",children:[I.toLocaleString()," qps"]})]}),e.jsx(ws,{value:Math.min(I/5e3*100,100),className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Query Time"}),e.jsxs("span",{className:"font-semibold",children:[T,"ms"]})]}),e.jsx(ws,{value:Math.min(T/200*100,100),className:"h-2"})]})]})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"ClickHouse server configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"host",children:"Host"}),e.jsx(J,{id:"host",value:d,onChange:W=>z({host:W.target.value}),placeholder:"localhost"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"port",children:"Port"}),e.jsx(J,{id:"port",type:"number",value:u,onChange:W=>z({port:parseInt(W.target.value)||8123}),placeholder:"8123"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"database",children:"Database"}),e.jsx(J,{id:"database",value:m,onChange:W=>z({database:W.target.value}),placeholder:"default"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"username",children:"Username"}),e.jsx(J,{id:"username",value:f,onChange:W=>z({username:W.target.value}),placeholder:"default"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),e.jsx(J,{id:"password",type:"password",value:h,onChange:W=>z({password:W.target.value}),placeholder:"password"})]})]})]})]})})]})]})})}function U_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(K=>K.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.account||"archiphoenix.us-east-1",u=i.username||"admin",m=i.password||"",f=i.warehouse||"COMPUTE_WH",h=i.database||"SNOWFLAKE",p=i.schema||"PUBLIC",g=i.role||"ACCOUNTADMIN",y=i.warehouses||[],M=i.databases||[{name:"SNOWFLAKE",comment:"System database",retentionTime:1,size:0,schemas:[{name:"INFORMATION_SCHEMA",tables:0,views:0,functions:0}]}],w=i.queries||[],[k,E]=j.useState(null),[N,A]=j.useState(null),[P,I]=j.useState(!1),[T,z]=j.useState(""),C=K=>{r(a,{data:{...c.data,config:{...i,...K}}})},L=()=>{const K={name:"NEW_WH",size:"Small",autoSuspend:60,autoResume:!0,minClusterCount:1,maxClusterCount:1,status:"suspended",runningQueries:0,queuedQueries:0};C({warehouses:[...y,K]})},Q=K=>{C({warehouses:y.filter((U,ae)=>ae!==K)})},Y=(K,U,ae)=>{const Z=[...y];Z[K]={...Z[K],[U]:ae},C({warehouses:Z})},W=()=>{const K={name:"NEW_DB",retentionTime:1,size:0,schemas:[{name:"PUBLIC",tables:0,views:0,functions:0}]};C({databases:[...M,K]})},q=K=>{C({databases:M.filter((U,ae)=>ae!==K)})},F=(K,U,ae)=>{const Z=[...M];Z[K]={...Z[K],[U]:ae},C({databases:Z})},me=()=>{if(!T.trim())return;const K={id:`query-${Date.now()}`,queryText:T,status:"running",warehouse:f,database:h,schema:p,duration:0,rowsReturned:0};C({queries:[K,...w.slice(0,9)]}),z(""),I(!1)},je=y.reduce((K,U)=>K+(U.runningQueries||0),0),ce=y.reduce((K,U)=>K+(U.queuedQueries||0),0);return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Snowflake Data Cloud"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Data Warehouse"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure warehouses, databases, schemas and execute queries"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Snowflake Web UI"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Account"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",className:"truncate max-w-full",children:d})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Warehouses"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:y.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Running Queries"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:je})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Queued Queries"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:ce})})]})]}),e.jsxs(Ve,{defaultValue:"warehouses",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"warehouses",children:[e.jsx(kv,{className:"h-4 w-4 mr-2"}),"Warehouses (",y.length,")"]}),e.jsxs(de,{value:"databases",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Databases (",M.length,")"]}),e.jsxs(de,{value:"queries",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Queries (",w.length,")"]}),e.jsxs(de,{value:"connection",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Connection"]})]}),e.jsx(ue,{value:"warehouses",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Compute Warehouses"}),e.jsx(ie,{children:"Configure virtual warehouses for query processing"})]}),e.jsxs(V,{onClick:L,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Warehouse"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:y.map((K,U)=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(kv,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:K.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:K.status==="running"?"default":"outline",children:K.status||"suspended"}),e.jsx($,{variant:"outline",children:K.size}),e.jsxs($,{variant:"outline",children:[K.runningQueries||0," running"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(U),disabled:y.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Running Queries"}),e.jsx("p",{className:"text-lg font-semibold",children:K.runningQueries||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Queued Queries"}),e.jsx("p",{className:"text-lg font-semibold",children:K.queuedQueries||0})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Warehouse Name"}),e.jsx(J,{value:K.name,onChange:ae=>Y(U,"name",ae.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Size"}),e.jsxs(Pe,{value:K.size,onValueChange:ae=>Y(U,"size",ae),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"X-Small",children:"X-Small"}),e.jsx(ne,{value:"Small",children:"Small"}),e.jsx(ne,{value:"Medium",children:"Medium"}),e.jsx(ne,{value:"Large",children:"Large"}),e.jsx(ne,{value:"X-Large",children:"X-Large"}),e.jsx(ne,{value:"2X-Large",children:"2X-Large"}),e.jsx(ne,{value:"3X-Large",children:"3X-Large"}),e.jsx(ne,{value:"4X-Large",children:"4X-Large"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Auto Suspend (seconds)"}),e.jsx(J,{type:"number",value:K.autoSuspend||60,onChange:ae=>Y(U,"autoSuspend",Number(ae.target.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Auto Resume"}),e.jsx(ge,{checked:K.autoResume??!0,onCheckedChange:ae=>Y(U,"autoResume",ae)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Min Clusters"}),e.jsx(J,{type:"number",value:K.minClusterCount||1,onChange:ae=>Y(U,"minClusterCount",Number(ae.target.value)),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Clusters"}),e.jsx(J,{type:"number",value:K.maxClusterCount||1,onChange:ae=>Y(U,"maxClusterCount",Number(ae.target.value)),min:1})]})]})]})]},U))})})]})}),e.jsx(ue,{value:"databases",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Databases"}),e.jsx(ie,{children:"Manage databases and schemas"})]}),e.jsxs(V,{onClick:W,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Database"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:M.map((K,U)=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gs,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:K.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs($,{variant:"outline",children:[K.schemas?.length||0," schemas"]}),K.size!==void 0&&e.jsxs($,{variant:"outline",children:[K.size.toLocaleString()," bytes"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>q(U),disabled:M.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Database Name"}),e.jsx(J,{value:K.name,onChange:ae=>F(U,"name",ae.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Retention Time (days)"}),e.jsx(J,{type:"number",value:K.retentionTime||1,onChange:ae=>F(U,"retentionTime",Number(ae.target.value))})]})]}),K.comment&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Comment"}),e.jsx(J,{value:K.comment,onChange:ae=>F(U,"comment",ae.target.value)})]}),K.schemas&&K.schemas.length>0&&e.jsxs("div",{children:[e.jsx(b,{className:"mb-2 block",children:"Schemas"}),e.jsx("div",{className:"space-y-2",children:K.schemas.map((ae,Z)=>e.jsx(S,{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ae.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs($,{variant:"outline",children:[ae.tables||0," tables"]}),e.jsxs($,{variant:"outline",children:[ae.views||0," views"]}),e.jsxs($,{variant:"outline",children:[ae.functions||0," functions"]})]})]})})},Z))})]})]})]},U))})})]})}),e.jsx(ue,{value:"queries",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Query History"}),e.jsx(ie,{children:"Execute and monitor SQL queries"})]}),e.jsxs(V,{onClick:()=>I(!0),size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Query"]})]})}),e.jsxs(R,{children:[P&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsx(D,{children:e.jsx(_,{children:"Execute Query"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SQL Query"}),e.jsx(ss,{value:T,onChange:K=>z(K.target.value),placeholder:"SELECT * FROM table_name LIMIT 10;",rows:6})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:me,disabled:!T.trim(),children:"Execute"}),e.jsx(V,{variant:"outline",onClick:()=>{I(!1),z("")},children:"Cancel"})]})]})]}),w.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No queries executed"}):e.jsx("div",{className:"space-y-2",children:w.map(K=>e.jsx(S,{className:"border-l-4 border-l-purple-500",children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:K.status==="success"?"default":K.status==="failed"?"destructive":K.status==="running"?"secondary":"outline",children:K.status}),K.warehouse&&e.jsx($,{variant:"outline",children:K.warehouse}),K.duration!==void 0&&e.jsxs($,{variant:"outline",children:[K.duration,"ms"]})]}),e.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded text-xs",children:K.queryText}),K.rowsReturned!==void 0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Rows returned: ",K.rowsReturned]})]})})})},K.id))})]})]})}),e.jsx(ue,{value:"connection",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"Configure Snowflake connection parameters"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Account"}),e.jsx(J,{value:d,onChange:K=>C({account:K.target.value}),placeholder:"account.region.cloud"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Username"}),e.jsx(J,{value:u,onChange:K=>C({username:K.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Password"}),e.jsx(J,{type:"password",value:m,onChange:K=>C({password:K.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Role"}),e.jsx(J,{value:g,onChange:K=>C({role:K.target.value}),placeholder:"ACCOUNTADMIN"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Warehouse"}),e.jsxs(Pe,{value:f,onValueChange:K=>C({warehouse:K}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:y.map(K=>e.jsx(ne,{value:K.name,children:K.name},K.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Database"}),e.jsxs(Pe,{value:h,onValueChange:K=>C({database:K}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:M.map(K=>e.jsx(ne,{value:K.name,children:K.name},K.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Schema"}),e.jsx(J,{value:p,onChange:K=>C({schema:K.target.value}),placeholder:"PUBLIC"})]})]})})]})})]})]})})}function H_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(Y=>Y.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.buckets||[],u=i.accessKeyId||"",m=i.secretAccessKey||"",f=i.defaultRegion||"us-east-1",h=i.lifecycleRules||[],[p,g]=j.useState(null),[y,M]=j.useState(null),[w,k]=j.useState(!1),E=Y=>{r(a,{data:{...c.data,config:{...i,...Y}}})},N=()=>{const Y={name:"new-bucket",region:f,versioning:!1,encryption:"AES256",lifecycleEnabled:!1,publicAccess:!1,objectCount:0,totalSize:0,folders:[]};E({buckets:[...d,Y]})},A=Y=>{E({buckets:d.filter((W,q)=>q!==Y)})},P=(Y,W,q)=>{const F=[...d];F[Y]={...F[Y],[W]:q},E({buckets:F})},I=()=>{const Y={id:`rule-${Date.now()}`,name:"New Lifecycle Rule",status:"Enabled",transitions:[]};E({lifecycleRules:[...h,Y]}),k(!1)},T=Y=>{E({lifecycleRules:h.filter(W=>W.id!==Y)})},z=d.length,C=d.reduce((Y,W)=>Y+(W.objectCount||0),0),L=d.reduce((Y,W)=>Y+(W.totalSize||0),0),Q=Y=>{if(Y===0)return"0 Bytes";const W=1024,q=["Bytes","KB","MB","GB","TB"],F=Math.floor(Math.log(Y)/Math.log(W));return Math.round(Y/Math.pow(W,F)*100)/100+" "+q[F]};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Amazon S3 Data Lake"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Object Storage"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure S3 buckets, lifecycle policies and data lake storage"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Nn,{className:"h-4 w-4 mr-2"}),"AWS Console"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Buckets"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:z})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Objects"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:C.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Size"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:Q(L)})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Default Region"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",children:f})})]})]}),e.jsxs(Ve,{defaultValue:"buckets",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"buckets",children:[e.jsx(Nv,{className:"h-4 w-4 mr-2"}),"Buckets (",d.length,")"]}),e.jsxs(de,{value:"lifecycle",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Lifecycle Rules (",h.length,")"]}),e.jsxs(de,{value:"credentials",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Credentials"]})]}),e.jsx(ue,{value:"buckets",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"S3 Buckets"}),e.jsx(ie,{children:"Configure and manage S3 buckets for data lake storage"})]}),e.jsxs(V,{onClick:N,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Bucket"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map((Y,W)=>e.jsxs(S,{className:"border-l-4 border-l-orange-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Nv,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:Y.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:"outline",children:Y.region}),Y.versioning&&e.jsx($,{variant:"default",children:"Versioning"}),Y.publicAccess&&e.jsx($,{variant:"destructive",children:"Public"}),e.jsxs($,{variant:"outline",children:[Y.objectCount||0," objects"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>A(W),disabled:d.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Objects"}),e.jsx("p",{className:"text-lg font-semibold",children:(Y.objectCount||0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Size"}),e.jsx("p",{className:"text-lg font-semibold",children:Q(Y.totalSize||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Bucket URL"}),e.jsxs("p",{className:"text-xs font-mono text-muted-foreground truncate",children:["s3://",Y.name]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Bucket Name"}),e.jsx(J,{value:Y.name,onChange:q=>P(W,"name",q.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Region"}),e.jsx(J,{value:Y.region,onChange:q=>P(W,"region",q.target.value),placeholder:"us-east-1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Versioning"}),e.jsx(ge,{checked:Y.versioning||!1,onCheckedChange:q=>P(W,"versioning",q)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Encryption"}),e.jsxs(Pe,{value:Y.encryption||"AES256",onValueChange:q=>P(W,"encryption",q),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"AES256",children:"AES256"}),e.jsx(ne,{value:"aws:kms",children:"AWS KMS"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Public Access"}),e.jsx(ge,{checked:Y.publicAccess||!1,onCheckedChange:q=>P(W,"publicAccess",q)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Lifecycle Enabled"}),e.jsx(ge,{checked:Y.lifecycleEnabled||!1,onCheckedChange:q=>P(W,"lifecycleEnabled",q)})]}),Y.lifecycleEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Lifecycle Transition Days"}),e.jsx(J,{type:"number",value:Y.lifecycleDays||30,onChange:q=>P(W,"lifecycleDays",Number(q.target.value)),min:1})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Glacier Archive"}),e.jsx(ge,{checked:Y.glacierEnabled||!1,onCheckedChange:q=>P(W,"glacierEnabled",q)})]}),Y.glacierEnabled&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Glacier Transition Days"}),e.jsx(J,{type:"number",value:Y.glacierDays||90,onChange:q=>P(W,"glacierDays",Number(q.target.value)),min:90})]})]})]}),Y.folders&&Y.folders.length>0&&e.jsxs("div",{children:[e.jsx(b,{className:"mb-2 block",children:"Folders"}),e.jsx("div",{className:"space-y-2",children:Y.folders.map((q,F)=>e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O0,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:q.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:q.path})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",children:[q.objectCount||0," objects"]}),e.jsx($,{variant:"outline",children:Q(q.size||0)})]})]})},F))})]})]})]},W))})})]})}),e.jsx(ue,{value:"lifecycle",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Lifecycle Rules"}),e.jsx(ie,{children:"Configure automatic transitions and expiration"})]}),e.jsxs(V,{onClick:I,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Rule"]})]})}),e.jsx(R,{children:h.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No lifecycle rules configured"}):e.jsx("div",{className:"space-y-2",children:h.map(Y=>e.jsx(S,{className:"border-l-4 border-l-green-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:Y.status==="Enabled"?"default":"outline",children:Y.status}),e.jsx("span",{className:"font-medium",children:Y.name}),Y.prefix&&e.jsxs($,{variant:"outline",children:["Prefix: ",Y.prefix]})]})}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>T(Y.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})})},Y.id))})})]})}),e.jsx(ue,{value:"credentials",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"AWS Credentials"}),e.jsx(ie,{children:"Configure AWS access credentials for S3"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"accessKeyId",children:"Access Key ID"}),e.jsx(J,{id:"accessKeyId",value:u,onChange:Y=>E({accessKeyId:Y.target.value}),placeholder:"AKIAIOSFODNN7EXAMPLE"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"secretAccessKey",children:"Secret Access Key"}),e.jsx(J,{id:"secretAccessKey",type:"password",value:m,onChange:Y=>E({secretAccessKey:Y.target.value}),placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"defaultRegion",children:"Default Region"}),e.jsx(J,{id:"defaultRegion",value:f,onChange:Y=>E({defaultRegion:Y.target.value}),placeholder:"us-east-1"})]}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:[e.jsx("strong",{children:"Security Note:"})," In production, use IAM roles or environment variables instead of hardcoding credentials."]})})]})]})})]})]})})}function V_({componentId:a}){const[l,r]=j.useState(null),[c,i]=j.useState(null),[d,u]=j.useState(!1),[m,f]=j.useState(!1),[h,p]=j.useState(!1);try{const{nodes:g,updateNode:y}=Le(),M=g.find(H=>H.id===a);if(!M)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const w=M.data.config||{},k=w.adminUser||"admin",E=w.adminPassword||"admin";let N=[];Array.isArray(w.datasources)&&(w.datasources.length>0&&typeof w.datasources[0]=="string"?N=w.datasources.map(H=>({name:H,type:"prometheus",url:"http://localhost:9090",access:"proxy",isDefault:H===w.datasources[0]})):N=w.datasources.filter(H=>H&&typeof H=="object"&&H.name)),N.length===0&&(N=[{name:"Prometheus",type:"prometheus",url:"http://localhost:9090",access:"proxy",isDefault:!0}]);let A=[];Array.isArray(w.dashboards)&&(A=w.dashboards.map(H=>{if(H&&typeof H=="object"){if(typeof H.panels=="number")return{...H,panels:[],tags:Array.isArray(H.tags)?H.tags:[]};if(Array.isArray(H.panels))return{...H,panels:H.panels.map(oe=>({id:oe.id||`panel-${Date.now()}`,title:oe.title||"Panel",type:oe.type||"graph",datasource:oe.datasource||N[0]?.name||"Prometheus",queries:Array.isArray(oe.queries)?oe.queries:[{refId:"A",expr:"up"}],gridPos:oe.gridPos||{x:0,y:0,w:12,h:8}})),tags:Array.isArray(H.tags)?H.tags:[]}}return H}).filter(H=>H&&typeof H=="object"&&H.id)),A.length===0&&(A=[{id:"1",name:"Overview",panels:[{id:"panel-1",title:"CPU Usage",type:"graph",datasource:N.length>0?N[0].name:"Prometheus",queries:[{refId:"A",expr:"rate(process_cpu_seconds_total[5m])",legendFormat:"CPU"}],gridPos:{x:0,y:0,w:12,h:8}}],tags:["system","overview"],refresh:"30s"}]);const P=Array.isArray(w.alerts)?w.alerts.filter(H=>H&&typeof H=="object"&&H.id):[],I=w.defaultDashboard||"overview",T=w.enableAuth??!1,z=w.authProvider||"ldap",C=w.enableAlerting??!0,L=Array.isArray(w.alertNotificationChannels)?w.alertNotificationChannels:["email","slack"],Q=w.theme||"dark",Y=H=>{y(a,{data:{...M.data,config:{...w,...H}}})},W=()=>{const H={name:"New Data Source",type:"prometheus",url:"http://localhost:9090",access:"proxy"};Y({datasources:[...N,H]}),p(!1)},q=H=>{Y({datasources:N.filter((oe,ee)=>ee!==H)})},F=(H,oe,ee)=>{const se=[...N];se[H]={...se[H],[oe]:ee},Y({datasources:se})},me=()=>{const H={id:String(Date.now()),name:"New Dashboard",panels:[],tags:[],refresh:"30s"};Y({dashboards:[...A,H]}),u(!1)},je=H=>{Y({dashboards:A.filter((oe,ee)=>ee!==H)})},ce=H=>{const oe=N&&N.length>0?N[0].name:"Prometheus",ee={id:`panel-${Date.now()}`,title:"New Panel",type:"graph",datasource:oe,queries:[{refId:"A",expr:"up",legendFormat:"{{instance}}"}],gridPos:{x:0,y:0,w:12,h:8}},se=A.map(X=>X.id===H?{...X,panels:[...X.panels,ee]}:X);Y({dashboards:se})},K=(H,oe)=>{const ee=A.map(se=>se.id===H?{...se,panels:se.panels.filter(X=>X.id!==oe)}:se);Y({dashboards:ee})},U=(H,oe,ee,se)=>{const X=A.map(le=>le.id===H?{...le,panels:le.panels.map(G=>G.id===oe?{...G,[ee]:se}:G)}:le);Y({dashboards:X})},ae=(H,oe)=>{const ee=A.map(se=>se.id===H?{...se,panels:se.panels.map(X=>{if(X.id===oe){const le=Array.isArray(X.queries)?X.queries:[];return{...X,queries:[...le,{refId:String.fromCharCode(65+le.length),expr:"",legendFormat:""}]}}return X})}:se);Y({dashboards:ee})},Z=(H,oe,ee,se,X)=>{const le=A.map(G=>G.id===H?{...G,panels:G.panels.map(xe=>{if(xe.id===oe){const Te=Array.isArray(xe.queries)?xe.queries:[];return{...xe,queries:Te.map((we,Be)=>Be===ee?{...we,[se]:X}:we)}}return xe})}:G);Y({dashboards:le})},O=()=>{const H={id:`alert-${Date.now()}`,name:"New Alert",condition:{query:"up == 0",evaluator:{type:"gt",params:[0]},reducer:{type:"last",params:[]}},for:"5m",annotations:{summary:"Alert triggered",description:"Service is down"},notificationChannels:L.slice(0,1)};Y({alerts:[...P,H]}),f(!1)},re=H=>{Y({alerts:P.filter(oe=>oe.id!==H)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:e.jsx(Qi,{className:"h-6 w-6 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Grafana"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analytics & Monitoring Platform"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(m5,{className:"h-4 w-4 mr-2"}),"Open Dashboard"]})]})]}),e.jsx(ye,{}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Live Dashboard Preview"}),e.jsx(ie,{children:"Snapshot of how this Grafana instance renders panels"})]}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-2 p-4 rounded-lg bg-gradient-to-br from-orange-500/20 via-orange-500/5 to-transparent border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"font-semibold",children:"System Load"}),e.jsxs($,{variant:"secondary",className:"gap-2",children:[e.jsx(uk,{className:"h-3 w-3"})," CPU"]})]}),e.jsx("div",{className:"h-32 flex items-end gap-1",children:[45,60,58,62,55,70,65,80,72,68,75,78].map((H,oe)=>e.jsx("div",{className:"flex-1 bg-orange-500/50 rounded-t",style:{height:`${H}%`}},oe))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Dashboards"}),e.jsx(Qi,{className:"h-3 w-3 text-muted-foreground"})]}),e.jsx("div",{className:"text-2xl font-bold",children:A.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total dashboards"})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Data Sources"}),e.jsx(gs,{className:"h-3 w-3 text-muted-foreground"})]}),e.jsx("div",{className:"text-2xl font-bold",children:N.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})]})})]}),e.jsxs(Ve,{defaultValue:"datasources",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-4",children:[e.jsxs(de,{value:"datasources",className:"gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Data Sources"]}),e.jsxs(de,{value:"dashboards",className:"gap-2",children:[e.jsx(Qi,{className:"h-4 w-4"}),"Dashboards"]}),e.jsxs(de,{value:"alerts",className:"gap-2",children:[e.jsx(Wi,{className:"h-4 w-4"}),"Alerts"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsxs(ue,{value:"datasources",className:"space-y-4 mt-4",children:[h&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create Data Source"}),e.jsx(ie,{children:"Configure connection to metrics/logs database"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Name"}),e.jsx(J,{placeholder:"Prometheus"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Type"}),e.jsxs(Pe,{defaultValue:"prometheus",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"prometheus",children:"Prometheus"}),e.jsx(ne,{value:"loki",children:"Loki"}),e.jsx(ne,{value:"influxdb",children:"InfluxDB"}),e.jsx(ne,{value:"elasticsearch",children:"Elasticsearch"}),e.jsx(ne,{value:"postgres",children:"PostgreSQL"}),e.jsx(ne,{value:"mysql",children:"MySQL"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"URL"}),e.jsx(J,{placeholder:"http://localhost:9090"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:W,children:"Create Data Source"}),e.jsx(V,{variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Data Sources"}),e.jsx(ie,{children:"Configure data sources for metrics and logs"})]}),e.jsxs(V,{size:"sm",onClick:()=>p(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Data Source"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:N.map((H,oe)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(gs,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:H.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[H.type,"  ",H.url,H.isDefault&&e.jsx($,{variant:"outline",className:"ml-2",children:"Default"})]})]})]}),e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>q(oe),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Name"}),e.jsx(J,{value:H.name,onChange:ee=>F(oe,"name",ee.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Type"}),e.jsxs(Pe,{value:H.type,onValueChange:ee=>F(oe,"type",ee),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"prometheus",children:"Prometheus"}),e.jsx(ne,{value:"loki",children:"Loki"}),e.jsx(ne,{value:"influxdb",children:"InfluxDB"}),e.jsx(ne,{value:"elasticsearch",children:"Elasticsearch"}),e.jsx(ne,{value:"postgres",children:"PostgreSQL"}),e.jsx(ne,{value:"mysql",children:"MySQL"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"URL"}),e.jsx(J,{value:H.url,onChange:ee=>F(oe,"url",ee.target.value),placeholder:"http://localhost:9090"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:H.isDefault||!1,onCheckedChange:ee=>F(oe,"isDefault",ee)}),e.jsx(b,{children:"Set as default"})]})]})]},oe))})})]})]}),e.jsxs(ue,{value:"dashboards",className:"space-y-4 mt-4",children:[d&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create Dashboard"}),e.jsx(ie,{children:"Configure dashboard settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Dashboard Name"}),e.jsx(J,{placeholder:"My Dashboard"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:me,children:"Create Dashboard"}),e.jsx(V,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Dashboards"}),e.jsx(ie,{children:"Manage and configure dashboards"})]}),e.jsxs(V,{size:"sm",onClick:()=>u(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Dashboard"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map((H,oe)=>e.jsxs(S,{className:"border-border hover:border-primary/50 transition-colors cursor-pointer",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qi,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(_,{className:"text-base",children:H.name})]}),A.length>1&&e.jsx(V,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>je(oe),children:e.jsx(Ee,{className:"h-3 w-3"})})]})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Panels:"}),e.jsx("span",{className:"font-semibold",children:Array.isArray(H.panels)?H.panels.length:0})]}),e.jsx("div",{className:"flex gap-1 flex-wrap",children:H.tags.map((ee,se)=>e.jsx($,{variant:"outline",className:"text-xs",children:ee},se))}),e.jsxs(V,{size:"sm",variant:"outline",className:"w-full mt-2",onClick:()=>r(l===H.id?null:H.id),children:[e.jsx(Tr,{className:"h-3 w-3 mr-2"}),l===H.id?"Hide Panels":"Edit Panels"]})]})}),l===H.id&&e.jsx(R,{className:"pt-0 border-t",children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{className:"text-sm font-semibold",children:"Panels"}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ce(H.id),children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),"Add Panel"]})]}),!Array.isArray(H.panels)||H.panels.length===0?e.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No panels. Click "Add Panel" to create one.'}):H.panels.map(ee=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:ee.type}),e.jsx(J,{value:ee.title,onChange:se=>U(H.id,ee.id,"title",se.target.value),className:"h-7 flex-1"})]}),e.jsx(V,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>K(H.id,ee.id),children:e.jsx(Ee,{className:"h-3 w-3"})})]})}),e.jsxs(R,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Type"}),e.jsxs(Pe,{value:ee.type,onValueChange:se=>U(H.id,ee.id,"type",se),children:[e.jsx(De,{className:"h-7",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"graph",children:"Graph"}),e.jsx(ne,{value:"table",children:"Table"}),e.jsx(ne,{value:"stat",children:"Stat"}),e.jsx(ne,{value:"gauge",children:"Gauge"}),e.jsx(ne,{value:"piechart",children:"Pie Chart"}),e.jsx(ne,{value:"bargraph",children:"Bar Graph"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Data Source"}),e.jsxs(Pe,{value:ee.datasource,onValueChange:se=>U(H.id,ee.id,"datasource",se),children:[e.jsx(De,{className:"h-7",children:e.jsx(Oe,{})}),e.jsx(_e,{children:N.map(se=>e.jsx(ne,{value:se.name,children:se.name},se.name))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{className:"text-xs",children:"Queries (PromQL/LogQL)"}),e.jsxs(V,{size:"sm",variant:"ghost",className:"h-6",onClick:()=>ae(H.id,ee.id),children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),"Add Query"]})]}),Array.isArray(ee.queries)&&ee.queries.length>0?ee.queries.map((se,X)=>e.jsxs("div",{className:"space-y-1 p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"secondary",className:"text-xs",children:se.refId||"A"}),e.jsx(J,{value:se.expr||"",onChange:le=>Z(H.id,ee.id,X,"expr",le.target.value),placeholder:"up or {job='api'} |= 'error'",className:"h-7 text-xs font-mono"})]}),e.jsx(J,{value:se.legendFormat||"",onChange:le=>Z(H.id,ee.id,X,"legendFormat",le.target.value),placeholder:"Legend format: {{instance}}",className:"h-6 text-xs"})]},X)):e.jsx("div",{className:"text-center py-2 text-xs text-muted-foreground",children:'No queries. Click "Add Query" to add one.'})]})]})]},ee.id))]})})]},oe))})})]})]}),e.jsxs(ue,{value:"alerts",className:"space-y-4 mt-4",children:[m&&e.jsxs(S,{className:"mb-4 border-primary",children:[e.jsxs(D,{children:[e.jsx(_,{children:"Create Alert Rule"}),e.jsx(ie,{children:"Configure alert conditions and notifications"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Alert Name"}),e.jsx(J,{placeholder:"High CPU Usage"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"PromQL Query"}),e.jsx(ss,{placeholder:"rate(process_cpu_seconds_total[5m]) > 0.8",className:"font-mono text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Condition"}),e.jsxs(Pe,{defaultValue:"gt",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"gt",children:"Greater Than"}),e.jsx(ne,{value:"lt",children:"Less Than"}),e.jsx(ne,{value:"eq",children:"Equal"}),e.jsx(ne,{value:"ne",children:"Not Equal"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Threshold"}),e.jsx(J,{type:"number",placeholder:"0.8"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:O,children:"Create Alert"}),e.jsx(V,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]}),e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Alert Rules"}),e.jsx(ie,{children:"Configure alert conditions and notifications"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:C,onCheckedChange:H=>Y({enableAlerting:H})}),e.jsxs(V,{size:"sm",onClick:()=>f(!0),variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Alert"]})]})]})}),e.jsx(R,{children:C?P.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ct,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:'No alert rules configured. Click "Create Alert" to add one.'})]}):e.jsx("div",{className:"space-y-3",children:P.map(H=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:H.name}),e.jsxs(ie,{className:"text-xs mt-1",children:["For: ",H.for,"  Channels: ",H.notificationChannels.join(", ")]})]}),e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>re(H.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"text-xs",children:"PromQL Query"}),e.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:H.condition.query})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Evaluator"}),e.jsx($,{variant:"outline",children:H.condition.evaluator.type})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Threshold"}),e.jsx($,{variant:"outline",children:H.condition.evaluator.params.join(", ")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Reducer"}),e.jsx($,{variant:"outline",children:H.condition.reducer.type})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"text-xs",children:"Summary"}),e.jsx("div",{className:"text-sm",children:H.annotations.summary}),H.annotations.description&&e.jsx("div",{className:"text-xs text-muted-foreground",children:H.annotations.description})]})]})]},H.id))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ct,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Alerting is disabled. Enable it to create alert rules."})]})})]})]}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Administration"}),e.jsx(ie,{children:"Grafana server configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"admin-user",children:"Admin Username"}),e.jsx(J,{id:"admin-user",value:k,onChange:H=>Y({adminUser:H.target.value}),placeholder:"admin"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"admin-password",children:"Admin Password"}),e.jsx(J,{id:"admin-password",type:"password",value:E,onChange:H=>Y({adminPassword:H.target.value}),placeholder:"admin"})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Theme"}),e.jsxs(Pe,{value:Q,onValueChange:H=>Y({theme:H}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"dark",children:"Dark"}),e.jsx(ne,{value:"light",children:"Light"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Authentication"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Require login to access Grafana"})]}),e.jsx(ge,{checked:T,onCheckedChange:H=>Y({enableAuth:H})})]}),T&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Auth Provider"}),e.jsxs(Pe,{value:z,onValueChange:H=>Y({authProvider:H}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"ldap",children:"LDAP"}),e.jsx(ne,{value:"oauth",children:"OAuth"}),e.jsx(ne,{value:"saml",children:"SAML"}),e.jsx(ne,{value:"jwt",children:"JWT"})]})]})]})]})]})})]})]})})}catch(g){return console.error("Error rendering GrafanaConfigAdvanced:",g),e.jsxs("div",{className:"p-4 text-destructive",children:[e.jsx("p",{children:"Error loading Grafana configuration"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:String(g)})]})}}function $_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(X=>X.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.scrapeInterval||"15s",u=i.evaluationInterval||"15s",m=i.retentionTime||"15d",f=i.storagePath||"/prometheus",h=i.enableRemoteWrite??!1,p=i.remoteWrite||[{url:"https://remote-metrics.example.com/api/v1/write"}],g=i.enableAlertmanager??!0,y=i.alertmanagerUrl||"http://alertmanager:9093",M=i.targets||[{job:"kubernetes-nodes",endpoint:"https://kube-nodes:9100",interval:"30s",status:"up"},{job:"istio-mesh",endpoint:"http://istio-telemetry:15014",interval:"15s",status:"up"},{job:"custom-app",endpoint:"http://app:8080/metrics",interval:"10s",status:"down"}],w=i.alertingRules||[{name:"HighCPUUsage",expr:"rate(process_cpu_seconds_total[5m]) > 0.8",for:"5m",labels:{severity:"warning"},annotations:{summary:"High CPU usage detected",description:"CPU usage is above 80%"},severity:"warning"},{name:"InstanceDown",expr:"up == 0",for:"1m",labels:{severity:"critical"},annotations:{summary:"Instance is down",description:"Target instance is not responding"},severity:"critical"}],k=i.recordingRules||[{name:"cpu:usage:rate5m",expr:"rate(process_cpu_seconds_total[5m])",labels:{job:"node-exporter"}}],E=i.serviceDiscovery||[{type:"kubernetes",config:{role:"pod",namespaces:{names:["default","production"]}}},{type:"consul",config:{server:"consul:8500",services:["web","api"]}}],[N,A]=j.useState(null),[P,I]=j.useState(null),[T,z]=j.useState(!1),[C,L]=j.useState(!1),[Q,Y]=j.useState(!1),W=X=>{r(a,{data:{...c.data,config:{...i,...X}}})},q=()=>{W({targets:[...M,{job:"new-job",endpoint:"http://service:port/metrics",interval:d,status:"up"}]})},F=X=>{W({targets:M.filter((le,G)=>G!==X)})},me=(X,le,G)=>{const xe=[...M];xe[X]={...xe[X],[le]:G},W({targets:xe})},je=()=>{W({remoteWrite:[...p,{url:"https://remote-storage.example.com/write"}]})},ce=X=>{W({remoteWrite:p.filter((le,G)=>G!==X)})},K=(X,le)=>{const G=[...p];G[X]=le,W({remoteWrite:G})},U=()=>{const X={name:"New Alert Rule",expr:"up == 0",for:"5m",labels:{},annotations:{},severity:"warning"};W({alertingRules:[...w,X]}),z(!1)},ae=X=>{W({alertingRules:w.filter((le,G)=>G!==X)})},Z=(X,le,G)=>{const xe=[...w];xe[X]={...xe[X],[le]:G},W({alertingRules:xe})},O=()=>{const X={name:"new:metric:name",expr:"rate(metric_name[5m])",labels:{}};W({recordingRules:[...k,X]}),L(!1)},re=X=>{W({recordingRules:k.filter((le,G)=>G!==X)})},H=(X,le,G)=>{const xe=[...k];xe[X]={...xe[X],[le]:G},W({recordingRules:xe})},oe=()=>{const X={type:"static",config:{}};W({serviceDiscovery:[...E,X]}),Y(!1)},ee=X=>{W({serviceDiscovery:E.filter((le,G)=>G!==X)})},se=(X,le,G)=>{const xe=[...E];xe[X]={...xe[X],[le]:G},W({serviceDiscovery:xe})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Ke,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Prometheus"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Metrics collection & rule evaluation"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:"v2.48.0"}),e.jsxs($,{variant:"secondary",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Healthy"]})]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"scraping",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-6",children:[e.jsxs(de,{value:"scraping",className:"gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Scraping"]}),e.jsxs(de,{value:"service-discovery",className:"gap-2",children:[e.jsx(Ra,{className:"h-4 w-4"}),"Service Discovery"]}),e.jsxs(de,{value:"alerting-rules",className:"gap-2",children:[e.jsx(ct,{className:"h-4 w-4"}),"Alerting Rules"]}),e.jsxs(de,{value:"recording-rules",className:"gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Recording Rules"]}),e.jsxs(de,{value:"storage",className:"gap-2",children:[e.jsx(n5,{className:"h-4 w-4"}),"Storage"]}),e.jsxs(de,{value:"remote",className:"gap-2",children:[e.jsx(kk,{className:"h-4 w-4"}),"Remote Write"]})]}),e.jsxs(ue,{value:"scraping",className:"mt-4 space-y-4",children:[e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Global Settings"}),e.jsx(ie,{children:"Intervals for scraping targets and evaluating rules"})]}),e.jsxs(R,{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Scrape Interval"}),e.jsx(J,{value:d,onChange:X=>W({scrapeInterval:X.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Evaluation Interval"}),e.jsx(J,{value:u,onChange:X=>W({evaluationInterval:X.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Retention Time"}),e.jsx(J,{value:m,onChange:X=>W({retentionTime:X.target.value})})]})]})]}),e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Scrape Targets"}),e.jsx(ie,{children:"Endpoints Prometheus scrapes for metrics"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:q,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Target"]})]}),e.jsx(R,{className:"space-y-3",children:M.map((X,le)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(J,{value:X.job,className:"font-semibold",onChange:G=>me(le,"job",G.target.value)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Job Name"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:X.status==="up"?"secondary":"destructive",children:X.status==="up"?"UP":"DOWN"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>F(le),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint"}),e.jsx(J,{value:X.endpoint,onChange:G=>me(le,"endpoint",G.target.value),placeholder:"http://service:port/metrics"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Scrape Interval"}),e.jsx(J,{value:X.interval,onChange:G=>me(le,"interval",G.target.value),placeholder:"15s"})]})]},`${X.job}-${le}`))})]})]}),e.jsx(ue,{value:"storage",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Local Storage"}),e.jsx(ie,{children:"TSDB configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Storage Path"}),e.jsx(J,{value:f,onChange:X=>W({storagePath:X.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Compaction Log"}),e.jsx(ss,{className:"font-mono text-xs",rows:4,value:`level=info ts=${Date.now()} caller=compact.go:516 msg="compact blocks" count=3 mint=0 maxt=3600000`,readOnly:!0})]})]})]})}),e.jsx(ue,{value:"remote",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Remote Write"}),e.jsx(ie,{children:"Ship metrics to long-term storage"})]}),e.jsx(ge,{checked:h,onCheckedChange:X=>W({enableRemoteWrite:X})})]}),h&&e.jsxs(R,{className:"space-y-4",children:[p.map((X,le)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg space-y-3 bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"font-semibold text-sm",children:["Endpoint #",le+1]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ce(le),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Remote URL"}),e.jsx(J,{value:X.url,onChange:G=>K(le,{...X,url:G.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Authorization Header"}),e.jsx(J,{placeholder:"Bearer ...",value:X.auth||"",onChange:G=>K(le,{...X,auth:G.target.value})})]})]},le)),e.jsxs(V,{variant:"outline",size:"sm",onClick:je,className:"gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"Add Endpoint"]})]})]})}),e.jsx(ue,{value:"service-discovery",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Service Discovery"}),e.jsx(ie,{children:"Configure automatic target discovery"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:oe,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Service Discovery"]})]}),e.jsx(R,{className:"space-y-3",children:E.map((X,le)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Pe,{value:X.type,onValueChange:G=>se(le,"type",G),children:[e.jsx(De,{className:"w-48",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"kubernetes",children:"Kubernetes"}),e.jsx(ne,{value:"consul",children:"Consul"}),e.jsx(ne,{value:"static",children:"Static"}),e.jsx(ne,{value:"file",children:"File"}),e.jsx(ne,{value:"dns",children:"DNS"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Discovery Type"})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ee(le),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Configuration (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:4,value:JSON.stringify(X.config,null,2),onChange:G=>{try{const xe=JSON.parse(G.target.value);se(le,"config",xe)}catch{}},placeholder:'{"role": "pod", "namespaces": {"names": ["default"]}}'})]})]},le))})]})}),e.jsxs(ue,{value:"alerting-rules",className:"mt-4 space-y-4",children:[e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Alerting Rules"}),e.jsx(ie,{children:"Define PromQL expressions that trigger alerts"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>z(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Alert Rule"]})]}),T&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Rule Name"}),e.jsx(J,{placeholder:"HighCPUUsage"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"PromQL Expression"}),e.jsx(ss,{className:"font-mono text-sm",rows:2,placeholder:"rate(process_cpu_seconds_total[5m]) > 0.8"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:U,children:"Create Rule"}),e.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:w.map((X,le)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:X.name}),e.jsx($,{variant:X.severity==="critical"?"destructive":X.severity==="warning"?"default":"secondary",children:X.severity||"info"})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ae(le),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"PromQL Expression"}),e.jsx(ss,{className:"font-mono text-xs",rows:2,value:X.expr,onChange:G=>Z(le,"expr",G.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"For Duration"}),e.jsx(J,{value:X.for||"",onChange:G=>Z(le,"for",G.target.value),placeholder:"5m"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Severity"}),e.jsxs(Pe,{value:X.severity||"warning",onValueChange:G=>Z(le,"severity",G),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"critical",children:"Critical"}),e.jsx(ne,{value:"warning",children:"Warning"}),e.jsx(ne,{value:"info",children:"Info"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Labels (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:2,value:JSON.stringify(X.labels||{},null,2),onChange:G=>{try{const xe=JSON.parse(G.target.value);Z(le,"labels",xe)}catch{}},placeholder:'{"severity": "warning"}'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Annotations (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:2,value:JSON.stringify(X.annotations||{},null,2),onChange:G=>{try{const xe=JSON.parse(G.target.value);Z(le,"annotations",xe)}catch{}},placeholder:'{"summary": "Alert summary", "description": "Alert description"}'})]})]},le))})]}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Alertmanager Integration"}),e.jsx(ie,{children:"Configure alert notifications pipeline"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Alertmanager"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Forward firing alerts to Alertmanager"})]}),e.jsx(ge,{checked:g,onCheckedChange:X=>W({enableAlertmanager:X})})]}),g&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Alertmanager URL"}),e.jsx(J,{value:y,onChange:X=>W({alertmanagerUrl:X.target.value})})]})]})]})]}),e.jsx(ue,{value:"recording-rules",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Recording Rules"}),e.jsx(ie,{children:"Pre-compute frequently used or expensive queries"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>L(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Recording Rule"]})]}),C&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Rule Name"}),e.jsx(J,{placeholder:"cpu:usage:rate5m"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"PromQL Expression"}),e.jsx(ss,{className:"font-mono text-sm",rows:2,placeholder:"rate(process_cpu_seconds_total[5m])"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:O,children:"Create Rule"}),e.jsx(V,{variant:"outline",onClick:()=>L(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:k.map((X,le)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold font-mono",children:X.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>re(le),children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"PromQL Expression"}),e.jsx(ss,{className:"font-mono text-xs",rows:2,value:X.expr,onChange:G=>H(le,"expr",G.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Labels (JSON)"}),e.jsx(ss,{className:"font-mono text-xs",rows:2,value:JSON.stringify(X.labels||{},null,2),onChange:G=>{try{const xe=JSON.parse(G.target.value);H(le,"labels",xe)}catch{}},placeholder:'{"job": "node-exporter"}'})]})]},le))})]})})]})]})})}function q_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(g=>g.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.serverUrl||"http://loki:3100",u=i.streams||[{name:"app-logs",labels:{app:"web",env:"prod"},entries:125e4,size:2.5,lastEntry:"2s ago"},{name:"error-logs",labels:{level:"error",app:"api"},entries:45e3,size:.8,lastEntry:"5s ago"},{name:"access-logs",labels:{type:"access",app:"nginx"},entries:89e4,size:1.8,lastEntry:"1s ago"}],m=i.queries||[{id:"1",query:'{app="web"} |= "error"',duration:125,results:1250},{id:"2",query:'rate({level="error"}[5m])',duration:89,results:45}];i.totalEntries||u.reduce((g,y)=>g+y.entries,0),i.totalSize||u.reduce((g,y)=>g+y.size,0),i.ingestionRate,i.queryLatency;const f=g=>{r(a,{data:{...c.data,config:{...i,...g}}})},h=()=>{f({streams:[...u,{name:"new-stream",labels:{app:"new"},entries:0,size:0}]})},p=g=>{f({streams:u.filter((y,M)=>M!==g)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:e.jsx(Ds,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Loki"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Log Aggregation System"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Query"]})]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"streams",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsxs(de,{value:"streams",className:"gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),"Log Streams"]}),e.jsxs(de,{value:"queries",className:"gap-2",children:[e.jsx(Ra,{className:"h-4 w-4"}),"Queries"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"streams",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Log Streams"}),e.jsx(ie,{children:"Log stream configuration and labels"})]}),e.jsxs(V,{size:"sm",onClick:h,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Stream"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:u.map((g,y)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Ds,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:g.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[g.entries.toLocaleString()," entries  ",g.size," GB",g.lastEntry&&`  Last: ${g.lastEntry}`]}),e.jsx("div",{className:"flex gap-1 mt-1",children:Object.entries(g.labels).map(([M,w])=>e.jsxs($,{variant:"outline",className:"text-xs",children:[M,"=",w]},M))})]})]}),u.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>p(y),children:e.jsx(Ee,{className:"h-4 w-4"})})]})})},y))})})]})}),e.jsx(ue,{value:"queries",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"LogQL Queries"}),e.jsx(ie,{children:"Query log streams with LogQL"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:m.map(g=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(_,{className:"text-sm font-mono",children:g.query}),e.jsxs(ie,{className:"text-xs mt-1",children:[g.results," results  ",g.duration,"ms"]})]})})})},g.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Loki Server"}),e.jsx(ie,{children:"Server configuration"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"server-url",children:"Server URL"}),e.jsx(J,{id:"server-url",value:d,onChange:g=>f({serverUrl:g.target.value}),placeholder:"http://loki:3100"})]})})]})})]})]})})}function F_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(h=>h.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.serverUrl||"http://jaeger:16686",u=i.traces||[{id:"abc123",service:"web-api",operation:"GET /users",duration:125,spans:8,status:"success",timestamp:"2m ago"},{id:"def456",service:"auth-service",operation:"POST /login",duration:89,spans:5,status:"success",timestamp:"5m ago"},{id:"ghi789",service:"payment-service",operation:"POST /charge",duration:450,spans:12,status:"error",timestamp:"10m ago"}],m=i.services||[{name:"web-api",traces:1250,errors:45,avgDuration:125},{name:"auth-service",traces:890,errors:12,avgDuration:89},{name:"payment-service",traces:450,errors:23,avgDuration:234}];i.totalTraces||u.length,i.errorRate,i.avgTraceDuration;const f=h=>{r(a,{data:{...c.data,config:{...i,...h}}})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(Mr,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Jaeger"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Distributed Tracing System"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"UI"]})]})]}),e.jsx(ye,{}),e.jsxs(Ve,{defaultValue:"traces",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsxs(de,{value:"traces",className:"gap-2",children:[e.jsx(Mr,{className:"h-4 w-4"}),"Traces"]}),e.jsxs(de,{value:"services",className:"gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Services"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"traces",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Recent Traces"}),e.jsx(ie,{children:"Distributed trace information"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:u.map(h=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Mr,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:h.operation}),e.jsxs(ie,{className:"text-xs mt-1",children:["Service: ",h.service,"  ",h.spans," spans  ",h.duration,"ms  ",h.timestamp]})]})]}),e.jsx($,{variant:h.status==="success"?"default":"destructive",children:h.status})]})})},h.id))})})]})}),e.jsx(ue,{value:"services",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Service trace statistics"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:m.map(h=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:h.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[h.traces," traces  ",h.errors," errors  Avg: ",h.avgDuration,"ms"]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),e.jsxs("span",{className:"font-semibold",children:[(h.errors/h.traces*100).toFixed(1),"%"]})]}),e.jsx(ws,{value:h.errors/h.traces*100,className:"h-2"})]})})]},h.name))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Jaeger Server"}),e.jsx(ie,{children:"Server configuration"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"server-url",children:"Server URL"}),e.jsx(J,{id:"server-url",value:d,onChange:h=>f({serverUrl:h.target.value}),placeholder:"http://jaeger:16686"})]})})]})})]})]})})}function G_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(ae=>ae.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.receivers||[{id:"1",type:"otlp",enabled:!0,endpoint:"0.0.0.0:4317"},{id:"2",type:"prometheus",enabled:!0,endpoint:"0.0.0.0:8888"}],u=i.processors||[{id:"1",type:"batch",enabled:!0,config:{timeout:"1s",send_batch_size:8192}},{id:"2",type:"memory_limiter",enabled:!0,config:{limit_mib:512}}],m=i.exporters||[{id:"1",type:"otlp",enabled:!0,endpoint:"http://backend:4317"},{id:"2",type:"prometheus",enabled:!0,endpoint:"http://prometheus:9090"}],f=i.pipelines||[{id:"1",name:"traces-pipeline",type:"traces",receivers:["1"],processors:["1","2"],exporters:["1"]},{id:"2",name:"metrics-pipeline",type:"metrics",receivers:["2"],processors:["1"],exporters:["2"]}],h=i.metricsReceived||0,p=i.tracesReceived||0,g=i.logsReceived||0,y=i.metricsExported||0,M=i.tracesExported||0,w=i.logsExported||0,[k,E]=j.useState(null),[N,A]=j.useState(null),[P,I]=j.useState(null),[T,z]=j.useState(!1),C=ae=>{r(a,{data:{...c.data,config:{...i,...ae}}})},L=()=>{const ae={id:`rec-${Date.now()}`,type:"otlp",enabled:!0,endpoint:"0.0.0.0:4317"};C({receivers:[...d,ae]})},Q=ae=>{C({receivers:d.filter(Z=>Z.id!==ae)})},Y=(ae,Z,O)=>{const re=d.map(H=>H.id===ae?{...H,[Z]:O}:H);C({receivers:re})},W=()=>{const ae={id:`proc-${Date.now()}`,type:"batch",enabled:!0,config:{}};C({processors:[...u,ae]})},q=ae=>{C({processors:u.filter(Z=>Z.id!==ae)})},F=(ae,Z,O)=>{const re=u.map(H=>H.id===ae?{...H,[Z]:O}:H);C({processors:re})},me=()=>{const ae={id:`exp-${Date.now()}`,type:"otlp",enabled:!0,endpoint:"http://backend:4317"};C({exporters:[...m,ae]})},je=ae=>{C({exporters:m.filter(Z=>Z.id!==ae)})},ce=(ae,Z,O)=>{const re=m.map(H=>H.id===ae?{...H,[Z]:O}:H);C({exporters:re})},K=()=>{const ae={id:`pipe-${Date.now()}`,name:"new-pipeline",type:"traces",receivers:[],processors:[],exporters:[]};C({pipelines:[...f,ae]}),z(!1)},U=ae=>{C({pipelines:f.filter(Z=>Z.id!==ae)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"OpenTelemetry Collector"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Telemetry Pipeline"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure receivers, processors, exporters and pipelines"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Metrics Received"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:h.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Traces Received"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:p.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Logs Received"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:g.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Metrics Exported"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:y.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Traces Exported"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:M.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Logs Exported"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:w.toLocaleString()})})]})]}),e.jsxs(Ve,{defaultValue:"pipelines",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"pipelines",children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Pipelines (",f.length,")"]}),e.jsxs(de,{value:"receivers",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Receivers (",d.length,")"]}),e.jsxs(de,{value:"processors",children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),"Processors (",u.length,")"]}),e.jsxs(de,{value:"exporters",children:[e.jsx(Er,{className:"h-4 w-4 mr-2"}),"Exporters (",m.length,")"]}),e.jsxs(de,{value:"monitoring",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Monitoring"]})]}),e.jsx(ue,{value:"pipelines",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Pipelines"}),e.jsx(ie,{children:"Configure telemetry data pipelines"})]}),e.jsxs(V,{onClick:K,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Pipeline"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:f.map(ae=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:ae.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:"outline",children:ae.type}),e.jsxs($,{variant:"outline",children:[ae.receivers.length," receivers"]}),e.jsxs($,{variant:"outline",children:[ae.processors.length," processors"]}),e.jsxs($,{variant:"outline",children:[ae.exporters.length," exporters"]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>U(ae.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Pipeline Type"}),e.jsxs(Pe,{value:ae.type,onValueChange:Z=>{const O=f.map(re=>re.id===ae.id?{...re,type:Z}:re);C({pipelines:O})},children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"traces",children:"Traces"}),e.jsx(ne,{value:"metrics",children:"Metrics"}),e.jsx(ne,{value:"logs",children:"Logs"})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Receivers"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.filter(Z=>ae.receivers.includes(Z.id)).map(Z=>e.jsx($,{variant:"outline",children:Z.type},Z.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Processors"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.filter(Z=>ae.processors.includes(Z.id)).map(Z=>e.jsx($,{variant:"outline",children:Z.type},Z.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Exporters"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.filter(Z=>ae.exporters.includes(Z.id)).map(Z=>e.jsx($,{variant:"outline",children:Z.type},Z.id))})]})]})]},ae.id))})})]})}),e.jsx(ue,{value:"receivers",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Receivers"}),e.jsx(ie,{children:"Configure data collection receivers"})]}),e.jsxs(V,{onClick:L,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Receiver"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:d.map(ae=>e.jsx(S,{className:"border-l-4 border-l-green-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:ae.type}),ae.enabled?e.jsx($,{variant:"default",children:"Enabled"}):e.jsx($,{variant:"outline",children:"Disabled"}),ae.endpoint&&e.jsx($,{variant:"outline",children:ae.endpoint})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:ae.enabled,onCheckedChange:Z=>Y(ae.id,"enabled",Z)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(ae.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},ae.id))})})]})}),e.jsx(ue,{value:"processors",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Processors"}),e.jsx(ie,{children:"Configure data transformation processors"})]}),e.jsxs(V,{onClick:W,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Processor"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:u.map(ae=>e.jsx(S,{className:"border-l-4 border-l-purple-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:ae.type}),ae.enabled?e.jsx($,{variant:"default",children:"Enabled"}):e.jsx($,{variant:"outline",children:"Disabled"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:ae.enabled,onCheckedChange:Z=>F(ae.id,"enabled",Z)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>q(ae.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},ae.id))})})]})}),e.jsx(ue,{value:"exporters",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Exporters"}),e.jsx(ie,{children:"Configure data export destinations"})]}),e.jsxs(V,{onClick:me,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Exporter"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:m.map(ae=>e.jsx(S,{className:"border-l-4 border-l-orange-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:ae.type}),ae.enabled?e.jsx($,{variant:"default",children:"Enabled"}):e.jsx($,{variant:"outline",children:"Disabled"}),ae.endpoint&&e.jsx($,{variant:"outline",children:ae.endpoint})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:ae.enabled,onCheckedChange:Z=>ce(ae.id,"enabled",Z)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>je(ae.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},ae.id))})})]})}),e.jsx(ue,{value:"monitoring",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Pipeline Monitoring"}),e.jsx(ie,{children:"Monitor telemetry data flow"})]}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Metrics Received"}),e.jsx("p",{className:"text-2xl font-bold",children:h.toLocaleString()}),e.jsx(ws,{value:Math.min(h/1e6*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Traces Received"}),e.jsx("p",{className:"text-2xl font-bold",children:p.toLocaleString()}),e.jsx(ws,{value:Math.min(p/1e5*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Logs Received"}),e.jsx("p",{className:"text-2xl font-bold",children:g.toLocaleString()}),e.jsx(ws,{value:Math.min(g/1e6*100,100),className:"h-2 mt-2"})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Metrics Exported"}),e.jsx("p",{className:"text-2xl font-bold",children:y.toLocaleString()}),e.jsx(ws,{value:Math.min(y/1e6*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Traces Exported"}),e.jsx("p",{className:"text-2xl font-bold",children:M.toLocaleString()}),e.jsx(ws,{value:Math.min(M/1e5*100,100),className:"h-2 mt-2"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Logs Exported"}),e.jsx("p",{className:"text-2xl font-bold",children:w.toLocaleString()}),e.jsx(ws,{value:Math.min(w/1e6*100,100),className:"h-2 mt-2"})]})]})]})})]})})]})]})})}function Q_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(Y=>Y.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.services||[{id:"1",name:"archiphoenix-service",integrationKey:"integration-key-123",status:"active",escalationPolicy:"default-policy",autoResolve:!0,resolveTimeout:300,incidentCount:0}],u=i.incidents||[{id:"1",title:"High CPU usage detected",service:"archiphoenix-service",status:"triggered",severity:"critical",createdAt:new Date().toISOString()}],m=i.escalationPolicies||[{id:"1",name:"default-policy",levels:[{level:1,timeout:5,targets:["user1"]},{level:2,timeout:15,targets:["user2"]}]}],f=i.onCallUsers||[{id:"1",name:"John Doe",email:"john@example.com",status:"on-call"},{id:"2",name:"Jane Smith",email:"jane@example.com",status:"off-call"}],h=i.totalIncidents||u.length,p=i.activeIncidents||u.filter(Y=>Y.status!=="resolved").length,g=i.resolvedIncidents||u.filter(Y=>Y.status==="resolved").length,[y,M]=j.useState(null),[w,k]=j.useState(!1),[E,N]=j.useState(!1),A=Y=>{r(a,{data:{...c.data,config:{...i,...Y}}})},P=()=>{const Y={id:`service-${Date.now()}`,name:"new-service",integrationKey:"",status:"active",autoResolve:!0,resolveTimeout:300,incidentCount:0};A({services:[...d,Y]}),k(!1)},I=Y=>{A({services:d.filter(W=>W.id!==Y)})},T=(Y,W,q)=>{const F=d.map(me=>me.id===Y?{...me,[W]:q}:me);A({services:F})},z=Y=>{const W=u.map(q=>q.id===Y?{...q,status:"acknowledged",acknowledgedAt:new Date().toISOString()}:q);A({incidents:W})},C=Y=>{const W=u.map(q=>q.id===Y?{...q,status:"resolved",resolvedAt:new Date().toISOString()}:q);A({incidents:W})},L=()=>{const Y={id:`policy-${Date.now()}`,name:"new-policy",levels:[{level:1,timeout:5,targets:[]}]};A({escalationPolicies:[...m,Y]}),N(!1)},Q=Y=>{A({escalationPolicies:m.filter(W=>W.id!==Y)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"PagerDuty"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Incident Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage incidents, services, escalation policies and on-call schedules"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Incidents"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:h})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Active"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold text-red-500",children:p})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Resolved"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold text-green-500",children:g})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Services"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:d.length})})]})]}),e.jsxs(Ve,{defaultValue:"incidents",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"incidents",children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"Incidents (",p,")"]}),e.jsxs(de,{value:"services",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Services (",d.length,")"]}),e.jsxs(de,{value:"policies",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Escalation Policies (",m.length,")"]}),e.jsxs(de,{value:"oncall",children:[e.jsx(lk,{className:"h-4 w-4 mr-2"}),"On-Call"]})]}),e.jsx(ue,{value:"incidents",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Incidents"}),e.jsx(ie,{children:"Manage and respond to incidents"})]}),e.jsx(R,{children:u.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No incidents"}):e.jsx("div",{className:"space-y-2",children:u.map(Y=>e.jsx(S,{className:`border-l-4 ${Y.severity==="critical"?"border-l-red-500":Y.severity==="error"?"border-l-orange-500":Y.severity==="warning"?"border-l-yellow-500":"border-l-blue-500"}`,children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:Y.status==="resolved"?"default":Y.status==="acknowledged"?"secondary":"destructive",children:Y.status}),e.jsx($,{variant:Y.severity==="critical"?"destructive":Y.severity==="error"?"default":"outline",children:Y.severity}),e.jsx("span",{className:"font-medium",children:Y.title})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Service: ",Y.service]}),e.jsxs("p",{children:["Created: ",new Date(Y.createdAt).toLocaleString()]}),Y.assignedTo&&e.jsxs("p",{children:["Assigned to: ",Y.assignedTo]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[Y.status==="triggered"&&e.jsx(V,{size:"sm",variant:"outline",onClick:()=>z(Y.id),children:"Acknowledge"}),Y.status!=="resolved"&&e.jsx(V,{size:"sm",variant:"default",onClick:()=>C(Y.id),children:"Resolve"})]})]})})},Y.id))})})]})}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Configure monitored services"})]}),e.jsxs(V,{onClick:P,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Service"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(Y=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:Y.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:Y.status==="active"?"default":Y.status==="maintenance"?"secondary":"outline",children:Y.status}),e.jsxs($,{variant:"outline",children:[Y.incidentCount||0," incidents"]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>I(Y.id),disabled:d.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Service Name"}),e.jsx(J,{value:Y.name,onChange:W=>T(Y.id,"name",W.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Integration Key"}),e.jsx(J,{value:Y.integrationKey,onChange:W=>T(Y.id,"integrationKey",W.target.value),placeholder:"integration-key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Status"}),e.jsxs(Pe,{value:Y.status,onValueChange:W=>T(Y.id,"status",W),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"active",children:"Active"}),e.jsx(ne,{value:"maintenance",children:"Maintenance"}),e.jsx(ne,{value:"disabled",children:"Disabled"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Escalation Policy"}),e.jsxs(Pe,{value:Y.escalationPolicy||"",onValueChange:W=>T(Y.id,"escalationPolicy",W),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:m.map(W=>e.jsx(ne,{value:W.name,children:W.name},W.id))})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Auto Resolve"}),e.jsx(ge,{checked:Y.autoResolve??!0,onCheckedChange:W=>T(Y.id,"autoResolve",W)})]}),Y.autoResolve&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Resolve Timeout (seconds)"}),e.jsx(J,{type:"number",value:Y.resolveTimeout||300,onChange:W=>T(Y.id,"resolveTimeout",Number(W.target.value)),min:60})]})]})})]},Y.id))})})]})}),e.jsx(ue,{value:"policies",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Escalation Policies"}),e.jsx(ie,{children:"Configure incident escalation rules"})]}),e.jsxs(V,{onClick:L,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map(Y=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-base",children:Y.name}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(Y.id),disabled:m.length===1,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:Y.levels.map((W,q)=>e.jsx(S,{className:"p-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Level ",W.level]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Timeout: ",W.timeout," min  Targets: ",W.targets.length]})]})})},q))})})]},Y.id))})})]})}),e.jsx(ue,{value:"oncall",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"On-Call Schedule"}),e.jsx(ie,{children:"Manage on-call users and schedules"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:f.map(Y=>e.jsx(S,{className:"border-l-4 border-l-purple-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:Y.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Y.email})]}),e.jsx($,{variant:Y.status==="on-call"?"default":"outline",children:Y.status==="on-call"?"On-Call":"Off-Call"})]})})},Y.id))})})]})})]})]})})}function K_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(C=>C.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.realm||"archiphoenix",u=i.adminUrl||"http://keycloak:8080",m=i.enableSSL??!1,f=i.sslRequired||"external",h=i.accessTokenLifespan||300,p=i.ssoSessionIdle||1800,g=i.ssoSessionMax||36e3,y=i.enableOAuth2??!0,M=i.enableSAML??!1,w=i.enableLDAP??!1,k=i.passwordPolicy||"length(8)",E=i.clients||[{id:"archiphoenix-app",name:"ArchiPhoenix App",type:"public",enabled:!0,protocol:"openid-connect"},{id:"admin-cli",name:"Admin CLI",type:"public",enabled:!0,protocol:"openid-connect"}],N=i.users||[{id:"1",username:"admin",email:"admin@archiphoenix.com",enabled:!0,roles:["admin","user"]},{id:"2",username:"user1",email:"user1@archiphoenix.com",enabled:!0,roles:["user"]}],A=C=>{r(a,{data:{...c.data,config:{...i,...C}}})},P=()=>{A({clients:[...E,{id:"new-client",name:"New Client",type:"public",enabled:!0,protocol:"openid-connect"}]})},I=C=>{A({clients:E.filter((L,Q)=>Q!==C)})},T=()=>{A({users:[...N,{id:String(N.length+1),username:"newuser",email:"newuser@example.com",enabled:!0,roles:["user"]}]})},z=C=>{A({users:N.filter((L,Q)=>Q!==C)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(Rs,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Keycloak"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Identity and Access Management"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Active"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Admin Console"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Realm"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Current realm"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Clients"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:E.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Registered clients"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Users"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total users"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Sessions"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N.filter(C=>C.enabled).length*2}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active sessions"})]})]})]}),e.jsxs(Ve,{defaultValue:"realm",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-5",children:[e.jsxs(de,{value:"realm",className:"gap-2",children:[e.jsx(et,{className:"h-4 w-4"}),"Realm"]}),e.jsxs(de,{value:"clients",className:"gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Clients"]}),e.jsxs(de,{value:"users",className:"gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Users"]}),e.jsxs(de,{value:"sessions",className:"gap-2",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Sessions"]}),e.jsxs(de,{value:"security",className:"gap-2",children:[e.jsx(I0,{className:"h-4 w-4"}),"Security"]})]}),e.jsx(ue,{value:"realm",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Realm Configuration"}),e.jsx(ie,{children:"Keycloak realm and admin settings"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"realm",children:"Realm Name"}),e.jsx(J,{id:"realm",value:d,onChange:C=>A({realm:C.target.value}),placeholder:"my-realm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"admin-url",children:"Admin URL"}),e.jsx(J,{id:"admin-url",value:u,onChange:C=>A({adminUrl:C.target.value}),placeholder:"http://keycloak:8080"})]})]})})]})}),e.jsx(ue,{value:"clients",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Clients"}),e.jsx(ie,{children:"OAuth2 and OpenID Connect clients"})]}),e.jsxs(V,{size:"sm",onClick:P,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Client"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:E.map((C,L)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Ct,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:C.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[C.id,"  ",C.type,"  ",C.protocol]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C.enabled?e.jsxs($,{variant:"default",className:"gap-1",children:[e.jsx(Ha,{className:"h-3 w-3"}),"Enabled"]}):e.jsxs($,{variant:"secondary",className:"gap-1",children:[e.jsx(us,{className:"h-3 w-3"}),"Disabled"]}),E.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>I(L),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},L))})})]})}),e.jsx(ue,{value:"users",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Users"}),e.jsx(ie,{children:"User accounts and roles"})]}),e.jsxs(V,{size:"sm",onClick:T,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:N.map((C,L)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border rounded-lg bg-card",children:[e.jsx("div",{className:"p-2 rounded-full bg-secondary",children:e.jsx(Ks,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold",children:C.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:C.email}),e.jsx("div",{className:"flex gap-1 mt-1",children:C.roles.map((Q,Y)=>e.jsx($,{variant:"outline",className:"text-xs",children:Q},Y))})]}),C.enabled?e.jsxs($,{variant:"default",className:"gap-1",children:[e.jsx(Ha,{className:"h-3 w-3"}),"Active"]}):e.jsxs($,{variant:"secondary",className:"gap-1",children:[e.jsx(us,{className:"h-3 w-3"}),"Disabled"]}),N.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>z(L),children:e.jsx(Ee,{className:"h-4 w-4"})})]},L))})})]})}),e.jsx(ue,{value:"sessions",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Session Management"}),e.jsx(ie,{children:"Configure SSO session timeouts and token lifespans"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"access-token-lifespan",children:"Access Token Lifespan"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{id:"access-token-lifespan",type:"number",min:"60",max:"3600",value:h,onChange:C=>A({accessTokenLifespan:parseInt(C.target.value)||300})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"sec"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"sso-session-idle",children:"SSO Session Idle"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{id:"sso-session-idle",type:"number",min:"60",max:"7200",value:p,onChange:C=>A({ssoSessionIdle:parseInt(C.target.value)||1800})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"sec"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"sso-session-max",children:"SSO Session Max"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{id:"sso-session-max",type:"number",min:"300",max:"86400",value:g,onChange:C=>A({ssoSessionMax:parseInt(C.target.value)||36e3})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"sec"})]})]})]})})]})}),e.jsx(ue,{value:"security",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Security Settings"}),e.jsx(ie,{children:"SSL/TLS, protocols, and password policies"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable SSL"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Encrypt connections with TLS"})]}),e.jsx(ge,{checked:m,onCheckedChange:C=>A({enableSSL:C})})]}),m&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SSL Required"}),e.jsxs(Pe,{value:f,onValueChange:C=>A({sslRequired:C}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"external",children:"External"}),e.jsx(ne,{value:"all",children:"All"}),e.jsx(ne,{value:"none",children:"None"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{children:"Protocols"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(b,{children:"OAuth2"})]}),e.jsx(ge,{checked:y,onCheckedChange:C=>A({enableOAuth2:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(b,{children:"SAML"})]}),e.jsx(ge,{checked:M,onCheckedChange:C=>A({enableSAML:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(b,{children:"LDAP"})]}),e.jsx(ge,{checked:w,onCheckedChange:C=>A({enableLDAP:C})})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password-policy",children:"Password Policy"}),e.jsx(J,{id:"password-policy",value:k,onChange:C=>A({passwordPolicy:C.target.value}),placeholder:"length(8) and digits(1)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Keycloak password policy expression"})]})]})]})})]})]})})}function Y_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(K=>K.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.mode||"detection",u=i.enableOWASP??!0,m=i.owaspRuleset||"3.3",f=i.enableRateLimiting??!0,h=i.rateLimitPerMinute||100,p=i.enableGeoBlocking??!1,g=i.blockedCountries||[],y=i.enableIPWhitelist??!1,M=i.whitelistedIPs||[],w=i.enableDDoSProtection??!0,k=i.ddosThreshold||1e3,E=i.rules||[{id:"1",name:"Block SQL Injection",description:"Detect and block SQL injection attempts",enabled:!0,action:"block",priority:1,conditions:[{type:"body",operator:"contains",value:"'; DROP TABLE"}]},{id:"2",name:"Block XSS",description:"Detect and block cross-site scripting",enabled:!0,action:"block",priority:2,conditions:[{type:"body",operator:"contains",value:"<script>"}]}],N=i.threats||[{id:"1",type:"sql-injection",sourceIP:"192.168.1.100",target:"/api/users",timestamp:new Date().toISOString(),severity:"critical",blocked:!0}],A=i.requestsBlocked||0,P=i.requestsAllowed||0,I=i.threatsDetected||N.length,[T,z]=j.useState(null),[C,L]=j.useState(!1),Q=K=>{r(a,{data:{...c.data,config:{...i,...K}}})},Y=()=>{const K={id:`rule-${Date.now()}`,name:"New Rule",description:"",enabled:!0,action:"block",priority:E.length+1,conditions:[]};Q({rules:[...E,K]}),L(!1)},W=K=>{Q({rules:E.filter(U=>U.id!==K)})},q=(K,U,ae)=>{const Z=E.map(O=>O.id===K?{...O,[U]:ae}:O);Q({rules:Z})},F=K=>{g.includes(K)||Q({blockedCountries:[...g,K]})},me=K=>{Q({blockedCountries:g.filter(U=>U!==K)})},je=K=>{M.includes(K)||Q({whitelistedIPs:[...M,K]})},ce=K=>{Q({whitelistedIPs:M.filter(U=>U!==K)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Web Application Firewall"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"WAF Configuration"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Protect applications from web exploits and attacks"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Requests Blocked"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold text-red-500",children:A.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Requests Allowed"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold text-green-500",children:P.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Threats Detected"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold text-orange-500",children:I.toLocaleString()})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Active Rules"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:E.filter(K=>K.enabled).length})})]})]}),e.jsxs(Ve,{defaultValue:"rules",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"rules",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Rules (",E.length,")"]}),e.jsxs(de,{value:"threats",children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"Threats (",N.length,")"]}),e.jsxs(de,{value:"owasp",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"OWASP Rules"]}),e.jsxs(de,{value:"rate-limiting",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Rate Limiting"]}),e.jsxs(de,{value:"geo-blocking",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Geo-Blocking"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"rules",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Custom Rules"}),e.jsx(ie,{children:"Configure custom WAF rules"})]}),e.jsxs(V,{onClick:Y,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Rule"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:E.map(K=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:K.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:K.enabled?"default":"outline",children:K.enabled?"Enabled":"Disabled"}),e.jsx($,{variant:"outline",children:K.action}),e.jsxs($,{variant:"outline",children:["Priority: ",K.priority]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:K.enabled,onCheckedChange:U=>q(K.id,"enabled",U)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>W(K.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Rule Name"}),e.jsx(J,{value:K.name,onChange:U=>q(K.id,"name",U.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Action"}),e.jsxs(Pe,{value:K.action,onValueChange:U=>q(K.id,"action",U),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"block",children:"Block"}),e.jsx(ne,{value:"allow",children:"Allow"}),e.jsx(ne,{value:"log",children:"Log"}),e.jsx(ne,{value:"challenge",children:"Challenge"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Priority"}),e.jsx(J,{type:"number",value:K.priority,onChange:U=>q(K.id,"priority",Number(U.target.value)),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Description"}),e.jsx(J,{value:K.description,onChange:U=>q(K.id,"description",U.target.value),placeholder:"Rule description"})]})]})})]},K.id))})})]})}),e.jsx(ue,{value:"threats",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Detected Threats"}),e.jsx(ie,{children:"Recent security threats and attacks"})]}),e.jsx(R,{children:N.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No threats detected"}):e.jsx("div",{className:"space-y-2",children:N.map(K=>e.jsx(S,{className:`border-l-4 ${K.severity==="critical"?"border-l-red-500":K.severity==="high"?"border-l-orange-500":K.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"}`,children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:K.severity==="critical"?"destructive":K.severity==="high"?"default":"outline",children:K.severity}),e.jsx($,{variant:"outline",children:K.type}),K.blocked?e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(os,{className:"h-3 w-3 mr-1"}),"Blocked"]}):e.jsxs($,{variant:"outline",children:[e.jsx(us,{className:"h-3 w-3 mr-1"}),"Not Blocked"]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Source IP: ",K.sourceIP]}),e.jsxs("p",{children:["Target: ",K.target]}),e.jsxs("p",{children:["Time: ",new Date(K.timestamp).toLocaleString()]})]})]})})})},K.id))})})]})}),e.jsx(ue,{value:"owasp",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"OWASP ModSecurity Rules"}),e.jsx(ie,{children:"Core Rule Set configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable OWASP Rules"}),e.jsx(ge,{checked:u,onCheckedChange:K=>Q({enableOWASP:K})})]}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"OWASP Rule Set Version"}),e.jsxs(Pe,{value:m,onValueChange:K=>Q({owaspRuleset:K}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"3.3",children:"3.3 (Latest)"}),e.jsx(ne,{value:"3.2",children:"3.2"}),e.jsx(ne,{value:"3.1",children:"3.1"})]})]})]})]})]})}),e.jsx(ue,{value:"rate-limiting",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Rate Limiting"}),e.jsx(ie,{children:"Configure request rate limits"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Rate Limiting"}),e.jsx(ge,{checked:f,onCheckedChange:K=>Q({enableRateLimiting:K})})]}),f&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Rate Limit (requests per minute)"}),e.jsx(J,{type:"number",value:h,onChange:K=>Q({rateLimitPerMinute:Number(K.target.value)}),min:1,max:1e4})]})]})]})}),e.jsx(ue,{value:"geo-blocking",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Geo-Blocking"}),e.jsx(ie,{children:"Block requests from specific countries"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Geo-Blocking"}),e.jsx(ge,{checked:p,onCheckedChange:K=>Q({enableGeoBlocking:K})})]}),p&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Blocked Countries (ISO codes)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(K=>e.jsxs($,{variant:"outline",className:"gap-1",children:[K,e.jsx("button",{onClick:()=>me(K),className:"ml-1 hover:text-destructive",children:e.jsx(us,{className:"h-3 w-3"})})]},K))}),e.jsx(J,{placeholder:"Enter ISO country code (e.g., CN, RU)",onKeyDown:K=>{if(K.key==="Enter"){const U=K.currentTarget.value.trim().toUpperCase();U&&(F(U),K.currentTarget.value="")}}})]})]})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"WAF Settings"}),e.jsx(ie,{children:"General WAF configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Operation Mode"}),e.jsxs(Pe,{value:d,onValueChange:K=>Q({mode:K}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"prevention",children:"Prevention (Block threats)"}),e.jsx(ne,{value:"detection",children:"Detection (Log only)"}),e.jsx(ne,{value:"logging",children:"Logging Only"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable DDoS Protection"}),e.jsx(ge,{checked:w,onCheckedChange:K=>Q({enableDDoSProtection:K})})]}),w&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"DDoS Threshold (requests per second)"}),e.jsx(J,{type:"number",value:k,onChange:K=>Q({ddosThreshold:Number(K.target.value)}),min:100,max:1e5})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable IP Whitelist"}),e.jsx(ge,{checked:y,onCheckedChange:K=>Q({enableIPWhitelist:K})})]}),y&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Whitelisted IPs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(K=>e.jsxs($,{variant:"outline",className:"gap-1",children:[K,e.jsx("button",{onClick:()=>ce(K),className:"ml-1 hover:text-destructive",children:e.jsx(us,{className:"h-3 w-3"})})]},K))}),e.jsx(J,{placeholder:"Enter IP or CIDR (e.g., 192.168.1.0/24)",onKeyDown:K=>{if(K.key==="Enter"){const U=K.currentTarget.value.trim();U&&(je(U),K.currentTarget.value="")}}})]})]})]})})]})]})})}function X_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(se=>se.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.vaultType||"hashicorp",u=i.address||"http://vault:8200",m=i.enableTLS??!1,f=i.enableTransit??!0,h=i.enableKV??!0,p=i.kvVersion||"2",g=i.enablePKI??!1,y=i.enableAuth??!0,M=i.authMethod||"token",w=i.tokenTTL||"24h",k=i.secrets||[{id:"1",path:"secret/app/database",key:"password",value:"",version:1,created:new Date().toISOString(),updated:new Date().toISOString(),visible:!1},{id:"2",path:"secret/app/api",key:"api-key",value:"",version:1,created:new Date().toISOString(),updated:new Date().toISOString(),visible:!1}],E=i.engines||[{id:"1",name:"secret/",type:"kv",enabled:!0,version:2,description:"Key-Value secrets"},{id:"2",name:"transit/",type:"transit",enabled:!0,description:"Encryption as a service"}],N=i.policies||[{id:"1",name:"admin",rules:'path "*" { capabilities = ["create", "read", "update", "delete", "list"] }',enabled:!0},{id:"2",name:"readonly",rules:'path "*" { capabilities = ["read", "list"] }',enabled:!0}],A=i.totalSecrets||k.length,P=i.enginesEnabled||E.filter(se=>se.enabled).length,[I,T]=j.useState(null),[z,C]=j.useState(!1),[L,Q]=j.useState(!1),[Y,W]=j.useState(!1),[q,F]=j.useState(null),me=se=>{r(a,{data:{...c.data,config:{...i,...se}}})},je=()=>{const se={id:`secret-${Date.now()}`,path:"secret/new",key:"new-key",value:"",version:1,created:new Date().toISOString(),updated:new Date().toISOString(),visible:!1};me({secrets:[...k,se]}),C(!1)},ce=se=>{me({secrets:k.filter(X=>X.id!==se)})},K=(se,X,le)=>{const G=k.map(xe=>xe.id===se?{...xe,[X]:le}:xe);me({secrets:G})},U=se=>{const X=k.find(le=>le.id===se);X&&K(se,"visible",!X.visible)},ae=se=>{const X=k.find(le=>le.id===se);X&&(navigator.clipboard.writeText(X.value),F(se),setTimeout(()=>F(null),2e3))},Z=()=>{const se={id:`engine-${Date.now()}`,name:"new-engine/",type:"kv",enabled:!0,version:2};me({engines:[...E,se]}),Q(!1)},O=se=>{me({engines:E.filter(X=>X.id!==se)})},re=(se,X,le)=>{const G=E.map(xe=>xe.id===se?{...xe,[X]:le}:xe);me({engines:G})},H=()=>{const se={id:`policy-${Date.now()}`,name:"new-policy",rules:'path "*" { capabilities = ["read"] }',enabled:!0};me({policies:[...N,se]}),W(!1)},oe=se=>{me({policies:N.filter(X=>X.id!==se)})},ee=(se,X,le)=>{const G=N.map(xe=>xe.id===se?{...xe,[X]:le}:xe);me({policies:G})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Secrets Vault"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Vault Configuration"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Secure storage and management of secrets, API keys, and credentials"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Secrets"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:A})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Engines Enabled"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:P})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Policies"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:N.length})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Vault Type"})}),e.jsx(R,{children:e.jsx($,{variant:"outline",children:d})})]})]}),e.jsxs(Ve,{defaultValue:"secrets",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"secrets",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Secrets (",k.length,")"]}),e.jsxs(de,{value:"engines",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Secret Engines (",E.length,")"]}),e.jsxs(de,{value:"policies",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Policies (",N.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"secrets",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Secrets"}),e.jsx(ie,{children:"Manage stored secrets and credentials"})]}),e.jsxs(V,{onClick:je,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Secret"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:k.map(se=>e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:se.path}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:"outline",children:se.key}),e.jsxs($,{variant:"outline",children:["v",se.version]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>U(se.id),children:se.visible?e.jsx(Bk,{className:"h-4 w-4"}):e.jsx(Wi,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ae(se.id),children:q===se.id?e.jsx(os,{className:"h-4 w-4 text-green-500"}):e.jsx(cc,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ce(se.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Path"}),e.jsx(J,{value:se.path,onChange:X=>K(se.id,"path",X.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Key"}),e.jsx(J,{value:se.key,onChange:X=>K(se.id,"key",X.target.value)})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(b,{children:"Value"}),e.jsx(J,{type:se.visible?"text":"password",value:se.value,onChange:X=>K(se.id,"value",X.target.value),placeholder:"Enter secret value"})]})]})})]},se.id))})})]})}),e.jsx(ue,{value:"engines",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Secret Engines"}),e.jsx(ie,{children:"Configure secret storage engines"})]}),e.jsxs(V,{onClick:Z,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Enable Engine"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:E.map(se=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:se.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:se.enabled?"default":"outline",children:se.enabled?"Enabled":"Disabled"}),e.jsx($,{variant:"outline",children:se.type}),se.version&&e.jsxs($,{variant:"outline",children:["v",se.version]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:se.enabled,onCheckedChange:X=>re(se.id,"enabled",X)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>O(se.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Engine Name"}),e.jsx(J,{value:se.name,onChange:X=>re(se.id,"name",X.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Engine Type"}),e.jsxs(Pe,{value:se.type,onValueChange:X=>re(se.id,"type",X),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"kv",children:"Key-Value (KV)"}),e.jsx(ne,{value:"transit",children:"Transit"}),e.jsx(ne,{value:"pki",children:"PKI"}),e.jsx(ne,{value:"database",children:"Database"}),e.jsx(ne,{value:"aws",children:"AWS"}),e.jsx(ne,{value:"azure",children:"Azure"})]})]})]}),se.type==="kv"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"KV Version"}),e.jsxs(Pe,{value:se.version?.toString()||"2",onValueChange:X=>re(se.id,"version",Number(X)),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"1",children:"Version 1"}),e.jsx(ne,{value:"2",children:"Version 2"})]})]})]})]})})]},se.id))})})]})}),e.jsx(ue,{value:"policies",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Access Policies"}),e.jsx(ie,{children:"Configure access control policies"})]}),e.jsxs(V,{onClick:H,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:N.map(se=>e.jsxs(S,{className:"border-l-4 border-l-purple-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:se.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx($,{variant:se.enabled?"default":"outline",children:se.enabled?"Enabled":"Disabled"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:se.enabled,onCheckedChange:X=>ee(se.id,"enabled",X)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>oe(se.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Policy Name"}),e.jsx(J,{value:se.name,onChange:X=>ee(se.id,"name",X.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Policy Rules (HCL)"}),e.jsx(ss,{value:se.rules,onChange:X=>ee(se.id,"rules",X.target.value),rows:6,className:"font-mono text-sm"})]})]})]},se.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Vault Settings"}),e.jsx(ie,{children:"General vault configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Vault Type"}),e.jsxs(Pe,{value:d,onValueChange:se=>me({vaultType:se}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"hashicorp",children:"HashiCorp Vault"}),e.jsx(ne,{value:"aws",children:"AWS Secrets Manager"}),e.jsx(ne,{value:"azure",children:"Azure Key Vault"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Vault Address"}),e.jsx(J,{value:u,onChange:se=>me({address:se.target.value}),placeholder:"http://vault:8200"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable TLS"}),e.jsx(ge,{checked:m,onCheckedChange:se=>me({enableTLS:se})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable KV Store"}),e.jsx(ge,{checked:h,onCheckedChange:se=>me({enableKV:se})})]}),h&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"KV Version"}),e.jsxs(Pe,{value:p,onValueChange:se=>me({kvVersion:se}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"1",children:"Version 1"}),e.jsx(ne,{value:"2",children:"Version 2"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Transit"}),e.jsx(ge,{checked:f,onCheckedChange:se=>me({enableTransit:se})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable PKI"}),e.jsx(ge,{checked:g,onCheckedChange:se=>me({enablePKI:se})})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Authentication"}),e.jsx(ge,{checked:y,onCheckedChange:se=>me({enableAuth:se})})]}),y&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Auth Method"}),e.jsxs(Pe,{value:M,onValueChange:se=>me({authMethod:se}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"token",children:"Token"}),e.jsx(ne,{value:"approle",children:"AppRole"}),e.jsx(ne,{value:"ldap",children:"LDAP"}),e.jsx(ne,{value:"aws",children:"AWS"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Token TTL"}),e.jsx(J,{value:w,onChange:se=>me({tokenTTL:se.target.value}),placeholder:"24h"})]})]})]})]})})]})]})})}function W_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(F=>F.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.mode||"ids",u=i.enableSignatureDetection??!0,m=i.enableAnomalyDetection??!0,f=i.enableBehavioralAnalysis??!1,h=i.alertThreshold||"medium",p=i.enableAutoBlock??!1,g=i.blockDuration||3600,y=i.enableLogging??!0,M=i.logRetention||30,w=i.alerts||[{id:"1",type:"signature",sourceIP:"192.168.1.100",destinationIP:"10.0.0.50",protocol:"TCP",port:22,severity:"high",timestamp:new Date().toISOString(),description:"SSH brute force attempt detected",blocked:!0,signature:"SSH_BRUTE_FORCE"}],k=i.signatures||[{id:"1",name:"SSH Brute Force",description:"Detects multiple failed SSH login attempts",enabled:!0,severity:"high",pattern:"alert tcp any any -> any 22",action:"block"},{id:"2",name:"SQL Injection",description:"Detects SQL injection attempts",enabled:!0,severity:"critical",pattern:`content:"' OR 1=1"`,action:"block"}],E=i.blockedIPs||[{ip:"192.168.1.100",reason:"SSH brute force",blockedAt:new Date().toISOString(),duration:3600}],N=i.totalAlerts||w.length,A=i.alertsBlocked||w.filter(F=>F.blocked).length,P=i.signaturesActive||k.filter(F=>F.enabled).length,[I,T]=j.useState(null),[z,C]=j.useState(!1),L=F=>{r(a,{data:{...c.data,config:{...i,...F}}})},Q=()=>{const F={id:`sig-${Date.now()}`,name:"New Signature",description:"",enabled:!0,severity:"medium",pattern:"",action:"alert"};L({signatures:[...k,F]}),C(!1)},Y=F=>{L({signatures:k.filter(me=>me.id!==F)})},W=(F,me,je)=>{const ce=k.map(K=>K.id===F?{...K,[me]:je}:K);L({signatures:ce})},q=F=>{L({blockedIPs:E.filter(me=>me.ip!==F)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"IDS / IPS"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Intrusion Detection & Prevention"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Monitor and protect network from security threats"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Total Alerts"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:N})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Alerts Blocked"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold text-red-500",children:A})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Active Signatures"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:P})})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium",children:"Blocked IPs"})}),e.jsx(R,{children:e.jsx("span",{className:"text-2xl font-bold",children:E.length})})]})]}),e.jsxs(Ve,{defaultValue:"alerts",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"alerts",children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"Alerts (",w.length,")"]}),e.jsxs(de,{value:"signatures",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Signatures (",k.length,")"]}),e.jsxs(de,{value:"blocked",children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Blocked IPs (",E.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"alerts",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Security Alerts"}),e.jsx(ie,{children:"Recent intrusion detection alerts"})]}),e.jsx(R,{children:w.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No alerts detected"}):e.jsx("div",{className:"space-y-2",children:w.map(F=>e.jsx(S,{className:`border-l-4 ${F.severity==="critical"?"border-l-red-500":F.severity==="high"?"border-l-orange-500":F.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"}`,children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:F.severity==="critical"?"destructive":F.severity==="high"?"default":"outline",children:F.severity}),e.jsx($,{variant:"outline",children:F.type}),F.blocked?e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(os,{className:"h-3 w-3 mr-1"}),"Blocked"]}):e.jsxs($,{variant:"outline",children:[e.jsx(us,{className:"h-3 w-3 mr-1"}),"Not Blocked"]})]}),e.jsx("p",{className:"font-medium mb-1",children:F.description}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Source: ",F.sourceIP,"  Destination: ",F.destinationIP]}),e.jsxs("p",{children:["Protocol: ",F.protocol," Port: ",F.port]}),e.jsxs("p",{children:["Time: ",new Date(F.timestamp).toLocaleString()]}),F.signature&&e.jsxs("p",{children:["Signature: ",F.signature]})]})]})})})},F.id))})})]})}),e.jsx(ue,{value:"signatures",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Detection Signatures"}),e.jsx(ie,{children:"Configure detection rules and patterns"})]}),e.jsxs(V,{onClick:Q,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Signature"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:k.map(F=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base",children:F.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx($,{variant:F.enabled?"default":"outline",children:F.enabled?"Enabled":"Disabled"}),e.jsx($,{variant:F.severity==="critical"?"destructive":F.severity==="high"?"default":"outline",children:F.severity}),e.jsx($,{variant:"outline",children:F.action})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:F.enabled,onCheckedChange:me=>W(F.id,"enabled",me)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Y(F.id),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Signature Name"}),e.jsx(J,{value:F.name,onChange:me=>W(F.id,"name",me.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Severity"}),e.jsxs(Pe,{value:F.severity,onValueChange:me=>W(F.id,"severity",me),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"critical",children:"Critical"}),e.jsx(ne,{value:"high",children:"High"}),e.jsx(ne,{value:"medium",children:"Medium"}),e.jsx(ne,{value:"low",children:"Low"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Action"}),e.jsxs(Pe,{value:F.action,onValueChange:me=>W(F.id,"action",me),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"block",children:"Block"}),e.jsx(ne,{value:"alert",children:"Alert"}),e.jsx(ne,{value:"log",children:"Log"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Description"}),e.jsx(J,{value:F.description,onChange:me=>W(F.id,"description",me.target.value),placeholder:"Signature description"})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(b,{children:"Pattern"}),e.jsx(J,{value:F.pattern,onChange:me=>W(F.id,"pattern",me.target.value),placeholder:"Detection pattern",className:"font-mono text-sm"})]})]})})]},F.id))})})]})}),e.jsx(ue,{value:"blocked",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Blocked IP Addresses"}),e.jsx(ie,{children:"IPs currently blocked by the system"})]}),e.jsx(R,{children:E.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No IPs blocked"}):e.jsx("div",{className:"space-y-2",children:E.map((F,me)=>e.jsx(S,{className:"border-l-4 border-l-red-500",children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:"destructive",children:F.ip}),e.jsx($,{variant:"outline",children:F.reason})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Blocked at: ",new Date(F.blockedAt).toLocaleString()]}),F.duration&&e.jsxs("p",{children:["Duration: ",F.duration," seconds"]}),F.expiresAt&&e.jsxs("p",{children:["Expires: ",new Date(F.expiresAt).toLocaleString()]})]})]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>q(F.ip),children:"Unblock"})]})})},me))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"IDS/IPS Settings"}),e.jsx(ie,{children:"Configure detection and prevention settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Operation Mode"}),e.jsxs(Pe,{value:d,onValueChange:F=>L({mode:F}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"ips",children:"IPS (Prevention - Active blocking)"}),e.jsx(ne,{value:"ids",children:"IDS (Detection - Monitoring only)"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Signature Detection"}),e.jsx(ge,{checked:u,onCheckedChange:F=>L({enableSignatureDetection:F})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Anomaly Detection"}),e.jsx(ge,{checked:m,onCheckedChange:F=>L({enableAnomalyDetection:F})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Behavioral Analysis"}),e.jsx(ge,{checked:f,onCheckedChange:F=>L({enableBehavioralAnalysis:F})})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Alert Threshold"}),e.jsxs(Pe,{value:h,onValueChange:F=>L({alertThreshold:F}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"critical",children:"Critical"}),e.jsx(ne,{value:"high",children:"High"}),e.jsx(ne,{value:"medium",children:"Medium"}),e.jsx(ne,{value:"low",children:"Low"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Auto Block"}),e.jsx(ge,{checked:p,onCheckedChange:F=>L({enableAutoBlock:F})})]}),p&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Block Duration (seconds)"}),e.jsx(J,{type:"number",value:g,onChange:F=>L({blockDuration:Number(F.target.value)}),min:60,max:86400})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Logging"}),e.jsx(ge,{checked:y,onCheckedChange:F=>L({enableLogging:F})})]}),y&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Log Retention (days)"}),e.jsx(J,{type:"number",value:M,onChange:F=>L({logRetention:Number(F.target.value)}),min:1,max:365})]})]})]})})]})]})})}function Z_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(A=>A.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.rules||[{id:"rule-1",name:"Allow HTTP",action:"allow",protocol:"tcp",destination:"0.0.0.0/0",port:80,enabled:!0,priority:10,hits:12500},{id:"rule-2",name:"Allow HTTPS",action:"allow",protocol:"tcp",destination:"0.0.0.0/0",port:443,enabled:!0,priority:10,hits:9800},{id:"rule-3",name:"Block SSH from External",action:"deny",protocol:"tcp",source:"0.0.0.0/0",destination:"10.0.0.0/8",port:22,enabled:!0,priority:5,hits:45},{id:"rule-4",name:"Default Deny",action:"deny",protocol:"all",enabled:!0,priority:1,hits:125}],u=i.logs||[{id:"log-1",timestamp:new Date(Date.now()-36e5).toISOString(),action:"blocked",source:"192.168.1.100",destination:"10.0.0.5",protocol:"tcp",port:22,reason:"SSH blocked from external"},{id:"log-2",timestamp:new Date(Date.now()-18e5).toISOString(),action:"allowed",source:"10.0.0.10",destination:"10.0.0.5",protocol:"tcp",port:80}],m=i.totalRules||d.length,f=i.activeRules||d.filter(A=>A.enabled).length,h=i.blockedConnections||u.filter(A=>A.action==="blocked"||A.action==="rejected").length,p=i.allowedConnections||u.filter(A=>A.action==="allowed").length,[g,y]=j.useState(!1),M=A=>{r(a,{data:{...c.data,config:{...i,...A}}})},w=()=>{const A={id:`rule-${Date.now()}`,name:"New Rule",action:"allow",protocol:"tcp",enabled:!0,priority:5};M({rules:[...d,A]}),y(!1)},k=A=>{M({rules:d.filter(P=>P.id!==A)})},E=A=>{const P=d.map(I=>I.id===A?{...I,enabled:!I.enabled}:I);M({rules:P})},N=A=>{switch(A){case"allow":return"bg-green-500";case"deny":case"blocked":return"bg-red-500";case"reject":case"rejected":return"bg-orange-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Firewall"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Network Firewall"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Network security and traffic filtering"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Rules"}),e.jsx(Rs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",m," total"]})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Allowed"}),e.jsx(os,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"connections"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-red-500 bg-gradient-to-br from-red-50 to-white dark:from-red-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Blocked"}),e.jsx(Fo,{className:"h-4 w-4 text-red-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"connections"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Total Hits"}),e.jsx(ea,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:d.reduce((A,P)=>A+(P.hits||0),0).toLocaleString()})})})]})]}),e.jsxs(Ve,{defaultValue:"rules",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"rules",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Rules (",d.length,")"]}),e.jsxs(de,{value:"logs",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Logs (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"rules",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Firewall Rules"}),e.jsx(ie,{children:"Network traffic filtering rules"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Rule"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(A=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${N(A.action)}/20`,children:A.action==="allow"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(Fo,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:A.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:N(A.action),children:A.action.toUpperCase()}),e.jsx($,{variant:"outline",children:A.protocol.toUpperCase()}),A.port&&e.jsxs($,{variant:"outline",children:["Port: ",A.port]}),e.jsxs($,{variant:"outline",children:["Priority: ",A.priority]}),A.hits&&e.jsxs($,{variant:"outline",className:"bg-purple-50 dark:bg-purple-950/20",children:[A.hits," hits"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:A.enabled,onCheckedChange:()=>E(A.id)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(A.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[A.source&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Source:"}),e.jsx("span",{className:"ml-2 font-mono font-semibold",children:A.source})]}),A.destination&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Destination:"}),e.jsx("span",{className:"ml-2 font-mono font-semibold",children:A.destination})]})]})})]},A.id))})})]})}),e.jsx(ue,{value:"logs",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Firewall Logs"}),e.jsx(ie,{children:"Traffic filtering activity logs"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(A=>e.jsxs(S,{className:`border-l-4 ${A.action==="allowed"?"border-l-green-500 bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10":"border-l-red-500 bg-gradient-to-r from-red-50/50 to-transparent dark:from-red-950/10"} hover:shadow-md transition-shadow`,children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${N(A.action)}/20`,children:A.action==="allowed"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(Fo,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold capitalize",children:A.action}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:A.source}),e.jsx("span",{children:""}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:A.destination}),e.jsx($,{variant:"outline",children:A.protocol.toUpperCase()}),A.port&&e.jsxs($,{variant:"outline",children:["Port: ",A.port]})]})]})]})}),A.reason&&e.jsx(R,{children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(ct,{className:"h-4 w-4 inline mr-1"}),A.reason]})}),e.jsx(R,{children:e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(A.timestamp).toLocaleString()})})]},A.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Firewall Settings"}),e.jsx(ie,{children:"Security configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Firewall"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Logging"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Intrusion Detection"}),e.jsx(ge,{})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Policy"}),e.jsxs(Pe,{defaultValue:"deny",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"allow",children:"Allow All"}),e.jsx(ne,{value:"deny",children:"Deny All"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Log Retention (days)"}),e.jsx(J,{type:"number",defaultValue:30,min:1})]})]})]})})]})]})})}function J_({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(T=>T.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.jenkinsUrl||"http://jenkins:8080",u=i.enableCSRF??!0,m=i.executorCount||2;i.enablePlugins;const f=i.plugins||["git","docker","kubernetes"],h=i.enablePipeline??!0,p=i.enableBlueOcean??!1,g=i.enableArtifactArchiving??!0,y=i.retentionDays||30,M=i.pipelines||[{id:"1",name:"main-pipeline",status:"success",lastBuild:42,duration:120,branch:"main"},{id:"2",name:"deploy-staging",status:"running",lastBuild:15,duration:45,branch:"develop"},{id:"3",name:"test-suite",status:"failed",lastBuild:8,duration:30,branch:"feature/test"}],w=T=>{r(a,{data:{...c.data,config:{...i,...T}}})},k=()=>{w({pipelines:[...M,{id:String(M.length+1),name:"new-pipeline",status:"pending",lastBuild:0}]})},E=T=>{w({pipelines:M.filter((z,C)=>C!==T)})},N=()=>{w({plugins:[...f,"new-plugin"]})},A=T=>{w({plugins:f.filter((z,C)=>C!==T)})},P=T=>{switch(T){case"success":return e.jsx(Ha,{className:"h-4 w-4 text-green-500"});case"running":return e.jsx(p5,{className:"h-4 w-4 text-blue-500 animate-spin"});case"failed":return e.jsx(us,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})}},I=T=>{switch(T){case"success":return e.jsx($,{variant:"default",className:"bg-green-500",children:"Success"});case"running":return e.jsx($,{variant:"default",className:"bg-blue-500",children:"Running"});case"failed":return e.jsx($,{variant:"destructive",children:"Failed"});default:return e.jsx($,{variant:"secondary",children:"Pending"})}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:e.jsx(Ke,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Jenkins"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Continuous Integration & Delivery"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Configure"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Pipelines"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total pipelines"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Executors"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Plugins"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Installed"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Builds"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:M.reduce((T,z)=>T+z.lastBuild,0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total builds"})]})]})]}),e.jsxs(Ve,{defaultValue:"pipelines",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-4",children:[e.jsxs(de,{value:"pipelines",className:"gap-2",children:[e.jsx(Mr,{className:"h-4 w-4"}),"Pipelines"]}),e.jsxs(de,{value:"plugins",className:"gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Plugins"]}),e.jsxs(de,{value:"executors",className:"gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Executors"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"pipelines",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Pipelines"}),e.jsx(ie,{children:"CI/CD pipeline configuration and monitoring"})]}),e.jsxs(V,{size:"sm",onClick:k,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Pipeline"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:M.map((T,z)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[P(T.status),e.jsxs("div",{className:"flex-1",children:[e.jsx(_,{className:"text-lg",children:T.name}),e.jsxs(ie,{className:"text-xs mt-1 flex items-center gap-2",children:[e.jsx(Mr,{className:"h-3 w-3"}),T.branch||"main","  Build #",T.lastBuild,T.duration&&`  ${T.duration}s`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[I(T.status),M.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>E(z),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),T.status==="running"&&e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsx("span",{children:"65%"})]}),e.jsx(ws,{value:65,className:"h-2"})]})})]},z))})})]})}),e.jsx(ue,{value:"plugins",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Plugins"}),e.jsx(ie,{children:"Installed Jenkins plugins"})]}),e.jsxs(V,{size:"sm",onClick:N,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Install Plugin"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:f.map((T,z)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border rounded-lg bg-card",children:[e.jsx("div",{className:"p-2 rounded bg-primary/10",children:e.jsx(Jt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold capitalize",children:T}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Plugin installed"})]}),e.jsx($,{variant:"secondary",children:"Active"}),f.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>A(z),children:e.jsx(Ee,{className:"h-4 w-4"})})]},z))})})]})}),e.jsx(ue,{value:"executors",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Executor Configuration"}),e.jsx(ie,{children:"Manage concurrent build executors"})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"executor-count",children:"Executor Count"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{id:"executor-count",type:"number",min:"1",max:"100",value:m,onChange:T=>w({executorCount:parseInt(T.target.value)||2})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"concurrent builds"})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Number of concurrent builds that can run simultaneously"})]})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Server Configuration"}),e.jsx(ie,{children:"Jenkins server settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"jenkins-url",children:"Jenkins URL"}),e.jsx(J,{id:"jenkins-url",value:d,onChange:T=>w({jenkinsUrl:T.target.value}),placeholder:"http://jenkins:8080"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable CSRF Protection"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Protect against cross-site request forgery"})]}),e.jsx(ge,{checked:u,onCheckedChange:T=>w({enableCSRF:T})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Pipelines"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable Jenkins pipeline support"})]}),e.jsx(ge,{checked:h,onCheckedChange:T=>w({enablePipeline:T})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Blue Ocean"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Modern pipeline UI"})]}),e.jsx(ge,{checked:p,onCheckedChange:T=>w({enableBlueOcean:T})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(b,{children:"Enable Artifact Archiving"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Store build artifacts"})]}),e.jsx(ge,{checked:g,onCheckedChange:T=>w({enableArtifactArchiving:T})})]}),g&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"retention-days",children:"Retention Days"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{id:"retention-days",type:"number",min:"1",max:"365",value:y,onChange:T=>w({retentionDays:parseInt(T.target.value)||30})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"days"})]})]})]})]})})]})]})})}function ez({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(E=>E.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.projectUrl||"https://gitlab.com/archiphoenix/project",u=i.pipelines||[{id:"1",name:"main",status:"success",branch:"main",stages:4,duration:1250},{id:"2",name:"feature/auth",status:"running",branch:"feature/auth",stages:3},{id:"3",name:"develop",status:"failed",branch:"develop",stages:4,duration:890}],m=i.runners||[{id:"1",name:"docker-runner-1",status:"online",type:"shared",jobs:3},{id:"2",name:"kubernetes-runner",status:"online",type:"specific",jobs:1},{id:"3",name:"shell-runner-2",status:"offline",type:"shared",jobs:0}],f=i.activeJobs||u.filter(E=>E.status==="running").length,h=i.successRate||87.5,p=i.avgDuration||1050,g=E=>{r(a,{data:{...c.data,config:{...i,...E}}})},y=()=>{g({pipelines:[...u,{id:String(u.length+1),name:"new-pipeline",status:"pending",branch:"main",stages:3}]})},M=E=>{g({pipelines:u.filter((N,A)=>A!==E)})},w=E=>{switch(E){case"success":return e.jsx(Ha,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(us,{className:"h-4 w-4 text-red-500"});case"running":return e.jsx(B0,{className:"h-4 w-4 text-blue-500 animate-spin"});case"pending":return e.jsx(Tt,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})}},k=E=>{switch(E){case"success":return e.jsx($,{variant:"default",className:"bg-green-500",children:"Success"});case"failed":return e.jsx($,{variant:"destructive",children:"Failed"});case"running":return e.jsx($,{variant:"default",className:"bg-blue-500",children:"Running"});case"pending":return e.jsx($,{variant:"secondary",children:"Pending"});default:return e.jsx($,{variant:"secondary",children:"Unknown"})}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:e.jsx(Mr,{className:"h-6 w-6 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"GitLab CI/CD"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Continuous Integration & Deployment"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Active"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Active Jobs"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Running pipelines"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[h,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 30 days"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Duration"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[p,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pipeline time"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Runners"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[m.filter(E=>E.status==="online").length,"/",m.length]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Online"})]})]})]}),e.jsxs(Ve,{defaultValue:"pipelines",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsxs(de,{value:"pipelines",className:"gap-2",children:[e.jsx(_s,{className:"h-4 w-4"}),"Pipelines"]}),e.jsxs(de,{value:"runners",className:"gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Runners"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"pipelines",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Pipelines"}),e.jsx(ie,{children:"CI/CD pipeline status and history"})]}),e.jsxs(V,{size:"sm",onClick:y,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Pipeline"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:u.map((E,N)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w(E.status),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:E.name}),e.jsxs(ie,{className:"text-xs mt-1",children:["Branch: ",E.branch,"  ",E.stages," stages",E.duration&&`  ${E.duration}s`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[k(E.status),u.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>M(N),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},N))})})]})}),e.jsx(ue,{value:"runners",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"CI/CD Runners"}),e.jsx(ie,{children:"Runner configuration and status"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:m.map(E=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${E.status==="online"?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:E.name}),e.jsxs(ie,{className:"text-xs mt-1",children:[E.type," runner  ",E.jobs," active jobs"]})]})]}),e.jsx($,{variant:E.status==="online"?"default":"secondary",children:E.status})]})})},E.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Project Configuration"}),e.jsx(ie,{children:"GitLab project and CI/CD settings"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"project-url",children:"Project URL"}),e.jsx(J,{id:"project-url",value:d,onChange:E=>g({projectUrl:E.target.value}),placeholder:"https://gitlab.com/user/project"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate"}),e.jsxs("span",{className:"font-semibold",children:[h,"%"]})]}),e.jsx(ws,{value:h,className:"h-2"})]})]})]})})]})]})})}function sz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(k=>k.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.serverUrl||"https://argocd.example.com",u=i.applications||[{name:"web-app",namespace:"production",status:"synced",health:"healthy",syncPolicy:"auto",lastSync:"2m ago"},{name:"api-service",namespace:"staging",status:"outofsync",health:"healthy",syncPolicy:"manual",lastSync:"15m ago"},{name:"worker",namespace:"production",status:"progressing",health:"progressing",syncPolicy:"auto",lastSync:"1m ago"}],m=i.syncedApps||u.filter(k=>k.status==="synced").length,f=i.outOfSyncApps||u.filter(k=>k.status==="outofsync").length,h=i.totalApps||u.length,p=k=>{r(a,{data:{...c.data,config:{...i,...k}}})},g=()=>{p({applications:[...u,{name:"new-app",namespace:"default",status:"progressing",health:"progressing",syncPolicy:"manual"}]})},y=k=>{p({applications:u.filter((E,N)=>N!==k)})},M=k=>{switch(k){case"synced":return e.jsx(Ha,{className:"h-4 w-4 text-green-500"});case"outofsync":return e.jsx(us,{className:"h-4 w-4 text-yellow-500"});case"progressing":return e.jsx(B0,{className:"h-4 w-4 text-blue-500 animate-spin"});case"degraded":return e.jsx(us,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})}},w=k=>{switch(k){case"healthy":return e.jsx($,{variant:"default",className:"bg-green-500",children:"Healthy"});case"degraded":return e.jsx($,{variant:"destructive",children:"Degraded"});case"progressing":return e.jsx($,{variant:"default",className:"bg-blue-500",children:"Progressing"});default:return e.jsx($,{variant:"secondary",children:k})}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:e.jsx(Sv,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Argo CD"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"GitOps Continuous Deployment"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Connected"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Applications"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total apps"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Synced"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:m}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In sync"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Out of Sync"})}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:f}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Needs sync"})]})]}),e.jsxs(S,{children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Sync Rate"})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(m/h*100),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Synced"})]})]})]}),e.jsxs(Ve,{defaultValue:"applications",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-2",children:[e.jsxs(de,{value:"applications",className:"gap-2",children:[e.jsx(Sv,{className:"h-4 w-4"}),"Applications"]}),e.jsxs(de,{value:"settings",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]})]}),e.jsx(ue,{value:"applications",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Applications"}),e.jsx(ie,{children:"GitOps application deployments"})]}),e.jsxs(V,{size:"sm",onClick:g,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Application"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-3",children:u.map((k,E)=>e.jsx(S,{className:"border-border",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[M(k.status),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:k.name}),e.jsxs(ie,{className:"text-xs mt-1",children:["Namespace: ",k.namespace,"  ",k.syncPolicy," sync",k.lastSync&&`  Last sync: ${k.lastSync}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[w(k.health),u.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>y(E),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})})},E))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Argo CD Server"}),e.jsx(ie,{children:"Server configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"server-url",children:"Server URL"}),e.jsx(J,{id:"server-url",value:d,onChange:k=>p({serverUrl:k.target.value}),placeholder:"https://argocd.example.com"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sync Status"}),e.jsxs("span",{className:"font-semibold",children:[m,"/",h," synced"]})]}),e.jsx(ws,{value:m/h*100,className:"h-2"})]})]})]})})]})]})})}function tz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(H=>H.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.serverUrl||"https://harbor.example.com",u=i.adminUsername||"admin",m=i.adminPassword||"",f=i.enableVulnerabilityScanning??!0,h=i.enableContentTrust??!1,p=i.enableImageScanning??!0,g=i.projects||[{id:"1",name:"archiphoenix",public:!1,repositories:12,tags:45,vulnerabilityCount:3,storageUsed:2.5,accessLevel:"private"},{id:"2",name:"public-images",public:!0,repositories:8,tags:23,vulnerabilityCount:0,storageUsed:1.2,accessLevel:"public"}],y=i.repositories||[{id:"1",name:"archiphoenix/web-app",project:"archiphoenix",tags:5,pullCount:1250,lastPush:"2 hours ago",size:450},{id:"2",name:"archiphoenix/api-server",project:"archiphoenix",tags:8,pullCount:890,lastPush:"1 day ago",size:320}],M=i.tags||[{id:"1",name:"latest",repository:"archiphoenix/web-app",digest:"sha256:abc123...",size:125,created:"2024-01-15T10:30:00Z",vulnerabilityScan:{status:"completed",severity:"medium",totalVulnerabilities:5,critical:0,high:1,medium:3,low:1,scannedAt:"2024-01-15T11:00:00Z"},signed:!0},{id:"2",name:"v1.2.3",repository:"archiphoenix/web-app",digest:"sha256:def456...",size:120,created:"2024-01-14T15:20:00Z",vulnerabilityScan:{status:"completed",severity:"low",totalVulnerabilities:2,critical:0,high:0,medium:1,low:1,scannedAt:"2024-01-14T16:00:00Z"},signed:!1}],w=i.replicationPolicies||[{id:"1",name:"prod-replication",sourceRegistry:"harbor-prod",destinationRegistry:"harbor-backup",trigger:"event-based",enabled:!0,filters:["archiphoenix/**"]}],k=i.users||[{id:"1",username:"admin",email:"admin@archiphoenix.com",role:"admin",enabled:!0},{id:"2",username:"developer1",email:"dev1@archiphoenix.com",role:"developer",enabled:!0}],E=i.selectedProject||g[0]?.name||"",[N,A]=j.useState(!1),[P,I]=j.useState(!1),[T,z]=j.useState(!1),[C,L]=j.useState(""),[Q,Y]=j.useState(""),W=H=>{r(a,{data:{...c.data,config:{...i,...H}}})},q=()=>{const H={id:String(g.length+1),name:"new-project",public:!1,repositories:0,tags:0,accessLevel:"private"};W({projects:[...g,H]}),A(!1)},F=H=>{W({projects:g.filter((oe,ee)=>ee!==H)})},me=(H,oe,ee)=>{const se=[...g];se[H]={...se[H],[oe]:ee},W({projects:se})},je=()=>{const H={id:String(w.length+1),name:"new-replication",sourceRegistry:"source-registry",destinationRegistry:"dest-registry",trigger:"manual",enabled:!0};W({replicationPolicies:[...w,H]}),I(!1)},ce=H=>{W({replicationPolicies:w.filter((oe,ee)=>ee!==H)})},K=()=>{const H={id:String(k.length+1),username:"new-user",email:"user@example.com",role:"guest",enabled:!0};W({users:[...k,H]}),z(!1)},U=H=>{W({users:k.filter((oe,ee)=>ee!==H)})},ae=(H,oe,ee)=>{const se=[...k];se[H]={...se[H],[oe]:ee},W({users:se})},Z=H=>{const oe=[...M],ee=oe.findIndex(se=>se.id===H);ee!==-1&&(oe[ee].vulnerabilityScan={status:"running",severity:"none",scannedAt:new Date().toISOString()},W({tags:oe}),setTimeout(()=>{const se=[...M],X=se.findIndex(le=>le.id===H);X!==-1&&(se[X].vulnerabilityScan={status:"completed",severity:"medium",totalVulnerabilities:Math.floor(Math.random()*10),critical:Math.floor(Math.random()*2),high:Math.floor(Math.random()*3),medium:Math.floor(Math.random()*4),low:Math.floor(Math.random()*3),scannedAt:new Date().toISOString()},W({tags:se}))},2e3))},O=H=>{switch(H){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-green-500"}},re=y.filter(H=>!(E&&H.project!==E||Q&&!H.name.toLowerCase().includes(Q.toLowerCase())));return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Jt,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Harbor Registry"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Container image registry & vulnerability scanning"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:"v2.10"}),e.jsxs($,{variant:"secondary",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]})]})]}),e.jsx(ye,{}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"Configure Harbor registry connection"})]}),e.jsxs(R,{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Server URL"}),e.jsx(J,{value:d,onChange:H=>W({serverUrl:H.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Admin Username"}),e.jsx(J,{value:u,onChange:H=>W({adminUsername:H.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Admin Password"}),e.jsx(J,{type:"password",value:m,onChange:H=>W({adminPassword:H.target.value})})]})]})]}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Security Settings"}),e.jsx(ie,{children:"Configure security features"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Vulnerability Scanning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically scan images for vulnerabilities"})]}),e.jsx(ge,{checked:f,onCheckedChange:H=>W({enableVulnerabilityScanning:H})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Content Trust"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Require signed images"})]}),e.jsx(ge,{checked:h,onCheckedChange:H=>W({enableContentTrust:H})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Image Scanning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan images on push"})]}),e.jsx(ge,{checked:p,onCheckedChange:H=>W({enableImageScanning:H})})]})]})]}),e.jsxs(Ve,{defaultValue:"projects",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-5",children:[e.jsxs(de,{value:"projects",className:"gap-2",children:[e.jsx(O0,{className:"h-4 w-4"}),"Projects"]}),e.jsxs(de,{value:"repositories",className:"gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Repositories"]}),e.jsxs(de,{value:"tags",className:"gap-2",children:[e.jsx(c3,{className:"h-4 w-4"}),"Tags"]}),e.jsxs(de,{value:"replication",className:"gap-2",children:[e.jsx(cc,{className:"h-4 w-4"}),"Replication"]}),e.jsxs(de,{value:"users",className:"gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Users"]})]}),e.jsx(ue,{value:"projects",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Projects"}),e.jsx(ie,{children:"Manage container image projects"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>A(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}),N&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Project Name"}),e.jsx(J,{placeholder:"new-project"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:q,children:"Create Project"}),e.jsx(V,{variant:"outline",onClick:()=>A(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:g.map((H,oe)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:H.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.repositories," repositories  ",H.tags," tags",H.storageUsed&&`  ${H.storageUsed} GB`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:H.public?"default":"secondary",children:H.accessLevel||(H.public?"Public":"Private")}),H.vulnerabilityCount!==void 0&&H.vulnerabilityCount>0&&e.jsxs($,{variant:"destructive",children:[e.jsx(ct,{className:"h-3 w-3 mr-1"}),H.vulnerabilityCount]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>F(oe),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge,{checked:H.public,onCheckedChange:ee=>me(oe,"public",ee)}),e.jsx(b,{children:"Public Project"})]})]},oe))})]})}),e.jsx(ue,{value:"repositories",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Repositories"}),e.jsx(ie,{children:"Container image repositories"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Pe,{value:E,onValueChange:H=>W({selectedProject:H}),children:[e.jsx(De,{className:"w-48",children:e.jsx(Oe,{placeholder:"All Projects"})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"",children:"All Projects"}),g.map((H,oe)=>e.jsx(ne,{value:H.name,children:H.name},oe))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ra,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(J,{className:"pl-8 w-64",placeholder:"Search repositories...",value:Q,onChange:H=>Y(H.target.value)})]})]})]}),e.jsx(R,{className:"space-y-3",children:re.map((H,oe)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:H.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.tags," tags  ",H.pullCount," pulls",H.size&&`  ${H.size} MB`,H.lastPush&&`  Last push: ${H.lastPush}`]})]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>L(C===H.name?"":H.name),children:C===H.name?"Hide Tags":"View Tags"})]}),C===H.name&&e.jsx("div",{className:"pt-2 border-t space-y-2",children:M.filter(ee=>ee.repository===H.name).map((ee,se)=>e.jsxs("div",{className:"p-2 border rounded bg-muted/50 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-mono text-sm",children:ee.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[ee.digest.substring(0,20),"...  ",ee.size," MB"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ee.vulnerabilityScan&&e.jsx($,{variant:ee.vulnerabilityScan.severity==="none"?"default":"destructive",children:ee.vulnerabilityScan.severity}),ee.signed&&e.jsxs($,{variant:"outline",children:[e.jsx(Ha,{className:"h-3 w-3 mr-1"}),"Signed"]})]})]},se))})]},oe))})]})}),e.jsx(ue,{value:"tags",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Image Tags"}),e.jsx(ie,{children:"Manage and scan container image tags"})]}),e.jsx(R,{className:"space-y-3",children:M.map((H,oe)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"font-semibold font-mono",children:[H.repository,":",H.name]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.digest,"  ",H.size," MB",H.created&&`  Created: ${new Date(H.created).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[H.vulnerabilityScan&&e.jsx($,{variant:H.vulnerabilityScan.severity==="none"?"default":"destructive",className:O(H.vulnerabilityScan.severity),children:H.vulnerabilityScan.severity}),H.signed&&e.jsxs($,{variant:"outline",children:[e.jsx(Ha,{className:"h-3 w-3 mr-1"}),"Signed"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>Z(H.id),disabled:H.vulnerabilityScan?.status==="running",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),H.vulnerabilityScan?.status==="running"?"Scanning...":"Scan"]})]})]}),H.vulnerabilityScan&&H.vulnerabilityScan.status==="completed"&&e.jsxs("div",{className:"pt-2 border-t space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-red-500",children:H.vulnerabilityScan.critical||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Critical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-orange-500",children:H.vulnerabilityScan.high||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"High"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-500",children:H.vulnerabilityScan.medium||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Medium"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-blue-500",children:H.vulnerabilityScan.low||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:H.vulnerabilityScan.totalVulnerabilities||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),H.vulnerabilityScan.scannedAt&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Scanned: ",new Date(H.vulnerabilityScan.scannedAt).toLocaleString()]})]})]},oe))})]})}),e.jsx(ue,{value:"replication",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Replication Policies"}),e.jsx(ie,{children:"Configure image replication between registries"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]}),P&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Policy Name"}),e.jsx(J,{placeholder:"replication-policy"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:je,children:"Create Policy"}),e.jsx(V,{variant:"outline",onClick:()=>I(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:w.map((H,oe)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:H.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.sourceRegistry,"  ",H.destinationRegistry]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:H.enabled?"default":"secondary",children:H.enabled?"Enabled":"Disabled"}),e.jsx($,{variant:"outline",children:H.trigger}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>ce(oe),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),H.filters&&H.filters.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:H.filters.map((ee,se)=>e.jsx($,{variant:"outline",className:"text-xs",children:ee},se))})]})]},oe))})]})}),e.jsx(ue,{value:"users",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Users"}),e.jsx(ie,{children:"Manage Harbor users and permissions"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>z(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),T&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Username"}),e.jsx(J,{placeholder:"new-user"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:K,children:"Add User"}),e.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:k.map((H,oe)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:H.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:H.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:H.role==="admin"?"default":"secondary",children:H.role}),e.jsx(ge,{checked:H.enabled,onCheckedChange:ee=>ae(oe,"enabled",ee)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>U(oe),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Role"}),e.jsxs(Pe,{value:H.role,onValueChange:ee=>ae(oe,"role",ee),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"admin",children:"Admin"}),e.jsx(ne,{value:"developer",children:"Developer"}),e.jsx(ne,{value:"guest",children:"Guest"})]})]})]})})]},oe))})]})})]})]})})}function az({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(I=>I.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.workspaces||[{id:"1",name:"production",description:"Production infrastructure",terraformVersion:"1.5.0",autoApply:!1,queueAllRuns:!0,workingDirectory:"/terraform",lastRun:{id:"run-1",status:"applied",createdAt:new Date().toISOString()}}],u=i.runs||[{id:"1",workspace:"production",status:"applied",createdAt:new Date().toISOString(),planOnly:!1,message:"Apply completed successfully",duration:120}],m=i.states||[{id:"1",workspace:"production",version:1,serial:1,resources:15,updatedAt:new Date().toISOString()}],f=i.totalWorkspaces||d.length,h=i.activeRuns||u.filter(I=>["pending","planning","applying"].includes(I.status)).length,p=i.completedRuns||u.filter(I=>I.status==="applied").length,[g,y]=j.useState(null),[M,w]=j.useState(!1),k=I=>{r(a,{data:{...c.data,config:{...i,...I}}})},E=()=>{const I={id:`workspace-${Date.now()}`,name:"new-workspace",terraformVersion:"1.5.0",autoApply:!1,queueAllRuns:!0};k({workspaces:[...d,I]}),w(!1)},N=I=>{k({workspaces:d.filter(T=>T.id!==I)})},A=(I,T,z)=>{const C=d.map(L=>L.id===I?{...L,[T]:z}:L);k({workspaces:C})},P=(I,T=!1)=>{const z=d.find(L=>L.id===I);if(!z)return;const C={id:`run-${Date.now()}`,workspace:z.name,status:"pending",createdAt:new Date().toISOString(),planOnly:T};k({runs:[C,...u.slice(0,9)]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Terraform"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Infrastructure as Code"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage workspaces, runs, and state"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Workspaces"}),e.jsx(Mt,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Active Runs"}),e.jsx(Ke,{className:"h-4 w-4 text-cyan-500 animate-pulse"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"running"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),e.jsx(os,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"success"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"State Versions"}),e.jsx(Ds,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:m.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"versions"})]})})]})]}),e.jsxs(Ve,{defaultValue:"workspaces",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"workspaces",children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Workspaces (",d.length,")"]}),e.jsxs(de,{value:"runs",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Runs (",u.length,")"]}),e.jsxs(de,{value:"state",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"State (",m.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"workspaces",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Workspaces"}),e.jsx(ie,{children:"Manage Terraform workspaces"})]}),e.jsxs(V,{onClick:E,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Workspace"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(I=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Mt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:I.name}),I.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:I.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs($,{variant:"outline",className:"font-mono text-xs",children:[e.jsx(Nn,{className:"h-3 w-3 mr-1"}),"v",I.terraformVersion||"1.5.0"]}),I.autoApply&&e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(os,{className:"h-3 w-3 mr-1"}),"Auto Apply"]}),I.lastRun&&e.jsxs($,{variant:I.lastRun.status==="applied"?"default":I.lastRun.status==="errored"?"destructive":"secondary",children:[I.lastRun.status==="applied"&&e.jsx(os,{className:"h-3 w-3 mr-1"}),I.lastRun.status==="errored"&&e.jsx(us,{className:"h-3 w-3 mr-1"}),I.lastRun.status]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{size:"sm",variant:"default",onClick:()=>P(I.id,!1),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Run Plan"]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>N(I.id),disabled:d.length===1,className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Workspace Name"}),e.jsx(J,{value:I.name,onChange:T=>A(I.id,"name",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Terraform Version"}),e.jsxs(Pe,{value:I.terraformVersion||"1.5.0",onValueChange:T=>A(I.id,"terraformVersion",T),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"1.5.0",children:"1.5.0"}),e.jsx(ne,{value:"1.4.0",children:"1.4.0"}),e.jsx(ne,{value:"1.3.0",children:"1.3.0"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Working Directory"}),e.jsx(J,{value:I.workingDirectory||"",onChange:T=>A(I.id,"workingDirectory",T.target.value),placeholder:"/terraform"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Auto Apply"}),e.jsx(ge,{checked:I.autoApply??!1,onCheckedChange:T=>A(I.id,"autoApply",T)})]})]}),I.description&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Description"}),e.jsx(ss,{value:I.description,onChange:T=>A(I.id,"description",T.target.value),rows:2})]})]})]},I.id))})})]})}),e.jsx(ue,{value:"runs",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Terraform Runs"}),e.jsx(ie,{children:"Execution history and status"})]}),e.jsx(R,{children:u.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No runs executed"}):e.jsx("div",{className:"space-y-2",children:u.map(I=>e.jsx(S,{className:`border-l-4 hover:shadow-md transition-all ${I.status==="applied"?"border-l-green-500 bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10":I.status==="errored"?"border-l-red-500 bg-gradient-to-r from-red-50/50 to-transparent dark:from-red-950/10":I.status==="canceled"?"border-l-gray-500 bg-gradient-to-r from-gray-50/50 to-transparent dark:from-gray-950/10":["pending","planning","applying"].includes(I.status)?"border-l-blue-500 bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10":"border-l-yellow-500 bg-gradient-to-r from-yellow-50/50 to-transparent dark:from-yellow-950/10"}`,children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:`p-2 rounded-lg ${I.status==="applied"?"bg-green-100 dark:bg-green-900/30":I.status==="errored"?"bg-red-100 dark:bg-red-900/30":["pending","planning","applying"].includes(I.status)?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-900/30"}`,children:[I.status==="applied"&&e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),I.status==="errored"&&e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),["pending","planning","applying"].includes(I.status)&&e.jsx(Ke,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 animate-pulse"}),I.status==="canceled"&&e.jsx(us,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:I.status==="applied"?"default":I.status==="errored"?"destructive":I.status==="canceled"?"outline":"secondary",className:"font-medium",children:I.status}),I.planOnly&&e.jsxs($,{variant:"outline",className:"text-xs",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Plan Only"]}),e.jsx("span",{className:"font-semibold text-base",children:I.workspace})]}),I.message&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:I.message}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tt,{className:"h-3 w-3"}),new Date(I.createdAt).toLocaleString()]}),I.duration&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),I.duration,"s"]})]})]})]})})},I.id))})})]})}),e.jsx(ue,{value:"state",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"State Management"}),e.jsx(ie,{children:"Terraform state versions"})]}),e.jsx(R,{children:m.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No state versions"}):e.jsx("div",{className:"space-y-2",children:m.map(I=>e.jsx(S,{className:"border-l-4 border-l-purple-500",children:e.jsx(R,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:"outline",children:I.workspace}),e.jsxs($,{variant:"outline",children:["v",I.version]}),e.jsxs($,{variant:"outline",children:["Serial: ",I.serial]}),I.resources&&e.jsxs($,{variant:"outline",children:[I.resources," resources"]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsxs("p",{children:["Updated: ",new Date(I.updatedAt).toLocaleString()]})})]})})})},I.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Terraform Settings"}),e.jsx(ie,{children:"Global configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Terraform Version"}),e.jsxs(Pe,{defaultValue:"1.5.0",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"1.5.0",children:"1.5.0"}),e.jsx(ne,{value:"1.4.0",children:"1.4.0"}),e.jsx(ne,{value:"1.3.0",children:"1.3.0"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable State Locking"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Remote State"}),e.jsx(ge,{defaultChecked:!0})]})]})]})})]})]})})}function nz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(q=>q.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.inventories||[{id:"1",name:"production",type:"static",hosts:[{name:"web1.example.com",groups:["web"],variables:{ansible_user:"ubuntu"}},{name:"db1.example.com",groups:["database"],variables:{ansible_user:"ubuntu"}}],groups:[{name:"web",hosts:["web1.example.com"],variables:{}},{name:"database",hosts:["db1.example.com"],variables:{}}]}],u=i.jobTemplates||[{id:"1",name:"Deploy Application",playbook:"deploy.yml",inventory:"production",enabled:!0,become:!0,becomeUser:"root",forks:5,timeout:3600}],m=i.jobs||[{id:"1",template:"Deploy Application",status:"successful",startedAt:new Date().toISOString(),finishedAt:new Date(Date.now()+12e4).toISOString(),duration:120,hosts:[{name:"web1.example.com",status:"ok"},{name:"db1.example.com",status:"ok"}]}],f=i.totalInventories||d.length,h=i.totalTemplates||u.length,p=i.activeJobs||m.filter(q=>q.status==="running").length,g=i.successfulJobs||m.filter(q=>q.status==="successful").length,[y,M]=j.useState(null),[w,k]=j.useState(null),[E,N]=j.useState(!1),[A,P]=j.useState(!1),I=q=>{r(a,{data:{...c.data,config:{...i,...q}}})},T=()=>{const q={id:`inv-${Date.now()}`,name:"new-inventory",type:"static",hosts:[],groups:[]};I({inventories:[...d,q]}),N(!1)},z=q=>{I({inventories:d.filter(F=>F.id!==q)})},C=(q,F,me)=>{const je=d.map(ce=>ce.id===q?{...ce,[F]:me}:ce);I({inventories:je})},L=()=>{const q={id:`template-${Date.now()}`,name:"New Template",playbook:"playbook.yml",inventory:d[0]?.name||"",enabled:!0,become:!1,forks:5,timeout:3600};I({jobTemplates:[...u,q]}),P(!1)},Q=q=>{I({jobTemplates:u.filter(F=>F.id!==q)})},Y=(q,F,me)=>{const je=u.map(ce=>ce.id===q?{...ce,[F]:me}:ce);I({jobTemplates:je})},W=q=>{const F=u.find(je=>je.id===q);if(!F)return;const me={id:`job-${Date.now()}`,template:F.name,status:"running",startedAt:new Date().toISOString()};I({jobs:[me,...m.slice(0,9)]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Ansible"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Configuration Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage inventories, job templates, and automation jobs"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Inventories"}),e.jsx(Qs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"configured"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Job Templates"}),e.jsx(Ds,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"available"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Active Jobs"}),e.jsx(Ke,{className:"h-4 w-4 text-cyan-500 animate-pulse"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"running"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Successful"}),e.jsx(os,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:g}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"completed"})]})})]})]}),e.jsxs(Ve,{defaultValue:"inventories",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"inventories",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Inventories (",d.length,")"]}),e.jsxs(de,{value:"templates",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Job Templates (",u.length,")"]}),e.jsxs(de,{value:"jobs",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Jobs (",m.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"inventories",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Inventories"}),e.jsx(ie,{children:"Manage host inventories"})]}),e.jsxs(V,{onClick:T,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Inventory"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(q=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:q.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-medium",children:q.type==="static"?"Static":"Dynamic"}),q.hosts&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[e.jsx(Qs,{className:"h-3 w-3 mr-1"}),q.hosts.length," hosts"]}),q.groups&&e.jsxs($,{variant:"outline",className:"bg-purple-50 dark:bg-purple-950/20",children:[e.jsx(Mt,{className:"h-3 w-3 mr-1"}),q.groups.length," groups"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>z(q.id),disabled:d.length===1,className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Inventory Name"}),e.jsx(J,{value:q.name,onChange:F=>C(q.id,"name",F.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Inventory Type"}),e.jsxs(Pe,{value:q.type,onValueChange:F=>C(q.id,"type",F),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"static",children:"Static"}),e.jsx(ne,{value:"dynamic",children:"Dynamic"})]})]})]})]}),q.hosts&&q.hosts.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Hosts"}),e.jsx("div",{className:"space-y-1",children:q.hosts.map((F,me)=>e.jsx($,{variant:"outline",className:"mr-2",children:F.name},me))})]})]})]},q.id))})})]})}),e.jsx(ue,{value:"templates",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Job Templates"}),e.jsx(ie,{children:"Configure automation job templates"})]}),e.jsxs(V,{onClick:L,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(q=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(Ds,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:q.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:q.enabled?"default":"outline",className:q.enabled?"bg-green-500":"",children:q.enabled?e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"h-3 w-3 mr-1"}),"Enabled"]}):"Disabled"}),e.jsxs($,{variant:"outline",className:"font-mono text-xs",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),q.playbook]}),e.jsxs($,{variant:"outline",className:"text-xs",children:[e.jsx(Qs,{className:"h-3 w-3 mr-1"}),q.inventory]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{size:"sm",variant:"default",onClick:()=>W(q.id),disabled:!q.enabled,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Launch"]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(q.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(R,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Template Name"}),e.jsx(J,{value:q.name,onChange:F=>Y(q.id,"name",F.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Playbook"}),e.jsx(J,{value:q.playbook,onChange:F=>Y(q.id,"playbook",F.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Inventory"}),e.jsxs(Pe,{value:q.inventory,onValueChange:F=>Y(q.id,"inventory",F),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:d.map(F=>e.jsx(ne,{value:F.name,children:F.name},F.id))})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enabled"}),e.jsx(ge,{checked:q.enabled,onCheckedChange:F=>Y(q.id,"enabled",F)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Become (sudo)"}),e.jsx(ge,{checked:q.become??!1,onCheckedChange:F=>Y(q.id,"become",F)})]}),q.become&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Become User"}),e.jsx(J,{value:q.becomeUser||"root",onChange:F=>Y(q.id,"becomeUser",F.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Forks"}),e.jsx(J,{type:"number",value:q.forks||5,onChange:F=>Y(q.id,"forks",Number(F.target.value)),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Timeout (seconds)"}),e.jsx(J,{type:"number",value:q.timeout||3600,onChange:F=>Y(q.id,"timeout",Number(F.target.value)),min:1})]})]})})]},q.id))})})]})}),e.jsx(ue,{value:"jobs",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Job History"}),e.jsx(ie,{children:"Execution history and status"})]}),e.jsx(R,{children:m.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No jobs executed"}):e.jsx("div",{className:"space-y-2",children:m.map(q=>e.jsx(S,{className:`border-l-4 hover:shadow-md transition-all ${q.status==="successful"?"border-l-green-500 bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10":q.status==="failed"?"border-l-red-500 bg-gradient-to-r from-red-50/50 to-transparent dark:from-red-950/10":q.status==="running"?"border-l-blue-500 bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10":"border-l-gray-500 bg-gradient-to-r from-gray-50/50 to-transparent dark:from-gray-950/10"}`,children:e.jsx(R,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:`p-2 rounded-lg ${q.status==="successful"?"bg-green-100 dark:bg-green-900/30":q.status==="failed"?"bg-red-100 dark:bg-red-900/30":q.status==="running"?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-900/30"}`,children:[q.status==="successful"&&e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),q.status==="failed"&&e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),q.status==="running"&&e.jsx(Ke,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 animate-pulse"}),q.status==="canceled"&&e.jsx(us,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{variant:q.status==="successful"?"default":q.status==="failed"?"destructive":q.status==="running"?"secondary":"outline",className:"font-medium",children:q.status}),e.jsx("span",{className:"font-semibold text-base",children:q.template})]}),q.hosts&&e.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:q.hosts.map((F,me)=>e.jsxs($,{variant:F.status==="ok"?"default":F.status==="failed"?"destructive":"outline",className:"text-xs",children:[F.status==="ok"&&e.jsx(os,{className:"h-3 w-3 mr-1"}),F.status==="failed"&&e.jsx(us,{className:"h-3 w-3 mr-1"}),F.name,": ",F.status]},me))}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tt,{className:"h-3 w-3"}),new Date(q.startedAt).toLocaleString()]}),q.finishedAt&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(os,{className:"h-3 w-3"}),new Date(q.finishedAt).toLocaleString()]}),q.duration&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),q.duration,"s"]})]})]})]})})},q.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Ansible Settings"}),e.jsx(ie,{children:"Global configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Forks"}),e.jsx(J,{type:"number",defaultValue:5,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Timeout (seconds)"}),e.jsx(J,{type:"number",defaultValue:3600,min:1})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Host Key Checking"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Gathering Facts"}),e.jsx(ge,{defaultChecked:!0})]})]})]})})]})]})})}function lz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(U=>U.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.trackingUri||"http://mlflow:5000",u=i.enableModelRegistry??!0,m=i.enableArtifactStore??!0,f=i.artifactStorePath||"/mlflow/artifacts",h=i.experiments||[],p=i.runs||[],g=i.models||[],y=i.selectedExperiment||h[0]?.name||"",[M,w]=j.useState(!1),[k,E]=j.useState(!1),[N,A]=j.useState(""),[P,I]=j.useState(""),[T,z]=j.useState(""),C=U=>{r(a,{data:{...c.data,config:{...i,...U}}})},L=()=>{const U={id:String(h.length+1),name:"new-experiment",runs:0,status:"active"};C({experiments:[...h,U]}),w(!1)},Q=U=>{C({experiments:h.filter((ae,Z)=>Z!==U)})},Y=()=>{const U={id:`run-${Date.now()}`,name:`run-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5)}`,experiment:y||h[0]?.name||"",status:"running",startTime:new Date().toISOString(),metrics:[],parameters:[],tags:{}};C({runs:[...p,U]}),E(!1)},W=U=>{C({runs:p.filter((ae,Z)=>Z!==U)})},q=(U,ae)=>{const Z=p.map(O=>O.id===U?{...O,status:ae,endTime:new Date().toISOString()}:O);C({runs:Z})},F=U=>{const ae=p.find(oe=>oe.id===U);if(!ae)return;const Z=ae.tags?.model_name||"model",O=g.filter(oe=>oe.name===Z).map(oe=>oe.version),re=O.length>0?Math.max(...O)+1:1,H={id:`model-${Date.now()}`,name:Z,version:re,stage:"None",runId:U,registeredAt:new Date().toISOString(),tags:ae.tags||{}};C({models:[...g,H]})},me=U=>{C({models:g.filter((ae,Z)=>Z!==U)})},je=(U,ae)=>{const Z=[...g];Z[U]={...Z[U],stage:ae},C({models:Z})},ce=U=>{switch(U){case"finished":case"active":return e.jsx($,{variant:"default",className:"bg-green-500",children:"Finished"});case"running":return e.jsx($,{variant:"default",className:"bg-blue-500",children:"Running"});case"failed":return e.jsx($,{variant:"destructive",children:"Failed"});case"killed":return e.jsx($,{variant:"outline",className:"border-orange-500 text-orange-500",children:"Killed"});default:return e.jsx($,{variant:"secondary",children:"Unknown"})}},K=p.filter(U=>!(y&&U.experiment!==y||T&&!U.name.toLowerCase().includes(T.toLowerCase())));return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(wv,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"MLflow"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"ML lifecycle management & experiment tracking"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:"v2.8"}),e.jsxs($,{variant:"secondary",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Running"]})]})]}),e.jsx(ye,{}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Connection Settings"}),e.jsx(ie,{children:"Configure MLflow tracking server"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Tracking URI"}),e.jsx(J,{value:d,onChange:U=>C({trackingUri:U.target.value}),placeholder:"http://mlflow:5000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Artifact Store Path"}),e.jsx(J,{value:f,onChange:U=>C({artifactStorePath:U.target.value}),placeholder:"/mlflow/artifacts"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Model Registry"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable model versioning and staging"})]}),e.jsx(ge,{checked:u,onCheckedChange:U=>C({enableModelRegistry:U})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{children:"Enable Artifact Store"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Store model artifacts and files"})]}),e.jsx(ge,{checked:m,onCheckedChange:U=>C({enableArtifactStore:U})})]})]})]}),e.jsxs(Ve,{defaultValue:"experiments",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-4",children:[e.jsxs(de,{value:"experiments",className:"gap-2",children:[e.jsx(wv,{className:"h-4 w-4"}),"Experiments"]}),e.jsxs(de,{value:"runs",className:"gap-2",children:[e.jsx(_s,{className:"h-4 w-4"}),"Runs"]}),e.jsxs(de,{value:"models",className:"gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Models"]}),e.jsxs(de,{value:"metrics",className:"gap-2",children:[e.jsx(ea,{className:"h-4 w-4"}),"Metrics"]})]}),e.jsx(ue,{value:"experiments",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Experiments"}),e.jsx(ie,{children:"Manage ML experiments"})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>w(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Experiment"]})]}),M&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Experiment Name"}),e.jsx(J,{placeholder:"new-experiment"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:L,children:"Create Experiment"}),e.jsx(V,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:h.map((U,ae)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:U.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[U.runs," runs",U.lastRun&&`  Last run: ${U.lastRun}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:U.status==="active"?"default":"secondary",children:U.status||"active"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(ae),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),U.tags&&Object.keys(U.tags).length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(U.tags).map(([Z,O])=>e.jsxs($,{variant:"outline",className:"text-xs",children:[Z,": ",O]},Z))})]},ae))})]})}),e.jsx(ue,{value:"runs",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Runs"}),e.jsx(ie,{children:"Training runs and their metrics"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Pe,{value:y,onValueChange:U=>C({selectedExperiment:U}),children:[e.jsx(De,{className:"w-48",children:e.jsx(Oe,{placeholder:"All Experiments"})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"",children:"All Experiments"}),h.map((U,ae)=>e.jsx(ne,{value:U.name,children:U.name},ae))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ra,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(J,{className:"pl-8 w-64",placeholder:"Search runs...",value:T,onChange:U=>z(U.target.value)})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>E(!0),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"New Run"]})]})]}),k&&e.jsx(R,{className:"border-b pb-4 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Experiment"}),e.jsxs(Pe,{value:y,onValueChange:U=>C({selectedExperiment:U}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:h.map((U,ae)=>e.jsx(ne,{value:U.name,children:U.name},ae))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{onClick:Y,children:"Start Run"}),e.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Cancel"})]})]})}),e.jsx(R,{className:"space-y-3",children:K.map((U,ae)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold font-mono",children:U.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[U.experiment,"  Started: ",new Date(U.startTime).toLocaleString(),U.duration&&`  Duration: ${Math.floor(U.duration/60)}m ${U.duration%60}s`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ce(U.status),U.status==="running"&&e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>q(U.id,"killed"),children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Stop"]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>A(N===U.id?"":U.id),children:N===U.id?"Hide":"View"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>W(ae),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),N===U.id&&e.jsxs("div",{className:"pt-3 border-t space-y-4",children:[U.metrics&&U.metrics.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Metrics"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:U.metrics.map((Z,O)=>e.jsxs("div",{className:"p-2 border rounded bg-muted/50",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:Z.key}),e.jsx("div",{className:"font-semibold",children:Z.value.toFixed(4)}),Z.step!==void 0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Step: ",Z.step]})]},O))})]}),U.parameters&&U.parameters.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Parameters"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:U.parameters.map((Z,O)=>e.jsxs("div",{className:"p-2 border rounded bg-muted/50",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:Z.key}),e.jsx("div",{className:"font-mono text-sm",children:Z.value})]},O))})]}),U.tags&&Object.keys(U.tags).length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(U.tags).map(([Z,O])=>e.jsxs($,{variant:"outline",className:"text-xs",children:[Z,": ",O]},Z))})]}),U.artifacts&&U.artifacts.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Artifacts"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:U.artifacts.map((Z,O)=>e.jsxs($,{variant:"secondary",className:"text-xs",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),Z]},O))})]}),U.status==="finished"&&u&&e.jsx("div",{className:"pt-2",children:e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>F(U.id),children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Register Model"]})})]})]},ae))})]})}),e.jsx(ue,{value:"models",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Model Registry"}),e.jsx(ie,{children:"Registered models and versions"})]}),e.jsx(R,{className:"space-y-3",children:g.map((U,ae)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:U.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Version ",U.version,"  Run: ",U.runId,U.registeredAt&&`  Registered: ${new Date(U.registeredAt).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Pe,{value:U.stage,onValueChange:Z=>je(ae,Z),children:[e.jsx(De,{className:"w-32",children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"None",children:"None"}),e.jsx(ne,{value:"Staging",children:"Staging"}),e.jsx(ne,{value:"Production",children:"Production"}),e.jsx(ne,{value:"Archived",children:"Archived"})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>me(ae),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]}),U.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:U.description}),U.tags&&Object.keys(U.tags).length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(U.tags).map(([Z,O])=>e.jsxs($,{variant:"outline",className:"text-xs",children:[Z,": ",O]},Z))})]},ae))})]})}),e.jsx(ue,{value:"metrics",className:"mt-4 space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Metrics Comparison"}),e.jsx(ie,{children:"Compare metrics across runs"})]}),e.jsxs(R,{className:"space-y-4",children:[p.filter(U=>U.metrics&&U.metrics.length>0).map((U,ae)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card space-y-3",children:[e.jsx("div",{className:"font-semibold font-mono text-sm",children:U.name}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:U.metrics?.map((Z,O)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:Z.key}),e.jsx("div",{className:"text-2xl font-bold",children:Z.value.toFixed(4)}),Z.step!==void 0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Step ",Z.step]})]},O))})]},ae)),p.filter(U=>U.metrics&&U.metrics.length>0).length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No metrics available. Start a run to see metrics."})]})]})})]})]})})}function rz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(T=>T.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.jobs||[],u=i.stages||[],m=i.executors||[],f=i.totalJobs||d.length,h=i.activeJobs||d.filter(T=>T.status==="RUNNING").length,p=i.totalExecutors||m.length,g=i.totalCores||m.reduce((T,z)=>T+z.cores,0),y=i.totalMemory||m.reduce((T,z)=>T+z.memoryMax,0),M=i.sparkMaster||"spark://master:7077",w=i.sparkAppName||"Spark Application",[k,E]=j.useState(""),N=T=>{r(a,{data:{...c.data,config:{...i,...T}}})},A=T=>{switch(T){case"RUNNING":case"ACTIVE":case"ALIVE":return"bg-green-500";case"SUCCEEDED":case"COMPLETE":return"bg-blue-500";case"FAILED":case"DEAD":return"bg-red-500";case"KILLED":return"bg-gray-500";default:return"bg-gray-500"}},P=T=>{if(!T)return"0 B";const z=["B","KB","MB","GB","TB"],C=Math.floor(Math.log(T)/Math.log(1024));return`${(T/Math.pow(1024,C)).toFixed(2)} ${z[C]}`},I=T=>{if(!T)return"0s";const z=Math.floor(T/3600),C=Math.floor(T%3600/60),L=T%60;return z>0?`${z}h ${C}m ${L}s`:C>0?`${C}m ${L}s`:`${L}s`};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Apache Spark"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Spark Application"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unified analytics engine for large-scale data processing"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Jobs"}),e.jsx(Ke,{className:"h-4 w-4 text-blue-500"})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[h," active"]})]})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Executors"}),e.jsx(hh,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"alive"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Cores"}),e.jsx(St,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:g}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Memory"}),e.jsx(gs,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:(y/1024).toFixed(1)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"GB"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-orange-500 bg-gradient-to-br from-orange-50 to-white dark:from-orange-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"App Name"}),e.jsx(ms,{className:"h-4 w-4 text-orange-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400 truncate",children:w})})]})]}),e.jsxs(Ve,{defaultValue:"jobs",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"jobs",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Jobs (",d.length,")"]}),e.jsxs(de,{value:"stages",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Stages (",u.length,")"]}),e.jsxs(de,{value:"executors",children:[e.jsx(hh,{className:"h-4 w-4 mr-2"}),"Executors (",m.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"jobs",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Jobs"}),e.jsx(ie,{children:"Spark application jobs"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(T=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${A(T.status)}/20`,children:T.status==="RUNNING"?e.jsx(_s,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):T.status==="SUCCEEDED"?e.jsx(os,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:T.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:A(T.status),children:T.status}),T.duration&&e.jsxs($,{variant:"outline",children:[e.jsx(Tt,{className:"h-3 w-3 mr-1"}),I(T.duration)]}),T.stages&&e.jsxs($,{variant:"outline",children:[T.stages," stages"]}),T.tasks&&e.jsxs($,{variant:"outline",children:[T.tasks," tasks"]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Input:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.inputBytes)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Output:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.outputBytes)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Shuffle Read:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.shuffleRead)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Shuffle Write:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.shuffleWrite)})]})]}),T.startTime&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Started: ",new Date(T.startTime).toLocaleString(),T.endTime&&`  Ended: ${new Date(T.endTime).toLocaleString()}`]})]})]},T.id))})})]})}),e.jsx(ue,{value:"stages",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Stages"}),e.jsx(ie,{children:"Job execution stages"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(T=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${A(T.status)}/20`,children:T.status==="COMPLETE"?e.jsx(os,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}):T.status==="ACTIVE"?e.jsx(_s,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:T.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:A(T.status),children:T.status}),e.jsxs($,{variant:"outline",children:[T.numCompleteTasks,"/",T.numTasks," tasks"]}),T.duration&&e.jsxs($,{variant:"outline",children:[e.jsx(Tt,{className:"h-3 w-3 mr-1"}),I(T.duration)]})]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Input:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.inputBytes)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Output:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.outputBytes)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Shuffle Read:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.shuffleRead)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Shuffle Write:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P(T.shuffleWrite)})]})]})})]},T.id))})})]})}),e.jsx(ue,{value:"executors",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Executors"}),e.jsx(ie,{children:"Spark executor nodes"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map(T=>e.jsxs(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${A(T.status)}/20`,children:e.jsx(hh,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:T.id}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:A(T.status),children:T.status}),e.jsx($,{variant:"outline",children:T.host}),e.jsxs($,{variant:"outline",children:[T.cores," cores"]})]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Memory:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[(T.memoryUsed/1024).toFixed(1)," / ",(T.memoryMax/1024).toFixed(1)," GB"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Disk:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[(T.diskUsed/1024).toFixed(1)," / ",(T.diskMax/1024).toFixed(1)," GB"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tasks:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[T.activeTasks," active / ",T.totalTasks," total"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Shuffle:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:["R: ",P(T.totalShuffleRead)," W: ",P(T.totalShuffleWrite)]})]})]})})]},T.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Spark Settings"}),e.jsx(ie,{children:"Application configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Master URL"}),e.jsx(J,{value:M,onChange:T=>N({sparkMaster:T.target.value}),placeholder:"spark://master:7077"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Application Name"}),e.jsx(J,{value:w,onChange:T=>N({sparkAppName:T.target.value}),placeholder:"Spark Application"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Driver Memory"}),e.jsx(J,{type:"text",defaultValue:"2g"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Executor Memory"}),e.jsx(J,{type:"text",defaultValue:"4g"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Executor Cores"}),e.jsx(J,{type:"number",defaultValue:4,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Executors"}),e.jsx(J,{type:"number",defaultValue:10,min:1})]})]})]})})]})]})})}function iz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(z=>z.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.models||[],u=i.predictions||[],m=i.endpoint||"localhost:8501",f=i.totalModels||d.length,h=i.totalPredictions||u.length,p=i.averageLatency||(d.length>0?d.reduce((z,C)=>z+(C.avgLatency||0),0)/d.length:0),[g,y]=j.useState(""),[M,w]=j.useState(""),[k,E]=j.useState(""),[N,A]=j.useState(""),P=z=>{r(a,{data:{...c.data,config:{...i,...z}}})},I=()=>{if(!g||!M)return;const z={id:`pred-${Date.now()}`,model:g,version:M,input:k,output:JSON.stringify({predictions:[[.8,.1,.1]]},null,2),status:"success",timestamp:new Date().toISOString(),latency:Math.floor(Math.random()*50)+20};A(z.output||""),P({predictions:[...u,z]})},T=z=>{switch(z){case"serving":return"bg-green-500";case"loading":return"bg-yellow-500";case"unavailable":return"bg-red-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"TensorFlow Serving"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Model Serving"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"High-performance serving system for machine learning models"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Models"}),e.jsx(mh,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"serving"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Predictions"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(St,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:p.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Endpoint"}),e.jsx(gs,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"text-sm font-semibold text-cyan-600 dark:text-cyan-400 truncate",children:m})})]})]}),e.jsxs(Ve,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"test",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Test Prediction"]}),e.jsxs(de,{value:"models",children:[e.jsx(mh,{className:"h-4 w-4 mr-2"}),"Models (",d.length,")"]}),e.jsxs(de,{value:"history",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Prediction History (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"test",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Model Prediction"}),e.jsx(ie,{children:"Test model inference"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Model"}),e.jsxs(Pe,{value:g,onValueChange:z=>{y(z);const C=d.find(L=>L.name===z);C&&w(C.version)},children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select model"})}),e.jsx(_e,{children:d.map(z=>e.jsx(ne,{value:z.name,children:z.name},z.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Version"}),e.jsxs(Pe,{value:M,onValueChange:w,children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select version"})}),e.jsx(_e,{children:g&&d.find(z=>z.name===g)&&e.jsx(ne,{value:d.find(z=>z.name===g).version,children:d.find(z=>z.name===g).version})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Input (JSON)"}),e.jsx(ss,{value:k,onChange:z=>E(z.target.value),className:"font-mono text-sm min-h-[200px]",placeholder:'{ "instances": [...] }'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Output"}),e.jsx(ss,{value:N,readOnly:!0,className:"font-mono text-sm min-h-[200px] bg-muted",placeholder:"Prediction result will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:I,disabled:!g||!M,children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Run Prediction"]}),e.jsx(V,{variant:"outline",onClick:()=>{E(""),A("")},children:"Clear"})]})]})]})}),e.jsx(ue,{value:"models",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Models"}),e.jsx(ie,{children:"Deployed TensorFlow models"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(z=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${T(z.status)}/20`,children:e.jsx(mh,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:T(z.status),children:z.status}),e.jsxs($,{variant:"outline",children:["v",z.version]}),e.jsx($,{variant:"outline",children:z.platform}),z.requests&&e.jsxs($,{variant:"outline",children:[z.requests," requests"]})]})]})]})}),e.jsxs(R,{children:[z.inputs&&z.inputs.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Inputs"}),z.inputs.map((C,L)=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsx("span",{className:"font-mono font-semibold",children:C.name}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.dtype}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.shape})]},L))]}),z.outputs&&z.outputs.length>0&&e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(b,{children:"Outputs"}),z.outputs.map((C,L)=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsx("span",{className:"font-mono font-semibold",children:C.name}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.dtype}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.shape})]},L))]}),z.avgLatency&&e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Latency:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[z.avgLatency,"ms"]})]})]})]},`${z.name}-${z.version}`))})})]})}),e.jsx(ue,{value:"history",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Prediction History"}),e.jsx(ie,{children:"Previously executed predictions"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(z=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${z.status==="success"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:z.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsxs(_,{className:"text-lg font-semibold",children:[z.model," v",z.version]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.latency&&e.jsxs($,{variant:"outline",children:[z.latency,"ms"]}),e.jsx($,{variant:z.status==="success"?"default":"destructive",children:z.status})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.input&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Input"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:z.input})]}),z.output&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Output"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:z.output})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(z.timestamp).toLocaleString()})]})]},z.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"TensorFlow Serving Settings"}),e.jsx(ie,{children:"Server configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint"}),e.jsx(J,{value:m,onChange:z=>P({endpoint:z.target.value}),placeholder:"localhost:8501"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable GPU"}),e.jsx(ge,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Batching"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Batch Size"}),e.jsx(J,{type:"number",defaultValue:32,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Batch Wait Time (ms)"}),e.jsx(J,{type:"number",defaultValue:100,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Model Base Path"}),e.jsx(J,{defaultValue:"/models"})]})]})]})})]})]})})}function cz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(z=>z.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.models||[],u=i.predictions||[],m=i.endpoint||"localhost:8080",f=i.totalModels||d.length,h=i.totalPredictions||u.length,p=i.averageLatency||(d.length>0?d.reduce((z,C)=>z+(C.avgLatency||0),0)/d.length:0),[g,y]=j.useState(""),[M,w]=j.useState(""),[k,E]=j.useState(""),[N,A]=j.useState(""),P=z=>{r(a,{data:{...c.data,config:{...i,...z}}})},I=()=>{if(!g||!M)return;const z={id:`pred-${Date.now()}`,model:g,version:M,input:k,output:JSON.stringify({predictions:[[.85,.1,.05]]},null,2),status:"success",timestamp:new Date().toISOString(),latency:Math.floor(Math.random()*40)+20};A(z.output||""),P({predictions:[...u,z]})},T=z=>{switch(z){case"serving":return"bg-green-500";case"loading":return"bg-yellow-500";case"unavailable":return"bg-red-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"PyTorch Serve"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Model Serving"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Flexible and easy-to-use serving for PyTorch models"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-orange-500 bg-gradient-to-br from-orange-50 to-white dark:from-orange-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Models"}),e.jsx(xh,{className:"h-4 w-4 text-orange-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"serving"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Predictions"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(St,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:p.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Endpoint"}),e.jsx(gs,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"text-sm font-semibold text-cyan-600 dark:text-cyan-400 truncate",children:m})})]})]}),e.jsxs(Ve,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"test",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Test Prediction"]}),e.jsxs(de,{value:"models",children:[e.jsx(xh,{className:"h-4 w-4 mr-2"}),"Models (",d.length,")"]}),e.jsxs(de,{value:"history",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Prediction History (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"test",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Model Prediction"}),e.jsx(ie,{children:"Test model inference"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Model"}),e.jsxs(Pe,{value:g,onValueChange:z=>{y(z);const C=d.find(L=>L.name===z);C&&w(C.version)},children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select model"})}),e.jsx(_e,{children:d.map(z=>e.jsx(ne,{value:z.name,children:z.name},z.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Version"}),e.jsxs(Pe,{value:M,onValueChange:w,children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select version"})}),e.jsx(_e,{children:g&&d.find(z=>z.name===g)&&e.jsx(ne,{value:d.find(z=>z.name===g).version,children:d.find(z=>z.name===g).version})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Input (JSON)"}),e.jsx(ss,{value:k,onChange:z=>E(z.target.value),className:"font-mono text-sm min-h-[200px]",placeholder:'{ "data": [...] }'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Output"}),e.jsx(ss,{value:N,readOnly:!0,className:"font-mono text-sm min-h-[200px] bg-muted",placeholder:"Prediction result will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:I,disabled:!g||!M,children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Run Prediction"]}),e.jsx(V,{variant:"outline",onClick:()=>{E(""),A("")},children:"Clear"})]})]})]})}),e.jsx(ue,{value:"models",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Models"}),e.jsx(ie,{children:"Deployed PyTorch models"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(z=>e.jsxs(S,{className:"border-l-4 border-l-orange-500 hover:shadow-md transition-shadow bg-gradient-to-r from-orange-50/50 to-transparent dark:from-orange-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${T(z.status)}/20`,children:e.jsx(xh,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:T(z.status),children:z.status}),e.jsxs($,{variant:"outline",children:["v",z.version]}),e.jsx($,{variant:"outline",children:z.handler}),z.requests&&e.jsxs($,{variant:"outline",children:[z.requests," requests"]})]})]})]})}),e.jsxs(R,{children:[z.inputs&&z.inputs.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Inputs"}),z.inputs.map((C,L)=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsx("span",{className:"font-mono font-semibold",children:C.name}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.dtype}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.shape})]},L))]}),z.outputs&&z.outputs.length>0&&e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(b,{children:"Outputs"}),z.outputs.map((C,L)=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsx("span",{className:"font-mono font-semibold",children:C.name}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.dtype}),e.jsx($,{variant:"outline",className:"ml-2 text-xs",children:C.shape})]},L))]}),z.avgLatency&&e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Latency:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[z.avgLatency,"ms"]})]})]})]},`${z.name}-${z.version}`))})})]})}),e.jsx(ue,{value:"history",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Prediction History"}),e.jsx(ie,{children:"Previously executed predictions"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(z=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${z.status==="success"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:z.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsxs(_,{className:"text-lg font-semibold",children:[z.model," v",z.version]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.latency&&e.jsxs($,{variant:"outline",children:[z.latency,"ms"]}),e.jsx($,{variant:z.status==="success"?"default":"destructive",children:z.status})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.input&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Input"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:z.input})]}),z.output&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Output"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:z.output})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(z.timestamp).toLocaleString()})]})]},z.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"PyTorch Serve Settings"}),e.jsx(ie,{children:"Server configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint"}),e.jsx(J,{value:m,onChange:z=>P({endpoint:z.target.value}),placeholder:"localhost:8080"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable GPU"}),e.jsx(ge,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Batching"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Batch Size"}),e.jsx(J,{type:"number",defaultValue:32,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Batch Wait Time (ms)"}),e.jsx(J,{type:"number",defaultValue:100,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Model Store"}),e.jsx(J,{defaultValue:"/models"})]})]})]})})]})]})})}function oz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(k=>k.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.features||[],u=i.featureSets||[],m=i.totalFeatures||d.length,f=i.totalFeatureSets||u.length,h=i.totalUsage||d.reduce((k,E)=>k+(E.usage||0),0),[p,g]=j.useState(!1),y=k=>{r(a,{data:{...c.data,config:{...i,...k}}})},M=()=>{const k={name:"new-feature",version:"1.0",type:"numerical",dataType:"float64",tags:[]};y({features:[...d,k]}),g(!1)},w=(k,E)=>{y({features:d.filter(N=>!(N.name===k&&N.version===E))})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Feature Store"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Feature Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Centralized repository for machine learning features"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Features"}),e.jsx(Jt,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Feature Sets"}),e.jsx(gs,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Total Usage"}),e.jsx(ea,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:h.toLocaleString()}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"requests"})]})})]})]}),e.jsxs(Ve,{defaultValue:"features",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"features",children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Features (",d.length,")"]}),e.jsxs(de,{value:"feature-sets",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Feature Sets (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"features",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Features"}),e.jsx(ie,{children:"Registered features in the store"})]}),e.jsxs(V,{onClick:M,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Feature"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(k=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Jt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:k.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs($,{variant:"outline",children:["v",k.version]}),e.jsx($,{variant:"outline",children:k.type}),e.jsx($,{variant:"outline",children:k.dataType}),k.usage&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[k.usage," uses"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>w(k.name,k.version),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{children:[k.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:k.description}),k.defaultValue!==void 0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Default:"}),e.jsx("span",{className:"ml-2 font-mono",children:String(k.defaultValue)})]}),k.tags&&k.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:k.tags.map((E,N)=>e.jsx($,{variant:"outline",className:"text-xs",children:E},N))})]})]},`${k.name}-${k.version}`))})})]})}),e.jsx(ue,{value:"feature-sets",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Feature Sets"}),e.jsx(ie,{children:"Grouped collections of features"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(k=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(gs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:k.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs($,{variant:"outline",children:["v",k.version]}),e.jsxs($,{variant:"outline",children:[k.features.length," features"]}),k.usage&&e.jsxs($,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20",children:[k.usage," uses"]})]})]})]})}),e.jsxs(R,{children:[k.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:k.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Features:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.features.map((E,N)=>e.jsx($,{variant:"outline",className:"text-xs",children:E},N))})]}),k.createdAt&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Created: ",new Date(k.createdAt).toLocaleString()]})]})]},`${k.name}-${k.version}`))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Feature Store Settings"}),e.jsx(ie,{children:"Store configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Versioning"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Feature Validation"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Usage Tracking"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Storage Backend"}),e.jsxs(Pe,{defaultValue:"redis",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"redis",children:"Redis"}),e.jsx(ne,{value:"postgres",children:"PostgreSQL"}),e.jsx(ne,{value:"mongodb",children:"MongoDB"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Feature TTL (hours)"}),e.jsx(J,{type:"number",defaultValue:24,min:1})]})]})]})})]})]})})}function dz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(N=>N.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.baseUrl||"https://api.example.com",u=i.version||"v1",m=i.title||"REST API",f=i.description||"RESTful API service",h=i.endpoints||[],p=i.authentication||{type:"none"},g=i.openApiSpec||`openapi: 3.0.0
info:
  title: ${m}
  version: ${u}
  description: ${f}
servers:
  - url: ${d}
paths:
  /users:
    get:
      summary: List users
      tags: [users]
      responses:
        '200':
          description: Successful response`,y=N=>{r(a,{data:{...c.data,config:{...i,...N}}})},M=()=>{y({endpoints:[...h,{path:"/new-endpoint",method:"GET",description:"New endpoint",requests:0,avgResponseTime:0,statusCode:200}]})},w=N=>{y({endpoints:h.filter((A,P)=>P!==N)})},k=(N,A,P)=>{const I=[...h];I[N]={...I[N],[A]:P},y({endpoints:I})},E=N=>{switch(N){case"GET":return"bg-blue-500";case"POST":return"bg-green-500";case"PUT":return"bg-yellow-500";case"DELETE":return"bg-red-500";case"PATCH":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(et,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"REST API"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"RESTful API Service"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Active"]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"OpenAPI"]})]})]}),e.jsx(ye,{}),e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"API Information"}),e.jsxs(ie,{children:[d,"/",u]})]}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Base URL"}),e.jsx(J,{value:d,onChange:N=>y({baseUrl:N.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Version"}),e.jsx(J,{value:u,onChange:N=>y({version:N.target.value})})]})]})})]}),e.jsxs(Ve,{defaultValue:"endpoints",className:"w-full",children:[e.jsxs(He,{className:"grid w-full grid-cols-3",children:[e.jsxs(de,{value:"endpoints",className:"gap-2",children:[e.jsx(Lr,{className:"h-4 w-4"}),"Endpoints"]}),e.jsxs(de,{value:"auth",className:"gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Authentication"]}),e.jsxs(de,{value:"openapi",className:"gap-2",children:[e.jsx(et,{className:"h-4 w-4"}),"OpenAPI Spec"]})]}),e.jsx(ue,{value:"endpoints",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"API Endpoints"}),e.jsx(ie,{children:"REST API endpoint configuration"})]}),e.jsxs(V,{size:"sm",onClick:M,variant:"outline",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]})]})}),e.jsx(R,{children:h.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Lr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No endpoints configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Endpoint" to create a new endpoint'})]}):e.jsx("div",{className:"space-y-3",children:h.map((N,A)=>e.jsxs(S,{className:"border-border",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:E(N.method),children:N.method}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg",children:N.path}),e.jsxs(ie,{className:"text-xs mt-1",children:[N.description,"  ",(N.requests||0).toLocaleString()," requests  ",N.avgResponseTime||0,"ms avg"]})]})]}),h.length>1&&e.jsx(V,{size:"icon",variant:"ghost",onClick:()=>w(A),children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Method"}),e.jsxs(Pe,{value:N.method,onValueChange:P=>k(A,"method",P),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"GET",children:"GET"}),e.jsx(ne,{value:"POST",children:"POST"}),e.jsx(ne,{value:"PUT",children:"PUT"}),e.jsx(ne,{value:"DELETE",children:"DELETE"}),e.jsx(ne,{value:"PATCH",children:"PATCH"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Path"}),e.jsx(J,{value:N.path,onChange:P=>k(A,"path",P.target.value),placeholder:"/users"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Summary"}),e.jsx(J,{value:N.summary||"",onChange:P=>k(A,"summary",P.target.value),placeholder:"Brief summary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Description"}),e.jsx(ss,{value:N.description,onChange:P=>k(A,"description",P.target.value),placeholder:"Detailed endpoint description",rows:2})]}),N.parameters&&N.parameters.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Parameters"}),e.jsx("div",{className:"space-y-2",children:N.parameters.map((P,I)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[e.jsx($,{variant:"outline",children:P.in}),e.jsx("span",{className:"text-sm font-mono",children:P.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",P.type,")"]}),P.required&&e.jsx($,{variant:"destructive",className:"text-xs",children:"required"})]},I))})]}),N.requestBody&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Request Body Example"}),e.jsx(ss,{value:N.requestBody,onChange:P=>k(A,"requestBody",P.target.value),className:"font-mono text-sm",rows:6})]}),N.responseExample&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Response Example"}),e.jsx(ss,{value:N.responseExample,onChange:P=>k(A,"responseExample",P.target.value),className:"font-mono text-sm",rows:6})]})]})]},A))})})]})}),e.jsx(ue,{value:"auth",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Authentication"}),e.jsx(ie,{children:"API authentication configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Authentication Type"}),e.jsxs(Pe,{value:p.type,onValueChange:N=>y({authentication:{...p,type:N}}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"none",children:"None"}),e.jsx(ne,{value:"bearer",children:"Bearer Token"}),e.jsx(ne,{value:"apiKey",children:"API Key"}),e.jsx(ne,{value:"oauth2",children:"OAuth 2.0"})]})]})]}),p.type!=="none"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Token / API Key"}),e.jsx(J,{type:"password",value:p.token||"",onChange:N=>y({authentication:{...p,token:N.target.value}}),placeholder:"Enter token or API key"})]})]})]})}),e.jsx(ue,{value:"openapi",className:"space-y-4 mt-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"OpenAPI Specification"}),e.jsx(ie,{children:"OpenAPI 3.0 specification document"})]}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"OpenAPI YAML"}),e.jsx(ss,{value:g,onChange:N=>y({openApiSpec:N.target.value}),className:"font-mono text-sm h-96",placeholder:"openapi: 3.0.0..."})]})})]})})]})]})})}function uz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(z=>z.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.queries||[],u=i.schema||{types:[{name:"User",kind:"OBJECT",fields:[{name:"id",type:"ID!",description:"User unique identifier"},{name:"name",type:"String!",description:"User name"},{name:"email",type:"String!",description:"User email"},{name:"posts",type:"[Post!]!",description:"User posts"}],description:"User type"},{name:"Post",kind:"OBJECT",fields:[{name:"id",type:"ID!",description:"Post unique identifier"},{name:"title",type:"String!",description:"Post title"},{name:"content",type:"String",description:"Post content"},{name:"author",type:"User!",description:"Post author"}],description:"Post type"}]},m=i.endpoint||"/graphql",f=i.subscriptionsEnabled??!0,h=i.introspectionEnabled??!0,p=i.totalQueries||d.length,g=i.averageResponseTime||d.reduce((z,C)=>z+(C.duration||0),0)/d.length,[y,M]=j.useState(""),[w,k]=j.useState(`query {
  users {
    id
    name
  }
}`),[E,N]=j.useState(""),[A,P]=j.useState(""),I=z=>{r(a,{data:{...c.data,config:{...i,...z}}})},T=()=>{const z={id:`query-${Date.now()}`,name:"New Query",query:w,variables:E||void 0,timestamp:new Date().toISOString(),duration:Math.floor(Math.random()*100)+20,success:!0};P(JSON.stringify({data:{users:[{id:"1",name:"John Doe"}]}},null,2)),I({queries:[...d,z]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"GraphQL"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"GraphQL API"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Query language and runtime for APIs"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Queries"}),e.jsx(Ke,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"executed"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Response"}),e.jsx(St,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:g.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Types"}),e.jsx(gs,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:u.types?.length||0}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Endpoint"}),e.jsx(Lr,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"text-sm font-semibold text-cyan-600 dark:text-cyan-400 truncate",children:m})})]})]}),e.jsxs(Ve,{defaultValue:"playground",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"playground",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Playground"]}),e.jsxs(de,{value:"schema",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Schema Explorer"]}),e.jsxs(de,{value:"history",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Query History (",d.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"playground",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"GraphQL Playground"}),e.jsx(ie,{children:"Execute queries and mutations"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Query"}),e.jsx(ss,{value:w,onChange:z=>k(z.target.value),className:"font-mono text-sm min-h-[300px]",placeholder:"query { ... }"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Variables (JSON)"}),e.jsx(ss,{value:E,onChange:z=>N(z.target.value),className:"font-mono text-sm min-h-[150px]",placeholder:'{ "id": "1" }'}),e.jsx(b,{children:"Response"}),e.jsx(ss,{value:A,readOnly:!0,className:"font-mono text-sm min-h-[150px] bg-muted",placeholder:"Response will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:T,children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Execute Query"]}),e.jsx(V,{variant:"outline",onClick:()=>{k(""),N(""),P("")},children:"Clear"})]})]})]})}),e.jsx(ue,{value:"schema",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Schema Explorer"}),e.jsx(ie,{children:"Browse GraphQL schema types and fields"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.types?.map(z=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(gs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:z.kind}),z.description&&e.jsx("span",{className:"text-sm text-muted-foreground",children:z.description})]})]})]})}),z.fields&&z.fields.length>0&&e.jsx(R,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Fields"}),z.fields.map(C=>e.jsxs("div",{className:"p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono font-semibold",children:C.name}),e.jsx($,{variant:"outline",className:"text-xs",children:C.type})]}),C.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.name))]})})]},z.name))})})]})}),e.jsx(ue,{value:"history",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Query History"}),e.jsx(ie,{children:"Previously executed queries"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(z=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${z.success?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:z.success?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.duration&&e.jsxs($,{variant:"outline",children:[z.duration,"ms"]}),e.jsx($,{variant:z.success?"default":"destructive",children:z.success?"Success":"Failed"})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Query"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:z.query}),z.variables&&e.jsxs(e.Fragment,{children:[e.jsx(b,{children:"Variables"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:z.variables})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(z.timestamp).toLocaleString()})]})]},z.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"GraphQL Settings"}),e.jsx(ie,{children:"API configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint URL"}),e.jsx(J,{value:m,onChange:z=>I({endpoint:z.target.value}),placeholder:"/graphql"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Subscriptions"}),e.jsx(ge,{checked:f,onCheckedChange:z=>I({subscriptionsEnabled:z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Introspection"}),e.jsx(ge,{checked:h,onCheckedChange:z=>I({introspectionEnabled:z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Query Complexity Analysis"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Query Depth Limiting"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Query Depth"}),e.jsx(J,{type:"number",defaultValue:15,min:1,max:50})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Query Complexity"}),e.jsx(J,{type:"number",defaultValue:1e3,min:1})]})]})]})})]})]})})}function mz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(z=>z.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.services||[],u=i.calls||[],m=i.endpoint||"localhost:50051",f=i.reflectionEnabled??!0,h=i.totalCalls||u.length,p=i.successRate||(u.length>0?u.filter(z=>z.status==="success").length/u.length*100:0),g=i.averageLatency||(u.length>0?u.reduce((z,C)=>z+(C.duration||0),0)/u.length:0),[y,M]=j.useState(""),[w,k]=j.useState(""),[E,N]=j.useState("{}"),[A,P]=j.useState(""),I=z=>{r(a,{data:{...c.data,config:{...i,...z}}})},T=()=>{if(!y||!w)return;const z={id:`call-${Date.now()}`,service:y,method:w,request:E,response:JSON.stringify({success:!0,data:{}},null,2),status:"success",timestamp:new Date().toISOString(),duration:Math.floor(Math.random()*50)+10};P(z.response),I({calls:[...u,z]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"gRPC"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"gRPC Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"High-performance RPC framework"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(Qs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Calls"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(os,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[p.toFixed(1),"%"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(St,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:g.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]})]}),e.jsxs(Ve,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"test",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Test Client"]}),e.jsxs(de,{value:"services",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Services (",d.length,")"]}),e.jsxs(de,{value:"history",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Call History (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"test",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"gRPC Test Client"}),e.jsx(ie,{children:"Test gRPC methods and services"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Service"}),e.jsxs(Pe,{value:y,onValueChange:z=>{M(z);const C=d.find(L=>L.name===z);C&&C.methods.length>0&&k(C.methods[0].name)},children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select service"})}),e.jsx(_e,{children:d.map(z=>e.jsx(ne,{value:z.name,children:z.name},z.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Method"}),e.jsxs(Pe,{value:w,onValueChange:k,children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select method"})}),e.jsx(_e,{children:y&&d.find(z=>z.name===y)?.methods.map(z=>e.jsxs(ne,{value:z.name,children:[z.name," (",z.streaming||"unary",")"]},z.name))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Request (JSON)"}),e.jsx(ss,{value:E,onChange:z=>N(z.target.value),className:"font-mono text-sm min-h-[200px]",placeholder:'{ "id": "1" }'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Response"}),e.jsx(ss,{value:A,readOnly:!0,className:"font-mono text-sm min-h-[200px] bg-muted",placeholder:"Response will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:T,disabled:!y||!w,children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Execute Call"]}),e.jsx(V,{variant:"outline",onClick:()=>{N("{}"),P("")},children:"Clear"})]})]})]})}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Registered gRPC services and methods"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(z=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.name}),e.jsxs($,{variant:"outline",className:"mt-2",children:[z.methods.length," methods"]})]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:z.methods.map(C=>e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono font-semibold",children:C.name}),e.jsx($,{variant:"outline",className:"text-xs",children:C.streaming||"unary"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.jsx("span",{className:"font-mono",children:C.inputType}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{className:"font-mono",children:C.outputType})]})]},C.name))})})]},z.name))})})]})}),e.jsx(ue,{value:"history",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Call History"}),e.jsx(ie,{children:"Previously executed gRPC calls"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(z=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${z.status==="success"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:z.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsxs(_,{className:"text-lg font-semibold",children:[z.service,".",z.method]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.duration&&e.jsxs($,{variant:"outline",children:[z.duration,"ms"]}),e.jsx($,{variant:z.status==="success"?"default":"destructive",children:z.status})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.request&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Request"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:z.request})]}),z.response&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Response"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:z.response})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(z.timestamp).toLocaleString()})]})]},z.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"gRPC Settings"}),e.jsx(ie,{children:"Service configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint"}),e.jsx(J,{value:m,onChange:z=>I({endpoint:z.target.value}),placeholder:"localhost:50051"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Reflection"}),e.jsx(ge,{checked:f,onCheckedChange:z=>I({reflectionEnabled:z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable TLS"}),e.jsx(ge,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Compression"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Message Size (MB)"}),e.jsx(J,{type:"number",defaultValue:4,min:1,max:100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Keep Alive Time (seconds)"}),e.jsx(J,{type:"number",defaultValue:30,min:1})]})]})]})})]})]})})}function hz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(P=>P.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.connections||[],u=i.messages||[],m=i.endpoint||"ws://localhost:8080/ws",f=i.protocol||"ws",h=i.totalConnections||d.length,p=i.activeConnections||d.filter(P=>P.status==="connected").length,g=i.totalMessages||u.length,[y,M]=j.useState(""),[w,k]=j.useState(!1),E=P=>{r(a,{data:{...c.data,config:{...i,...P}}})},N=()=>{if(!y.trim())return;const P={id:`msg-${Date.now()}`,type:"sent",content:y,timestamp:new Date().toISOString()};E({messages:[...u,P]}),M("")},A=()=>{if(k(!w),!w){const P={id:`conn-${Date.now()}`,status:"connected",connectedAt:new Date().toISOString(),messagesSent:0,messagesReceived:0};E({connections:[...d,P]})}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"WebSocket"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"WebSocket Server"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Real-time bidirectional communication"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Connections"}),e.jsx(ms,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:p}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",h," total"]})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Messages"}),e.jsx(Ht,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:g}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"exchanged"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Sent"}),e.jsx(Rl,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:d.reduce((P,I)=>P+(I.messagesSent||0),0)})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Received"}),e.jsx(Ht,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:d.reduce((P,I)=>P+(I.messagesReceived||0),0)})})})]})]}),e.jsxs(Ve,{defaultValue:"client",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"client",children:[e.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Test Client"]}),e.jsxs(de,{value:"connections",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Connections (",d.length,")"]}),e.jsxs(de,{value:"messages",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Messages (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"client",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"WebSocket Test Client"}),e.jsx(ie,{children:"Connect and send messages"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint"}),e.jsx(J,{value:m,onChange:P=>E({endpoint:P.target.value}),placeholder:"ws://localhost:8080/ws"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{onClick:A,variant:w?"destructive":"default",children:w?"Disconnect":"Connect"}),e.jsx($,{variant:w?"default":"outline",children:w?"Connected":"Disconnected"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Send Message"}),e.jsx(ss,{value:y,onChange:P=>M(P.target.value),className:"font-mono text-sm min-h-[100px]",placeholder:'{ "type": "message", "data": "Hello" }',disabled:!w})]}),e.jsxs(V,{onClick:N,disabled:!w||!y.trim(),children:[e.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})}),e.jsx(ue,{value:"connections",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Active Connections"}),e.jsx(ie,{children:"WebSocket client connections"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(P=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${P.status==="connected"?"bg-green-100 dark:bg-green-900/30":"bg-gray-100 dark:bg-gray-900/30"}`,children:P.status==="connected"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:P.id}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:P.status==="connected"?"default":"outline",children:P.status}),P.connectedAt&&e.jsxs($,{variant:"outline",children:["Connected ",new Date(P.connectedAt).toLocaleString()]})]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Sent:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P.messagesSent||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Received:"}),e.jsx("span",{className:"ml-2 font-semibold",children:P.messagesReceived||0})]}),P.lastMessage&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Last:"}),e.jsx("span",{className:"ml-2 font-semibold truncate",children:P.lastMessage})]})]})})]},P.id))})})]})}),e.jsx(ue,{value:"messages",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Message History"}),e.jsx(ie,{children:"Sent and received messages"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(P=>e.jsxs(S,{className:`border-l-4 ${P.type==="sent"?"border-l-green-500 bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10":"border-l-blue-500 bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10"} hover:shadow-md transition-shadow`,children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${P.type==="sent"?"bg-green-100 dark:bg-green-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:P.type==="sent"?e.jsx(Rl,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(Ht,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold capitalize",children:P.type}),e.jsx($,{variant:"outline",className:"mt-2",children:new Date(P.timestamp).toLocaleString()})]})]})})}),e.jsx(R,{children:e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto",children:P.content})})]},P.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"WebSocket Settings"}),e.jsx(ie,{children:"Server configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint URL"}),e.jsx(J,{value:m,onChange:P=>E({endpoint:P.target.value}),placeholder:"ws://localhost:8080/ws"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Protocol"}),e.jsxs(Pe,{value:f,onValueChange:P=>E({protocol:P}),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"ws",children:"WS (WebSocket)"}),e.jsx(ne,{value:"wss",children:"WSS (Secure WebSocket)"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Compression"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Ping/Pong"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Ping Interval (seconds)"}),e.jsx(J,{type:"number",defaultValue:30,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Connections"}),e.jsx(J,{type:"number",defaultValue:1e3,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Message Size (KB)"}),e.jsx(J,{type:"number",defaultValue:1024,min:1})]})]})]})})]})]})})}function xz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(z=>z.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.services||[],u=i.requests||[],m=i.endpoint||"http://localhost:8080/soap",f=i.wsdlUrl||d[0]?.wsdlUrl||"",h=i.totalRequests||u.length,p=i.successRate||(u.length>0?u.filter(z=>z.status==="success").length/u.length*100:0),g=i.averageLatency||(u.length>0?u.reduce((z,C)=>z+(C.duration||0),0)/u.length:0),[y,M]=j.useState(""),[w,k]=j.useState(""),[E,N]=j.useState(""),[A,P]=j.useState(""),I=z=>{r(a,{data:{...c.data,config:{...i,...z}}})},T=()=>{if(!w)return;const z={id:`req-${Date.now()}`,operation:w,requestBody:E||`<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <${w}Request>
      <!-- Request data -->
    </${w}Request>
  </soap:Body>
</soap:Envelope>`,responseBody:`<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <${w}Response>
      <!-- Response data -->
    </${w}Response>
  </soap:Body>
</soap:Envelope>`,status:"success",timestamp:new Date().toISOString(),duration:Math.floor(Math.random()*200)+50};P(z.responseBody||""),I({requests:[...u,z]})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"SOAP"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"SOAP Web Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Simple Object Access Protocol web service"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(Qs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(os,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[p.toFixed(1),"%"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(St,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:g.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]})]}),e.jsxs(Ve,{defaultValue:"test",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"test",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Test Client"]}),e.jsxs(de,{value:"services",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Services (",d.length,")"]}),e.jsxs(de,{value:"history",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Request History (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"test",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"SOAP Test Client"}),e.jsx(ie,{children:"Test SOAP operations"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Service"}),e.jsxs(Pe,{value:y,onValueChange:z=>{M(z);const C=d.find(L=>L.name===z);C&&C.operations.length>0&&k(C.operations[0].name)},children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select service"})}),e.jsx(_e,{children:d.map(z=>e.jsx(ne,{value:z.name,children:z.name},z.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Operation"}),e.jsxs(Pe,{value:w,onValueChange:k,children:[e.jsx(De,{children:e.jsx(Oe,{placeholder:"Select operation"})}),e.jsx(_e,{children:y&&d.find(z=>z.name===y)?.operations.map(z=>e.jsx(ne,{value:z.name,children:z.name},z.name))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SOAP Request (XML)"}),e.jsx(ss,{value:E,onChange:z=>N(z.target.value),className:"font-mono text-sm min-h-[300px]",placeholder:"<soap:Envelope>..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SOAP Response"}),e.jsx(ss,{value:A,readOnly:!0,className:"font-mono text-sm min-h-[300px] bg-muted",placeholder:"Response will appear here..."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:T,disabled:!w,children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Execute Request"]}),e.jsx(V,{variant:"outline",onClick:()=>{N(""),P("")},children:"Clear"})]})]})]})}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"SOAP Services"}),e.jsx(ie,{children:"Registered services and operations"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(z=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:z.port}),e.jsxs($,{variant:"outline",children:[z.operations.length," operations"]})]}),z.wsdlUrl&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["WSDL: ",z.wsdlUrl]})]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:z.operations.map(C=>e.jsxs("div",{className:"p-3 border rounded",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-mono font-semibold",children:C.name})}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[C.inputMessage&&e.jsxs("span",{children:["Input: ",C.inputMessage]}),C.outputMessage&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:["Output: ",C.outputMessage]})]})]})]},C.name))})})]},z.name))})})]})}),e.jsx(ue,{value:"history",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Request History"}),e.jsx(ie,{children:"Previously executed SOAP requests"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(z=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${z.status==="success"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:z.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:z.operation}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[z.duration&&e.jsxs($,{variant:"outline",children:[z.duration,"ms"]}),e.jsx($,{variant:z.status==="success"?"default":"destructive",children:z.status})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Request"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:z.requestBody})]}),z.responseBody&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Response"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:z.responseBody})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(z.timestamp).toLocaleString()})]})]},z.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"SOAP Settings"}),e.jsx(ie,{children:"Service configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Endpoint URL"}),e.jsx(J,{value:m,onChange:z=>I({endpoint:z.target.value}),placeholder:"http://localhost:8080/soap"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"WSDL URL"}),e.jsx(J,{value:f,onChange:z=>I({wsdlUrl:z.target.value}),placeholder:"http://localhost:8080/wsdl/service.wsdl"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable WS-Security"}),e.jsx(ge,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable WS-Addressing"}),e.jsx(ge,{})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"SOAP Version"}),e.jsxs(Pe,{defaultValue:"1.1",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"1.1",children:"SOAP 1.1"}),e.jsx(ne,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]})})]})]})})}function fz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(E=>E.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.endpoints||[],u=i.deliveries||[],m=i.totalEndpoints||d.length,f=i.totalDeliveries||u.length,h=i.successRate||(u.length>0?u.filter(E=>E.status==="success").length/u.length*100:0),[p,g]=j.useState(!1),y=E=>{r(a,{data:{...c.data,config:{...i,...E}}})},M=()=>{const E={id:`wh-${Date.now()}`,name:"New Webhook",url:"https://api.example.com/webhooks/new",method:"POST",enabled:!0,events:[]};y({endpoints:[...d,E]}),g(!1)},w=E=>{y({endpoints:d.filter(N=>N.id!==E)})},k=E=>{switch(E){case"success":return"bg-green-500";case"failed":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Webhook"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Webhook Endpoint"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"HTTP callback endpoint for event notifications"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Endpoints"}),e.jsx(Dr,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"configured"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Deliveries"}),e.jsx(Rl,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(os,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[h.toFixed(1),"%"]})})})]})]}),e.jsxs(Ve,{defaultValue:"endpoints",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"endpoints",children:[e.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Endpoints (",d.length,")"]}),e.jsxs(de,{value:"deliveries",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Deliveries (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"endpoints",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Webhook Endpoints"}),e.jsx(ie,{children:"Configure webhook endpoints"})]}),e.jsxs(V,{onClick:M,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Endpoint"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(E=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Dr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:E.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:E.enabled?"default":"outline",children:E.enabled?"Enabled":"Disabled"}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:E.method}),e.jsx($,{variant:"outline",className:"font-mono text-xs truncate max-w-xs",children:E.url})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>w(E.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{children:[E.events&&E.events.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Events"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.events.map((N,A)=>e.jsx($,{variant:"outline",children:N},A))})]}),E.secret&&e.jsxs("div",{className:"mt-2",children:[e.jsx(b,{children:"Secret"}),e.jsx("div",{className:"text-xs font-mono text-muted-foreground",children:E.secret})]})]})]},E.id))})})]})}),e.jsx(ue,{value:"deliveries",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Delivery History"}),e.jsx(ie,{children:"Webhook delivery attempts and results"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(E=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${k(E.status)}/20`,children:E.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):E.status==="failed"?e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(Tt,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:E.event}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:k(E.status),children:E.status}),E.attempts&&e.jsxs($,{variant:"outline",children:["Attempts: ",E.attempts]}),E.responseCode&&e.jsxs($,{variant:"outline",children:["HTTP ",E.responseCode]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Payload"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:E.payload})]}),E.responseBody&&e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsx(b,{children:"Response"}),e.jsx("pre",{className:"p-3 bg-muted rounded text-xs font-mono overflow-x-auto max-h-40 overflow-y-auto",children:E.responseBody})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(E.timestamp).toLocaleString()})]})]},E.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Webhook Settings"}),e.jsx(ie,{children:"Global configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Retry on Failure"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Signature Verification"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Retry Attempts"}),e.jsx(J,{type:"number",defaultValue:3,min:1,max:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Retry Delay (seconds)"}),e.jsx(J,{type:"number",defaultValue:5,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Timeout (seconds)"}),e.jsx(J,{type:"number",defaultValue:30,min:1})]})]})]})})]})]})})}function pz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(C=>C.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.frontends||[{id:"1",name:"http_frontend",bind:"0.0.0.0:80",mode:"http",backends:["web_backend"],requests:125e3,responses:124500}],u=i.backends||[{id:"1",name:"web_backend",mode:"http",balance:"roundrobin",servers:[{id:"1",name:"web1",address:"192.168.1.10",port:8080,weight:100,check:!0,status:"up",sessions:45,bytesIn:1024e3,bytesOut:2048e3,errors:0},{id:"2",name:"web2",address:"192.168.1.11",port:8080,weight:100,check:!0,status:"up",sessions:38,bytesIn:89e4,bytesOut:178e4,errors:0}],healthCheck:{enabled:!0,interval:2e3,timeout:1e3,path:"/health"}}],m=i.totalRequests||d.reduce((C,L)=>C+(L.requests||0),0),f=i.totalResponses||d.reduce((C,L)=>C+(L.responses||0),0),h=i.activeConnections||u.reduce((C,L)=>C+L.servers.reduce((Q,Y)=>Q+(Y.sessions||0),0),0),p=i.totalBytesIn||u.reduce((C,L)=>C+L.servers.reduce((Q,Y)=>Q+(Y.bytesIn||0),0),0),g=i.totalBytesOut||u.reduce((C,L)=>C+L.servers.reduce((Q,Y)=>Q+(Y.bytesOut||0),0),0),[y,M]=j.useState(null),[w,k]=j.useState(!1),E=C=>{r(a,{data:{...c.data,config:{...i,...C}}})},N=()=>{const C={id:`backend-${Date.now()}`,name:"new-backend",mode:"http",balance:"roundrobin",servers:[],healthCheck:{enabled:!0,interval:2e3,timeout:1e3,path:"/health"}};E({backends:[...u,C]}),k(!1)},A=C=>{E({backends:u.filter(L=>L.id!==C)})},P=(C,L,Q)=>{const Y=u.map(W=>W.id===C?{...W,[L]:Q}:W);E({backends:Y})},I=C=>{const L=u.find(Y=>Y.id===C);if(!L)return;const Q={id:`server-${Date.now()}`,name:"new-server",address:"192.168.1.100",port:8080,weight:100,check:!0,status:"up",sessions:0,bytesIn:0,bytesOut:0,errors:0};P(C,"servers",[...L.servers,Q])},T=(C,L)=>{const Q=u.find(Y=>Y.id===C);Q&&P(C,"servers",Q.servers.filter(Y=>Y.id!==L))},z=(C,L,Q,Y)=>{const W=u.find(F=>F.id===C);if(!W)return;const q=W.servers.map(F=>F.id===L?{...F,[Q]:Y}:F);P(C,"servers",q)};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"HAProxy"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Load Balancer"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"High-performance load balancer and proxy server"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh Stats"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(ea,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:m.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Responses"}),e.jsx(os,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Connections"}),e.jsx(ms,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-2xl font-bold text-cyan-600 dark:text-cyan-400",children:h})})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Bytes In"}),e.jsx(ea,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:(p/1024/1024).toFixed(1)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"MB"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-orange-500 bg-gradient-to-br from-orange-50 to-white dark:from-orange-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Bytes Out"}),e.jsx(ea,{className:"h-4 w-4 text-orange-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:(g/1024/1024).toFixed(1)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"MB"})]})})]})]}),e.jsxs(Ve,{defaultValue:"backends",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"backends",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Backends (",u.length,")"]}),e.jsxs(de,{value:"frontends",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Frontends (",d.length,")"]}),e.jsxs(de,{value:"stats",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Statistics"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"backends",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Backends"}),e.jsx(ie,{children:"Configure backend server pools"})]}),e.jsxs(V,{onClick:N,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Backend"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(C=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:C.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:C.mode.toUpperCase()}),e.jsx($,{variant:"outline",children:C.balance}),e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[C.servers.length," servers"]}),e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[C.servers.filter(L=>L.status==="up").length," up"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>I(C.id),children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Server"]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>A(C.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Backend Name"}),e.jsx(J,{value:C.name,onChange:L=>P(C.id,"name",L.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Mode"}),e.jsxs(Pe,{value:C.mode,onValueChange:L=>P(C.id,"mode",L),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"http",children:"HTTP"}),e.jsx(ne,{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Balance Algorithm"}),e.jsxs(Pe,{value:C.balance,onValueChange:L=>P(C.id,"balance",L),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"roundrobin",children:"Round Robin"}),e.jsx(ne,{value:"leastconn",children:"Least Connections"}),e.jsx(ne,{value:"source",children:"Source"}),e.jsx(ne,{value:"uri",children:"URI"})]})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Servers"}),e.jsx("div",{className:"space-y-2",children:C.servers.map(L=>e.jsx(S,{className:"p-3 border-l-2 border-l-green-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-1.5 rounded ${L.status==="up"?"bg-green-100 dark:bg-green-900/30":L.status==="down"?"bg-red-100 dark:bg-red-900/30":"bg-gray-100 dark:bg-gray-900/30"}`,children:L.status==="up"?e.jsx(os,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):L.status==="down"?e.jsx(us,{className:"h-4 w-4 text-red-600 dark:text-red-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:L.name}),e.jsxs($,{variant:"outline",className:"text-xs",children:[L.address,":",L.port]}),e.jsx($,{variant:L.status==="up"?"default":"destructive",children:L.status})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-1",children:[e.jsxs("span",{children:["Weight: ",L.weight]}),e.jsxs("span",{children:["Sessions: ",L.sessions||0]}),L.errors&&L.errors>0&&e.jsxs("span",{className:"text-red-500",children:["Errors: ",L.errors]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{type:"number",value:L.weight||100,onChange:Q=>z(C.id,L.id,"weight",Number(Q.target.value)),className:"w-20",min:1,max:256}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>T(C.id,L.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})},L.id))})]})]})]},C.id))})})]})}),e.jsx(ue,{value:"frontends",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Frontends"}),e.jsx(ie,{children:"Configure frontend listeners"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(C=>e.jsxs(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:e.jsx(ms,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:C.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:C.bind}),e.jsx($,{variant:"outline",children:C.mode.toUpperCase()}),C.ssl&&e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(Rs,{className:"h-3 w-3 mr-1"}),"SSL"]})]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:C.requests?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Responses:"}),e.jsx("span",{className:"ml-2 font-semibold",children:C.responses?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Backends:"}),e.jsx("span",{className:"ml-2 font-semibold",children:C.backends.length})]})]})})]},C.id))})})]})}),e.jsx(ue,{value:"stats",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Real-time Statistics"}),e.jsx(ie,{children:"Live server and connection statistics"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(C=>e.jsxs(S,{className:"border-l-4 border-l-blue-500",children:[e.jsx(D,{className:"pb-3",children:e.jsx(_,{className:"text-base",children:C.name})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-2",children:C.servers.map(L=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{variant:L.status==="up"?"default":"destructive",children:L.status}),e.jsx("span",{className:"font-medium",children:L.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[L.address,":",L.port]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Sessions: ",L.sessions||0]}),e.jsxs("span",{children:["In: ",(L.bytesIn||0)/1024," KB"]}),e.jsxs("span",{children:["Out: ",(L.bytesOut||0)/1024," KB"]}),L.errors&&L.errors>0&&e.jsxs("span",{className:"text-red-500",children:["Errors: ",L.errors]})]})]},L.id))})})]},C.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"HAProxy Settings"}),e.jsx(ie,{children:"Global configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Stats UI"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Logging"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Connections"}),e.jsx(J,{type:"number",defaultValue:4096,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Timeout Connect (ms)"}),e.jsx(J,{type:"number",defaultValue:5e3,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Timeout Server (ms)"}),e.jsx(J,{type:"number",defaultValue:5e4,min:1})]})]})]})})]})]})})}function jz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(F=>F.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.routers||[{id:"1",name:"web-router",rule:"Host(`example.com`)",service:"web-service",entryPoints:["web"],tls:!0,priority:1,requests:45e3,responses:44800}],u=i.services||[{id:"1",name:"web-service",servers:[{url:"http://192.168.1.10:8080",weight:1},{url:"http://192.168.1.11:8080",weight:1}],loadBalancer:"roundrobin",healthCheck:{enabled:!0,path:"/health",interval:10}}],m=i.middlewares||[{id:"1",name:"auth-middleware",type:"auth",config:{headerField:"X-User"}},{id:"2",name:"rate-limit",type:"rateLimit",config:{average:100,burst:50}}],f=i.entryPoints||["web","websecure"],h=i.totalRequests||d.reduce((F,me)=>F+(me.requests||0),0),p=i.totalResponses||d.reduce((F,me)=>F+(me.responses||0),0),g=i.activeRouters||d.length,[y,M]=j.useState(null),[w,k]=j.useState(!1),[E,N]=j.useState(!1),[A,P]=j.useState(!1),I=F=>{r(a,{data:{...c.data,config:{...i,...F}}})},T=()=>{const F={id:`router-${Date.now()}`,name:"new-router",rule:"Host(`example.com`)",service:u[0]?.name||"",entryPoints:["web"],priority:1};I({routers:[...d,F]}),k(!1)},z=F=>{I({routers:d.filter(me=>me.id!==F)})},C=(F,me,je)=>{const ce=d.map(K=>K.id===F?{...K,[me]:je}:K);I({routers:ce})},L=()=>{const F={id:`service-${Date.now()}`,name:"new-service",servers:[{url:"http://localhost:8080",weight:1}],loadBalancer:"roundrobin"};I({services:[...u,F]}),N(!1)},Q=F=>{I({services:u.filter(me=>me.id!==F)})},Y=(F,me,je)=>{const ce=u.map(K=>K.id===F?{...K,[me]:je}:K);I({services:ce})},W=()=>{const F={id:`middleware-${Date.now()}`,name:"new-middleware",type:"headers",config:{}};I({middlewares:[...m,F]}),P(!1)},q=F=>{I({middlewares:m.filter(me=>me.id!==F)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Traefik"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Dynamic Reverse Proxy"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Modern HTTP reverse proxy and load balancer"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Routers"}),e.jsx(el,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:g}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(ms,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:u.length}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"configured"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:h.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Responses"}),e.jsx(os,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:p.toLocaleString()})})})]})]}),e.jsxs(Ve,{defaultValue:"routers",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"routers",children:[e.jsx(el,{className:"h-4 w-4 mr-2"}),"Routers (",d.length,")"]}),e.jsxs(de,{value:"services",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Services (",u.length,")"]}),e.jsxs(de,{value:"middlewares",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Middlewares (",m.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"routers",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Routers"}),e.jsx(ie,{children:"Configure routing rules"})]}),e.jsxs(V,{onClick:T,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Router"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(F=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(el,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:F.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:F.rule}),F.tls&&e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(Rs,{className:"h-3 w-3 mr-1"}),"TLS"]}),e.jsxs($,{variant:"outline",children:["Priority: ",F.priority||1]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>z(F.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Router Name"}),e.jsx(J,{value:F.name,onChange:me=>C(F.id,"name",me.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Service"}),e.jsxs(Pe,{value:F.service,onValueChange:me=>C(F.id,"service",me),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsx(_e,{children:u.map(me=>e.jsx(ne,{value:me.name,children:me.name},me.id))})]})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(b,{children:"Rule"}),e.jsx(J,{value:F.rule,onChange:me=>C(F.id,"rule",me.target.value),placeholder:"Host(`example.com`)",className:"font-mono text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable TLS"}),e.jsx(ge,{checked:F.tls??!1,onCheckedChange:me=>C(F.id,"tls",me)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Priority"}),e.jsx(J,{type:"number",value:F.priority||1,onChange:me=>C(F.id,"priority",Number(me.target.value)),min:1})]})]}),F.requests!==void 0&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm pt-2 border-t",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:F.requests.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Responses:"}),e.jsx("span",{className:"ml-2 font-semibold",children:F.responses?.toLocaleString()||0})]})]})]})]},F.id))})})]})}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Configure backend services"})]}),e.jsxs(V,{onClick:L,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Service"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(F=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(ms,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:F.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:F.loadBalancer||"roundrobin"}),F.servers&&e.jsxs($,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20",children:[F.servers.length," servers"]}),F.healthCheck?.enabled&&e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(os,{className:"h-3 w-3 mr-1"}),"Health Check"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(F.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Service Name"}),e.jsx(J,{value:F.name,onChange:me=>Y(F.id,"name",me.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Load Balancer"}),e.jsxs(Pe,{value:F.loadBalancer||"roundrobin",onValueChange:me=>Y(F.id,"loadBalancer",me),children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"roundrobin",children:"Round Robin"}),e.jsx(ne,{value:"wrr",children:"Weighted Round Robin"}),e.jsx(ne,{value:"drr",children:"Dynamic Round Robin"})]})]})]})]}),F.servers&&F.servers.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Servers"}),e.jsx("div",{className:"space-y-2",children:F.servers.map((me,je)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{value:me.url,onChange:ce=>{const K=[...F.servers];K[je]={...K[je],url:ce.target.value},Y(F.id,"servers",K)},className:"flex-1"}),e.jsx(J,{type:"number",value:me.weight||1,onChange:ce=>{const K=[...F.servers];K[je]={...K[je],weight:Number(ce.target.value)},Y(F.id,"servers",K)},className:"w-20",min:1})]},je))})]})]})]},F.id))})})]})}),e.jsx(ue,{value:"middlewares",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Middlewares"}),e.jsx(ie,{children:"Configure request/response middleware"})]}),e.jsxs(V,{onClick:W,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Middleware"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map(F=>e.jsx(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Rs,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:F.name}),e.jsx($,{variant:"outline",className:"mt-2",children:F.type})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>q(F.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})})},F.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Traefik Settings"}),e.jsx(ie,{children:"Global configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Entry Points"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((F,me)=>e.jsx($,{variant:"outline",children:F},me))})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Dashboard"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable API"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Auto Discover Services"}),e.jsx(ge,{defaultChecked:!0})]})]})]})})]})]})})}function gz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(A=>A.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.clusters||[{name:"backend-cluster",type:"STRICT_DNS",hosts:[{address:"backend-1",port:8080},{address:"backend-2",port:8080}],healthChecks:!0,connectTimeout:5e3,requests:12500,errors:25},{name:"database-cluster",type:"STATIC_DNS",hosts:[{address:"db-primary",port:5432}],healthChecks:!0,connectTimeout:3e3,requests:8900,errors:5}],u=i.listeners||[{name:"http-listener",address:"0.0.0.0",port:80,filters:["http_connection_manager"],activeConnections:45,requests:12500},{name:"https-listener",address:"0.0.0.0",port:443,filters:["http_connection_manager","tls_inspector"],activeConnections:38,requests:9800}],m=i.routes||[{name:"api-route",match:"/api/*",cluster:"backend-cluster",priority:1,requests:8500},{name:"default-route",match:"*",cluster:"backend-cluster",priority:0,requests:4e3}],f=i.totalClusters||d.length,h=i.totalListeners||u.length,p=i.totalRoutes||m.length,g=i.totalRequests||u.reduce((A,P)=>A+(P.requests||0),0),y=i.totalErrors||d.reduce((A,P)=>A+(P.errors||0),0),[M,w]=j.useState(!1),k=A=>{r(a,{data:{...c.data,config:{...i,...A}}})},E=()=>{const A={name:"new-cluster",type:"STRICT_DNS",hosts:[{address:"localhost",port:8080}],healthChecks:!0,connectTimeout:5e3};k({clusters:[...d,A]}),w(!1)},N=A=>{k({clusters:d.filter(P=>P.name!==A)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Envoy Proxy"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Service Proxy"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"High-performance edge and service proxy"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Admin UI"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Clusters"}),e.jsx(Qs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"configured"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Listeners"}),e.jsx(ms,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Routes"}),e.jsx(et,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:g.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-red-500 bg-gradient-to-br from-red-50 to-white dark:from-red-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Errors"}),e.jsx(us,{className:"h-4 w-4 text-red-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:y})})})]})]}),e.jsxs(Ve,{defaultValue:"clusters",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"clusters",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Clusters (",d.length,")"]}),e.jsxs(de,{value:"listeners",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Listeners (",u.length,")"]}),e.jsxs(de,{value:"routes",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Routes (",m.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"clusters",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Clusters"}),e.jsx(ie,{children:"Backend service clusters"})]}),e.jsxs(V,{onClick:E,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Cluster"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(A=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:A.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:A.type}),e.jsxs($,{variant:"outline",children:[A.hosts.length," hosts"]}),A.healthChecks&&e.jsxs($,{variant:"default",className:"bg-green-500",children:[e.jsx(os,{className:"h-3 w-3 mr-1"}),"Health Checks"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>N(A.name),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Hosts"}),A.hosts.map((P,I)=>e.jsx("div",{className:"p-2 border rounded text-sm",children:e.jsxs("span",{className:"font-mono",children:[P.address,":",P.port]})},I))]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mt-4",children:[A.requests&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:A.requests.toLocaleString()})]}),A.errors&&A.errors>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-500",children:A.errors})]}),A.connectTimeout&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeout:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[A.connectTimeout,"ms"]})]})]})]})]},A.name))})})]})}),e.jsx(ue,{value:"listeners",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Listeners"}),e.jsx(ie,{children:"Network listeners and ports"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(A=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(ms,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:A.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs($,{variant:"outline",className:"font-mono",children:[A.address,":",A.port]}),A.activeConnections&&e.jsxs($,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20",children:[A.activeConnections," connections"]})]})]})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Filters"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.filters.map((P,I)=>e.jsx($,{variant:"outline",children:P},I))})]}),A.requests&&e.jsxs("div",{className:"text-sm mt-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:A.requests.toLocaleString()})]})]})]},A.name))})})]})}),e.jsx(ue,{value:"routes",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Routes"}),e.jsx(ie,{children:"Request routing rules"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map(A=>e.jsxs(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:e.jsx(et,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:A.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:A.match}),e.jsxs($,{variant:"outline",children:[" ",A.cluster]}),A.priority!==void 0&&e.jsxs($,{variant:"outline",children:["Priority: ",A.priority]})]})]})]})}),A.requests&&e.jsx(R,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:A.requests.toLocaleString()})]})})]},A.name))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Envoy Settings"}),e.jsx(ie,{children:"Proxy configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Admin Interface"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Access Logging"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Stats"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Admin Port"}),e.jsx(J,{type:"number",defaultValue:9901,min:1,max:65535})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Drain Time (seconds)"}),e.jsx(J,{type:"number",defaultValue:600,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Connections"}),e.jsx(J,{type:"number",defaultValue:1024,min:1})]})]})]})})]})]})})}function vz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(L=>L.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.services||[{id:"1",name:"frontend",namespace:"default",version:"v1",pods:3,healthyPods:3,requests:125e3,errors:25,latency:45},{id:"2",name:"backend",namespace:"default",version:"v1",pods:2,healthyPods:2,requests:98e3,errors:12,latency:120}],u=i.virtualServices||[{id:"1",name:"frontend-vs",hosts:["frontend.example.com"],http:[{route:[{destination:{host:"frontend",subset:"v1"},weight:90},{destination:{host:"frontend",subset:"v2"},weight:10}]}]}],m=i.destinationRules||[{id:"1",name:"frontend-dr",host:"frontend",subsets:[{name:"v1",labels:{version:"v1"}},{name:"v2",labels:{version:"v2"}}],trafficPolicy:{loadBalancer:{simple:"ROUND_ROBIN"}}}],f=i.gateways||[{id:"1",name:"istio-gateway",selector:{istio:"ingressgateway"},servers:[{port:{number:80,protocol:"HTTP",name:"http"},hosts:["*"]}]}],h=i.totalServices||d.length,p=i.totalRequests||d.reduce((L,Q)=>L+(Q.requests||0),0),g=i.totalErrors||d.reduce((L,Q)=>L+(Q.errors||0),0),y=i.averageLatency||Math.round(d.reduce((L,Q)=>L+(Q.latency||0),0)/d.length),[M,w]=j.useState(null),[k,E]=j.useState(!1),[N,A]=j.useState(!1),P=L=>{r(a,{data:{...c.data,config:{...i,...L}}})},I=()=>{const L={id:`vs-${Date.now()}`,name:"new-virtual-service",hosts:["example.com"],http:[{route:[{destination:{host:"service"},weight:100}]}]};P({virtualServices:[...u,L]}),E(!1)},T=L=>{P({virtualServices:u.filter(Q=>Q.id!==L)})},z=()=>{const L={id:`dr-${Date.now()}`,name:"new-destination-rule",host:"service",subsets:[{name:"v1",labels:{version:"v1"}}]};P({destinationRules:[...m,L]}),A(!1)},C=L=>{P({destinationRules:m.filter(Q=>Q.id!==L)})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Istio Service Mesh"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Traffic Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Service mesh for microservices traffic management and security"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Kiali"]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(ms,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-red-500 bg-gradient-to-br from-red-50 to-white dark:from-red-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Errors"}),e.jsx(ct,{className:"h-4 w-4 text-red-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:g}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:y}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]})]}),e.jsxs(Ve,{defaultValue:"services",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"services",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Services (",d.length,")"]}),e.jsxs(de,{value:"virtual-services",children:[e.jsx(el,{className:"h-4 w-4 mr-2"}),"Virtual Services (",u.length,")"]}),e.jsxs(de,{value:"destination-rules",children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Destination Rules (",m.length,")"]}),e.jsxs(de,{value:"gateways",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Gateways (",f.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Registered services in the mesh"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(L=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(ms,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:L.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:L.namespace}),L.version&&e.jsx($,{variant:"outline",children:L.version}),e.jsxs($,{variant:L.healthyPods===L.pods?"default":"destructive",children:[L.healthyPods||0,"/",L.pods||0," pods"]})]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:L.requests?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:`ml-2 font-semibold ${L.errors&&L.errors>0?"text-red-500":""}`,children:L.errors||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Latency:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[L.latency||0,"ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Error Rate:"}),e.jsxs("span",{className:`ml-2 font-semibold ${L.requests&&L.errors&&L.errors/L.requests>.01?"text-red-500":""}`,children:[L.requests&&L.errors?(L.errors/L.requests*100).toFixed(2):0,"%"]})]})]})})]},L.id))})})]})}),e.jsx(ue,{value:"virtual-services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Virtual Services"}),e.jsx(ie,{children:"Configure traffic routing rules"})]}),e.jsxs(V,{onClick:I,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Virtual Service"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(L=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(el,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:L.name}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:L.hosts.map((Q,Y)=>e.jsx($,{variant:"outline",className:"font-mono text-xs",children:Q},Y))})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>T(L.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:L.http&&L.http.length>0&&e.jsx("div",{className:"space-y-2",children:L.http.map((Q,Y)=>e.jsx("div",{className:"p-3 border rounded",children:Q.route&&e.jsx("div",{className:"space-y-1",children:Q.route.map((W,q)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:""}),e.jsx("span",{className:"ml-2 font-medium",children:W.destination.host}),W.destination.subset&&e.jsx($,{variant:"outline",className:"ml-2",children:W.destination.subset}),W.weight&&e.jsxs($,{variant:"outline",className:"ml-2",children:[W.weight,"%"]})]},q))})},Y))})})]},L.id))})})]})}),e.jsx(ue,{value:"destination-rules",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Destination Rules"}),e.jsx(ie,{children:"Configure traffic policies and subsets"})]}),e.jsxs(V,{onClick:z,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Destination Rule"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map(L=>e.jsxs(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Mt,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:L.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:L.host}),L.trafficPolicy?.loadBalancer?.simple&&e.jsx($,{variant:"outline",children:L.trafficPolicy.loadBalancer.simple})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>C(L.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:L.subsets&&L.subsets.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Subsets"}),L.subsets.map((Q,Y)=>e.jsx("div",{className:"p-2 border rounded",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"outline",children:Q.name}),Q.labels&&Object.entries(Q.labels).map(([W,q])=>e.jsxs($,{variant:"outline",className:"text-xs",children:[W,"=",q]},W))]})},Y))]})})]},L.id))})})]})}),e.jsx(ue,{value:"gateways",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Gateways"}),e.jsx(ie,{children:"Configure ingress and egress gateways"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:f.map(L=>e.jsx(S,{className:"border-l-4 border-l-cyan-500 hover:shadow-md transition-shadow bg-gradient-to-r from-cyan-50/50 to-transparent dark:from-cyan-950/10",children:e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-cyan-100 dark:bg-cyan-900/30",children:e.jsx(et,{className:"h-5 w-5 text-cyan-600 dark:text-cyan-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:L.name}),L.servers&&L.servers.length>0&&e.jsx("div",{className:"flex items-center gap-2 mt-2",children:L.servers.map((Q,Y)=>e.jsxs($,{variant:"outline",className:"text-xs",children:[Q.port.protocol,":",Q.port.number]},Y))})]})]})})},L.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Istio Settings"}),e.jsx(ie,{children:"Service mesh configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable mTLS"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Tracing"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Metrics"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Load Balancer"}),e.jsxs(Pe,{defaultValue:"ROUND_ROBIN",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"ROUND_ROBIN",children:"Round Robin"}),e.jsx(ne,{value:"LEAST_CONN",children:"Least Connections"}),e.jsx(ne,{value:"RANDOM",children:"Random"})]})]})]})]})]})})]})]})})}function Nz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(N=>N.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.services||[{id:"svc-1",name:"frontend",namespace:"default",pods:3,healthyPods:3,requests:12500,errors:25,latency:45},{id:"svc-2",name:"backend",namespace:"default",pods:2,healthyPods:2,requests:9800,errors:12,latency:120}],u=i.policies||[{id:"policy-1",name:"mTLS Policy",type:"security",enabled:!0,services:["frontend","backend"]},{id:"policy-2",name:"Traffic Splitting",type:"traffic",enabled:!0,services:["frontend"]}],m=i.totalServices||d.length,f=i.activePolicies||u.filter(N=>N.enabled).length,h=i.totalRequests||d.reduce((N,A)=>N+(A.requests||0),0),p=i.averageLatency||d.reduce((N,A)=>N+(A.latency||0),0)/d.length,[g,y]=j.useState(!1),M=N=>{r(a,{data:{...c.data,config:{...i,...N}}})},w=()=>{const N={id:`policy-${Date.now()}`,name:"New Policy",type:"traffic",enabled:!0,services:[]};M({policies:[...u,N]}),y(!1)},k=N=>{M({policies:u.filter(A=>A.id!==N)})},E=N=>{switch(N){case"security":return"bg-red-500";case"traffic":return"bg-blue-500";case"observability":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Service Mesh"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Service Mesh"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Service-to-service communication and management"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),e.jsx(Qs,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Policies"}),e.jsx(Rs,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:h.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Latency"}),e.jsx(St,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:p.toFixed(0)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})})]})]}),e.jsxs(Ve,{defaultValue:"services",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"services",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Services (",d.length,")"]}),e.jsxs(de,{value:"policies",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Policies (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"services",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Services"}),e.jsx(ie,{children:"Registered services in the mesh"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(N=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:N.namespace}),e.jsxs($,{variant:N.healthyPods===N.pods?"default":"destructive",children:[N.healthyPods,"/",N.pods," pods"]})]})]})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[N.requests&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:N.requests.toLocaleString()})]}),N.errors&&N.errors>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-500",children:N.errors})]}),N.latency&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Latency:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:[N.latency,"ms"]})]})]})})]},N.id))})})]})}),e.jsx(ue,{value:"policies",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Mesh Policies"}),e.jsx(ie,{children:"Traffic, security, and observability policies"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Policy"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(N=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${E(N.type)}/20`,children:e.jsx(Rs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:E(N.type),children:N.type}),e.jsx($,{variant:N.enabled?"default":"outline",children:N.enabled?"Enabled":"Disabled"}),e.jsxs($,{variant:"outline",children:[N.services.length," services"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(N.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:N.services.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Applied to Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.services.map((A,P)=>e.jsx($,{variant:"outline",className:"text-xs",children:A},P))})]})})]},N.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Service Mesh Settings"}),e.jsx(ie,{children:"Mesh configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable mTLS"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Tracing"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Metrics"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Load Balancer"}),e.jsxs(Pe,{defaultValue:"ROUND_ROBIN",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"ROUND_ROBIN",children:"Round Robin"}),e.jsx(ne,{value:"LEAST_CONN",children:"Least Connections"}),e.jsx(ne,{value:"RANDOM",children:"Random"})]})]})]})]})]})})]})]})})}function bz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(P=>P.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.apis||[{id:"api-1",name:"User API",path:"/api/users",backend:"http://user-service:8080",method:"ALL",rateLimit:1e3,requests:12500,errors:25,enabled:!0},{id:"api-2",name:"Product API",path:"/api/products",backend:"http://product-service:8080",method:"GET",rateLimit:2e3,requests:9800,errors:12,enabled:!0}],u=i.keys||[{id:"key-1",name:"Mobile App Key",key:"ak_live_***",apis:["api-1","api-2"],rateLimit:100,enabled:!0},{id:"key-2",name:"Web App Key",key:"ak_live_***",apis:["api-1"],rateLimit:500,enabled:!0}],m=i.totalAPIs||d.length,f=i.totalKeys||u.length,h=i.totalRequests||d.reduce((P,I)=>P+(I.requests||0),0),p=i.successRate||d.reduce((P,I)=>P+(I.requests||0)-(I.errors||0),0)/d.reduce((P,I)=>P+(I.requests||0),0)*100,[g,y]=j.useState(!1),[M,w]=j.useState(!1),k=P=>{r(a,{data:{...c.data,config:{...i,...P}}})},E=()=>{const P={id:`api-${Date.now()}`,name:"New API",path:"/api/new",backend:"http://backend:8080",method:"GET",enabled:!0};k({apis:[...d,P]}),y(!1)},N=P=>{k({apis:d.filter(I=>I.id!==P)})},A=P=>{const I=d.map(T=>T.id===P?{...T,enabled:!T.enabled}:T);k({apis:I})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"API Gateway"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Cloud API Gateway"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Unified API management and routing"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"APIs"}),e.jsx(et,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"API Keys"}),e.jsx(Rs,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:h.toLocaleString()})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(ea,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:[p.toFixed(1),"%"]})})})]})]}),e.jsxs(Ve,{defaultValue:"apis",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"apis",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"APIs (",d.length,")"]}),e.jsxs(de,{value:"keys",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"API Keys (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"apis",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"API Routes"}),e.jsx(ie,{children:"Registered API endpoints"})]}),e.jsxs(V,{onClick:E,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create API"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(P=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(el,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:P.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:P.method}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:P.path}),P.rateLimit&&e.jsxs($,{variant:"outline",children:[P.rateLimit,"/min"]}),P.requests&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[P.requests," requests"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{checked:P.enabled,onCheckedChange:()=>A(P.id)}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>N(P.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Backend:"}),e.jsx("span",{className:"ml-2 font-mono text-xs",children:P.backend})]}),P.errors&&P.errors>0&&e.jsxs("div",{className:"text-sm mt-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-500",children:P.errors})]})]})]},P.id))})})]})}),e.jsx(ue,{value:"keys",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"API Keys"}),e.jsx(ie,{children:"API authentication keys"})]}),e.jsxs(V,{onClick:()=>w(!0),size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Key"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(P=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(Rs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:P.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:P.key}),e.jsx($,{variant:P.enabled?"default":"outline",children:P.enabled?"Enabled":"Disabled"}),P.rateLimit&&e.jsxs($,{variant:"outline",children:[P.rateLimit,"/min"]})]})]})]})}),e.jsx(R,{children:P.apis.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Authorized APIs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.apis.map((I,T)=>{const z=d.find(C=>C.id===I);return e.jsx($,{variant:"outline",className:"text-xs",children:z?.name||I},T)})})]})})]},P.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"API Gateway Settings"}),e.jsx(ie,{children:"Gateway configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable API Key Authentication"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Rate Limiting"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Request Logging"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Rate Limit (requests/min)"}),e.jsx(J,{type:"number",defaultValue:1e3,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Request Timeout (seconds)"}),e.jsx(J,{type:"number",defaultValue:30,min:1})]})]})]})})]})]})})}function yz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(w=>w.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.connections||[{id:"conn-1",username:"user1",remoteIP:"203.0.113.10",localIP:"10.8.0.5",status:"connected",connectedAt:new Date(Date.now()-36e5).toISOString(),bytesIn:1024e6,bytesOut:512e6,duration:3600},{id:"conn-2",username:"user2",remoteIP:"203.0.113.11",localIP:"10.8.0.6",status:"connected",connectedAt:new Date(Date.now()-18e5).toISOString(),bytesIn:512e6,bytesOut:256e6,duration:1800}],u=i.tunnels||[{id:"tunnel-1",name:"HQ to Branch",type:"site-to-site",remoteEndpoint:"192.168.100.1",status:"up",connections:1,bytesIn:2048e6,bytesOut:1024e6},{id:"tunnel-2",name:"Remote Access",type:"remote-access",remoteEndpoint:"vpn.example.com",status:"up",connections:2,bytesIn:1536e6,bytesOut:768e6}],m=i.totalConnections||d.length,f=i.activeConnections||d.filter(w=>w.status==="connected").length,h=i.totalTunnels||u.length,p=i.totalBytes||d.reduce((w,k)=>w+(k.bytesIn||0)+(k.bytesOut||0),0),g=w=>{switch(w){case"connected":case"up":return"bg-green-500";case"disconnected":case"down":return"bg-gray-500";case"connecting":return"bg-yellow-500";default:return"bg-gray-500"}},y=w=>{if(!w)return"0 B";const k=["B","KB","MB","GB"],E=Math.floor(Math.log(w)/Math.log(1024));return`${(w/Math.pow(1024,E)).toFixed(2)} ${k[E]}`},M=w=>{if(!w)return"0s";const k=Math.floor(w/3600),E=Math.floor(w%3600/60);return k>0?`${k}h ${E}m`:`${E}m`};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"VPN Concentrator"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Virtual Private Network"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Secure remote access and site-to-site connectivity"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Connections"}),e.jsx(Ks,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",m," total"]})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Tunnels"}),e.jsx(ms,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Data Transferred"}),e.jsx(St,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:(p/1024/1024/1024).toFixed(2)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"GB"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Encryption"}),e.jsx(I0,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"text-sm font-semibold text-cyan-600 dark:text-cyan-400",children:"AES-256"})})]})]}),e.jsxs(Ve,{defaultValue:"connections",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"connections",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Connections (",d.length,")"]}),e.jsxs(de,{value:"tunnels",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Tunnels (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"connections",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Active Connections"}),e.jsx(ie,{children:"VPN client connections"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(w=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${g(w.status)}/20`,children:e.jsx(Ks,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.username}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:g(w.status),children:w.status}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:w.remoteIP}),w.localIP&&e.jsx($,{variant:"outline",className:"font-mono text-xs",children:w.localIP}),w.duration&&e.jsxs($,{variant:"outline",children:[e.jsx(Clock,{className:"h-3 w-3 mr-1"}),M(w.duration)]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bytes In:"}),e.jsx("span",{className:"ml-2 font-semibold",children:y(w.bytesIn)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bytes Out:"}),e.jsx("span",{className:"ml-2 font-semibold",children:y(w.bytesOut)})]})]}),w.connectedAt&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Connected: ",new Date(w.connectedAt).toLocaleString()]})]})]},w.id))})})]})}),e.jsx(ue,{value:"tunnels",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"VPN Tunnels"}),e.jsx(ie,{children:"Site-to-site and remote access tunnels"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(w=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${g(w.status)}/20`,children:e.jsx(ms,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:g(w.status),children:w.status}),e.jsx($,{variant:"outline",children:w.type}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:w.remoteEndpoint}),w.connections&&e.jsxs($,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20",children:[w.connections," connections"]})]})]})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bytes In:"}),e.jsx("span",{className:"ml-2 font-semibold",children:y(w.bytesIn)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bytes Out:"}),e.jsx("span",{className:"ml-2 font-semibold",children:y(w.bytesOut)})]})]})})]},w.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"VPN Settings"}),e.jsx(ie,{children:"VPN concentrator configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"VPN Protocol"}),e.jsxs(Pe,{defaultValue:"openvpn",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"openvpn",children:"OpenVPN"}),e.jsx(ne,{value:"ipsec",children:"IPsec"}),e.jsx(ne,{value:"wireguard",children:"WireGuard"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Encryption Algorithm"}),e.jsxs(Pe,{defaultValue:"aes-256",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"aes-256",children:"AES-256"}),e.jsx(ne,{value:"aes-128",children:"AES-128"}),e.jsx(ne,{value:"chacha20",children:"ChaCha20"})]})]})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Compression"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Keep-Alive"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Connections"}),e.jsx(J,{type:"number",defaultValue:100,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Connection Timeout (seconds)"}),e.jsx(J,{type:"number",defaultValue:120,min:1})]})]})]})})]})]})})}function wz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(A=>A.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.distributions||[{id:"dist-1",domain:"cdn.example.com",origin:"https://origin.example.com",status:"deployed",edgeLocations:15,requests:125e4,cacheHitRate:92.5,bandwidth:1024e8},{id:"dist-2",domain:"static.example.com",origin:"https://s3.example.com",status:"deployed",edgeLocations:12,requests:89e4,cacheHitRate:88.3,bandwidth:768e8}],u=i.edgeLocations||[{id:"edge-1",region:"us-east-1",city:"New York",requests:125e3,cacheHits:115e3,bandwidth:1024e7,status:"active"},{id:"edge-2",region:"eu-west-1",city:"London",requests:98e3,cacheHits:9e4,bandwidth:8192e6,status:"active"},{id:"edge-3",region:"ap-southeast-1",city:"Singapore",requests:75e3,cacheHits:68e3,bandwidth:6144e6,status:"active"}],m=i.totalDistributions||d.length,f=i.totalEdgeLocations||u.length,h=i.totalRequests||d.reduce((A,P)=>A+(P.requests||0),0);i.totalBandwidth||d.reduce((A,P)=>A+(P.bandwidth||0),0);const p=i.averageCacheHitRate||d.reduce((A,P)=>A+(P.cacheHitRate||0),0)/d.length,[g,y]=j.useState(!1),M=A=>{r(a,{data:{...c.data,config:{...i,...A}}})},w=()=>{const A={id:`dist-${Date.now()}`,domain:"cdn-new.example.com",origin:"https://origin.example.com",status:"deploying",edgeLocations:0};M({distributions:[...d,A]}),y(!1)},k=A=>{M({distributions:d.filter(P=>P.id!==A)})},E=A=>{switch(A){case"deployed":case"active":return"bg-green-500";case"deploying":return"bg-yellow-500";case"failed":case"inactive":return"bg-red-500";default:return"bg-gray-500"}},N=A=>{if(!A)return"0 B";const P=["B","KB","MB","GB","TB"],I=Math.floor(Math.log(A)/Math.log(1024));return`${(A/Math.pow(1024,I)).toFixed(2)} ${P[I]}`};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"CDN Edge"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Content Delivery Network"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Global content distribution and caching"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Distributions"}),e.jsx(et,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Edge Locations"}),e.jsx(fh,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"global"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Requests"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[(h/1e3).toFixed(0),"K"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Cache Hit Rate"}),e.jsx(ea,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:[p.toFixed(1),"%"]})})})]})]}),e.jsxs(Ve,{defaultValue:"distributions",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"distributions",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Distributions (",d.length,")"]}),e.jsxs(de,{value:"edge-locations",children:[e.jsx(fh,{className:"h-4 w-4 mr-2"}),"Edge Locations (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"distributions",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"CDN Distributions"}),e.jsx(ie,{children:"Content distribution configurations"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Distribution"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(A=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${E(A.status)}/20`,children:e.jsx(et,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:A.domain}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:E(A.status),children:A.status}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:A.origin}),A.edgeLocations&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[A.edgeLocations," edges"]}),A.cacheHitRate&&e.jsxs($,{variant:"outline",className:"bg-purple-50 dark:bg-purple-950/20",children:[A.cacheHitRate.toFixed(1),"% cache"]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(A.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[A.requests&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:A.requests.toLocaleString()})]}),A.bandwidth&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bandwidth:"}),e.jsx("span",{className:"ml-2 font-semibold",children:N(A.bandwidth)})]})]})})]},A.id))})})]})}),e.jsx(ue,{value:"edge-locations",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Edge Locations"}),e.jsx(ie,{children:"Global CDN edge servers"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(A=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${E(A.status)}/20`,children:e.jsx(fh,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:A.city}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:E(A.status),children:A.status}),e.jsx($,{variant:"outline",children:A.region})]})]})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[A.requests&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"ml-2 font-semibold",children:A.requests.toLocaleString()})]}),A.cacheHits&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cache Hits:"}),e.jsx("span",{className:"ml-2 font-semibold",children:A.cacheHits.toLocaleString()})]}),A.bandwidth&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Bandwidth:"}),e.jsx("span",{className:"ml-2 font-semibold",children:N(A.bandwidth)})]})]})})]},A.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"CDN Settings"}),e.jsx(ie,{children:"CDN configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Compression"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable HTTP/2"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable HTTPS"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default TTL (seconds)"}),e.jsx(J,{type:"number",defaultValue:3600,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max TTL (seconds)"}),e.jsx(J,{type:"number",defaultValue:86400,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Cache Policy"}),e.jsxs(Pe,{defaultValue:"cache-first",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"cache-first",children:"Cache First"}),e.jsx(ne,{value:"origin-first",children:"Origin First"}),e.jsx(ne,{value:"cache-only",children:"Cache Only"})]})]})]})]})]})})]})]})})}function Cz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(T=>T.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.transactions||[],u=i.webhooks||[],m=i.totalTransactions||d.length,f=i.totalAmount||d.reduce((T,z)=>T+z.amount,0),h=i.successRate||(d.length>0?d.filter(T=>T.status==="succeeded").length/d.length*100:0),p=i.averageAmount||(d.length>0?f/d.length:0),g=i.apiKey||"pk_live_***",y=i.secretKey||"sk_live_***",M=i.supportedCurrencies||["USD","EUR","GBP","JPY"],w=i.supportedMethods||["card","bank_transfer","paypal","apple_pay"],[k,E]=j.useState(!1),N=T=>{r(a,{data:{...c.data,config:{...i,...T}}})},A=()=>{const T={id:`wh_${Date.now()}`,url:"https://api.example.com/webhooks/new",events:[],enabled:!0};N({webhooks:[...u,T]}),E(!1)},P=T=>{N({webhooks:u.filter(z=>z.id!==T)})},I=T=>{switch(T){case"succeeded":return"bg-green-500";case"pending":return"bg-yellow-500";case"failed":return"bg-red-500";case"refunded":return"bg-blue-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Payment Gateway"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Payment Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Secure payment processing and transaction management"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),e.jsx(Ke,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Total Amount"}),e.jsx(ed,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["$",f.toFixed(2)]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(ea,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[h.toFixed(1),"%"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Avg Amount"}),e.jsx(_k,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:["$",p.toFixed(2)]})})})]})]}),e.jsxs(Ve,{defaultValue:"transactions",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"transactions",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Transactions (",d.length,")"]}),e.jsxs(de,{value:"webhooks",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Webhooks (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"transactions",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Transactions"}),e.jsx(ie,{children:"Payment transaction history"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(T=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${I(T.status)}/20`,children:T.status==="succeeded"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):T.status==="pending"?e.jsx(Tt,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:T.id}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:I(T.status),children:T.status}),e.jsx($,{variant:"outline",children:T.paymentMethod}),e.jsx($,{variant:"outline",children:T.currency})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",T.amount.toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(T.timestamp).toLocaleString()})]})]})}),T.description&&e.jsx(R,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})})]},T.id))})})]})}),e.jsx(ue,{value:"webhooks",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Webhooks"}),e.jsx(ie,{children:"Configure webhook endpoints"})]}),e.jsxs(V,{onClick:A,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Webhook"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(T=>e.jsxs(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Rs,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:T.id}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:T.enabled?"default":"outline",children:T.enabled?"Enabled":"Disabled"}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:T.url})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>P(T.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(R,{children:T.events&&T.events.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Events"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.events.map((z,C)=>e.jsx($,{variant:"outline",children:z},C))})]})})]},T.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Payment Gateway Settings"}),e.jsx(ie,{children:"API credentials and configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"API Key"}),e.jsx(J,{type:"password",value:g,onChange:T=>N({apiKey:T.target.value}),placeholder:"pk_live_***"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Secret Key"}),e.jsx(J,{type:"password",value:y,onChange:T=>N({secretKey:T.target.value}),placeholder:"sk_live_***"})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Supported Currencies"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(T=>e.jsx($,{variant:"outline",children:T},T))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Supported Payment Methods"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(T=>e.jsx($,{variant:"outline",children:T},T))})]}),e.jsx(ye,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable 3D Secure"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Fraud Detection"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Auto-Refund"}),e.jsx(ge,{})]})]})]})})]})]})})}function Sz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(w=>w.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.processDefinitions||[],u=i.processInstances||[],m=i.tasks||[],f=i.totalProcesses||d.length,h=i.activeInstances||u.filter(w=>w.status==="RUNNING").length,p=i.completedInstances||u.filter(w=>w.status==="COMPLETED").length,g=i.totalTasks||m.length,y=w=>{switch(w){case"RUNNING":case"ASSIGNED":return"bg-green-500";case"COMPLETED":return"bg-blue-500";case"SUSPENDED":return"bg-yellow-500";case"FAILED":case"CANCELLED":return"bg-red-500";case"CREATED":return"bg-gray-500";default:return"bg-gray-500"}},M=w=>{if(!w)return"0s";const k=Math.floor(w/3600),E=Math.floor(w%3600/60),N=w%60;return k>0?`${k}h ${E}m`:E>0?`${E}m ${N}s`:`${N}s`};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"BPMN Engine"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Process Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Business process modeling and execution engine"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Processes"}),e.jsx(Ds,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"definitions"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Active Instances"}),e.jsx(_s,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"running"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),e.jsx(os,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"instances"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Tasks"}),e.jsx(gh,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:g}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]})]}),e.jsxs(Ve,{defaultValue:"processes",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"processes",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Processes (",d.length,")"]}),e.jsxs(de,{value:"instances",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Instances (",u.length,")"]}),e.jsxs(de,{value:"tasks",children:[e.jsx(gh,{className:"h-4 w-4 mr-2"}),"Tasks (",m.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"processes",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Process Definitions"}),e.jsx(ie,{children:"Deployed business processes"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(w=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Ds,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:w.key}),e.jsxs($,{variant:"outline",children:["v",w.version]}),e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[w.activeInstances||0," active"]}),e.jsxs($,{variant:"outline",children:[w.instances||0," total instances"]})]})]})]})})}),w.lastDeployed&&e.jsx(R,{children:e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last deployed: ",new Date(w.lastDeployed).toLocaleString()]})})]},w.id))})})]})}),e.jsx(ue,{value:"instances",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Process Instances"}),e.jsx(ie,{children:"Running and completed process instances"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(w=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${y(w.status)}/20`,children:w.status==="RUNNING"?e.jsx(_s,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):w.status==="COMPLETED"?e.jsx(os,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}):w.status==="SUSPENDED"?e.jsx(Jn,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.id}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:y(w.status),children:w.status}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:w.processDefinitionKey}),w.businessKey&&e.jsx($,{variant:"outline",children:w.businessKey}),w.duration&&e.jsxs($,{variant:"outline",children:[e.jsx(Tt,{className:"h-3 w-3 mr-1"}),M(w.duration)]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(w.startTime).toLocaleString(),w.endTime&&`  Ended: ${new Date(w.endTime).toLocaleString()}`]}),w.variables&&Object.keys(w.variables).length>0&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx(b,{className:"text-xs",children:"Variables:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w.variables).map(([k,E])=>e.jsxs($,{variant:"outline",className:"text-xs",children:[k,": ",String(E)]},k))})]})]})]},w.id))})})]})}),e.jsx(ue,{value:"tasks",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Tasks"}),e.jsx(ie,{children:"User tasks and activities"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:m.map(w=>e.jsxs(S,{className:"border-l-4 border-l-purple-500 hover:shadow-md transition-shadow bg-gradient-to-r from-purple-50/50 to-transparent dark:from-purple-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${y(w.status)}/20`,children:e.jsx(gh,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:y(w.status),children:w.status}),w.assignee&&e.jsxs($,{variant:"outline",children:[e.jsx(Ks,{className:"h-3 w-3 mr-1"}),w.assignee]}),w.priority&&e.jsxs($,{variant:"outline",children:["Priority: ",w.priority]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(w.createdTime).toLocaleString(),w.dueDate&&`  Due: ${new Date(w.dueDate).toLocaleString()}`]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Process Instance: ",w.processInstanceId]})]})]},w.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"BPMN Engine Settings"}),e.jsx(ie,{children:"Engine configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Job Execution"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Metrics"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable History"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Job Execution Thread Pool Size"}),e.jsx(J,{type:"number",defaultValue:10,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"History Level"}),e.jsxs(Pe,{defaultValue:"full",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"none",children:"None"}),e.jsx(ne,{value:"activity",children:"Activity"}),e.jsx(ne,{value:"audit",children:"Audit"}),e.jsx(ne,{value:"full",children:"Full"})]})]})]})]})]})})]})]})})}function kz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(N=>N.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.contacts||[],u=i.deals||[],m=i.totalContacts||d.length,f=i.totalDeals||u.length,h=i.totalValue||u.reduce((N,A)=>N+A.value,0),p=i.conversionRate||(d.length>0?d.filter(N=>N.status==="customer").length/d.length*100:0),[g,y]=j.useState(!1),M=N=>{r(a,{data:{...c.data,config:{...i,...N}}})},w=()=>{const N={id:`contact-${Date.now()}`,name:"New Contact",status:"lead"};M({contacts:[...d,N]}),y(!1)},k=N=>{M({contacts:d.filter(A=>A.id!==N)})},E=N=>{switch(N){case"closed-won":return"bg-green-500";case"closed-lost":return"bg-red-500";case"negotiation":return"bg-blue-500";case"proposal":return"bg-yellow-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"CRM System"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Customer Relationship Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage customer relationships and sales pipeline"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Contacts"}),e.jsx(Ks,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Deals"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Pipeline Value"}),e.jsx(ed,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:["$",(h/1e3).toFixed(0),"K"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Conversion"}),e.jsx(ea,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:[p.toFixed(1),"%"]})})})]})]}),e.jsxs(Ve,{defaultValue:"contacts",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"contacts",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Contacts (",d.length,")"]}),e.jsxs(de,{value:"deals",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Deals (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"contacts",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Contacts"}),e.jsx(ie,{children:"Customer and lead contacts"})]}),e.jsxs(V,{onClick:w,size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]})}),e.jsx(R,{children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ks,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No contacts configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Contact" to create a new contact'})]}):e.jsx("div",{className:"space-y-4",children:d.map(N=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Ks,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",children:N.status}),N.company&&e.jsxs($,{variant:"outline",children:[e.jsx(z0,{className:"h-3 w-3 mr-1"}),N.company]}),N.value&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:["$",N.value.toLocaleString()]})]})]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(N.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[N.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v5,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.email})]}),N.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M5,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.phone})]})]}),N.lastContact&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Last contact: ",new Date(N.lastContact).toLocaleString()]})]})]},N.id))})})]})}),e.jsx(ue,{value:"deals",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Sales Pipeline"}),e.jsx(ie,{children:"Active deals and opportunities"})]}),e.jsx(R,{children:u.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ea,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No deals configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Deal" to create a new deal'})]}):e.jsx("div",{className:"space-y-4",children:u.map(N=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${E(N.stage)}/20`,children:e.jsx(ed,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:E(N.stage),children:N.stage}),e.jsxs($,{variant:"outline",children:["$",N.value.toLocaleString()]}),e.jsxs($,{variant:"outline",children:[N.probability,"% probability"]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),e.jsx("span",{className:"ml-2 font-semibold",children:d.find(A=>A.id===N.contactId)?.name||N.contactId})]}),N.expectedClose&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Expected close: ",new Date(N.expectedClose).toLocaleDateString()]})]})]},N.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"CRM Settings"}),e.jsx(ie,{children:"System configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Email Integration"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Calendar Sync"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Activity Tracking"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Deal Stages"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx($,{variant:"outline",children:"Prospecting"}),e.jsx($,{variant:"outline",children:"Qualification"}),e.jsx($,{variant:"outline",children:"Proposal"}),e.jsx($,{variant:"outline",children:"Negotiation"}),e.jsx($,{variant:"outline",children:"Closed Won"}),e.jsx($,{variant:"outline",children:"Closed Lost"})]})]})]})]})})]})]})})}function Rz({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(w=>w.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.orders||[],u=i.inventory||[],m=i.totalOrders||d.length,f=i.totalInventory||u.length,h=i.totalValue||u.reduce((w,k)=>w+k.quantity*k.unitPrice,0),p=i.lowStockItems||u.filter(w=>w.status==="low-stock"||w.status==="out-of-stock").length,[g,y]=j.useState(!1),M=w=>{switch(w){case"delivered":case"in-stock":return"bg-green-500";case"processing":case"shipped":case"low-stock":return"bg-yellow-500";case"cancelled":case"out-of-stock":return"bg-red-500";case"pending":return"bg-blue-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"ERP System"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Enterprise Resource Planning"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Integrated business management system"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Orders"}),e.jsx(Ds,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Inventory"}),e.jsx(Jt,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:f}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"items"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Inventory Value"}),e.jsx(ed,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:["$",(h/1e3).toFixed(0),"K"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-red-500 bg-gradient-to-br from-red-50 to-white dark:from-red-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Low Stock"}),e.jsx(ea,{className:"h-4 w-4 text-red-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:p}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"items"})]})})]})]}),e.jsxs(Ve,{defaultValue:"orders",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"orders",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Orders (",d.length,")"]}),e.jsxs(de,{value:"inventory",children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Inventory (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"orders",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Orders"}),e.jsx(ie,{children:"Customer orders and fulfillment"})]}),e.jsxs(V,{onClick:()=>y(!0),size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Order"]})]})}),e.jsx(R,{children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ds,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No orders configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Create Order" to add a new order'})]}):e.jsx("div",{className:"space-y-4",children:d.map(w=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${M(w.status)}/20`,children:e.jsx(Ds,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.orderNumber}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:M(w.status),children:w.status}),e.jsxs($,{variant:"outline",children:[e.jsx(z0,{className:"h-3 w-3 mr-1"}),w.customer]}),e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:["$",w.total.toLocaleString()]}),e.jsxs($,{variant:"outline",children:[w.items," items"]})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Order Date:"}),e.jsx("span",{className:"ml-2 font-semibold",children:new Date(w.orderDate).toLocaleString()})]}),w.expectedDelivery&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Expected delivery: ",new Date(w.expectedDelivery).toLocaleDateString()]})]})]},w.id))})})]})}),e.jsx(ue,{value:"inventory",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Inventory Management"}),e.jsx(ie,{children:"Product inventory and stock levels"})]}),e.jsx(R,{children:u.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Jt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No inventory items configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Item" to add inventory items'})]}):e.jsx("div",{className:"space-y-4",children:u.map(w=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${M(w.status)}/20`,children:e.jsx(Jt,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:w.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:"font-mono text-xs",children:w.sku}),e.jsx($,{variant:"outline",children:w.category}),e.jsx($,{variant:"outline",className:M(w.status),children:w.status})]})]})]})})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),e.jsx("span",{className:"ml-2 font-semibold",children:w.quantity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Reorder Level:"}),e.jsx("span",{className:"ml-2 font-semibold",children:w.reorderLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Unit Price:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:["$",w.unitPrice.toFixed(2)]})]})]}),e.jsxs("div",{className:"text-sm mt-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Value:"}),e.jsxs("span",{className:"ml-2 font-semibold",children:["$",(w.quantity*w.unitPrice).toLocaleString()]})]})]})]},w.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"ERP Settings"}),e.jsx(ie,{children:"System configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Order Processing"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Inventory Tracking"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Auto Reorder"}),e.jsx(ge,{})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Currency"}),e.jsxs(Pe,{defaultValue:"USD",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"USD",children:"USD"}),e.jsx(ne,{value:"EUR",children:"EUR"}),e.jsx(ne,{value:"GBP",children:"GBP"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Default Order Status"}),e.jsxs(Pe,{defaultValue:"pending",children:[e.jsx(De,{children:e.jsx(Oe,{})}),e.jsxs(_e,{children:[e.jsx(ne,{value:"pending",children:"Pending"}),e.jsx(ne,{value:"processing",children:"Processing"}),e.jsx(ne,{value:"shipped",children:"Shipped"})]})]})]})]})]})})]})]})})}function Az({componentId:a}){const{nodes:l,updateNode:r}=Le(),c=l.find(N=>N.id===a);if(!c)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=c.data.config||{},d=i.bots||[],u=i.executions||[],m=i.totalBots||d.length,f=i.activeBots||d.filter(N=>N.status==="running").length,h=i.totalExecutions||u.length,p=i.successRate||u.filter(N=>N.status==="success").length/u.length*100,[g,y]=j.useState(!1),M=N=>{r(a,{data:{...c.data,config:{...i,...N}}})},w=N=>{const A=d.map(P=>P.id===N?{...P,status:P.status==="running"?"stopped":"running"}:P);M({bots:A})},k=N=>{switch(N){case"running":case"success":return"bg-green-500";case"stopped":return"bg-gray-500";case"error":case"failed":return"bg-red-500";default:return"bg-gray-500"}},E=N=>{if(!N)return"0s";const A=Math.floor(N/60),P=N%60;return A>0?`${A}m ${P}s`:`${P}s`};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"RPA Bot"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Robotic Process Automation"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Automated business process execution"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(ye,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(S,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Bots"}),e.jsx(uh,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:f}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",m," total"]})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Executions"}),e.jsx(Ke,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(S,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(ea,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[p.toFixed(1),"%"]})})})]}),e.jsxs(S,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-sm font-medium text-muted-foreground",children:"Total Steps"}),e.jsx(St,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(R,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:u.reduce((N,A)=>N+(A.steps||0),0)})})})]})]}),e.jsxs(Ve,{defaultValue:"bots",className:"space-y-4",children:[e.jsxs(He,{children:[e.jsxs(de,{value:"bots",children:[e.jsx(uh,{className:"h-4 w-4 mr-2"}),"Bots (",d.length,")"]}),e.jsxs(de,{value:"executions",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Executions (",u.length,")"]}),e.jsxs(de,{value:"settings",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(ue,{value:"bots",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"RPA Bots"}),e.jsx(ie,{children:"Automated process bots"})]}),e.jsxs(V,{onClick:()=>y(!0),size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Bot"]})]})}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:d.map(N=>e.jsxs(S,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${k(N.status)}/20`,children:e.jsx(uh,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:k(N.status),children:N.status}),e.jsx($,{variant:"outline",className:"font-mono text-xs",children:N.process}),N.executions&&e.jsxs($,{variant:"outline",children:[N.executions," executions"]}),N.successRate&&e.jsxs($,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20",children:[N.successRate.toFixed(1),"% success"]})]})]})]}),e.jsx(V,{variant:N.status==="running"?"destructive":"default",size:"sm",onClick:()=>w(N.id),children:N.status==="running"?e.jsxs(e.Fragment,{children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Stop"]}):e.jsxs(e.Fragment,{children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Start"]})})]})}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[N.avgDuration&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Duration:"}),e.jsx("span",{className:"ml-2 font-semibold",children:E(N.avgDuration)})]}),N.lastRun&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Run:"}),e.jsx("span",{className:"ml-2 font-semibold",children:new Date(N.lastRun).toLocaleString()})]})]})})]},N.id))})})]})}),e.jsx(ue,{value:"executions",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"Execution History"}),e.jsx(ie,{children:"Bot execution logs and results"})]}),e.jsx(R,{children:e.jsx("div",{className:"space-y-4",children:u.map(N=>e.jsxs(S,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(D,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${k(N.status)}/20`,children:N.status==="success"?e.jsx(os,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):N.status==="failed"?e.jsx(us,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(Tt,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-semibold",children:N.botName}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx($,{variant:"outline",className:k(N.status),children:N.status}),N.duration&&e.jsxs($,{variant:"outline",children:[e.jsx(Tt,{className:"h-3 w-3 mr-1"}),E(N.duration)]}),N.steps&&e.jsxs($,{variant:"outline",children:[N.steps," steps"]}),N.errors&&N.errors>0&&e.jsxs($,{variant:"destructive",children:[N.errors," errors"]})]})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(N.startTime).toLocaleString(),N.endTime&&`  Ended: ${new Date(N.endTime).toLocaleString()}`]})})]},N.id))})})]})}),e.jsx(ue,{value:"settings",className:"space-y-4",children:e.jsxs(S,{children:[e.jsxs(D,{children:[e.jsx(_,{children:"RPA Bot Settings"}),e.jsx(ie,{children:"Automation configuration"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Auto-Retry"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Execution Logging"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{children:"Enable Error Notifications"}),e.jsx(ge,{defaultChecked:!0})]}),e.jsx(ye,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Retry Attempts"}),e.jsx(J,{type:"number",defaultValue:3,min:1,max:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Execution Timeout (minutes)"}),e.jsx(J,{type:"number",defaultValue:60,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Concurrent Bot Limit"}),e.jsx(J,{type:"number",defaultValue:10,min:1})]})]})]})})]})]})})}function Ez({componentId:a,componentType:l}){switch(l){case"kafka":return e.jsx(N_,{componentId:a});case"rabbitmq":return e.jsx(b_,{componentId:a});case"postgres":return e.jsx(k_,{componentId:a});case"mongodb":return e.jsx(R_,{componentId:a});case"redis":return e.jsx(A_,{componentId:a});case"elasticsearch":return e.jsx(L_,{componentId:a});case"cassandra":return e.jsx(I_,{componentId:a});case"clickhouse":return e.jsx(B_,{componentId:a});case"snowflake":return e.jsx(U_,{componentId:a});case"s3-datalake":return e.jsx(H_,{componentId:a});case"nginx":return e.jsx(E_,{componentId:a});case"rest":return e.jsx(dz,{componentId:a});case"grpc":return e.jsx(mz,{componentId:a});case"websocket":return e.jsx(hz,{componentId:a});case"graphql":return e.jsx(uz,{componentId:a});case"soap":return e.jsx(xz,{componentId:a});case"webhook":return e.jsx(fz,{componentId:a});case"docker":case"kubernetes":return e.jsx(M_,{componentId:a});case"haproxy":return e.jsx(pz,{componentId:a});case"traefik":return e.jsx(jz,{componentId:a});case"envoy":return e.jsx(gz,{componentId:a});case"activemq":return e.jsx(y_,{componentId:a});case"aws-sqs":return e.jsx(w_,{componentId:a});case"azure-service-bus":return e.jsx(C_,{componentId:a});case"gcp-pubsub":return e.jsx(S_,{componentId:a});case"kong":return e.jsx(T_,{componentId:a});case"apigee":return e.jsx(D_,{componentId:a});case"mulesoft":return e.jsx(__,{componentId:a});case"graphql-gateway":return e.jsx(z_,{componentId:a});case"bff-service":return e.jsx(P_,{componentId:a});case"webhook-relay":return e.jsx(O_,{componentId:a});case"prometheus":return e.jsx($_,{componentId:a});case"grafana":return e.jsx(V_,{componentId:a});case"loki":return e.jsx(q_,{componentId:a});case"jaeger":return e.jsx(F_,{componentId:a});case"otel-collector":return e.jsx(G_,{componentId:a});case"pagerduty":return e.jsx(Q_,{componentId:a});case"keycloak":return e.jsx(K_,{componentId:a});case"waf":return e.jsx(Y_,{componentId:a});case"firewall":return e.jsx(Z_,{componentId:a});case"secrets-vault":return e.jsx(X_,{componentId:a});case"ids-ips":return e.jsx(W_,{componentId:a});case"jenkins":return e.jsx(J_,{componentId:a});case"gitlab-ci":return e.jsx(ez,{componentId:a});case"argo-cd":return e.jsx(sz,{componentId:a});case"terraform":return e.jsx(az,{componentId:a});case"ansible":return e.jsx(nz,{componentId:a});case"harbor":return e.jsx(tz,{componentId:a});case"istio":return e.jsx(vz,{componentId:a});case"service-mesh":return e.jsx(Nz,{componentId:a});case"api-gateway":return e.jsx(bz,{componentId:a});case"vpn":return e.jsx(yz,{componentId:a});case"cdn":return e.jsx(wz,{componentId:a});case"spark":return e.jsx(rz,{componentId:a});case"tensorflow-serving":return e.jsx(iz,{componentId:a});case"pytorch-serve":return e.jsx(cz,{componentId:a});case"feature-store":return e.jsx(oz,{componentId:a});case"mlflow":return e.jsx(lz,{componentId:a});case"crm":return e.jsx(kz,{componentId:a});case"erp":return e.jsx(Rz,{componentId:a});case"rpa-bot":return e.jsx(Az,{componentId:a});case"bpmn-engine":return e.jsx(Sz,{componentId:a});case"payment-gateway":return e.jsx(Cz,{componentId:a});default:return e.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Configuration panel not available for this component type"})}}function Mz(){const{undo:a,redo:l,zoom:r,setZoom:c,pan:i,setPan:d,resetCanvas:u,saveDiagram:m,selectedConnectionId:f,selectedNodeId:h,selectedGroupId:p,nodes:g,deleteConnection:y,deleteNode:M,deleteGroup:w,selectConnection:k,selectNode:E,selectGroup:N}=Le(),{canUndo:A,canRedo:P}=Xi(),{isRunning:I,start:T,stop:z}=st(),{showMinimap:C,toggleMinimap:L,showHeatMapLegend:Q,toggleHeatMapLegend:Y}=oc();j.useEffect(()=>{const W=q=>{const F=q.ctrlKey||q.metaKey;if(F&&q.key==="z"&&!q.shiftKey&&A){q.preventDefault(),a();return}if(F&&(q.key==="z"&&q.shiftKey||q.key==="y")&&P){q.preventDefault(),l();return}if(F&&(q.key==="="||q.key==="+")){q.preventDefault(),c(Math.min(r+.1,2));return}if(F&&q.key==="-"){q.preventDefault(),c(Math.max(r-.1,.5));return}if(F&&q.key==="0"){q.preventDefault(),c(1),d({x:0,y:0});return}const me=50;if(!F){if(q.key==="ArrowLeft"){q.preventDefault(),d({x:i.x+me,y:i.y});return}if(q.key==="ArrowRight"){q.preventDefault(),d({x:i.x-me,y:i.y});return}if(q.key==="ArrowUp"){q.preventDefault(),d({x:i.x,y:i.y+me});return}if(q.key==="ArrowDown"){q.preventDefault(),d({x:i.x,y:i.y-me});return}}if(!F&&q.key===" "){if(q.preventDefault(),I)z();else{const{nodes:je,connections:ce}=Le.getState();st.getState().initialize(je,ce),T()}return}if(F&&(q.key==="s"||q.key==="")){q.preventDefault(),m();return}if(F&&(q.key==="m"||q.key==="")){q.preventDefault(),L();return}if(F&&(q.key==="h"||q.key==="")){q.preventDefault(),Y();return}if((q.key==="Delete"||q.key==="Backspace")&&!F){const je=document.activeElement;if(je&&(je.tagName==="INPUT"||je.tagName==="TEXTAREA"||je.isContentEditable))return;if(q.preventDefault(),f){y(f),k(null);return}if(p){w(p),N(null);return}const K=g.filter(U=>U.selected);if(K.length>0){K.forEach(U=>M(U.id)),E(null);return}if(h){M(h),E(null);return}}};return window.addEventListener("keydown",W),()=>{window.removeEventListener("keydown",W)}},[a,l,A,P,r,c,i,d,u,m,I,T,z,C,L,Q,Y,f,h,p,g,y,M,w,k,E,N])}function Tz(){Mz();const{tabs:a}=Pd(),l=a.find(r=>r.active);return e.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[e.jsx(WA,{}),e.jsx(F6,{}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx(tD,{}),l?.type==="diagram"?e.jsx(l0,{}):l?.type==="component"&&l.componentId&&l.componentType?e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Ez,{componentId:l.componentId,componentType:l.componentType})}):e.jsx(l0,{}),e.jsx(q6,{})]})]})}U4.createRoot(document.getElementById("root")).render(e.jsxs(Gs.StrictMode,{children:[e.jsx(AC,{position:"top-right"}),e.jsx(Tz,{})]}));
