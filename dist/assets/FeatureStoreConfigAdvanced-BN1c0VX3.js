import{u as B,j as e,r as E,i as u,S as y,C as t,e as r,f as l,k as n,T as P,a as U,b as j,c as z,d as g,h as f,P as $,B as a,m as A,L as o,t as p,n as q,o as I,p as M,q as G,s as N,I as H}from"./index-CydFlkT-.js";import{R as Q}from"./refresh-ccw-BIF1Do-O.js";import{P as b}from"./package-BHgDDUG1.js";import{D as v}from"./database-DwkLiyCd.js";import{T as J}from"./trending-up-BH9bkDIy.js";function _({componentId:w}){const{nodes:C,updateNode:F}=B(),m=C.find(s=>s.id===w);if(!m)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const d=m.data.config||{},c=d.features||[],h=d.featureSets||[],k=d.totalFeatures||c.length,T=d.totalFeatureSets||h.length,V=d.totalUsage||c.reduce((s,i)=>s+(i.usage||0),0),[K,D]=E.useState(!1),S=s=>{F(w,{data:{...m.data,config:{...d,...s}}})},L=()=>{const s={name:"new-feature",version:"1.0",type:"numerical",dataType:"float64",tags:[]};S({features:[...c,s]}),D(!1)},R=(s,i)=>{S({features:c.filter(x=>!(x.name===s&&x.version===i))})};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Feature Store"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Feature Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Centralized repository for machine learning features"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(y,{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(t,{className:"border-l-4 border-l-blue-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Features"}),e.jsx(b,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:k}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"registered"})]})})]}),e.jsxs(t,{className:"border-l-4 border-l-green-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Feature Sets"}),e.jsx(v,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:T}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"defined"})]})})]}),e.jsxs(t,{className:"border-l-4 border-l-purple-500 bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Total Usage"}),e.jsx(J,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:V.toLocaleString()}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"requests"})]})})]})]}),e.jsxs(P,{defaultValue:"features",className:"space-y-4",children:[e.jsxs(U,{children:[e.jsxs(j,{value:"features",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Features (",c.length,")"]}),e.jsxs(j,{value:"feature-sets",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Feature Sets (",h.length,")"]}),e.jsxs(j,{value:"settings",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(g,{value:"features",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Features"}),e.jsx(f,{children:"Registered features in the store"})]}),e.jsxs(u,{onClick:L,size:"sm",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Create Feature"]})]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:c.map(s=>e.jsxs(t,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(b,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(l,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(a,{variant:"outline",children:["v",s.version]}),e.jsx(a,{variant:"outline",children:s.type}),e.jsx(a,{variant:"outline",children:s.dataType}),s.usage&&e.jsxs(a,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20 text-green-700 dark:text-green-300",children:[s.usage," uses"]})]})]})]}),e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>R(s.name,s.version),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(A,{className:"h-4 w-4"})})]})}),e.jsxs(n,{children:[s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),s.defaultValue!==void 0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Default:"}),e.jsx("span",{className:"ml-2 font-mono",children:String(s.defaultValue)})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.tags.map((i,x)=>e.jsx(a,{variant:"outline",className:"text-xs",children:i},x))})]})]},`${s.name}-${s.version}`))})})]})}),e.jsx(g,{value:"feature-sets",className:"space-y-4",children:e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsx(l,{children:"Feature Sets"}),e.jsx(f,{children:"Grouped collections of features"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs(t,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-card",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:e.jsx(v,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(l,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(a,{variant:"outline",children:["v",s.version]}),e.jsxs(a,{variant:"outline",children:[s.features.length," features"]}),s.usage&&e.jsxs(a,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",children:[s.usage," uses"]})]})]})]})}),e.jsxs(n,{children:[s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{className:"text-xs",children:"Features:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.features.map((i,x)=>e.jsx(a,{variant:"outline",className:"text-xs",children:i},x))})]}),s.createdAt&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Created: ",new Date(s.createdAt).toLocaleString()]})]})]},`${s.name}-${s.version}`))})})]})}),e.jsx(g,{value:"settings",className:"space-y-4",children:e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsx(l,{children:"Feature Store Settings"}),e.jsx(f,{children:"Store configuration"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{children:"Enable Versioning"}),e.jsx(p,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{children:"Enable Feature Validation"}),e.jsx(p,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(o,{children:"Enable Usage Tracking"}),e.jsx(p,{defaultChecked:!0})]}),e.jsx(y,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Storage Backend"}),e.jsxs(q,{defaultValue:"redis",children:[e.jsx(I,{children:e.jsx(M,{})}),e.jsxs(G,{children:[e.jsx(N,{value:"redis",children:"Redis"}),e.jsx(N,{value:"postgres",children:"PostgreSQL"}),e.jsx(N,{value:"mongodb",children:"MongoDB"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Default Feature TTL (hours)"}),e.jsx(H,{type:"number",defaultValue:24,min:1})]})]})]})})]})]})})}export{_ as FeatureStoreConfigAdvanced};
