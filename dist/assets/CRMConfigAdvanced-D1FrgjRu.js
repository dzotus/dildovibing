import{E as S,u as B,j as e,r as z,i as j,S as w,C as n,e as l,f as r,k as i,A as C,T as V,a as _,b as u,c as I,d as g,h as f,P as U,B as t,m as q,L as x,t as p}from"./index-CHKNZn98.js";import{R as F}from"./refresh-ccw-X6vm0O4r.js";import{U as m}from"./users-DxnuAYzV.js";import{D as y}from"./dollar-sign-CYI0-aLp.js";import{T as k}from"./trending-up-uxSX9vpJ.js";import{B as H}from"./building-D940j6UM.js";const K=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Q=S("mail",K);const W=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],G=S("phone",W);function te({componentId:N}){const{nodes:D,updateNode:L}=B(),h=D.find(s=>s.id===N);if(!h)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const c=h.data.config||{},a=c.contacts||[],d=c.deals||[],T=c.totalContacts||a.length,A=c.totalDeals||d.length,R=c.totalValue||d.reduce((s,o)=>s+o.value,0),E=c.conversionRate||(a.length>0?a.filter(s=>s.status==="customer").length/a.length*100:0),[J,M]=z.useState(!1),b=s=>{L(N,{data:{...h.data,config:{...c,...s}}})},P=()=>{const s={id:`contact-${Date.now()}`,name:"New Contact",status:"lead"};b({contacts:[...a,s]}),M(!1)},$=s=>{b({contacts:a.filter(o=>o.id!==s)})},v=s=>{switch(s){case"closed-won":return"bg-green-500";case"closed-lost":return"bg-red-500";case"negotiation":return"bg-blue-500";case"proposal":return"bg-yellow-500";default:return"bg-gray-500"}};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"CRM System"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Customer Relationship Management"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage customer relationships and sales pipeline"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(j,{variant:"outline",size:"sm",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(w,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(n,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Contacts"}),e.jsx(m,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:T}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(n,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Deals"}),e.jsx(C,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:A}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"active"})]})})]}),e.jsxs(n,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Pipeline Value"}),e.jsx(y,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(i,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:["$",(R/1e3).toFixed(0),"K"]})})})]}),e.jsxs(n,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Conversion"}),e.jsx(k,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(i,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:[E.toFixed(1),"%"]})})})]})]}),e.jsxs(V,{defaultValue:"contacts",className:"space-y-4",children:[e.jsxs(_,{children:[e.jsxs(u,{value:"contacts",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Contacts (",a.length,")"]}),e.jsxs(u,{value:"deals",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Deals (",d.length,")"]}),e.jsxs(u,{value:"settings",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(g,{value:"contacts",className:"space-y-4",children:e.jsxs(n,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Contacts"}),e.jsx(f,{children:"Customer and lead contacts"})]}),e.jsxs(j,{onClick:P,size:"sm",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]})}),e.jsx(i,{children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(m,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No contacts configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Contact" to create a new contact'})]}):e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs(n,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(l,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:e.jsx(m,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(r,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:"outline",children:s.status}),s.company&&e.jsxs(t,{variant:"outline",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),s.company]}),s.value&&e.jsxs(t,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20 text-green-700 dark:text-green-300",children:["$",s.value.toLocaleString()]})]})]})]}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>$(s.id),className:"hover:bg-destructive/10 hover:text-destructive",children:e.jsx(q,{className:"h-4 w-4"})})]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.phone})]})]}),s.lastContact&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Last contact: ",new Date(s.lastContact).toLocaleString()]})]})]},s.id))})})]})}),e.jsx(g,{value:"deals",className:"space-y-4",children:e.jsxs(n,{children:[e.jsxs(l,{children:[e.jsx(r,{children:"Sales Pipeline"}),e.jsx(f,{children:"Active deals and opportunities"})]}),e.jsx(i,{children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No deals configured"}),e.jsx("p",{className:"text-xs mt-2",children:'Click "Add Deal" to create a new deal'})]}):e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsxs(n,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(l,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${v(s.stage)}/20`,children:e.jsx(y,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx(r,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{variant:"outline",className:v(s.stage),children:s.stage}),e.jsxs(t,{variant:"outline",children:["$",s.value.toLocaleString()]}),e.jsxs(t,{variant:"outline",children:[s.probability,"% probability"]})]})]})]})})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),e.jsx("span",{className:"ml-2 font-semibold",children:a.find(o=>o.id===s.contactId)?.name||s.contactId})]}),s.expectedClose&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Expected close: ",new Date(s.expectedClose).toLocaleDateString()]})]})]},s.id))})})]})}),e.jsx(g,{value:"settings",className:"space-y-4",children:e.jsxs(n,{children:[e.jsxs(l,{children:[e.jsx(r,{children:"CRM Settings"}),e.jsx(f,{children:"System configuration"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Enable Email Integration"}),e.jsx(p,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Enable Calendar Sync"}),e.jsx(p,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Enable Activity Tracking"}),e.jsx(p,{defaultChecked:!0})]}),e.jsx(w,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Default Deal Stages"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(t,{variant:"outline",children:"Prospecting"}),e.jsx(t,{variant:"outline",children:"Qualification"}),e.jsx(t,{variant:"outline",children:"Proposal"}),e.jsx(t,{variant:"outline",children:"Negotiation"}),e.jsx(t,{variant:"outline",children:"Closed Won"}),e.jsx(t,{variant:"outline",children:"Closed Lost"})]})]})]})]})})]})]})})}export{te as CRMConfigAdvanced};
