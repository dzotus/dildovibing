import{E as $,u as V,j as e,r as z,i as j,S as k,C as t,e as a,f as r,k as n,A as C,Z as F,T as H,a as I,b as g,c as Z,d as f,h as p,P as _,B as l,a0 as q,N as U,Y as X,L as x,t as N,I as b}from"./index-Bap_t5_e.js";import{R as Y}from"./refresh-ccw-DXr8PW7J.js";import{T as G}from"./trending-up-PXwzmGHq.js";import{C as J}from"./circle-check-big-BfUBLtt7.js";import{C as B}from"./clock-DmijjKjH.js";const K=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],v=$("bot",K);function ae({componentId:w}){const{nodes:R,updateNode:S}=V(),h=R.find(s=>s.id===w);if(!h)return e.jsx("div",{className:"p-4 text-muted-foreground",children:"Component not found"});const i=h.data.config||{},m=i.bots||[],d=i.executions||[],E=i.totalBots||m.length,A=i.activeBots||m.filter(s=>s.status==="running").length,T=i.totalExecutions||d.length,L=i.successRate||d.filter(s=>s.status==="success").length/d.length*100,[O,P]=z.useState(!1),D=s=>{S(w,{data:{...h.data,config:{...i,...s}}})},M=s=>{const o=m.map(c=>c.id===s?{...c,status:c.status==="running"?"stopped":"running"}:c);D({bots:o})},u=s=>{switch(s){case"running":case"success":return"bg-green-500";case"stopped":return"bg-gray-500";case"error":case"failed":return"bg-red-500";default:return"bg-gray-500"}},y=s=>{if(!s)return"0s";const o=Math.floor(s/60),c=s%60;return o>0?`${o}m ${c}s`:`${c}s`};return e.jsx("div",{className:"h-full overflow-y-auto bg-background",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"RPA Bot"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Robotic Process Automation"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Automated business process execution"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(j,{variant:"outline",size:"sm",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsx(k,{}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(t,{className:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Bots"}),e.jsx(v,{className:"h-4 w-4 text-blue-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:A}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",E," total"]})]})})]}),e.jsxs(t,{className:"border-l-4 border-l-green-500 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Executions"}),e.jsx(C,{className:"h-4 w-4 text-green-500"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:T}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"total"})]})})]}),e.jsxs(t,{className:"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),e.jsx(G,{className:"h-4 w-4 text-purple-500"})]})}),e.jsx(n,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[L.toFixed(1),"%"]})})})]}),e.jsxs(t,{className:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50 to-white dark:from-cyan-950/20 dark:to-background",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Total Steps"}),e.jsx(F,{className:"h-4 w-4 text-cyan-500"})]})}),e.jsx(n,{children:e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400",children:d.reduce((s,o)=>s+(o.steps||0),0)})})})]})]}),e.jsxs(H,{defaultValue:"bots",className:"space-y-4",children:[e.jsxs(I,{children:[e.jsxs(g,{value:"bots",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Bots (",m.length,")"]}),e.jsxs(g,{value:"executions",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Executions (",d.length,")"]}),e.jsxs(g,{value:"settings",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),e.jsx(f,{value:"bots",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{children:"RPA Bots"}),e.jsx(p,{children:"Automated process bots"})]}),e.jsxs(j,{onClick:()=>P(!0),size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Create Bot"]})]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs(t,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-950/10",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${u(s.status)}/20`,children:e.jsx(v,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(r,{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(l,{variant:"outline",className:u(s.status),children:s.status}),e.jsx(l,{variant:"outline",className:"font-mono text-xs",children:s.process}),s.executions&&e.jsxs(l,{variant:"outline",children:[s.executions," executions"]}),s.successRate&&e.jsxs(l,{variant:"outline",className:"bg-green-50 dark:bg-green-950/20 text-green-700 dark:text-green-300",children:[s.successRate.toFixed(1),"% success"]})]})]})]}),e.jsx(j,{variant:s.status==="running"?"destructive":"default",size:"sm",onClick:()=>M(s.id),children:s.status==="running"?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Stop"]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Start"]})})]})}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.avgDuration&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Duration:"}),e.jsx("span",{className:"ml-2 font-semibold",children:y(s.avgDuration)})]}),s.lastRun&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Run:"}),e.jsx("span",{className:"ml-2 font-semibold",children:new Date(s.lastRun).toLocaleString()})]})]})})]},s.id))})})]})}),e.jsx(f,{value:"executions",className:"space-y-4",children:e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Execution History"}),e.jsx(p,{children:"Bot execution logs and results"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsxs(t,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow bg-gradient-to-r from-green-50/50 to-transparent dark:from-green-950/10",children:[e.jsx(a,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${u(s.status)}/20`,children:s.status==="success"?e.jsx(J,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):s.status==="failed"?e.jsx(X,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(B,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx(r,{className:"text-lg font-semibold",children:s.botName}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(l,{variant:"outline",className:u(s.status),children:s.status}),s.duration&&e.jsxs(l,{variant:"outline",children:[e.jsx(B,{className:"h-3 w-3 mr-1"}),y(s.duration)]}),s.steps&&e.jsxs(l,{variant:"outline",children:[s.steps," steps"]}),s.errors&&s.errors>0&&e.jsxs(l,{variant:"destructive",children:[s.errors," errors"]})]})]})]})})}),e.jsx(n,{children:e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(s.startTime).toLocaleString(),s.endTime&&` â€¢ Ended: ${new Date(s.endTime).toLocaleString()}`]})})]},s.id))})})]})}),e.jsx(f,{value:"settings",className:"space-y-4",children:e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"RPA Bot Settings"}),e.jsx(p,{children:"Automation configuration"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Enable Auto-Retry"}),e.jsx(N,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Enable Execution Logging"}),e.jsx(N,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Enable Error Notifications"}),e.jsx(N,{defaultChecked:!0})]}),e.jsx(k,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Max Retry Attempts"}),e.jsx(b,{type:"number",defaultValue:3,min:1,max:10})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Execution Timeout (minutes)"}),e.jsx(b,{type:"number",defaultValue:60,min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Concurrent Bot Limit"}),e.jsx(b,{type:"number",defaultValue:10,min:1})]})]})]})})]})]})})}export{ae as RPABotConfigAdvanced};
